<html>
<head><meta charset="utf-8"><title>weekly meeting 2019-12-12 #54818 · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html">weekly meeting 2019-12-12 #54818</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="183254994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183254994" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183254994">(Dec 12 2019 at 12:47)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> ; the triage meeting will be starting in 2 hours 13 minutes</p>



<a name="183255108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183255108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183255108">(Dec 12 2019 at 12:48)</a>:</h4>
<p>I will be doing <a href="#narrow/stream/131828-t-compiler/topic/pre-meeting.20triage.202019-12-12.20.2354818/near/183255087" title="#narrow/stream/131828-t-compiler/topic/pre-meeting.20triage.202019-12-12.20.2354818/near/183255087">pre-triage in a parallel topic</a></p>



<a name="183255126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183255126" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183255126">(Dec 12 2019 at 12:49)</a>:</h4>
<p>today we are scheduled to have a checkin with WG-meta and WG-mir-opt</p>



<a name="183255220"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183255220" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183255220">(Dec 12 2019 at 12:50)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> or <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> : are one of you available to provide checkin report on behalf of WG-meta at time of triage meeting?</p>



<a name="183255243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183255243" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183255243">(Dec 12 2019 at 12:50)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> are you available to provide a checkin report on behalf of WG-mir-opt?</p>



<a name="183255363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183255363" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183255363">(Dec 12 2019 at 12:52)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> might disagree, but I'm not sure there's anything to report from <a class="stream" data-stream-id="185694" href="/#narrow/stream/185694-t-compiler.2Fwg-meta">#t-compiler/wg-meta</a>.</p>



<a name="183255813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183255813" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183255813">(Dec 12 2019 at 12:59)</a>:</h4>
<p>yeah, lately nothing substantial has been happening. I guess these checkins are since last checkin, in our last checking we've talked about ICE-breaker groups in general and LLVM one in particular. We were talking about ICE breaker reducers and diagnostics groups since then but I'm not sure if maybe <span class="user-mention" data-user-id="116009">@nikomatsakis</span> has something relevant to say there, I don't have anything relevant to share :)</p>



<a name="183264152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183264152" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183264152">(Dec 12 2019 at 14:33)</a>:</h4>
<p>yes, I can do a mir-opt check-in</p>



<a name="183266816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183266816" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183266816">(Dec 12 2019 at 15:02)</a>:</h4>
<p>Well, I think from wg-meta I could see it being useful to discuss:</p>
<ul>
<li>Have we been using the LLVM ICE-breaker?</li>
<li>I think we should create a "reducer" ICE-breaker (for bisecting and creating standalone examples) and a "diagnostic" one, thoughts?</li>
</ul>



<a name="183266829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183266829" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183266829">(Dec 12 2019 at 15:02)</a>:</h4>
<p>okay</p>



<a name="183266838"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183266838" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183266838">(Dec 12 2019 at 15:03)</a>:</h4>
<p>But that in some sense is also the <em>update</em>, and we could have the discussion on <a class="stream" data-stream-id="185694" href="/#narrow/stream/185694-t-compiler.2Fwg-meta">#t-compiler/wg-meta</a> :)</p>



<a name="183266859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183266859" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183266859">(Dec 12 2019 at 15:03)</a>:</h4>
<p>lets get started</p>



<a name="183266862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183266862" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183266862">(Dec 12 2019 at 15:03)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>! Add a <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> emoji to show you're here :)</p>



<a name="183266961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183266961" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183266961">(Dec 12 2019 at 15:04)</a>:</h4>
<p>so lets have five minutes for ...</p>



<a name="183266965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183266965" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183266965">(Dec 12 2019 at 15:04)</a>:</h4>
<h2>Announcements</h2>



<a name="183267001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267001" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267001">(Dec 12 2019 at 15:04)</a>:</h4>
<p>I posted an RFC about future-incompat lints, <a href="https://github.com/rust-lang/rfcs/pull/2834" target="_blank" title="https://github.com/rust-lang/rfcs/pull/2834">RFC 2834</a></p>



<a name="183267035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267035" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267035">(Dec 12 2019 at 15:05)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/66821" target="_blank" title="https://github.com/rust-lang/rust/issues/66821">#66821</a> landed, which should give us all of these nice wins: <a href="https://perf.rust-lang.org/compare.html?start=2da942f32802c8233a09744024dfbc34431adf65&amp;end=1ff04410af642dde1480ae29b085544c2d05c33c" target="_blank" title="https://perf.rust-lang.org/compare.html?start=2da942f32802c8233a09744024dfbc34431adf65&amp;end=1ff04410af642dde1480ae29b085544c2d05c33c">https://perf.rust-lang.org/compare.html?start=2da942f32802c8233a09744024dfbc34431adf65&amp;end=1ff04410af642dde1480ae29b085544c2d05c33c</a></p>



<a name="183267036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267036" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267036">(Dec 12 2019 at 15:05)</a>:</h4>
<p>(RFC 2834 is not just a cargo thing, despite the title. It impacts <code>rustc</code> too.)</p>



<a name="183267047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267047" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267047">(Dec 12 2019 at 15:05)</a>:</h4>
<p>Side note, <span class="user-mention" data-user-id="116083">@pnkfelix</span>, I wonder if that'd be a good "project group", since it seems to involve changes to a number of different things.</p>



<a name="183267061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267061" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267061">(Dec 12 2019 at 15:05)</a>:</h4>
<p>maybe when/if it gets accepted?</p>



<a name="183267062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267062" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267062">(Dec 12 2019 at 15:05)</a>:</h4>
<p>(I guess there should be a nightly with it now but I haven't grabbed that diff from perf)</p>



<a name="183267068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267068" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267068">(Dec 12 2019 at 15:05)</a>:</h4>
<p>const eval now has <code>if/match</code> support (unstable) and a PR for <code>loop</code>/<code>while</code> is open</p>



<a name="183267082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267082" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267082">(Dec 12 2019 at 15:05)</a>:</h4>
<p>or maybe you mean the project group should be about authoring the RFC itself?</p>



<a name="183267134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267134" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267134">(Dec 12 2019 at 15:06)</a>:</h4>
<p>Given that the RFC exists, seems fine, just create if it's accepted.</p>



<a name="183267172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267172" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267172">(Dec 12 2019 at 15:06)</a>:</h4>
<p>(And/or move some questions to be decided through that process, if needed)</p>



<a name="183267275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267275" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267275">(Dec 12 2019 at 15:07)</a>:</h4>
<p>wow eddyb, nice work, -4 to -5% on a  number of non-contrived benchmarks?</p>



<a name="183267349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267349" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267349">(Dec 12 2019 at 15:08)</a>:</h4>
<p>yeah we were just not doing trait caching in the cases that matter a lot (i.e. when type parameters were involved)</p>



<a name="183267367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267367" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267367">(Dec 12 2019 at 15:08)</a>:</h4>
<p>presumably because Chalk has been on the horizon for a while :P</p>



<a name="183267381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267381" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267381">(Dec 12 2019 at 15:08)</a>:</h4>
<p>heh yes</p>



<a name="183267383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267383" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267383">(Dec 12 2019 at 15:08)</a>:</h4>
<p>"a while"</p>



<a name="183267393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267393" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267393">(Dec 12 2019 at 15:08)</a>:</h4>
<p>that is the danger of having the next gen system "within sight"</p>



<a name="183267458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267458">(Dec 12 2019 at 15:09)</a>:</h4>
<p>One announcement would be to call attention the <a href="#narrow/stream/131828-t-compiler/topic/pre-design.20meeting.202019-12-13" title="#narrow/stream/131828-t-compiler/topic/pre-design.20meeting.202019-12-13">pre-design meeting topic</a> for the meeting tomorrow</p>



<a name="183267461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267461" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267461">(Dec 12 2019 at 15:09)</a>:</h4>
<p>oh of course</p>



<a name="183267530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267530" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267530">(Dec 12 2019 at 15:10)</a>:</h4>
<p>Which is to discuss a proposal around the future of IDEs / library-ification</p>



<a name="183267610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267610" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267610">(Dec 12 2019 at 15:10)</a>:</h4>
<p>sorry this took me a while, but I think this is the actual diff between relevant master builds <a href="https://perf.rust-lang.org/compare.html?start=033662dfbca088937b9cdfd3d9584015b5e375b2&amp;end=90b957a17c1abba979aa41234ce0993a61030e67&amp;stat=instructions:u" target="_blank" title="https://perf.rust-lang.org/compare.html?start=033662dfbca088937b9cdfd3d9584015b5e375b2&amp;end=90b957a17c1abba979aa41234ce0993a61030e67&amp;stat=instructions:u">https://perf.rust-lang.org/compare.html?start=033662dfbca088937b9cdfd3d9584015b5e375b2&amp;end=90b957a17c1abba979aa41234ce0993a61030e67&amp;stat=instructions:u</a></p>



<a name="183267617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267617" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267617">(Dec 12 2019 at 15:10)</a>:</h4>
<p>okay so I think that's all the announcments</p>



<a name="183267650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267650" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267650">(Dec 12 2019 at 15:11)</a>:</h4>
<p>if anyone has something else to add, privmsg me and I'll allocate time at the end</p>



<a name="183267678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267678" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267678">(Dec 12 2019 at 15:11)</a>:</h4>
<p>so I've made an <a href="https://hackmd.io/oLWy85QDR_CStQaXZeZjCQ?view" target="_blank" title="https://hackmd.io/oLWy85QDR_CStQaXZeZjCQ?view">agenda hackmd</a></p>



<a name="183267709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267709" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267709">(Dec 12 2019 at 15:11)</a>:</h4>
<p>its relatively light this week</p>



<a name="183267759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267759">(Dec 12 2019 at 15:12)</a>:</h4>
<p>so lets do beta-nominations first</p>



<a name="183267783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183267783" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183267783">(Dec 12 2019 at 15:12)</a>:</h4>
<p>beta-nom 1/2: "resolve: Always resolve visibilities on impl items" <a href="https://github.com/rust-lang/rust/issues/67236" target="_blank" title="https://github.com/rust-lang/rust/issues/67236">#67236</a></p>



<a name="183268008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268008" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268008">(Dec 12 2019 at 15:14)</a>:</h4>
<p>yeah this seems clear beta-accept</p>



<a name="183268081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268081" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268081">(Dec 12 2019 at 15:15)</a>:</h4>
<p>beta-nom 2/2: "resolve: Resolve visibilities on fields with non-builtin attributes" <a href="https://github.com/rust-lang/rust/issues/67106" target="_blank" title="https://github.com/rust-lang/rust/issues/67106">#67106</a></p>



<a name="183268180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268180" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268180">(Dec 12 2019 at 15:16)</a>:</h4>
<p>seems like just the 1st commit?</p>



<a name="183268209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268209" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268209">(Dec 12 2019 at 15:16)</a>:</h4>
<p>yep</p>



<a name="183268299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268299" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268299">(Dec 12 2019 at 15:17)</a>:</h4>
<p>ugh I should have put the first few words from the commit msg next to the hash I wrote</p>



<a name="183268424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268424" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268424">(Dec 12 2019 at 15:18)</a>:</h4>
<p>anyway looks like a reasonable beta accept</p>



<a name="183268478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268478" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268478">(Dec 12 2019 at 15:19)</a>:</h4>
<p>okay, next up, stable noms</p>



<a name="183268517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268517" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268517">(Dec 12 2019 at 15:19)</a>:</h4>
<p>stable-nom 1/1: "resolve: Always resolve visibilities on impl items" <a href="https://github.com/rust-lang/rust/issues/67236" target="_blank" title="https://github.com/rust-lang/rust/issues/67236">#67236</a></p>



<a name="183268661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268661" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268661">(Dec 12 2019 at 15:20)</a>:</h4>
<p>So, I don't know if anyone else feels this way, but have we gotten more liberal in stable-accepting</p>



<a name="183268668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268668" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268668">(Dec 12 2019 at 15:20)</a>:</h4>
<p>?</p>



<a name="183268669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268669" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268669">(Dec 12 2019 at 15:20)</a>:</h4>
<p>we beta accepted this and it will be stable  in a week</p>



<a name="183268698"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268698" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268698">(Dec 12 2019 at 15:21)</a>:</h4>
<p>is the release that soon? But maybe that's not our decision anyway</p>



<a name="183268716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268716" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268716">(Dec 12 2019 at 15:21)</a>:</h4>
<p>or rather, I'm not sure if its supposed to factor into our decision here?</p>



<a name="183268724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268724" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268724">(Dec 12 2019 at 15:21)</a>:</h4>
<p>dec 19, I think</p>



<a name="183268735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268735" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268735">(Dec 12 2019 at 15:21)</a>:</h4>
<p>no need for stable noms this week</p>



<a name="183268753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268753" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268753">(Dec 12 2019 at 15:21)</a>:</h4>
<p>(we're not doing a point release for sure in the last ~2 weeks basically)</p>



<a name="183268758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268758" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268758">(Dec 12 2019 at 15:21)</a>:</h4>
<p>okay. I'll just decline based on our soon the release is</p>



<a name="183268836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268836" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268836">(Dec 12 2019 at 15:22)</a>:</h4>
<p>and I'll wait until the next stable nom to check my gut again about how liberal/conservative we are with respect to stable backports</p>



<a name="183268866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268866" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268866">(Dec 12 2019 at 15:22)</a>:</h4>
<p>there are three PR's marked S-waiting-on-team</p>



<a name="183268872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268872" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268872">(Dec 12 2019 at 15:22)</a>:</h4>
<p>and one of them seemed worth discussing here</p>



<a name="183268896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268896" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268896">(Dec 12 2019 at 15:23)</a>:</h4>
<p>S-waiting-on-team: “[experiment] Do not deduplicate diagnostics in -Z ui-testing mode” <a href="https://github.com/rust-lang/rust/issues/67122" target="_blank" title="https://github.com/rust-lang/rust/issues/67122">#67122</a></p>



<a name="183268921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183268921" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183268921">(Dec 12 2019 at 15:23)</a>:</h4>
<p>I mention it here not to try to resolve the questions posed there</p>



<a name="183269002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269002" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269002">(Dec 12 2019 at 15:24)</a>:</h4>
<p>but rather to raise awareness. I,e. read over the disxcussion and post your feedback</p>



<a name="183269062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269062" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269062">(Dec 12 2019 at 15:24)</a>:</h4>
<p>there are also a bunch of nominated issues. I picked two of them to discuss here</p>



<a name="183269114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269114" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269114">(Dec 12 2019 at 15:25)</a>:</h4>
<p>I-nominated: "MacOS: add linker flag "-undefined dynamic_lookup" for shared libs." <a href="https://github.com/rust-lang/rust/issues/66204" target="_blank" title="https://github.com/rust-lang/rust/issues/66204">#66204</a></p>



<a name="183269140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269140" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269140">(Dec 12 2019 at 15:25)</a>:</h4>
<p>this has been in flight since November 8th</p>



<a name="183269282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269282" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269282">(Dec 12 2019 at 15:26)</a>:</h4>
<p>As I understand it, the PR author is making a crate to make it possible to write postgres extensions in Rust</p>



<a name="183269292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269292" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269292">(Dec 12 2019 at 15:26)</a>:</h4>
<p>I am reminded of the <a href="#narrow/stream/131828-t-compiler/topic/internalize_symbols.20and.20incremental.20artifacts.20.2359535" title="#narrow/stream/131828-t-compiler/topic/internalize_symbols.20and.20incremental.20artifacts.20.2359535">discussion about internalize symbols</a></p>



<a name="183269325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269325" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269325">(Dec 12 2019 at 15:26)</a>:</h4>
<p>in what sense?</p>



<a name="183269371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269371" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269371">(Dec 12 2019 at 15:27)</a>:</h4>
<p>Mostly that I feel like we lack a clear "plan" around linkers :)</p>



<a name="183269373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269373" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269373">(Dec 12 2019 at 15:27)</a>:</h4>
<p>that it was an area that is not richly specified?</p>



<a name="183269377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269377" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269377">(Dec 12 2019 at 15:27)</a>:</h4>
<p>I guess they're not <em>overly</em> related</p>



<a name="183269381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269381" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269381">(Dec 12 2019 at 15:27)</a>:</h4>
<p>ah yes</p>



<a name="183269392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269392" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269392">(Dec 12 2019 at 15:27)</a>:</h4>
<p>well the funny thing that struck me about that</p>



<a name="183269404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269404" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269404">(Dec 12 2019 at 15:27)</a>:</h4>
<p>I just wish that we had some folks who owned this area</p>



<a name="183269414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269414" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269414">(Dec 12 2019 at 15:27)</a>:</h4>
<p>is that we seemed to feel free to change behavior with respect to internalization of symbols</p>



<a name="183269425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269425" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269425">(Dec 12 2019 at 15:27)</a>:</h4>
<p>and just say "well it seems to work!"</p>



<a name="183269446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269446" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269446">(Dec 12 2019 at 15:28)</a>:</h4>
<p>while here, alex is saying we've never changed linker arguments</p>



<a name="183269499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269499" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269499">(Dec 12 2019 at 15:28)</a>:</h4>
<p>due to how conservative we want to try to be</p>



<a name="183269513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269513" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269513">(Dec 12 2019 at 15:28)</a>:</h4>
<p>I'm certainly a fan of taking conservative approaches</p>



<a name="183269540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269540" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269540">(Dec 12 2019 at 15:28)</a>:</h4>
<p>but it just struck me as funny, since I didn't think this project was necessarily conservative in such matters</p>



<a name="183269561"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269561" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269561">(Dec 12 2019 at 15:29)</a>:</h4>
<p>I think Rust dylibs were always a special case where we were not so conservative</p>



<a name="183269599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269599" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269599">(Dec 12 2019 at 15:29)</a>:</h4>
<p>true. This PR is changing linker flags for a broader set of cases</p>



<a name="183269620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269620" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269620">(Dec 12 2019 at 15:29)</a>:</h4>
<p>It seems like part of the problem here</p>



<a name="183269629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269629" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269629">(Dec 12 2019 at 15:29)</a>:</h4>
<p>is that the PR is changed the <em>defaults</em></p>



<a name="183269630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269630" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269630">(Dec 12 2019 at 15:29)</a>:</h4>
<p>anyway, there is a meta-topic here</p>



<a name="183269723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269723" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269723">(Dec 12 2019 at 15:30)</a>:</h4>
<p>which is that this author just wants to find <em>someone</em> to take responsibility for a decision here</p>



<a name="183269756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269756" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269756">(Dec 12 2019 at 15:30)</a>:</h4>
<p>and everyone says "shoot, I'm not an expert in that area."</p>



<a name="183269798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269798" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269798">(Dec 12 2019 at 15:31)</a>:</h4>
<p>This seems pretty clearly (to me) like the wrong fix</p>



<a name="183269804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269804" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269804">(Dec 12 2019 at 15:31)</a>:</h4>
<p>personally I think the right solution may be something like what was suggested in the comments</p>



<a name="183269828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269828" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269828">(Dec 12 2019 at 15:31)</a>:</h4>
<p>where an upstream crate could have a <a href="http://build.rs" target="_blank" title="http://build.rs">build.rs</a> that generates flags that influence its clients linker invocations</p>



<a name="183269845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269845" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269845">(Dec 12 2019 at 15:31)</a>:</h4>
<p>changing the defaults for everyone does sound like a very crude hammer</p>



<a name="183269848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269848" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269848">(Dec 12 2019 at 15:31)</a>:</h4>
<p>I'll try to leave a comment about it. I'm not sure what I think the <em>right fix</em> is. But indiscriminately changing our default linker arguments to not error on undefined symbols for all builds on Mac OS just seems like it can't be right.</p>



<a name="183269912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269912" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269912">(Dec 12 2019 at 15:32)</a>:</h4>
<p>At minimum it feels like it merits an RFC to get more eyes and feedback</p>



<a name="183269941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269941" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269941">(Dec 12 2019 at 15:32)</a>:</h4>
<p>is this person building a dylib?</p>



<a name="183269957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269957" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269957">(Dec 12 2019 at 15:32)</a>:</h4>
<p>Anyway, it is an interesting situation, but I don't think we should land a broad change like this without <em>somebody</em> owning it, and sometimes that bandwidth is not around.</p>



<a name="183269961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269961" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269961">(Dec 12 2019 at 15:32)</a>:</h4>
<p>yes, they are building a dylib</p>



<a name="183269997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183269997" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183269997">(Dec 12 2019 at 15:33)</a>:</h4>
<p>so the change in behavior isn't for <em>all</em> linker invocations.</p>



<a name="183270009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270009" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270009">(Dec 12 2019 at 15:33)</a>:</h4>
<p>just for linking to build a dylib, I think.</p>



<a name="183270035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270035" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270035">(Dec 12 2019 at 15:33)</a>:</h4>
<p>Rust dylib or C dylib?</p>



<a name="183270045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270045" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270045">(Dec 12 2019 at 15:33)</a>:</h4>
<p>oh good point ...</p>



<a name="183270114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270114" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270114">(Dec 12 2019 at 15:34)</a>:</h4>
<p>Rust dylibs are such a sad feature</p>



<a name="183270119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270119" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270119">(Dec 12 2019 at 15:34)</a>:</h4>
<p>I cannot tell off hand from the diff context</p>



<a name="183270133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270133">(Dec 12 2019 at 15:34)</a>:</h4>
<p>you are correct that it's a bit more narrow</p>



<a name="183270143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270143" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270143">(Dec 12 2019 at 15:34)</a>:</h4>
<p>but it's still not "opt-in" in any sense</p>



<a name="183270152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270152" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270152">(Dec 12 2019 at 15:34)</a>:</h4>
<p>I believe this is when building a C dylib</p>



<a name="183270206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270206" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270206">(Dec 12 2019 at 15:35)</a>:</h4>
<p>that said, it's sort of surprising to me that we don't have <em>some</em> way to configure the linker flags for a project</p>



<a name="183270207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270207" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270207">(Dec 12 2019 at 15:35)</a>:</h4>
<p>okay well we have <em>probably</em> spent enough time on this</p>



<a name="183270241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270241" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270241">(Dec 12 2019 at 15:35)</a>:</h4>
<p>Unless someone wants to claim ownership of this topic?</p>



<a name="183270293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270293" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270293">(Dec 12 2019 at 15:36)</a>:</h4>
<p>anyway lets move to another nominated issue</p>



<a name="183270327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183270327" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183270327">(Dec 12 2019 at 15:36)</a>:</h4>
<p>I-nominated: "<code>./x.py check</code> failed if incremental builds enabled"<br>
<a href="https://github.com/rust-lang/rust/issues/58633" target="_blank" title="https://github.com/rust-lang/rust/issues/58633">#58633</a></p>



<a name="183271699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271699" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271699">(Dec 12 2019 at 15:48)</a>:</h4>
<p>okay forked thread into <a href="#narrow/stream/131828-t-compiler/topic/x.2Epy.20check.20fails.20under.20incremental.20due.20to.20unused.20attr.20wei.2E.2E.2E/near/183270355" title="#narrow/stream/131828-t-compiler/topic/x.2Epy.20check.20fails.20under.20incremental.20due.20to.20unused.20attr.20wei.2E.2E.2E/near/183270355">zulip topic</a></p>



<a name="183271726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271726" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271726">(Dec 12 2019 at 15:48)</a>:</h4>
<p>zulip topic title "x.py check fails under incremental due to unused attr weirdness  <a href="https://github.com/rust-lang/rust/issues/58633" target="_blank" title="https://github.com/rust-lang/rust/issues/58633">#58633</a>"</p>



<a name="183271758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271758" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271758">(Dec 12 2019 at 15:49)</a>:</h4>
<p>(<a class="stream-topic" data-stream-id="131828" href="/#narrow/stream/131828-t-compiler/topic/x.2Epy.20check.20fails.20under.20incremental.20due.20to.20unused.20attr.20wei.2E.2E.2E">#t-compiler &gt; x.py check fails under incremental due to unused attr wei...</a> )</p>



<a name="183271768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271768" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271768">(Dec 12 2019 at 15:49)</a>:</h4>
<p>thank you</p>



<a name="183271781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271781" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271781">(Dec 12 2019 at 15:49)</a>:</h4>
<p>okay so lets do some WG checkins</p>



<a name="183271814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271814" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271814">(Dec 12 2019 at 15:49)</a>:</h4>
<h1>wg-mir-opt check-in</h1>
<ul>
<li>the MIR does not know about <code>static</code> items anymore. Instead we just have a constant whose value is <code>&amp;YOUR_STATIC</code>, <code>&amp;raw mut YOUR_MUT_STATIC</code> or <code>&amp;raw YOUR_EXTERN_STATIC</code>. This simplifies a lot of logic in the MIR and will (together with the next bullet point) allow <code>PlaceBase</code> to just be <code>Local</code> (so a <code>u32</code> index for a local to be accessed). (<a href="https://github.com/rust-lang/rust/pull/66587" target="_blank" title="https://github.com/rust-lang/rust/pull/66587">https://github.com/rust-lang/rust/pull/66587</a>)</li>
<li>@spastorino is about to finish a PR that removes promoteds from the list of things that are <code>Place</code>s in MIR</li>
<li>the <code>mir::Body</code> does not contain interior mutability components anymore. It used to have a cache of some information on the MIR CFG that could get cleared and reinitialized as required. This is abstracted away in the <code>BodyCache</code> type.</li>
<li>promoteds inside constants and statics are now actually separated from their constant's mir::Body instead of having a scheme around removing <code>StorageDead</code> statements (<a href="https://github.com/rust-lang/rust/pull/66642" target="_blank" title="https://github.com/rust-lang/rust/pull/66642">https://github.com/rust-lang/rust/pull/66642</a>)</li>
<li>Cross crate inlining now preserves debug info: <a href="https://github.com/rust-lang/rust/pull/66789" target="_blank" title="https://github.com/rust-lang/rust/pull/66789">https://github.com/rust-lang/rust/pull/66789</a></li>
<li>A new mir optimization eliminating basic blocks that are unreachable because they are match arms of uninhabited variants: <a href="https://github.com/rust-lang/rust/pull/65694" target="_blank" title="https://github.com/rust-lang/rust/pull/65694">https://github.com/rust-lang/rust/pull/65694</a></li>
<li>A new mir optimization to work around the problem that llvm can't figure out trivial match arms like <code>Ok(x) =&gt; Ok(x)</code>: <a href="https://github.com/rust-lang/rust/pull/66282" target="_blank" title="https://github.com/rust-lang/rust/pull/66282">https://github.com/rust-lang/rust/pull/66282</a></li>
<li>The const prop optimization now runs on all builds (even debug builds), because this gives quite some nice build time improvements: <a href="https://github.com/rust-lang/rust/pull/66074" target="_blank" title="https://github.com/rust-lang/rust/pull/66074">https://github.com/rust-lang/rust/pull/66074</a></li>
<li>We had a mir-opt room at rustfest, which was a total success and ppl loved it.</li>
</ul>
<p>I may have forgotten some peephole optimization or sth, the last month was insane.</p>
<p>Also <span class="user-mention" data-user-id="119009">@eddyb</span>  has an announcement about a mir-optimization</p>



<a name="183271878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271878" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271878">(Dec 12 2019 at 15:50)</a>:</h4>
<p>okay <span class="user-mention" data-user-id="124288">@oli</span> has taken the reins</p>



<a name="183271897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271897" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271897">(Dec 12 2019 at 15:50)</a>:</h4>
<p>my announcement is that I'm resurrecting <a href="https://github.com/rust-lang/rust/pull/48300" target="_blank" title="https://github.com/rust-lang/rust/pull/48300">https://github.com/rust-lang/rust/pull/48300</a></p>



<a name="183271953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271953" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271953">(Dec 12 2019 at 15:50)</a>:</h4>
<p>two years of dust have not been kind to it :P</p>



<a name="183271977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271977" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271977">(Dec 12 2019 at 15:51)</a>:</h4>
<p>This all sounds <em>fantastic</em>, man, so much going on.</p>



<a name="183271993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271993" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271993">(Dec 12 2019 at 15:51)</a>:</h4>
<p>it's a relatively small optimization, but it should hopefully play well with others (such as const prop, in e.g. structs with mixed runtime and constant fields)</p>



<a name="183271997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183271997" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183271997">(Dec 12 2019 at 15:51)</a>:</h4>
<p>I want to give a shout-out to <span class="user-mention" data-user-id="124288">@oli</span>, at least from what <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> tells me, <span class="user-mention" data-user-id="124288">@oli</span> has been doing a ton of mentoring and general leadership here. <span aria-label="clap" class="emoji emoji-1f44f" role="img" title="clap">:clap:</span> <span aria-label="clap" class="emoji emoji-1f44f" role="img" title="clap">:clap:</span> <span aria-label="clap" class="emoji emoji-1f44f" role="img" title="clap">:clap:</span></p>



<a name="183272035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272035" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272035">(Dec 12 2019 at 15:52)</a>:</h4>
<p>Yes, <span class="user-mention" data-user-id="124288">@oli</span> has been doing a fantastic job!!</p>



<a name="183272059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272059" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272059">(Dec 12 2019 at 15:52)</a>:</h4>
<p>We also have plans for optimizations for removing unreachable blocks, BB-deduplication, etc.</p>



<a name="183272095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272095" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272095">(Dec 12 2019 at 15:52)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> great work!!! <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="183272096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272096" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272096">(Dec 12 2019 at 15:52)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> what happened to referring to statics in constants?</p>



<a name="183272129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272129" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272129">(Dec 12 2019 at 15:53)</a>:</h4>
<p>there's also this coming <a href="https://github.com/rust-lang/rust/pull/67000" target="_blank" title="https://github.com/rust-lang/rust/pull/67000">https://github.com/rust-lang/rust/pull/67000</a>, it's literally done, there's not <code>PlaceBase</code> anymore, just <code>Local</code></p>



<a name="183272132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272132" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272132">(Dec 12 2019 at 15:53)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="124288">oli</span> what happened to referring to statics in constants?</p>
</blockquote>
<p>not merged, in work: <a href="https://github.com/rust-lang/rust/pull/66302" target="_blank" title="https://github.com/rust-lang/rust/pull/66302">https://github.com/rust-lang/rust/pull/66302</a></p>



<a name="183272302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272302" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272302">(Dec 12 2019 at 15:54)</a>:</h4>
<p>okay great</p>



<a name="183272348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272348" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272348">(Dec 12 2019 at 15:55)</a>:</h4>
<p>Regarding WG-meta, there wasn't much to report it sounded like. But <span class="user-mention" data-user-id="116009">@nikomatsakis</span> did say:</p>
<blockquote>
<p>Well, I think from wg-meta I could see it being useful to discuss:</p>
<ul>
<li>Have we been using the LLVM ICE-breaker?</li>
<li>I think we should create a "reducer" ICE-breaker (for bisecting and creating standalone examples) and a "diagnostic" one, thoughts?</li>
</ul>
</blockquote>



<a name="183272392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272392" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272392">(Dec 12 2019 at 15:55)</a>:</h4>
<p>MIR optimization might be a good success story of how much potential can be freed once a component is cleanly encapsulated</p>



<a name="183272433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272433" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272433">(Dec 12 2019 at 15:56)</a>:</h4>
<p>but maybe that was more directed at the WG-meta members themselves, and not T-compiler ?</p>



<a name="183272484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272484" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272484">(Dec 12 2019 at 15:56)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> only took 2-3 years of limbo :P</p>



<a name="183272486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272486" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272486">(Dec 12 2019 at 15:56)</a>:</h4>
<p>No, I'd like feedback from anyone</p>



<a name="183272502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272502" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272502">(Dec 12 2019 at 15:57)</a>:</h4>
<p>I think a reducer ICE-breaker would be great</p>



<a name="183272523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272523" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272523">(Dec 12 2019 at 15:57)</a>:</h4>
<p>I think that's the obvious next step</p>



<a name="183272533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272533" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272533">(Dec 12 2019 at 15:57)</a>:</h4>
<p>Ah there is one other thing</p>



<a name="183272537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272537" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272537">(Dec 12 2019 at 15:57)</a>:</h4>
<p>potentially orthogonally: after my blog post on rust reduction pattersn</p>



<a name="183272539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272539" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272539">(Dec 12 2019 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> has been working on improving cargo-bisect</p>



<a name="183272553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272553" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272553">(Dec 12 2019 at 15:57)</a>:</h4>
<p>which I was kind of semi-waiting on</p>



<a name="183272565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272565" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272565">(Dec 12 2019 at 15:57)</a>:</h4>
<p>people did mention trying to put my strategies into creduce</p>



<a name="183272569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272569" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272569">(Dec 12 2019 at 15:57)</a>:</h4>
<p>since it seemed like having a really easily usable bisection tool would make it easier</p>



<a name="183272700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272700" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272700">(Dec 12 2019 at 15:58)</a>:</h4>
<p>When I read your post <span class="user-mention" data-user-id="116083">@pnkfelix</span> I was thinking it might make sense to have a kind of "lightweight" description and then "heavier-weight" strategies</p>



<a name="183272713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272713" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272713">(Dec 12 2019 at 15:58)</a>:</h4>
<p>i.e., I tend to do something rather different, but I fall back to strategies like yours is I'm having trouble</p>



<a name="183272732"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272732" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272732">(Dec 12 2019 at 15:58)</a>:</h4>
<p>I suspect <span class="user-mention" data-user-id="126931">@centril</span> has some good tips, since I know they do a lot of reducing too</p>



<a name="183272782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272782">(Dec 12 2019 at 15:59)</a>:</h4>
<blockquote>
<p>i.e., I tend to do something rather different, but I fall back to strategies like yours is I'm having trouble</p>
</blockquote>
<p>yeah, I think it can depend on how well you understand the code in question from the outset</p>



<a name="183272787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272787" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272787">(Dec 12 2019 at 15:59)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span>'s post is mostly around big projects</p>



<a name="183272808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272808" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272808">(Dec 12 2019 at 15:59)</a>:</h4>
<p>and I was trying to describe how you could work effectively blind</p>



<a name="183272812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272812" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272812">(Dec 12 2019 at 15:59)</a>:</h4>
<p>I tend to shrink issues that already fit in the playground</p>



<a name="183272857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272857" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272857">(Dec 12 2019 at 16:00)</a>:</h4>
<p>keep in mind you can go from a dozen lines to 50k lines to a dozen lines again</p>



<a name="183272911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272911" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272911">(Dec 12 2019 at 16:00)</a>:</h4>
<p>if you include dependencies</p>



<a name="183272937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272937" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272937">(Dec 12 2019 at 16:00)</a>:</h4>
<p>and macro-expansions</p>



<a name="183272950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272950" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272950">(Dec 12 2019 at 16:00)</a>:</h4>
<p>(which I guess is a kind of dependency)</p>



<a name="183272964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272964" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272964">(Dec 12 2019 at 16:00)</a>:</h4>
<p>so "fits in playground" is not specific enough :P</p>



<a name="183272985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183272985" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183272985">(Dec 12 2019 at 16:00)</a>:</h4>
<p><span class="user-mention" data-user-id="119009">@eddyb</span> zero dependencies</p>



<a name="183273003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183273003" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183273003">(Dec 12 2019 at 16:00)</a>:</h4>
<p>200 LOC max</p>



<a name="183273020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183273020" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183273020">(Dec 12 2019 at 16:01)</a>:</h4>
<p>pretty sure you don't use <code>#![no_std]</code> for all your reductions</p>



<a name="183273053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183273053" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183273053">(Dec 12 2019 at 16:01)</a>:</h4>
<p>but that's just me being petty</p>



<a name="183273065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183273065" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183273065">(Dec 12 2019 at 16:01)</a>:</h4>
<p><code>#![no_core]</code> or it doesn't count. <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="183273077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183273077" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183273077">(Dec 12 2019 at 16:01)</a>:</h4>
<p>only if it would simplify finding the bug ^^</p>



<a name="183273097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183273097" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183273097">(Dec 12 2019 at 16:01)</a>:</h4>
<p>okay I have a hard out now at the hour mark</p>



<a name="183273104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183273104" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183273104">(Dec 12 2019 at 16:01)</a>:</h4>
<p>I still regret bothering with <code>#![no_std]</code> when the bug had nothing to do with anything I was imagining</p>



<a name="183273106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183273106" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183273106">(Dec 12 2019 at 16:01)</a>:</h4>
<p>thank you to all of <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> for attending! this was a great meeting you all!</p>



<a name="183274367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/weekly%20meeting%202019-12-12%20%2354818/near/183274367" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/weekly.20meeting.202019-12-12.20.2354818.html#183274367">(Dec 12 2019 at 16:13)</a>:</h4>
<p>Post meeting announcement: I've hacked up an experimental (in the sense of the proposal) but full implementation of half-open range patterns, <a href="https://github.com/rust-lang/rust/pull/67258" target="_blank" title="https://github.com/rust-lang/rust/pull/67258">https://github.com/rust-lang/rust/pull/67258</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>