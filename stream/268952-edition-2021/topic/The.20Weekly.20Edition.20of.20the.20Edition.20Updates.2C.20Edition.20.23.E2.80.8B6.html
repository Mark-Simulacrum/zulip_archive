<html>
<head><meta charset="utf-8"><title>The Weekly Edition of the Edition Updates, Edition #​6 · edition 2021 · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/index.html">edition 2021</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html">The Weekly Edition of the Edition Updates, Edition #​6</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="236185043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236185043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236185043">(Apr 26 2021 at 14:39)</a>:</h4>
<p>Status updates! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>
<p>The list is finished! Everything left on the list is ready enough to continue into the new edition.</p>
<ul>
<li>std/core panic: Unchanged: Implemented and available already. Automated migration doesn't work yet because of the rustfix multi-span issue.</li>
<li>Reserved prefixes: Decision was made: Make <code>prefix#ident</code> and <code>prefix"literal"</code> tokenization errors. We expect proposals for specific prefixes like <code>f""</code>, <code>k#</code>, <code>z""</code>, etc. at some point, at which we can define how those will exactly tokenize. (That way, we don't have to decide right now which escape sequences are valid in <code>abc".."</code>, etc.)</li>
<li>Prelude changes: Migration plan discussed and ready (although not written down in a for mal yet (?))</li>
<li>Or patterns: FCP for new <code>:pat_param</code> <a href="https://github.com/rust-lang/rust/pull/83386">finished</a>.</li>
<li>Disjoint captures: <span class="user-mention" data-user-id="281950">@Aman Arora</span> What's the status?</li>
<li>IntoIter for <code>[T; N]</code> - <a href="https://github.com/rust-lang/rust/pull/84147">Merged</a>! Available in Rust 1.53.</li>
<li>rustc_args_required_const: No longer an edition change.</li>
<li>Lints: <span class="user-mention" data-user-id="224872">@rylev</span>?</li>
<li>Cargo default feature resolver change: Already done. (But <a href="#narrow/stream/268952-edition-2021/topic/Cargo.20resolver.20in.20workspace">some questions</a> about workspaces still open (or at least should be documented in the edition guide).)</li>
<li>rustfix multi-span issue: Nobody is working on this yet. See <a href="#narrow/stream/268952-edition-2021/topic/rustfix.20multi-span">this topic</a>.</li>
</ul>



<a name="236185215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236185215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236185215">(Apr 26 2021 at 14:40)</a>:</h4>
<p>A blog post with all the details about the selection and summaries of the features will be published Soon™.</p>



<a name="236185298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236185298" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236185298">(Apr 26 2021 at 14:40)</a>:</h4>
<blockquote>
<p>rustfix multi-span issue: Nobody is working on this yet. See this topic.</p>
</blockquote>
<p>are there any plans to work on this?</p>



<a name="236185336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236185336" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236185336">(Apr 26 2021 at 14:41)</a>:</h4>
<p>normally I would offer but my life is about to get crazy because of graduation <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="236185384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236185384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236185384">(Apr 26 2021 at 14:41)</a>:</h4>
<p>Nothing new to report on lints other than the PR upgrading certain lints to errors has been updated fixing the issues in CI and addressing feedback. Hopefully it gets merged soon.</p>



<a name="236185420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236185420" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236185420">(Apr 26 2021 at 14:41)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> haha, was just about to ask: "are you volunteering? ^^"</p>



<a name="236185461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236185461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236185461">(Apr 26 2021 at 14:41)</a>:</h4>
<p>we plan to put a note in the blog post, asking for help with some issues like this</p>



<a name="236185578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236185578" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236185578">(Apr 26 2021 at 14:42)</a>:</h4>
<p>I can offer help <em>sometime</em> between now and stabilizing 2021 edition, but probably not in the next month</p>



<a name="236185607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236185607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236185607">(Apr 26 2021 at 14:42)</a>:</h4>
<p>but the alternative is to just make the lints not require it. instead of <code>insert '(' and ')'</code>, they could also just say <code>replace 'abc' by '(abc)'</code>.</p>



<a name="236185663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236185663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236185663">(Apr 26 2021 at 14:42)</a>:</h4>
<p>so it's not that big of an issue. but would be nice to finally fix so we don't have to work around it</p>



<a name="236187141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236187141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236187141">(Apr 26 2021 at 14:51)</a>:</h4>
<p><span class="user-mention" data-user-id="310399">@Mara</span> FWIW, I think the rustfix solution is to un-revert the revert in <a href="https://github.com/rust-lang/rustfix/pull/156">https://github.com/rust-lang/rustfix/pull/156</a>.  I think the concern about supporting non-MachineApplicable lints isn't really justified. AFAIK, that is the only problem and not a high priority as it is not exposed by <code>cargo fix</code>.</p>



<a name="236187434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236187434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236187434">(Apr 26 2021 at 14:53)</a>:</h4>
<p>thanks! will check it out.</p>



<a name="236203158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236203158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236203158">(Apr 26 2021 at 16:21)</a>:</h4>
<p><span class="user-mention" data-user-id="226095">@Dirkjan Ochtman</span> are you still working on the prelude edition change? as far as i know, there's now a migration plan, but it's only written down in a few messages here on zulip. it seems clear what the exact changes would be (TryFrom, TryInto, FromIterator), i think. but there's no formal approval (FCP) yet. would be nice if we can push this to FCP in the next few days. i can also do this if you want.</p>



<a name="236203286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236203286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dirkjan Ochtman <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236203286">(Apr 26 2021 at 16:22)</a>:</h4>
<p>Do you want to scrap the types from the RFC? Or just do a partial FCP?</p>



<a name="236203330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236203330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dirkjan Ochtman <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236203330">(Apr 26 2021 at 16:23)</a>:</h4>
<p>I’ll see if I can make an update to the RFC tonight</p>



<a name="236204045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236204045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236204045">(Apr 26 2021 at 16:28)</a>:</h4>
<p><span class="user-mention" data-user-id="226095">@Dirkjan Ochtman</span> by now there's so many useful comments on that RFC about the non-edition changes, that it might make more sense to keep that PR/RFC around for that and put the edition changes in a separate PR. i suppose it could just be a PR to <code>rust-lang/rust</code> that actually adds them to <code>std::prelude::rust_2021</code> so we can do the FCP there, but we should have the migration written down somewhere first. and that might as well be a small rfc with the three changes and the migration plan.</p>



<a name="236207045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236207045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236207045">(Apr 26 2021 at 16:51)</a>:</h4>
<p>I opened an issue for the migration</p>



<a name="236207128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236207128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236207128">(Apr 26 2021 at 16:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="120518">Eric Huss</span> <a href="#narrow/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6/near/236187141">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> FWIW, I think the rustfix solution is to un-revert the revert in <a href="https://github.com/rust-lang/rustfix/pull/156">https://github.com/rust-lang/rustfix/pull/156</a>.  I think the concern about supporting non-MachineApplicable lints isn't really justified. AFAIK, that is the only problem and not a high priority as it is not exposed by <code>cargo fix</code>.</p>
</blockquote>
<p>so wait...</p>
<p>revert the revert that reverted the fix :)</p>



<a name="236239594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236239594" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dirkjan Ochtman <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236239594">(Apr 26 2021 at 20:43)</a>:</h4>
<p>New RFC: <a href="https://github.com/rust-lang/rfcs/pull/3114">https://github.com/rust-lang/rfcs/pull/3114</a></p>



<a name="236239830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B6/near/236239830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B6.html#236239830">(Apr 26 2021 at 20:45)</a>:</h4>
<p>2229: We are pretty near feature complete from a migrations and diagnostics prespective</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>