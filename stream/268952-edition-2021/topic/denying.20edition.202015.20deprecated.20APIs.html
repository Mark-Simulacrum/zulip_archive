<html>
<head><meta charset="utf-8"><title>denying edition 2015 deprecated APIs · edition 2021 · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/index.html">edition 2021</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html">denying edition 2015 deprecated APIs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="237190120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237190120" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237190120">(May 03 2021 at 16:38)</a>:</h4>
<p>I brought this up in #libs a while ago, but perhaps I should have come here instead. In Feb I wrote an edition RFC that would use a lint to deny access to any stdlib APIs that were deprecated in the 2015 edition: <a href="https://github.com/rust-lang/rfcs/pull/3088">https://github.com/rust-lang/rfcs/pull/3088</a> . I wrote it for two reasons:</p>
<ol>
<li>
<p>When explaining editions to people, it relatively common for them to ask whether or not editions remove deprecated things from the stdlib. A common response to these questions is that such a thing is impossible. The real answer is not that it's impossible, but that it's simply never been proposed. Even in the event that this RFC is rejected, it will still be useful to be able to say "no, it's not impossible, but it has been discussed and rejected".</p>
</li>
<li>
<p>In the process of deprecating the module-level numeric consts in favor of associated consts ( <a href="https://github.com/rust-lang/rfcs/pull/2700">https://github.com/rust-lang/rfcs/pull/2700</a> ), I was somewhat annoyed at the effect this had on the docs. A search for "MAX" ( <a href="https://doc.rust-lang.org/std/index.html?search=max">https://doc.rust-lang.org/std/index.html?search=max</a> ) shows foremost a big long list of deprecated consts, and then below the fold you find the replacements. In addition, on the first page of the stdlib API index, a full 20% of the modules in the stdlib are now listed as deprecated ( <a href="https://doc.rust-lang.org/std/index.html#modules">https://doc.rust-lang.org/std/index.html#modules</a> ). Having a policy of eventually denying access to deprecated items would be some justification toward removing these items from the docs entirely, or at least heavily de-emphasizing them. (Note that these specific items were deprecated in the 2018 edition, so would not actually be denied until the edition after 2021.)</p>
</li>
</ol>
<p>Note that the only part of this RFC that is edition-dependent is the part about denying access to the 2015-deprecated items; all the documentation-related parts of the RFC can be done whenever.</p>
<p>There are probably a lot of improvements to rustdoc that could be made in the meantime that would ease the pain points of having so many deprecated items lying around. If people are vaguely in favor of the denial but not keen on the documentation parts, then that might be an argument for postponing this to the next edition.</p>
<p>Note also that the denial lint is fully implemented (just needs to be rebased). If accepted, there would be no risk of delaying the edition.</p>
<p>Mostly I would just like this RFC to have some explicit decision. What do people think?</p>



<a name="237190853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237190853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237190853">(May 03 2021 at 16:45)</a>:</h4>
<p>This really depends on your definition of 'removed'. We can't truly remove something over an edition, because it will still exist in the same standard library when used by a crate from another edition. We've discussed the possibility of hiding things before, but that will just make it harder when reading older code. Pretending some deprecated items just don't exist at all even though there's code (from older editions) using it, is not going to be a great experience. Marking deprecated items in the the rustdoc search results (or moving them to the bottom or whatever) is just something that can be changed in rustdoc. Same for moving deprecated modules to the bottom or hiding them under a fold or something.</p>



<a name="237191154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237191154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237191154">(May 03 2021 at 16:47)</a>:</h4>
<p>there are a lot of lints that people wanted to upgrade to errors in Rust 2021, but in the end we changed almost none of them. only two about syntax we could possibly reuse at some point. for anything else, like deprecations, there's just not a lot of use in turning them into hard errors. it'll just be another barrier for people to migrate to a new edition</p>



<a name="237191483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237191483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237191483">(May 03 2021 at 16:49)</a>:</h4>
<p>I do like the idea, in general, of making deprecations hard errors after (say) two editions, for one specific reason: it bounds the degree to which we need to deal with simultaneous usage of old deprecated APIs and new edition features. Thinking long-term, when we have 10 editions, managing complexity seems like a good thing to me.</p>



<a name="237191646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237191646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237191646">(May 03 2021 at 16:50)</a>:</h4>
<p>It means that when designing the transition from the 2027 edition to the 2030 edition, we don't have to think about APIs deprecated in the 2015 edition at all.</p>



<a name="237191734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237191734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237191734">(May 03 2021 at 16:51)</a>:</h4>
<p>I do agree that, separately, we should improve rustdoc to de-emphasize deprecated APIs.</p>



<a name="237192002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192002">(May 03 2021 at 16:53)</a>:</h4>
<p>but this is just about simple deprecated constants and functions, not language features that will interact in some surprising/interesting way with the new features.</p>



<a name="237192176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192176" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192176">(May 03 2021 at 16:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237191154">said</a>:</p>
<blockquote>
<p>there are a lot of lints that people wanted to upgrade to errors in Rust 2021, but in the end we changed almost none of them. only two about syntax we could possibly reuse at some point.</p>
</blockquote>
<p>Was the "reusing syntax" argument the deciding factor? I got a different impression from the decision summary in <a href="https://github.com/rust-lang/rust/issues/80165">https://github.com/rust-lang/rust/issues/80165</a> , "All other lints are either not ready for promotion or are future compatibility warnings (i.e., bugs in the language that we first warn about before making errors in all editions).". That makes it seem as though the remaining lints are still going to be pursued for denial, just not via an edition. "Making old code harder to read" applies to all these lints, whether they're implemented via an edition lint or via a future compat lint. That this RFC restricts itself solely to items that have been deprecated (and therefore issuing warnings) for at least one entire edition cycle is actually more generous than many such lints.</p>



<a name="237192324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192324">(May 03 2021 at 16:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237191734">said</a>:</p>
<blockquote>
<p>I do agree that, separately, we should improve rustdoc to de-emphasize deprecated APIs.</p>
</blockquote>
<p><span class="user-mention" data-user-id="256342">@bstrie</span> I think is already working on this :) (or at least planning to): <a href="#narrow/stream/266220-rustdoc/topic/status.20badges.20in.20search.20results">https://rust-lang.zulipchat.com/#narrow/stream/266220-rustdoc/topic/status.20badges.20in.20search.20results</a></p>



<a name="237192327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192327">(May 03 2021 at 16:55)</a>:</h4>
<p><span class="user-mention" data-user-id="310399">@Mara</span> I think it's hard to predict how a far future language feature or library feature may interact with a far past deprecated API.</p>



<a name="237192485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192485">(May 03 2021 at 16:56)</a>:</h4>
<p>I'm suggesting that, rather than waiting for a specific such interaction to arise, we consider managing complexity by allowing ourselves to stop thinking about deprecated APIs entirely after a couple of editions.</p>



<a name="237192543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192543">(May 03 2021 at 16:56)</a>:</h4>
<p>That also means people can't just ignore the deprecation lint and continue using the API.</p>



<a name="237192560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192560">(May 03 2021 at 16:56)</a>:</h4>
<p>but we will still need to maintain those deprecated apis as long as any edition has them</p>



<a name="237192593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192593">(May 03 2021 at 16:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237192543">said</a>:</p>
<blockquote>
<p>That also means people can't just ignore the deprecation lint and continue using the API.</p>
</blockquote>
<p>but they can. that's the whole point of editions</p>



<a name="237192602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192602">(May 03 2021 at 16:56)</a>:</h4>
<p>We absolutely do. But we don't have to worry about their interaction with a mechanism you can only use in a new edition.</p>



<a name="237192659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192659">(May 03 2021 at 16:57)</a>:</h4>
<p>macros blur that line</p>



<a name="237192748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192748">(May 03 2021 at 16:58)</a>:</h4>
<p><span class="user-mention" data-user-id="138448">@cuviper</span> You can still arrange to call them. You can't call them directly from the new edition.</p>



<a name="237192818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192818">(May 03 2021 at 16:58)</a>:</h4>
<p>sure, but that's still an interaction</p>



<a name="237192829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192829">(May 03 2021 at 16:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237192659">said</a>:</p>
<blockquote>
<p>macros blur that line</p>
</blockquote>
<p>though macros already mess up every edition change ever :)</p>



<a name="237192840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192840" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192840">(May 03 2021 at 16:58)</a>:</h4>
<p>maybe this is too abstract for me to see what you want to avoid</p>



<a name="237192873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192873">(May 03 2021 at 16:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237192602">said</a>:</p>
<blockquote>
<p>We absolutely do. But we don't have to worry about their interaction with a mechanism you can only use in a new edition.</p>
</blockquote>
<p>any crate in the old edition can just re-export or wrap them so new edition crates can keep using them.</p>



<a name="237192950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237192950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237192950">(May 03 2021 at 16:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237192829">said</a>:</p>
<blockquote>
<p>though macros already mess up every edition change ever :)</p>
</blockquote>
<p>do they? macros behave quite well w.r.t. editions.</p>



<a name="237193218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237193218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237193218">(May 03 2021 at 17:00)</a>:</h4>
<p>Suppose we deprecate SomeType::XYZ a few editions ago. By now, it's no longer accessible. Now, we can consider introducing a <em>new</em> API only accessible in new editions, and we don't have to name it XYZ2.</p>



<a name="237193236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237193236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237193236">(May 03 2021 at 17:00)</a>:</h4>
<p>any time an edition changes anything, a macro exported from an older edition crate can be imported, used, and result in an error in a newer edition crate</p>



<a name="237193309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237193309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237193309">(May 03 2021 at 17:01)</a>:</h4>
<p><span class="user-mention" data-user-id="256342">@bstrie</span> macros defined in older editions use those older editions for their spans.</p>



<a name="237193343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237193343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237193343">(May 03 2021 at 17:01)</a>:</h4>
<p>good to know, this was an open and unresolved question in the original editions RFC :)</p>



<a name="237193438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237193438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237193438">(May 03 2021 at 17:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237193218">said</a>:</p>
<blockquote>
<p>Suppose we deprecate SomeType::XYZ a few editions ago. By now, it's no longer accessible. Now, we can consider introducing a <em>new</em> API only accessible in new editions, and we don't have to name it XYZ2.</p>
</blockquote>
<p>so how would you expect the documentation to look like? we don't have any mechanism for making the same name mean different things in different editions. and if we had, it'd just make the documentation and the api more complex.</p>



<a name="237193563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237193563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237193563">(May 03 2021 at 17:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237193236">said</a>:</p>
<blockquote>
<p>any time an edition changes anything, a macro exported from an older edition crate can be imported, used, and result in an error in a newer edition crate</p>
</blockquote>
<p>this works perfectly fine. e.g. if a 2021 crate uses a macro from a 2018 crate that has <code>panic!()</code> in its expansion, that panic will have the 2018 behaviour, not the 2021 behaviour.</p>



<a name="237193744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237193744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237193744">(May 03 2021 at 17:05)</a>:</h4>
<p><span class="user-mention" data-user-id="310399">@Mara</span> SomeType::XYZ (edition 2027+) documentation, followed by "SomeType::XYZ deprecated in edition 2018" documentation.</p>



<a name="237193910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237193910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237193910">(May 03 2021 at 17:06)</a>:</h4>
<p>but that has nothing to do with making deprecations hard errors. that's an entirely different proposal where you just can't access the deprecated item anymore.</p>



<a name="237193974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237193974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237193974">(May 03 2021 at 17:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237193744">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> SomeType::XYZ (edition 2027+) documentation, followed by "SomeType::XYZ deprecated in edition 2018" documentation.</p>
</blockquote>
<p>oh I really don't want to have to deal with this in rustdoc <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="237193990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237193990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237193990">(May 03 2021 at 17:07)</a>:</h4>
<p>this seems confusing even for the user</p>



<a name="237194022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194022">(May 03 2021 at 17:07)</a>:</h4>
<p><span class="user-mention" data-user-id="310399">@Mara</span> "that doesn't exist" is a kind of hard error. :)</p>



<a name="237194027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194027">(May 03 2021 at 17:07)</a>:</h4>
<p>imagine reading code in your editor and not knowing what function is being called without looking at Cargo.toml</p>



<a name="237194074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194074">(May 03 2021 at 17:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237194022">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> "that doesn't exist" is a kind of hard error. :)</p>
</blockquote>
<p>it would have a new meaning. not just <em>not exist</em>.</p>



<a name="237194185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194185">(May 03 2021 at 17:08)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> I wouldn't expect this to come up until many many editions have passed. At some point, historical archeology of code from many editions ago becomes an entirely disjoint activity from writing and maintaining current codebases.</p>



<a name="237194190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194190" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194190">(May 03 2021 at 17:08)</a>:</h4>
<p>btw i made an implementation a while ago of names having different meanings for different editions: <a href="https://github.com/rust-lang/rust/pull/82489">https://github.com/rust-lang/rust/pull/82489</a><br>
but i can only imagine how much of a nightmare for documentation this will be.</p>



<a name="237194268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194268">(May 03 2021 at 17:08)</a>:</h4>
<p>and I don't see the <em>benefit</em></p>



<a name="237194281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194281">(May 03 2021 at 17:08)</a>:</h4>
<p>it just makes things more confusing for everyone</p>



<a name="237194346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194346">(May 03 2021 at 17:09)</a>:</h4>
<p>imagine you see a blog post with std::xyz() - what function are they calling? depends when the blog post was written!</p>



<a name="237194364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194364" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194364">(May 03 2021 at 17:09)</a>:</h4>
<p>I'm thinking about decades passing here, and people wanting to be able to define a new API, and a 15-year-old deprecated API burning the most obvious name for it.</p>



<a name="237194371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194371">(May 03 2021 at 17:09)</a>:</h4>
<p>the book already has a sort of similar issue when rand makes breaking changes</p>



<a name="237194482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194482">(May 03 2021 at 17:10)</a>:</h4>
<p>Regarding documentation, isn’t the <code>panic!</code> macro an example of, well, <em>effectively</em> a new version of the macro replacing the old one depending on the edition? Sure it uses compiler magic to be able to do that, but the question of how to properly document it remains. AFAICT, the <a href="https://doc.rust-lang.org/1.51.0/std/macro.panic.html">current new docs</a> just pretend that the Rust 2018 behavior of <code>panic</code> was never a thing.</p>



<a name="237194526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194526">(May 03 2021 at 17:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="280891">Frank Steffahn</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237194482">said</a>:</p>
<blockquote>
<p>Regarding documentation, isn’t the <code>panic!</code> macro an example of, well, _effectively_ a new version of the macro replacing the old one depending on the edition? Sure it uses compiler magic to be able to do that, but the question of how to properly document it remains. AFAICT, the <a href="https://doc.rust-lang.org/1.51.0/std/macro.panic.html">current new docs</a> just pretend that the Rust 2018 behavior of <code>panic</code> was never a thing.</p>
</blockquote>
<p>ok, sure, but they do <em>basically</em> the same thing, they just have very slightly different edge cases</p>



<a name="237194543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194543">(May 03 2021 at 17:11)</a>:</h4>
<p>it sounds like <span class="user-mention" data-user-id="239881">@Josh Triplett</span> is talking about functions that do <em>completely different things</em> with the same name</p>



<a name="237194549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194549">(May 03 2021 at 17:11)</a>:</h4>
<p>That's exactly the inspiration I had for my comments above</p>



<a name="237194572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194572">(May 03 2021 at 17:11)</a>:</h4>
<p><span class="user-mention" data-user-id="280891">@Frank Steffahn</span> the difference is very subtle. almost all use cases of panic!() are unchanged. we wouldn't have made this edition change if that wasn't the case.</p>



<a name="237194610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194610">(May 03 2021 at 17:11)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> No, not at all. I would expect them to be very similar, not completely different.</p>



<a name="237194644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194644">(May 03 2021 at 17:11)</a>:</h4>
<p>If they're very similar, why would they need different documentation?</p>



<a name="237194711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194711">(May 03 2021 at 17:12)</a>:</h4>
<p>Or put another way, why is the handling of panic! 2018/2021 insufficient?</p>



<a name="237194741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194741">(May 03 2021 at 17:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237194572">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="280891">Frank Steffahn</span> the difference is very subtle. almost all use cases of panic!() are unchanged. we wouldn't have made this edition change if that wasn't the case.</p>
</blockquote>
<p>Still, if I’m a new Rust user learning the language after 2021 and I read legacy (Rust 2018) code using <code>panic!(42)</code>, then the docs can’t explain to me what’s going on.</p>



<a name="237194783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194783" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194783">(May 03 2021 at 17:12)</a>:</h4>
<p><span class="user-mention" data-user-id="280891">@Frank Steffahn</span> but the compiler will. the compiler will tell you it's panic_any(42) when you compile that.</p>



<a name="237194815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194815">(May 03 2021 at 17:13)</a>:</h4>
<p>and suggests to change that</p>



<a name="237194976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194976">(May 03 2021 at 17:14)</a>:</h4>
<p>At the moment, this is firmly a hypothetical. I'm trying to think about how we can keep complexity better contained within editions. It's possible this isn't worthwhile. But I also think if it <em>does</em> turn out to be something we need, we will wish at the time that we had done it multiple editions ago.</p>



<a name="237194984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194984">(May 03 2021 at 17:14)</a>:</h4>
<p>I think the disagreement here is that <span class="user-mention" data-user-id="239881">@Josh Triplett</span> thinks this removes complexity and I think it only adds more</p>



<a name="237194993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237194993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237194993">(May 03 2021 at 17:14)</a>:</h4>
<p>anyway, this thread was about deprecations like std::i32::MAX and AtomicU8::compare_and_swap. i can't think of any reason to make those hard errors</p>



<a name="237195048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237195048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237195048">(May 03 2021 at 17:15)</a>:</h4>
<p>If it's similar enough use the same name; if not oh well, pick a new one</p>



<a name="237195299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237195299" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237195299">(May 03 2021 at 17:16)</a>:</h4>
<p>yes it's nice if everyone uses <code>compare_exchange</code> instead, but i don't see any reason why to add complexity to stop compiling <code>compare_and_swap</code>. we could add a note to <code>cargo fix --edition</code> with something like "hey while you're migrating, how about you also get rid of these deprecated things?". but what's the use of forcing that? it just makes things more complex for everyone.</p>



<a name="237196102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237196102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237196102">(May 03 2021 at 17:23)</a>:</h4>
<p><span class="user-mention" data-user-id="256342">@bstrie</span> reading <a href="https://github.com/rust-lang/rfcs/pull/3088#issuecomment-793106802">this comment</a> now. it really seems to me everything you want is resolved by a rustdoc change that would make deprecated items less visible.</p>
<blockquote>
<p>The goal is not smallness, rather it is that the documentation should not be permanently cluttered with things that users are encouraged not to use.</p>
</blockquote>



<a name="237197027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237197027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237197027">(May 03 2021 at 17:28)</a>:</h4>
<p>is that considered in sorting? I think we would want the API list to be in order: stable, unstable, deprecated</p>



<a name="237197131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237197131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237197131">(May 03 2021 at 17:29)</a>:</h4>
<p>"what you should use now", "what you can use soon", "what you should stop using"</p>



<a name="237198577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237198577" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237198577">(May 03 2021 at 17:37)</a>:</h4>
<p>("what you may be able to use soon, and should potentially start evaluating now to see if it fits")</p>



<a name="237198784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237198784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237198784">(May 03 2021 at 17:38)</a>:</h4>
<p>(or "what we forgot to mark as doc(hidden)" (for #[unstable(issue = "none")]) :P )</p>



<a name="237198993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237198993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237198993">(May 03 2021 at 17:40)</a>:</h4>
<p>It'd be nice if we had an explicit way to tag "will never be stable", and handled that differently in documentation.</p>



<a name="237199015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199015" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199015">(May 03 2021 at 17:40)</a>:</h4>
<p>(I don't know if <code>issue = "none"</code> is <em>always</em> intended to mean "never stable".)</p>



<a name="237199100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199100" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199100">(May 03 2021 at 17:40)</a>:</h4>
<p>it's a mistake to lack an issue otherwise</p>



<a name="237199104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199104">(May 03 2021 at 17:40)</a>:</h4>
<p>it should be</p>



<a name="237199337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199337" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199337">(May 03 2021 at 17:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237194783">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="280891">Frank Steffahn</span> but the compiler will. the compiler will tell you it's panic_any(42) when you compile that.</p>
</blockquote>
<p>this would also be true of items deprecated by this RFC; any use of the item on the denied edition will produce the usual compiler output telling you why it was deprecated and what its replacement is. and because of the long period prior to denial, prior editions would have been warning with the same output for several years.</p>



<a name="237199463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199463">(May 03 2021 at 17:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237197027">said</a>:</p>
<blockquote>
<p>is that considered in sorting? I think we would want the API list to be in order: stable, unstable, deprecated</p>
</blockquote>
<p>one of my goals is to overhaul the sorting of items in rustdoc to take deprecatedness (among other things) into account</p>



<a name="237199555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199555">(May 03 2021 at 17:43)</a>:</h4>
<p>it still seems to me like you just want some rustdoc changes, unrelated to editions</p>



<a name="237199664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199664" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199664">(May 03 2021 at 17:44)</a>:</h4>
<p>what goal do you want to achieve by making deprecation errors edition dependent?</p>



<a name="237199824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199824">(May 03 2021 at 17:45)</a>:</h4>
<p>I do want documentation changes. I also want to make the language smaller and more consistent where possible. I also want to be able to point to this in the future when people ask why editions don't get used to """remove""" deprecated items.</p>



<a name="237199847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199847">(May 03 2021 at 17:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237199337">said</a>:</p>
<blockquote>
<p>this would also be true of items deprecated by this RFC; any use of the item on the denied edition will produce the usual compiler output telling you why it was deprecated and what its replacement is. and because of the long period prior to denial, prior editions would have been warning with the same output for several years.</p>
</blockquote>
<p>the compiler saying that you should use <code>compare_exchange</code> instead of <code>compare_and_swap</code> does not explain any of the differences between those functions.</p>



<a name="237199954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199954">(May 03 2021 at 17:46)</a>:</h4>
<p>it probably should; it may not be wise to expect people to read the docs rather than blindly trusting the compiler output</p>



<a name="237199988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237199988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237199988">(May 03 2021 at 17:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237199824">said</a>:</p>
<blockquote>
<p>I also want to make the language smaller and more consistent where possible.</p>
</blockquote>
<p>but it does not get smaller. it gets bigger! you <em>add</em> different behaviour in a new edition, and don't remove any complexity.</p>



<a name="237200106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200106">(May 03 2021 at 17:47)</a>:</h4>
<p>most rust code to ever be written has not been written yet. for most people who will writing rust in the foreseeable future, they will only be using the newest edition. this makes the language smaller for those people.</p>



<a name="237200249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200249">(May 03 2021 at 17:48)</a>:</h4>
<p>most people will not use deprecated functions, so the language is already that small for them. what use does it have to turn things into hard errors?</p>



<a name="237200309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200309">(May 03 2021 at 17:48)</a>:</h4>
<p>people who don't use these functions are not going to notice the upgrade from a warning to an error. the language did not get smaller in their eyes. nothing changed.</p>



<a name="237200347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200347">(May 03 2021 at 17:49)</a>:</h4>
<p>the only people who will see the difference are the people for who this makes it more complicated.</p>



<a name="237200388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200388">(May 03 2021 at 17:49)</a>:</h4>
<p>that same argument applies to any edition lint or future compat lint</p>



<a name="237200414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200414">(May 03 2021 at 17:49)</a>:</h4>
<p>huh</p>



<a name="237200458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200458">(May 03 2021 at 17:49)</a>:</h4>
<p>most people will not be using <code>...</code> in patterns, so why make it into an error?</p>



<a name="237200533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200533">(May 03 2021 at 17:50)</a>:</h4>
<p>because that opens up that syntax for new things.</p>



<a name="237200631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200631">(May 03 2021 at 17:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237200533">said</a>:</p>
<blockquote>
<p>because that opens up that syntax for new things.</p>
</blockquote>
<p>(personally I think it would be confusing to reuse <code>...</code> for anything, so it could have stayed a warning)</p>



<a name="237200637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200637">(May 03 2021 at 17:50)</a>:</h4>
<p>not that it matters much, but I'd personally be opposed to any use of <code>...</code> due to its easy confusability with <code>..</code> (which is part of the reason it was deprecated in the first place)</p>



<a name="237200639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200639">(May 03 2021 at 17:50)</a>:</h4>
<p>but I'm not on t-lang</p>



<a name="237200684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200684">(May 03 2021 at 17:51)</a>:</h4>
<p>we <em>very</em> carefully selected the edition changes. we did not add anything just because we don't like it that people might use non-idiomatic/'old' style code.</p>



<a name="237200702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237200702" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237200702">(May 03 2021 at 17:51)</a>:</h4>
<p>(as tempting as it is to have a perl-style <code>...</code> for <code>todo!()</code>, but that's neither here nor there :P )</p>



<a name="237201055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237201055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237201055">(May 03 2021 at 17:53)</a>:</h4>
<p><code>...</code> might be used for variadics at some point. removing <code>...</code> from the syntax now simplifies a the cases a parser would need to take into account</p>



<a name="237201273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237201273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237201273">(May 03 2021 at 17:54)</a>:</h4>
<p>except that, as you said, the language never actually gets smaller (for implementers) at editions</p>



<a name="237201407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237201407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237201407">(May 03 2021 at 17:55)</a>:</h4>
<p>no, but a parser for rust 2024 which would have <code>...</code> for variadics does not have to take interactions with <code>...</code> pattern syntax into account. which simplifies things</p>



<a name="237201411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237201411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237201411">(May 03 2021 at 17:55)</a>:</h4>
<p>I agree that it is important to provide the <em>impression</em> of simplifying old crufty stuff at edition boundaries though</p>



<a name="237201453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237201453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237201453">(May 03 2021 at 17:55)</a>:</h4>
<p>huh</p>



<a name="237201779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237201779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237201779">(May 03 2021 at 17:57)</a>:</h4>
<p>most of the techniques that are utilized like deny-by-default lints and deprecation warnings and so on are to encourage the community to shift away from the old stuff so that as many people as possible never have to learn that it exists</p>



<a name="237201868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237201868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237201868">(May 03 2021 at 17:58)</a>:</h4>
<p>we absolutely did not remove <code>...</code> just because it was deprecated, or because we felt like it looked old or something. that would just unnecessarily cause people extra work for no good reason.</p>



<a name="237201926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237201926" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237201926">(May 03 2021 at 17:58)</a>:</h4>
<p><span class="user-mention" data-user-id="271719">@Mario Carneiro</span> sure. but what has that to do with editions?</p>



<a name="237202372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237202372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237202372">(May 03 2021 at 18:00)</a>:</h4>
<p>editions are opt in, so it's possible to break more things across an edition boundary. I'm not sure what exactly would qualify but it seems reasonable to have some functions get deny-by-default deprecated on a new edition</p>



<a name="237202436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237202436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237202436">(May 03 2021 at 18:01)</a>:</h4>
<p>for what purpose?</p>



<a name="237202478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237202478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237202478">(May 03 2021 at 18:01)</a>:</h4>
<p>to make people actually stop using it on the new edition</p>



<a name="237202526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237202526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237202526">(May 03 2021 at 18:01)</a>:</h4>
<p>"no you can't use array.into_iter() because you didn't remove your atomic.compare_and_swap!"  what's the use?</p>



<a name="237202720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237202720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237202720">(May 03 2021 at 18:02)</a>:</h4>
<p>we already want people to stop using deprecated things, regardless of edition. why would we suddenly force them extra hard over an edition? that just hurts adoption of the new edition. we'll need to maintain the deprecated items regardless, and they can keep using them anyway by not upgrading to the new edition (which we also don't want!)</p>



<a name="237203217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237203217" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237203217">(May 03 2021 at 18:05)</a>:</h4>
<p>Like I said I'm not sure what would qualify, probably none of the current APIs. I'm thinking more like 10 years later, as a cleanup activity for something that no one uses</p>



<a name="237203351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237203351" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237203351">(May 03 2021 at 18:06)</a>:</h4>
<p>it's not really cleanup if it's only for some editions</p>



<a name="237203403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237203403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237203403">(May 03 2021 at 18:06)</a>:</h4>
<p>not cleanup from the implementer's point of view, cleanup from the language user's point of view</p>



<a name="237203405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237203405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237203405">(May 03 2021 at 18:06)</a>:</h4>
<p>the use is making the surface area of the language smaller for users, even if not for implementors. making a language larger is trivial, and making it smaller is very difficult. I like the idea of pursuing the scant opportunities to make the language smaller, when possible. I don't agree with the idea that this makes the language larger; that's now how users see it. even languages as renownedly stable as Java remove APIs from time to time, rarely to any controversy.</p>



<a name="237203678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237203678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237203678">(May 03 2021 at 18:08)</a>:</h4>
<p><span class="user-mention" data-user-id="256342">@bstrie</span> but it does not. people still work with code from other editions. you could say "but some people never touch code from older editions", but "some people never touch code that uses deprecated functions" is just as true. we still need to document them regardless of whether they are deprecated or edition-hidden or whatever. the rest is just styling in rustdoc</p>



<a name="237203769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237203769" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237203769">(May 03 2021 at 18:08)</a>:</h4>
<p>we already give warnings when people use deprecated items. because we want to discourage their use. why is that not good enough?</p>



<a name="237203826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237203826" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237203826">(May 03 2021 at 18:09)</a>:</h4>
<p>why does deprecating something not 'make the language smaller'?</p>



<a name="237204308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237204308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237204308">(May 03 2021 at 18:12)</a>:</h4>
<p>Normally deprecation is a prelude to removal. Rust can't exactly remove things at the implementation level but that doesn't mean it can't present as though it actually removed a function in edition N</p>



<a name="237204374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237204374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237204374">(May 03 2021 at 18:13)</a>:</h4>
<blockquote>
<p>Normally deprecation is a prelude to removal.</p>
</blockquote>
<p>for languages? standard libraries usually have lots of cruft lying around</p>



<a name="237204389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237204389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237204389">(May 03 2021 at 18:13)</a>:</h4>
<p>c, c++, python, ...</p>



<a name="237204441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237204441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237204441">(May 03 2021 at 18:13)</a>:</h4>
<p>what's the use of 'removing' it? since removal isn't really removal. normally the reason to go from deprecation to removal, is to simplify things. reduce the cost of maintenance, etc. none of this will be achieved by doing a deprecated -&gt; hidden thing like proposed here.</p>



<a name="237204602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237204602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237204602">(May 03 2021 at 18:14)</a>:</h4>
<p>One reason might be to reuse the name like <span class="user-mention silent" data-user-id="239881">Josh Triplett</span> mentioned</p>



<a name="237204678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237204678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237204678">(May 03 2021 at 18:15)</a>:</h4>
<p>but that's an entirely different mechanism. that would not make it a hard error to refer to the item. that would make it refer to a new item.</p>



<a name="237204770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237204770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237204770">(May 03 2021 at 18:15)</a>:</h4>
<p>which is unrelated to what's being proposed here. that would not require making deprecated items hard errors.</p>



<a name="237204981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237204981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237204981">(May 03 2021 at 18:17)</a>:</h4>
<p>there might be (probably should be) a gap between the removal and later reuse, same as with syntax changes</p>



<a name="237204998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237204998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237204998">(May 03 2021 at 18:17)</a>:</h4>
<p>why?</p>



<a name="237205025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237205025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237205025">(May 03 2021 at 18:17)</a>:</h4>
<p>we already warn when using a deprecated item</p>



<a name="237205124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237205124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237205124">(May 03 2021 at 18:18)</a>:</h4>
<p>because changing the meaning of the code on migration is bad</p>



<a name="237205181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237205181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237205181">(May 03 2021 at 18:18)</a>:</h4>
<p>Having a gap is one defense against accidentally using the old version instead of the new</p>



<a name="237205268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237205268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237205268">(May 03 2021 at 18:19)</a>:</h4>
<p>we would only re use a name for mostly compatible things. like the panic macro, which only has subtle changes irrelevant to most users.</p>



<a name="237205446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237205446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237205446">(May 03 2021 at 18:20)</a>:</h4>
<p>regardless, there isn't even a proposal for re-using names. we don't even have a mechanism for it that anyone would agree on.</p>



<a name="237205996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237205996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237205996">(May 03 2021 at 18:24)</a>:</h4>
<p>I'm thinking of situations more like microsoft's sedimentary layers of APIs. I don't think we have or will have any situation like that for a long while but certainly it is possible that we will want a very different API over the same names. For example imagine if the <code>Try</code> trait was stabilized and we were doing try v2 under those conditions</p>



<a name="237206227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237206227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237206227">(May 03 2021 at 18:25)</a>:</h4>
<p>then we wouldn't have a deprecated period. then the meaning of <code>Try</code> would change over an edition</p>



<a name="237206229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237206229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237206229">(May 03 2021 at 18:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237204389">said</a>:</p>
<blockquote>
<p>c, c++, python, ...</p>
</blockquote>
<p>C++ deprecated various things in C++11, and then deleted their definitions in C++17. whether or not someone defines "this thing is deprecated" to mean "this thing is discouraged" or "this thing will be removed eventually" is up for debate, but the latter definition ought not to surprise anyone. amusingly, the only reason this is a debate in the first place is because rust holds itself to a stricter backwards compatibility standard than other languages do. :P I'm happy to resubmit this RFC in 10 years to see if attitudes have changed by then.</p>



<a name="237206421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237206421" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237206421">(May 03 2021 at 18:27)</a>:</h4>
<p><span class="user-mention" data-user-id="256342">@bstrie</span> in C++ that simplifies the specification (which only covers the latest version) and new implementations that only implement the latest version. in Rust, this simplifies nothing. we don't have a latest-edition-only specification (we don't have any specification), and we only have a compiler and std lib that needs to support all editions anyway. (editions are not versions!)</p>



<a name="237206568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237206568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237206568">(May 03 2021 at 18:28)</a>:</h4>
<p>Rust 2021 is not a 'new version' of the language. it's just a small set of opt-in features that are unfortunately not backwards compatible.</p>



<a name="237206654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237206654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237206654">(May 03 2021 at 18:28)</a>:</h4>
<p>if you want to remove things and make the language smaller, you should be talking about removing things in e.g. Rust 1.70, not in Rust 2024</p>



<a name="237206801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237206801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237206801">(May 03 2021 at 18:29)</a>:</h4>
<p>I suppose the lack of a proper specification is part of the confusion here; like C++, I wouldn't expect the author of a Rust specification to document deprecated things, just as I wouldn't expect authors of different rust implementations to implement deprecated things.</p>



<a name="237206842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237206842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237206842">(May 03 2021 at 18:29)</a>:</h4>
<p>perfect, then deprecation is enough?</p>



<a name="237206969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237206969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237206969">(May 03 2021 at 18:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237206654">said</a>:</p>
<blockquote>
<p>if you want to remove things and make the language smaller, you should be talking about removing things in e.g. Rust 1.70, not in Rust 2024</p>
</blockquote>
<p>It's hard to justify blanket removing things in something called Rust 1.70, as opposed to something called Rust 2.0.</p>



<a name="237207026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207026">(May 03 2021 at 18:30)</a>:</h4>
<p>sure. that's why we don't remove them</p>



<a name="237207048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207048">(May 03 2021 at 18:30)</a>:</h4>
<p>right now the only way to remove anything is via an edition, so it shouldn't be surprising when people try to use editions for that purpose :P</p>



<a name="237207138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207138">(May 03 2021 at 18:31)</a>:</h4>
<p>no, that's not the only way, or even a way. there is no way to remove anything. editions <em>add</em> things</p>



<a name="237207226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207226">(May 03 2021 at 18:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237206801">said</a>:</p>
<blockquote>
<p>I suppose the lack of a proper specification is part of the confusion here; like C++, I wouldn't expect the author of a Rust specification to document deprecated things, just as I wouldn't expect authors of different rust implementations to implement deprecated things.</p>
</blockquote>
<p>if you don't consider deprecated items part of the language, then how does hiding them make the language smaller? didn't the language already get smaller the moment they were deprecated?</p>



<a name="237207234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207234">(May 03 2021 at 18:31)</a>:</h4>
<p>from the perspective of compiler implementors they add things. from the perspective of users, they remove things. but now we're just repeating ourselves.</p>



<a name="237207322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207322">(May 03 2021 at 18:32)</a>:</h4>
<p>but from the perspective of the users, they were already removed/deprecated..</p>



<a name="237207381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207381">(May 03 2021 at 18:32)</a>:</h4>
<p>WRT "didn't the language already get smaller the moment they were deprecated?", if the language is smaller, then can we remove them from the docs?</p>



<a name="237207402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207402">(May 03 2021 at 18:32)</a>:</h4>
<p>the only users that will see the difference, are those for which this is a change that causes them more work.</p>



<a name="237207590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207590">(May 03 2021 at 18:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237207381">said</a>:</p>
<blockquote>
<p>WRT "didn't the language already get smaller the moment they were deprecated?", if the language is smaller, then can we remove them from the docs?</p>
</blockquote>
<p>we can't remove their existence from the docs. but we can make their documentation shorter and simpler, and hide them under some fold or whatever. sure.</p>



<a name="237207899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207899">(May 03 2021 at 18:35)</a>:</h4>
<p>if your argument is that deprecated items should be less visible in rustdoc, editions don't seem relevant at all. that's just a rustdoc styling issue.</p>



<a name="237207944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237207944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237207944">(May 03 2021 at 18:35)</a>:</h4>
<p>if all this results in is a coherent policy regarding how deprecated items get treated in the docs, then I'll consider that a win. :P right now we have silly things like the deprecated <code>std::collections::Bound</code> being #[doc(hidden)], with no real policy as to when to apply this to other things</p>



<a name="237208000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237208000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237208000">(May 03 2021 at 18:36)</a>:</h4>
<p>so what does that have to do with editions?</p>



<a name="237208060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237208060" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237208060">(May 03 2021 at 18:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237200637">said</a>:</p>
<blockquote>
<p>not that it matters much, but I'd personally be opposed to any use of <code>...</code> due to its easy confusability with <code>..</code> (which is part of the reason it was deprecated in the first place)</p>
</blockquote>
<p>I think a critical part of this is whether the new use could even happen in places where <code>..</code> can show up.  I would also be opposed to <code>if let Foo(..) = x</code> and <code>if let Foo(...) = x</code> meaning different things, say.  But the <code>...</code> in nightly for <code>unsafe extern "C" fn add(n: usize, mut args: ...)</code> doesn't have that confusability problem, for example, since neither <code>..</code> nor <code>..=</code> are allowed there.</p>



<a name="237208203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237208203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237208203">(May 03 2021 at 18:37)</a>:</h4>
<p>because, to reiterate, editions are the only way we have to remove things, and I have repeatedly seen people ask whether editions get used to remove things from the stdlib. this is what people expect from other languages: deprecated things get removed. rust has the opportunity to do so. if rust chooses not to take it, that's fine, and having it documented that rust has chosen not to do so is useful.</p>



<a name="237208253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237208253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237208253">(May 03 2021 at 18:37)</a>:</h4>
<p>you keep saying 'remove things'. we cannot remove things. we can only hide things.</p>



<a name="237208398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237208398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237208398">(May 03 2021 at 18:38)</a>:</h4>
<p>i understand that in many code bases 'deprecated' means 'will be removed'. but we cannot remove things. editions do not change that.</p>



<a name="237208482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237208482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237208482">(May 03 2021 at 18:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237207944">said</a>:</p>
<blockquote>
<p>right now we have silly things like the deprecated <code>std::collections::Bound</code> being #[doc(hidden)], with no real policy as to when to apply this to other things</p>
</blockquote>
<p>that's an unrelated issue with <code>rustc_deprecated</code> being ineffective on re-exports.</p>



<a name="237209439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237209439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237209439">(May 03 2021 at 18:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237208253">said</a>:</p>
<blockquote>
<p>you keep saying 'remove things'. we cannot remove things. we can only hide things.</p>
</blockquote>
<p>this doesn't strike me as how users experience the language.</p>
<ol>
<li>a greenfield project makes a new repo with <code>cargo new</code>. they get the newest edition by default, and are restricted to only things that compile in the newest edition. nobody considers downgrading their greenfield project to an older edition.</li>
<li>an established project considers whether to upgrade to a new edition. if all they want is shiny new things, then they don't need to upgrade; new things mostly Just Work on all editions by default. the only reason they have to upgrade is if they want to be able to do <em>fewer</em> things; editions are used to tell code what it <em>can't</em> do. this makes the language smaller. from their subjective perspective, things are removed.</li>
</ol>



<a name="237209506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237209506" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237209506">(May 03 2021 at 18:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237208253">said</a>:</p>
<blockquote>
<p>you keep saying 'remove things'. we cannot remove things. we can only hide things.</p>
</blockquote>
<p>Setting aside the implementation difficulties and potential impact/breakage concerns, here is what "removal" could look like in Rust: APIs are added and removed over time, and every three years we snapshot the state of the API. On edition N you see the API as it existed at that time. APIs from the future or past are unnameable.</p>
<p>It is of course possible to soften the blow here by providing alternate paths to old things or making new things available on old editions despite the anachronism when feasible.</p>



<a name="237209604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237209604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237209604">(May 03 2021 at 18:46)</a>:</h4>
<p>so <em>what exactly</em> is it that you think this proposal would simplify? you already said that a hypothetical specification or alternative implementation would not include deprecated items anyway, so those aren't simplified. rustc/std itself gets more complicated. the only thing that could be simplified is the documentation. but we still want to document old stuff regardless, so it's just a matter of styling deprecated items in a less visible way, which has nothing to do with editions.</p>



<a name="237209700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237209700" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237209700">(May 03 2021 at 18:47)</a>:</h4>
<blockquote>
<p>nobody considers downgrading their greenfield project to an older edition.</p>
</blockquote>
<p>just like nobody considers using deprecated items in a new project. what difference does your proposal make here?</p>



<a name="237209739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237209739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237209739">(May 03 2021 at 18:47)</a>:</h4>
<p>The documentation may also exist the same way as documentation for old versions of a crate</p>



<a name="237209786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237209786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237209786">(May 03 2021 at 18:47)</a>:</h4>
<blockquote>
<p>if all they want is shiny new things, then they don't need to upgrade</p>
</blockquote>
<p>that's not true at all. see also <code>async</code> etc.</p>



<a name="237209972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237209972" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237209972">(May 03 2021 at 18:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237209604">said</a>:</p>
<blockquote>
<p>you already said that a hypothetical specification or alternative implementation would not include deprecated items anyway</p>
</blockquote>
<p>I already said it, but I'm hardly an authority. do the people in charge agree with this? it's regrettable that currently we must conflate editions and versions and specifications, but I haven't seen any more authoritative source attempting to disentangle them.</p>



<a name="237210003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237210003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237210003">(May 03 2021 at 18:49)</a>:</h4>
<p>I think the rust spec has to include all editions, BTW. Compiling rust code requires simultaneously handling all editions</p>



<a name="237210009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237210009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237210009">(May 03 2021 at 18:49)</a>:</h4>
<p>people in charge of what?</p>



<a name="237210098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237210098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237210098">(May 03 2021 at 18:50)</a>:</h4>
<p>Alternative implementations might be able to get away with only partial support for old editions</p>



<a name="237210244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237210244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237210244">(May 03 2021 at 18:51)</a>:</h4>
<blockquote>
<p>people in charge of what?</p>
</blockquote>
<p>precisely. :) the future language "specification" is something that gets vaguely alluded to, and I would expect it to fall under the purview of the lang team and libs team, but until someone takes charge it's natural to expect that Rust 2021 is seen as analogous to C++20.</p>



<a name="237210286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237210286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237210286">(May 03 2021 at 18:51)</a>:</h4>
<p>editions are nothing like C++ standard versions</p>



<a name="237210408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237210408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237210408">(May 03 2021 at 18:52)</a>:</h4>
<p>they seem pretty similar to me and probably many others</p>



<a name="237210490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237210490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237210490">(May 03 2021 at 18:53)</a>:</h4>
<p>they are completely different things</p>



<a name="237210588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237210588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237210588">(May 03 2021 at 18:54)</a>:</h4>
<p>the naming of "Rust 2021", the three-year cadence, and the natural tendency to (rightfully) compare Rust with C++ means it is natural to assume so. if the core team wants to dispel that analogy, then they should do so explicitly.</p>



<a name="237211028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237211028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237211028">(May 03 2021 at 18:57)</a>:</h4>
<p>in any case, I did not expect this discussion to become so heated. :) I don't mind if the RFC is rejected, I just wanted there to have ever been a discussion about it. as mentioned, I'm already looking at improvements to rustdoc to hopefully soothe these issues in the future.</p>



<a name="237211047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237211047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237211047">(May 03 2021 at 18:57)</a>:</h4>
<p>because another language does something every three years as well, they're the same? :S  anyway, the upcoming blog post also explains that editions are not versions, once again</p>



<a name="237211074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237211074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237211074">(May 03 2021 at 18:57)</a>:</h4>
<p>That does seem natural to assume, but it is a very different phenomenon with Rust. Rust is intended to allow old editions to compile and even have code written in new editions interface with prior editions of code. C++ versions are "compiler-level" modes. Rust's editions are crate-level.</p>



<a name="237211213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237211213" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tavian Barnes <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237211213">(May 03 2021 at 18:58)</a>:</h4>
<p>People do link code compiled with different C++ standard versions together in practice</p>



<a name="237211373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237211373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237211373">(May 03 2021 at 18:59)</a>:</h4>
<p>Yes, and in practice the way it works between C++ standard versions has recently led to a <em>huge</em> kerfluffle about that precise thing, because it unnecessarily ties what should be implementation details of those versions more closely together.</p>



<a name="237211437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237211437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237211437">(May 03 2021 at 18:59)</a>:</h4>
<p>aren't editions just cargo metadata that translates to a rustc compiler flag?</p>



<a name="237211723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237211723" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237211723">(May 03 2021 at 19:01)</a>:</h4>
<p>the main difference seems to be that rust has better support for avoiding conflicts in different versions of the standard library</p>



<a name="237211780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237211780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237211780">(May 03 2021 at 19:01)</a>:</h4>
<p>there are no different versions of the standard library. there is <em>one</em> standard library, which is currently compiled with <code>--edition=2018</code>, which you can use from any edition.</p>



<a name="237211950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237211950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237211950">(May 03 2021 at 19:03)</a>:</h4>
<p>It's basically just a big fat crate, innit</p>



<a name="237212472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237212472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237212472">(May 03 2021 at 19:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237210098">said</a>:</p>
<blockquote>
<p>Alternative implementations might be able to get away with only partial support for old editions</p>
</blockquote>
<p>Implementations of languages that aren't Rust might be able to get away with that. The Rust language includes support for old editions.</p>



<a name="237212992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237212992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237212992">(May 03 2021 at 19:10)</a>:</h4>
<p>FWIW, while I posted an opinion regarding this earlier, given the very strong sentiments expressed against the idea of making deprecations in std into hard errors in a newer edition, I'd like to withdraw that support. This isn't something I'm inclined to push for, only something I was favorable towards.</p>



<a name="237213146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213146">(May 03 2021 at 19:12)</a>:</h4>
<p>I do care about trying to manage complexity across decades and dozens of editions, but if people feel like this isn't a net improvement in complexity, that's fine.</p>



<a name="237213168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213168">(May 03 2021 at 19:12)</a>:</h4>
<p>I feel like if I'm writing an implementation of Rust, say, today, I should be allowed to support Rust 2021 (or more likely I'm targeting Rust 2024 since I probably won't 1.0 my own compiler before then, ha) and not Rust 2015 and Rust 2018.</p>



<a name="237213233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213233">(May 03 2021 at 19:13)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> Then your compiler won't support compiling the whole <a href="http://crates.io">crates.io</a> ecosystem. There are crates people use today that still use the 2015 edition.</p>



<a name="237213262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213262">(May 03 2021 at 19:13)</a>:</h4>
<p>I haven't read the entire backscroll so I might be missing something but from my skim I generally agree with the sentiment that there isn't much value to making some deprecated API's uncallable in new editions. The main issue here seems to be the docs becoming difficult to navigate as more deprecated items get added, so my preference would be to set aside the proposal about hard deprecating APIs and focus instead on the docs improvements that have already been proposed, then re-evaluate once those fixes are in place to see which ways deprecated APIs are still a problem.</p>



<a name="237213295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213295">(May 03 2021 at 19:13)</a>:</h4>
<p>I think that would be something I'd be prepared to accept, yeah.</p>



<a name="237213347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213347">(May 03 2021 at 19:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281757">Jubilee</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237213295">said</a>:</p>
<blockquote>
<p>I think that would be something I'd be prepared to accept, yeah.</p>
</blockquote>
<p>That's absolutely your choice, but I don't think the result is a Rust compiler; it's a compiler for a subset of Rust.</p>



<a name="237213454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213454">(May 03 2021 at 19:14)</a>:</h4>
<p>(This is a non-academic distinction; there's a very real danger of not-quite-compatible Rust implementations cropping up.)</p>



<a name="237213465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213465">(May 03 2021 at 19:14)</a>:</h4>
<p>(It's also off-topic for this thread, I think.)</p>



<a name="237213485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213485">(May 03 2021 at 19:14)</a>:</h4>
<p>Are you really a C compiler if you can't compile whatever syntax was used in 1970 that was unsupported and never standardized. :^)</p>



<a name="237213497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213497">(May 03 2021 at 19:15)</a>:</h4>
<p>until there exists a rust specification this is sort of an academic discussion; no alternative implementation has any reasonable chance of being 100% compatible with rustc anyway</p>



<a name="237213558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213558">(May 03 2021 at 19:15)</a>:</h4>
<p>you probably wouldn't be allowed to call your implementation 'Rust' anyway. right now there's no definition of the language itself that one can conform to to be allowed to use the trademark.</p>



<a name="237213584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213584">(May 03 2021 at 19:15)</a>:</h4>
<p>True~</p>



<a name="237213706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213706">(May 03 2021 at 19:16)</a>:</h4>
<p><span class="user-mention" data-user-id="310399">@Mara</span> I could live with "if you pass 100% of the rustc testsuite" as the bar to set there. :)</p>



<a name="237213748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213748">(May 03 2021 at 19:16)</a>:</h4>
<p>sure. but that's up to the foundation to define ;)  (they now own the trademark, i believe)</p>



<a name="237213787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213787">(May 03 2021 at 19:17)</a>:</h4>
<p>watch out for the remarkably Rust-like "Jubilee" language in 2024, folks. :^)</p>



<a name="237213800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213800">(May 03 2021 at 19:17)</a>:</h4>
<p>(and passing those tests would require an awful lot of unstable things and exact diagnostic messages)</p>



<a name="237213827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213827">(May 03 2021 at 19:17)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> nice! looking forward to it :D</p>



<a name="237213846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Urgau <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213846">(May 03 2021 at 19:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281757">Jubilee</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237213295">said</a>:</p>
<blockquote>
<p>I think that would be something I'd be prepared to accept, yeah.</p>
</blockquote>
<p><code>std</code>, <code>core</code> and every other crate works exactly the same for every one including the one shipping with the compiler. So if you remove one function it will be removed from every <code>editions</code> because editions doesn't handle that.</p>



<a name="237213891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237213891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237213891">(May 03 2021 at 19:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237213748">said</a>:</p>
<blockquote>
<p>sure. but that's up to the foundation to define ;)  (they now own the trademark, i believe)</p>
</blockquote>
<p>Sure. I think that's a conversation that we should have, in the not too distant future, since there are real efforts trying to build compilers for languages that people will try to call "Rust".</p>



<a name="237214575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237214575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237214575">(May 03 2021 at 19:23)</a>:</h4>
<p>I kind of expect that will start with a more weaselly "Rust compatible" sort of label<br>
(but I'm not making any sort of official foundation statement here)</p>



<a name="237214688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237214688" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237214688">(May 03 2021 at 19:24)</a>:</h4>
<p>Watch out for the <del>Jubilee</del> Weaselwords language in 2024!</p>



<a name="237214792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237214792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237214792">(May 03 2021 at 19:25)</a>:</h4>
<p>oh! a board member said it! <em>puts a screenshot on reddit and links it on hacker news</em></p>



<a name="237214949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237214949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237214949">(May 03 2021 at 19:26)</a>:</h4>
<p>(seriously) I don't think any alternative implementations have any chance of getting anywhere without supporting all editions and the differences between them. old code lingers in the ecosystem regardless of our wishful thinking</p>



<a name="237214977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237214977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237214977">(May 03 2021 at 19:26)</a>:</h4>
<p>I'm sure someday that will happen to me, but let's not start yet...</p>



<a name="237215000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215000">(May 03 2021 at 19:26)</a>:</h4>
<p>what I like best about the Weaselwords language is that it is only capable of compiling programs that are bit-for-bit identical with programs in the Rust test suite</p>



<a name="237215179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215179">(May 03 2021 at 19:27)</a>:</h4>
<p>(less seriously / more musing-out-loud) I would love to be part of a concerted effort to build up something that could be considered a "(formal) model" of something one might call the Rust language, as a specification stronger than just mere words on paper - but I doubt that will happen in a way that would allow me to participate, whether it doesn't happen, or it's going to be a crack team of academics (like the wonderful RustBelt effort) etc.</p>



<a name="237215313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215313">(May 03 2021 at 19:28)</a>:</h4>
<p><em>however</em> I don't think using the idea of a specification as a rhetorical cudgel has any place</p>



<a name="237215325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215325">(May 03 2021 at 19:28)</a>:</h4>
<p>if it will exist, it won't magically make the past go away</p>



<a name="237215343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215343">(May 03 2021 at 19:28)</a>:</h4>
<p>or clean up our mistakes</p>



<a name="237215542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215542">(May 03 2021 at 19:30)</a>:</h4>
<p>(jokingly / parody / unactionable) then again, a Rust 2.0 <em>could</em> do all that!</p>



<a name="237215608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215608">(May 03 2021 at 19:30)</a>:</h4>
<p>i'm <em>so</em> looking forward to rust 3.0</p>



<a name="237215609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215609">(May 03 2021 at 19:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237214977">said</a>:</p>
<blockquote>
<p>I'm sure someday that will happen to me, but let's not start yet...</p>
</blockquote>
<p>fingers crossed we can avoid this</p>



<a name="237215745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215745">(May 03 2021 at 19:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310399">Mara</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237215608">said</a>:</p>
<blockquote>
<p>i'm <em>so</em> looking forward to rust 3.0</p>
</blockquote>
<p>I call dibs on breaking changes to the error trait!</p>



<a name="237215817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215817">(May 03 2021 at 19:32)</a>:</h4>
<p>can we throw out rustdoc and rewrite it from scratch? <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="237215848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215848">(May 03 2021 at 19:32)</a>:</h4>
<p>You can do that now if you don't break any interfaces heyoo</p>



<a name="237215915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215915">(May 03 2021 at 19:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281757">Jubilee</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237215848">said</a>:</p>
<blockquote>
<p>You can do that now if you don't break any interfaces heyoo</p>
</blockquote>
<p>well, that would be easier if I knew what the interfaces <em>were</em></p>



<a name="237215932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215932" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215932">(May 03 2021 at 19:33)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/75100">https://github.com/rust-lang/rust/issues/75100</a></p>



<a name="237215957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237215957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237215957">(May 03 2021 at 19:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119009">eddyb</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237215313">said</a>:</p>
<blockquote>
<p><em>however</em> I don't think using the idea of a specification as a rhetorical cudgel has any place</p>
</blockquote>
<p>This. Thank you.</p>



<a name="237216160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216160">(May 03 2021 at 19:34)</a>:</h4>
<p>And conversely, while I do think a specification is important, there's a lot of painful rhetoric going around right now that basically implies "you're not a real language unless you have a spec and more than one implementation".</p>



<a name="237216267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216267">(May 03 2021 at 19:35)</a>:</h4>
<p>I think a spec has a lot of value, but I never want to get to the point where we don't consider the possibility that if the spec and compiler differ <em>either one</em> might be wrong. The spec might have helped us detect a bug in the compiler, or conversely the spec might be wrong and needs fixing to match the compiler. Some people spreading rhetoric about specs think that we're always going to treat the spec as the source of truth and the compiler as what must be buggy if they differ.</p>



<a name="237216350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216350">(May 03 2021 at 19:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119009">eddyb</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237215179">said</a>:</p>
<blockquote>
<p>(less seriously / more musing-out-loud) I would love to be part of a concerted effort to build up something that could be considered a "(formal) model" of something one might call the Rust language, as a specification stronger than just mere words on paper - but I doubt that will happen in a way that would allow me to participate, whether it doesn't happen, or it's going to be a crack team of academics (like the wonderful RustBelt effort) etc.</p>
</blockquote>
<p>Why is there no working group for this yet? I want to sign up for it. But also, I think that we need to get past the blockers, not by unblocking them but by documenting what exists</p>



<a name="237216440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216440">(May 03 2021 at 19:36)</a>:</h4>
<p>I was part of wg-grammar and that stagnated. and that's <em>basically</em> a subset of a specification</p>



<a name="237216445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216445" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216445">(May 03 2021 at 19:36)</a>:</h4>
<p>I view it kind of like the "Linux only compiles with GCC" thing.<br>
It's fine if there's a C compiler that supports an extension of the language and many people write against that extension.</p>



<a name="237216538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216538">(May 03 2021 at 19:37)</a>:</h4>
<p>I think we should just document what rustc does in specification style</p>



<a name="237216541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216541">(May 03 2021 at 19:37)</a>:</h4>
<p>That causes Many Headaches, sure, but I don't think a compiler is wrong to experiment with an extension to a language.</p>



<a name="237216554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216554">(May 03 2021 at 19:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281757">Jubilee</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237216445">said</a>:</p>
<blockquote>
<p>I view it kind of like the "Linux only compiles with GCC" thing.<br>
It's fine if there's a C compiler that supports an extension of the language and many people write against that extension.</p>
</blockquote>
<p>That's fine until the "extension" is by something other than rustc, and people start writing to that compiler and expecting rustc to match that compiler's behavior.</p>



<a name="237216556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216556">(May 03 2021 at 19:37)</a>:</h4>
<p>my own troubles with dragging wg-grammar down to a halt is why I say I doubt I would be able to participate</p>



<a name="237216568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216568">(May 03 2021 at 19:37)</a>:</h4>
<p>"just" is a very mighty word.</p>



<a name="237216587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216587">(May 03 2021 at 19:37)</a>:</h4>
<p>Doing a lot of work there.</p>



<a name="237216612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216612" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216612">(May 03 2021 at 19:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237216538">said</a>:</p>
<blockquote>
<p>I think we should just document what rustc does in specification style</p>
</blockquote>
<p>usually this involves finding a lot of bugs <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="237216624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216624" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216624">(May 03 2021 at 19:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281757">Jubilee</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237216541">said</a>:</p>
<blockquote>
<p>That causes Many Headaches, sure, but I don't think a compiler is wrong to experiment with an extension to a language.</p>
</blockquote>
<p>I'd agree with that, as long as there's <em>zero</em> expectation that we're obligated to match the behavior of that extension.</p>



<a name="237216766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216766">(May 03 2021 at 19:38)</a>:</h4>
<p>If the (spec) bugs are enumerated and documented then it's a lot easier to do something about them</p>



<a name="237216776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216776">(May 03 2021 at 19:38)</a>:</h4>
<p>Yeah I think that is why Rust editions are good because essentially a Rust edition, imo, defines an extension of the notional language.</p>



<a name="237216777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216777" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216777">(May 03 2021 at 19:38)</a>:</h4>
<p>Along the same lines that rustc experiments with things in nightly, but we don't hesitate to fix bugs in the behavior of nightly-only extensions even if doing so breaks code written to nightly.</p>



<a name="237216815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216815">(May 03 2021 at 19:38)</a>:</h4>
<p>or a subtraction, even?</p>



<a name="237216819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216819">(May 03 2021 at 19:39)</a>:</h4>
<p>A variation.</p>



<a name="237216926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237216926" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237216926">(May 03 2021 at 19:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237216160">said</a>:</p>
<blockquote>
<p>And conversely, while I do think a specification is important, there's a lot of painful rhetoric going around right now that basically implies "you're not a real language unless you have a spec and more than one implementation".</p>
</blockquote>
<p>As for the "more than one implementation" bit, I think that was <em>critically</em> important back when language implementations were proprietary. I think it's much less important when there's a publicly available Open Source implementation of the language.</p>



<a name="237217004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217004">(May 03 2021 at 19:40)</a>:</h4>
<p>I think writing an implementation will be much much easier if there is a spec</p>



<a name="237217006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217006">(May 03 2021 at 19:40)</a>:</h4>
<p>oh god yes. All the C compilers in the 90s were proprietary.</p>



<a name="237217007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217007">(May 03 2021 at 19:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119009">eddyb</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237216556">said</a>:</p>
<blockquote>
<p>my own troubles with dragging wg-grammar down to a halt is why I say I doubt I would be able to participate</p>
</blockquote>
<p>I have far more ideas (realistic or not) than time and/or funding for specific stuff like this. and <em>even if</em> there were resources allocated, I can't guarantee progress on specific areas, so it's hard to figure out how to plan it out ahead of time<br>
I don't like talking too much about it in spaces too public but this discussion reminded me of it (btw you should consider forking the thread Zulip-wise, since it kinda derailed more than once)</p>



<a name="237217108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217108">(May 03 2021 at 19:41)</a>:</h4>
<p>it sounds like there's demand for a #specification zulip stream :)</p>



<a name="237217133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217133">(May 03 2021 at 19:41)</a>:</h4>
<p>A D rail? is that a D language feature?</p>



<a name="237217159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217159" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217159">(May 03 2021 at 19:41)</a>:</h4>
<p><span class="user-mention" data-user-id="271719">@Mario Carneiro</span> so to answer your question more directly: there is significantly more enthusiasm about having a specification than the necessary resources and planning to ensure that it happens</p>



<a name="237217173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217173" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217173">(May 03 2021 at 19:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237217108">said</a>:</p>
<blockquote>
<p>it sounds like there's demand for a #specification zulip stream :)</p>
</blockquote>
<p>I think, <em>before</em> such a thing happens, we should have a proposal and charter by lang and libs, for what exactly a spec should try to achieve.</p>



<a name="237217279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217279">(May 03 2021 at 19:42)</a>:</h4>
<p>and I'm sure y'all could help but until this can get organized every separate effort will go for a while then die out, and we'll all be a bit sadder</p>



<a name="237217346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217346">(May 03 2021 at 19:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237217173">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237217108">said</a>:</p>
<blockquote>
<p>it sounds like there's demand for a #specification zulip stream :)</p>
</blockquote>
<p>I think, <em>before</em> such a thing happens, we should have a proposal and charter by lang and libs, for what exactly a spec should try to achieve.</p>
</blockquote>
<p>If too much pressure is put on the spec to be normative, then it will definitely stall</p>



<a name="237217359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217359">(May 03 2021 at 19:43)</a>:</h4>
<p>Yeah, having an accepted proposal/charter for a team is why Portable SIMD's little speed-gremlin shop is operational at all.</p>



<a name="237217376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217376">(May 03 2021 at 19:43)</a>:</h4>
<p>As an aside, it's both amusing and useful that Zulip's emoji-reaction search has <code>this</code> as an alias of <code>point_up</code>.</p>



<a name="237217481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217481">(May 03 2021 at 19:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237217346">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237217173">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs/near/237217108">said</a>:</p>
<blockquote>
<p>it sounds like there's demand for a #specification zulip stream :)</p>
</blockquote>
<p>I think, <em>before</em> such a thing happens, we should have a proposal and charter by lang and libs, for what exactly a spec should try to achieve.</p>
</blockquote>
<p>If too much pressure is put on the spec to be normative, then it will definitely stall</p>
</blockquote>
<p>If a spec is published, people will <em>expect</em> it to be normative. If we're not prepared to treat it as at least partially normative, we shouldn't do it.</p>



<a name="237217517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217517">(May 03 2021 at 19:44)</a>:</h4>
<p>(Or, at least, that's something a charter should talk about.)</p>



<a name="237217538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217538">(May 03 2021 at 19:44)</a>:</h4>
<p>But anyways, from <em>my</em> view, I think an edition is close to the same thing as a nightly feature. But then, I'm known to be strange. :^)</p>



<a name="237217581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217581">(May 03 2021 at 19:45)</a>:</h4>
<p>(A charter would also need to talk about the difference between "normative" and "hammer to hit people with", and make sure people know a spec should never be the latter.)</p>



<a name="237217799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217799">(May 03 2021 at 19:46)</a>:</h4>
<blockquote>
<p>If a spec is published, people will expect it to be normative. If we're not prepared to treat it as at least partially normative, we shouldn't do it.</p>
</blockquote>
<p>UCG seems to be in the worst of both worlds here since it is not normative but it is close enough that things are added only with extreme hesitation</p>



<a name="237217928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/237217928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#237217928">(May 03 2021 at 19:47)</a>:</h4>
<p>having a spec doesn't mean you can't also have a reference implementation; all you need is for the spec to say "if there is a discrepancy between this document and the reference implementation, then that may indicate a bug in either this document or the reference implementation." self-reference to the rescue :)</p>



<a name="238009712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/238009712" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isHavvy <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#238009712">(May 09 2021 at 05:12)</a>:</h4>
<p>Arguably you can make certain paths inaccessible on certain editions via non-raw identifier path components and then allow access to them via something like <code>Arc::r2015#swap_and_compare</code>.</p>



<a name="238009809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/238009809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isHavvy <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#238009809">(May 09 2021 at 05:14)</a>:</h4>
<p>Then Rustfix could switch to using those raw path components for those who are still using them where there's no better replacement.</p>



<a name="238009896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/denying%20edition%202015%20deprecated%20APIs/near/238009896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isHavvy <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/denying.20edition.202015.20deprecated.20APIs.html#238009896">(May 09 2021 at 05:16)</a>:</h4>
<p>Although, IMO, the deprecation problem is not large enough to warrant spending time on it during the 2021 edition.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>