<html>
<head><meta charset="utf-8"><title>cargo 2021 fix and opt-in · edition 2021 · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/index.html">edition 2021</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/cargo.202021.20fix.20and.20opt-in.html">cargo 2021 fix and opt-in</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="226770178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/cargo%202021%20fix%20and%20opt-in/near/226770178" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/cargo.202021.20fix.20and.20opt-in.html#226770178">(Feb 18 2021 at 06:24)</a>:</h4>
<p>I have posted <a href="https://github.com/rust-lang/cargo/pull/9184">https://github.com/rust-lang/cargo/pull/9184</a> for feedback. Please feel free to comment. This is intended to make it easier to experiment during the next few months until 2021 is stabilized on nightly.</p>



<a name="226990799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/cargo%202021%20fix%20and%20opt-in/near/226990799" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/cargo.202021.20fix.20and.20opt-in.html#226990799">(Feb 19 2021 at 16:39)</a>:</h4>
<p>/me looks</p>



<a name="227339282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/cargo%202021%20fix%20and%20opt-in/near/227339282" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/cargo.202021.20fix.20and.20opt-in.html#227339282">(Feb 22 2021 at 21:21)</a>:</h4>
<p>Just checking if anyone has any response (positive/neutral/negative) for this PR (<a href="https://github.com/rust-lang/cargo/pull/9184">#9184</a>).  Otherwise, I'd like to move forward with it.</p>
<p>In short, it makes it a little easier to test 2021 while it is unstable by adding <code>cargo-features = ["edition2021"]</code> at the top of <code>Cargo.toml</code>.   It also makes it so <code>cargo fix --edition</code> migrates to the <em>next</em> edition, so if we end up with any 2021 changes, they can be more easily tested on real projects.  I also added some more output to the <code>cargo fix</code> process to make it clearer what it is doing.</p>



<a name="227340236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/cargo%202021%20fix%20and%20opt-in/near/227340236" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/cargo.202021.20fix.20and.20opt-in.html#227340236">(Feb 22 2021 at 21:28)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> it looks good to me</p>



<a name="227340245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/cargo%202021%20fix%20and%20opt-in/near/227340245" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/cargo.202021.20fix.20and.20opt-in.html#227340245">(Feb 22 2021 at 21:28)</a>:</h4>
<p>cargo-features I assume requires nightly?</p>



<a name="227340258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/cargo%202021%20fix%20and%20opt-in/near/227340258" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/cargo.202021.20fix.20and.20opt-in.html#227340258">(Feb 22 2021 at 21:28)</a>:</h4>
<p>yep!</p>



<a name="230888421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/cargo%202021%20fix%20and%20opt-in/near/230888421" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/cargo.202021.20fix.20and.20opt-in.html#230888421">(Mar 18 2021 at 15:54)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> with <a href="https://github.com/rust-lang/cargo/pull/9268">https://github.com/rust-lang/cargo/pull/9268</a> merged is there anything besides documentation in the edition guide that needs to be done for the new resolver in edition 2021?</p>



<a name="230894959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/cargo%202021%20fix%20and%20opt-in/near/230894959" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/cargo.202021.20fix.20and.20opt-in.html#230894959">(Mar 18 2021 at 16:22)</a>:</h4>
<p>I think that is it.  </p>
<p>Sometime in the next few months it would be good to start having some bigger projects test the <code>cargo fix --edition</code> transition, once all the 2021 changes have landed.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>