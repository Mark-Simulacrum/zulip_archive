<html>
<head><meta charset="utf-8"><title>smoke testing 2021 · edition 2021 · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/index.html">edition 2021</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html">smoke testing 2021</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="235709013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235709013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235709013">(Apr 22 2021 at 16:39)</a>:</h4>
<p>Does anyone remember if there were any CI tests during the run-up for 2018 that tested real projects? I was curious if people think it would be useful to have some sort of smoke test for 2021 (that could quickly catch issues like <a href="https://github.com/rust-lang/rust/issues/84429">#84429</a>)?</p>
<p>I'm not sure where that would fit in the CI budget, or how fussy it would be.  Small/medium-sized projects like Cargo can be built and tested relatively quickly, but I'm uncertain about what would be good candidates, or how much value it would have.</p>



<a name="235721810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235721810" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235721810">(Apr 22 2021 at 18:01)</a>:</h4>
<p>I don't think we did anything automated, though we did run e.g. crater and test migration, I <em>think</em> -- memory is a bit hazy</p>



<a name="235721827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235721827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235721827">(Apr 22 2021 at 18:01)</a>:</h4>
<p>it should be possible to do that again</p>



<a name="235721846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235721846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235721846">(Apr 22 2021 at 18:01)</a>:</h4>
<p>(with some work)</p>



<a name="235722537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235722537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235722537">(Apr 22 2021 at 18:05)</a>:</h4>
<p>If I get a chance, I can maybe set up a custom script to migrate all the crates in the <code>cargotest</code> suite, and run it as a daily cron job and see how it goes.  I don't expect much breakage moving forward, but if it catches more problems we can maybe look at doing something in CI.</p>



<a name="235726888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235726888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235726888">(Apr 22 2021 at 18:35)</a>:</h4>
<p>along the same lines, we could start converting <code>compiler/</code> crates, at least to the extent bootstrap allows</p>



<a name="235844746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235844746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235844746">(Apr 23 2021 at 14:00)</a>:</h4>
<p>we've been expecting to do a crater run w/ migrations</p>



<a name="235844768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235844768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235844768">(Apr 23 2021 at 14:00)</a>:</h4>
<p>and I'm pretty sure we did that last time, too</p>



<a name="235844858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235844858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235844858">(Apr 23 2021 at 14:00)</a>:</h4>
<p>the plan was to target that after the "may 1st milestone"</p>



<a name="235844899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235844899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235844899">(Apr 23 2021 at 14:00)</a>:</h4>
<p>since that's the point where most of the migration code should be in place and ready to go</p>



<a name="235883349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235883349" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235883349">(Apr 23 2021 at 18:00)</a>:</h4>
<p>I've a vague action item to enable 2021 in the playground. It's not <em>super</em> useful for this point as it (a) wouldn't be on by default and (b) only be run against whatever code people put in.</p>



<a name="235959957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/smoke%20testing%202021/near/235959957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/268952-edition-2021/topic/smoke.20testing.202021.html#235959957">(Apr 24 2021 at 10:27)</a>:</h4>
<p>still seems like a good idea</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>