<html>
<head><meta charset="utf-8"><title>The Weekly Edition of the Edition Updates, Edition #​7 · edition 2021 · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/index.html">edition 2021</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html">The Weekly Edition of the Edition Updates, Edition #​7</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="237151790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237151790" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237151790">(May 03 2021 at 12:15)</a>:</h4>
<p>Status updates! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>
<p>The full list of 2021 edition changes is complete! See <a href="https://github.com/rust-lang/blog.rust-lang.org/pull/825">the draft blog post</a> for an overview.</p>
<p>Next steps are: 1. implementing these changes, 2. implementing all related migration lints, 3. documentation</p>
<p>1 and 2 are already done for most of the features. (Thanks!) These are still open:</p>
<ul>
<li>Prelude changes: <code>prelude::rust_2021</code> <a href="https://github.com/rust-lang/rust/pull/82217">already exists</a> and works, just <a href="https://github.com/rust-lang/rfcs/pull/3114#issuecomment-828345093">waiting for libs FCP</a> to add the three traits to it. Migration plan is available, but implementation of this lint has not yet started.</li>
<li>Upgraded lints: <a href="https://github.com/rust-lang/rust/pull/83213">PR</a> waiting to be merged.</li>
<li>Disjoint captures: I believe this is nearing completion (both implementation and migration lint). (cc <span class="user-mention" data-user-id="281950">@Aman Arora</span>) Draft blog post about the feature <a href="https://hackmd.io/g0odgclDSaODOvBSZntltg">here</a>.</li>
<li>Reserved prefixed tokens: FCP complete. Implementation and migration lint still need to be done.</li>
<li>IntoIter for arrays: Implementation and basic lint availalbe, but <a href="https://github.com/rust-lang/rust/issues/84513">lots of small improvements</a> to the lint and documentation can still be made.</li>
</ul>
<p>As for documentation: We first need to <a href="https://github.com/rust-lang/rust/issues/82940">prepare the edition guide for Rust 2021</a>, to make space for the new documentation. Once that's done, we'll make sure every edition change gets its own page.</p>
<p>This means we're still on schedule, heading towards releasing a feature-complete 2021 edition in a few months! Thanks everyone! <span aria-label="yellow heart" class="emoji emoji-1f49b" role="img" title="yellow heart">:yellow_heart:</span></p>



<a name="237153911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237153911" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237153911">(May 03 2021 at 12:36)</a>:</h4>
<p>Oh, and we now have a <a href="https://github.com/orgs/rust-lang/projects/7">project board</a> for the edition, to track all the open tasks.</p>



<a name="237171303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237171303" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237171303">(May 03 2021 at 14:44)</a>:</h4>
<p>Thanks for the weekly updates <span class="user-mention" data-user-id="310399">@Mara</span> , they are useful!</p>
<p>I had a question about or-patterns, will there be a migration lint for macro_rules?  I didn't see that in the project board.</p>



<a name="237171407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237171407" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237171407">(May 03 2021 at 14:44)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> i think there already is. let me check.</p>



<a name="237171766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237171766" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237171766">(May 03 2021 at 14:46)</a>:</h4>
<p>Hm, I think we had discussed not having one, as in the vast majority of cases you don't want to change anything - but I'm not sure.</p>



<a name="237171954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237171954" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237171954">(May 03 2021 at 14:48)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> <a href="https://github.com/rust-lang/rust/pull/83468">https://github.com/rust-lang/rust/pull/83468</a></p>



<a name="237172447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237172447" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237172447">(May 03 2021 at 14:50)</a>:</h4>
<p>ah ok, looks like only for the pat followed by | case</p>



<a name="237172451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237172451" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237172451">(May 03 2021 at 14:50)</a>:</h4>
<p>great</p>



<a name="237172583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237172583" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237172583">(May 03 2021 at 14:51)</a>:</h4>
<p>yes. we could probably update that <code>" may affect this macro"</code> text to something stronger. it should really only trigger on macros that <em>will</em> break.</p>



<a name="237173152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237173152" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237173152">(May 03 2021 at 14:55)</a>:</h4>
<p>Oh, I saw that but forgot about it.</p>
<p>It looks like the lint definition is missing the edition setting.  It doesn't turn on for <code>rust-2021-compatibility</code>.  Was that intended?</p>



<a name="237173360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237173360" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237173360">(May 03 2021 at 14:56)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="116009">@nikomatsakis</span> who reviewed that PR ^</p>



<a name="237173480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237173480" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237173480">(May 03 2021 at 14:57)</a>:</h4>
<p>I am not sure :)</p>



<a name="237173507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237173507" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237173507">(May 03 2021 at 14:57)</a>:</h4>
<p>I think that is a good example of a lint that is only needed when migrating</p>



<a name="237173572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237173572" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237173572">(May 03 2021 at 14:58)</a>:</h4>
<p>although...I personally might like to see all code using <code>pat_param</code> regardless of edition</p>



<a name="237173589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237173589" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237173589">(May 03 2021 at 14:58)</a>:</h4>
<p>for less confusion</p>



<a name="237173606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237173606" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237173606">(May 03 2021 at 14:58)</a>:</h4>
<p>regardless, it should be tied to the edition</p>



<a name="237173676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237173676" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237173676">(May 03 2021 at 14:58)</a>:</h4>
<p>I remember us going a bit back and forth on this question. I think my current opinion is: if it is possible to migrate easily, I would like to encourage it.</p>



<a name="237173733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237173733" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237173733">(May 03 2021 at 14:59)</a>:</h4>
<p>(RFC2229 closures are a counter example; I don't think adding dummy lets helps anyone)</p>



<a name="237173814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237173814" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237173814">(May 03 2021 at 14:59)</a>:</h4>
<p>I think we should add work item for 'validate all lints are tied to the right machinery'</p>



<a name="237176656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237176656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237176656">(May 03 2021 at 15:09)</a>:</h4>
<p>FYI: RFC 2229 is tracked on this repo <a href="https://github.com/rust-lang/project-rfc-2229/projects/1">https://github.com/rust-lang/project-rfc-2229/projects/1</a></p>



<a name="237176668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237176668" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237176668">(May 03 2021 at 15:09)</a>:</h4>
<p>that's the project board, there are also milestones</p>



<a name="237176722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237176722" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237176722">(May 03 2021 at 15:09)</a>:</h4>
<p><a href="https://github.com/rust-lang/project-rfc-2229/milestone/5">feature complete milestone</a></p>



<a name="237176945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237176945" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237176945">(May 03 2021 at 15:10)</a>:</h4>
<p>This pr is basically the last part of the migrations: <a href="https://github.com/rust-lang/rust/pull/84730">https://github.com/rust-lang/rust/pull/84730</a></p>



<a name="237180377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237180377" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237180377">(May 03 2021 at 15:29)</a>:</h4>
<p>Makes sense!  Just so that this particular item is tracked, I opened <a href="https://github.com/rust-lang/rust/issues/84869">https://github.com/rust-lang/rust/issues/84869</a>.</p>



<a name="237180521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/268952-edition%202021/topic/The%20Weekly%20Edition%20of%20the%20Edition%20Updates%2C%20Edition%20%23%E2%80%8B7/near/237180521" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/268952-edition-2021/topic/The.20Weekly.20Edition.20of.20the.20Edition.20Updates.2C.20Edition.20.23.E2.80.8B7.html#237180521">(May 03 2021 at 15:30)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> thanks! I'll add to the project board</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>