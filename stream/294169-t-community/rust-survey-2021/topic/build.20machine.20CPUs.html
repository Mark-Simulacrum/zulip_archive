<html>
<head><meta charset="utf-8"><title>build machine CPUs · t-community/rust-survey-2021 · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/index.html">t-community/rust-survey-2021</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html">build machine CPUs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="254504092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/254504092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#254504092">(Sep 23 2021 at 09:07)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> I should have asked in your PR, but can you talk a bit about what actionable steps you expect to be able to take from your question <a href="https://github.com/rust-lang/surveys/pull/28">here</a>: "n the primary machine you compile Rust code on, how many logical CPU threads do you have?"</p>



<a name="254578706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/254578706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#254578706">(Sep 23 2021 at 18:06)</a>:</h4>
<p>A few different things. I'm expecting to use the answers to tune parallel rustc; when we encounter a scalability issue that kicks in around a certain number of CPUs, it'll be good to know what proportion of the Rust community that issue affects.</p>



<a name="254578761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/254578761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#254578761">(Sep 23 2021 at 18:06)</a>:</h4>
<p>It'll also help when tuning algorithms or build systems whose memory usage may depend on the number of CPUs present.</p>



<a name="254578877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/254578877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#254578877">(Sep 23 2021 at 18:07)</a>:</h4>
<p>It'll help answer prioritization questions around whether to make something go faster by throwing more CPUs at it or by optimizing on the same number of CPUs.</p>



<a name="254579274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/254579274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#254579274">(Sep 23 2021 at 18:09)</a>:</h4>
<p>And it'll help avoid assumptions that rust developers might otherwise make about how universal the caliber of hardware they have is. There's a natural tendency to assume, if you have a system with a certain number of CPUs and it isn't unusually powerful, that your own system is somewhere near average or a little above average. I'd like more concrete data to figure out what the average system actually has.</p>



<a name="255007997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/255007997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#255007997">(Sep 27 2021 at 07:54)</a>:</h4>
<p>I wonder if we should also quickly ask about RAM and diskspace as well...</p>



<a name="255008889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/255008889" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#255008889">(Sep 27 2021 at 08:02)</a>:</h4>
<p>I made an issue for this: <a href="https://github.com/rust-lang/surveys/issues/39">https://github.com/rust-lang/surveys/issues/39</a></p>



<a name="255009721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/255009721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#255009721">(Sep 27 2021 at 08:10)</a>:</h4>
<p>I also opened a PR adding this justification to the survey doc: <a href="https://github.com/rust-lang/surveys/pull/40">https://github.com/rust-lang/surveys/pull/40</a></p>



<a name="255023966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/255023966" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#255023966">(Sep 27 2021 at 10:16)</a>:</h4>
<p>I personally think that number of CPUs is a good proxy for build system capability, and I don't want to end up with question fatigue. In particular, disk space rarely seems at issue.</p>



<a name="255044684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/255044684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#255044684">(Sep 27 2021 at 13:09)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> disk space matters a lot for incremental</p>



<a name="255044722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/255044722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#255044722">(Sep 27 2021 at 13:09)</a>:</h4>
<p>And also debuginfo, lots of people can't set it to 2 at all because they simply run out of space</p>



<a name="255046110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/255046110" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#255046110">(Sep 27 2021 at 13:19)</a>:</h4>
<p>But I don't think it's useful to ask about as a "how much disk space" question. Maybe "is it ever a problem for you?", but ultimately, I feel like there's not a useful proxy for how much we can "afford" here. My guess is everyone is - eventually - disk space constrained, regardless of whether they have 256 GB <em>total</em> (and, say, 30 GB for rust) or terabytes for Rust :)</p>



<a name="255091087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/255091087" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#255091087">(Sep 27 2021 at 17:55)</a>:</h4>
<p>Yeah, that's roughly my thought as well: asking "amount" isn't super useful, and if we want to ask anything at all it should be "is this a problem". So perhaps we could just add "disk space usage of compiled code" to the list of "how relatively important are these various problems for you".</p>



<a name="255092144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/294169-t-community/rust-survey-2021/topic/build%20machine%20CPUs/near/255092144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/294169-t-community/rust-survey-2021/topic/build.20machine.20CPUs.html#255092144">(Sep 27 2021 at 18:01)</a>:</h4>
<p>I think s/compiled code/target directory/ or something, but yes, that seems like a better route</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>