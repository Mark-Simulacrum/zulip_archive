<html>
<head><meta charset="utf-8"><title>Talk at LLVM conference · t-compiler/wg-llvm · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/index.html">t-compiler/wg-llvm</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/topic/Talk.20at.20LLVM.20conference.html">Talk at LLVM conference</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="224915005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/Talk%20at%20LLVM%20conference/near/224915005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Walton <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/topic/Talk.20at.20LLVM.20conference.html#224915005">(Feb 02 2021 at 18:30)</a>:</h4>
<p>Hi everyone, I've been roped into giving a short keynote about Rust's use of LLVM at the LLVM conference on the 28th. I was planning on covering new LLVM features that Rust is leaning on like ThinLTO... are there others that come to mind?</p>



<a name="224919996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/Talk%20at%20LLVM%20conference/near/224919996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/topic/Talk.20at.20LLVM.20conference.html#224919996">(Feb 02 2021 at 19:04)</a>:</h4>
<p>It's not exactly 'new', but IIRC there were a bunch of changes made to 'noalias' in LLVM 12</p>



<a name="224920036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/Talk%20at%20LLVM%20conference/near/224920036" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/topic/Talk.20at.20LLVM.20conference.html#224920036">(Feb 02 2021 at 19:04)</a>:</h4>
<p>which should fix the longstanding bugs that prevented Rust for emitting it for mutable references</p>



<a name="224920455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/Talk%20at%20LLVM%20conference/near/224920455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/topic/Talk.20at.20LLVM.20conference.html#224920455">(Feb 02 2021 at 19:07)</a>:</h4>
<p>The new stack probe support that had a blog post on it written recently on the llvm blogs is the most recent and prominent one.</p>



<a name="224920862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/Talk%20at%20LLVM%20conference/near/224920862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/topic/Talk.20at.20LLVM.20conference.html#224920862">(Feb 02 2021 at 19:10)</a>:</h4>
<p>We're using LLVM's PGO support too, at least for rustc - want to apply it to llvm but haven't done so yet.</p>



<a name="224921877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/Talk%20at%20LLVM%20conference/near/224921877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gwaihir Thorondorsen <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/topic/Talk.20at.20LLVM.20conference.html#224921877">(Feb 02 2021 at 19:18)</a>:</h4>
<p>There's also the recent fix for <a href="https://github.com/rust-lang/rust/issues/28728">#28728</a> (<a href="https://bugs.llvm.org/show_bug.cgi?id=965">llvm bug 965</a>) about not deleting <code>loop {}</code>s.</p>



<a name="224924239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/Talk%20at%20LLVM%20conference/near/224924239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/topic/Talk.20at.20LLVM.20conference.html#224924239">(Feb 02 2021 at 19:36)</a>:</h4>
<p>There's the new support for source-based code coverage which works a lot better than the old gcov support.</p>



<a name="224929984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/Talk%20at%20LLVM%20conference/near/224929984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/topic/Talk.20at.20LLVM.20conference.html#224929984">(Feb 02 2021 at 20:16)</a>:</h4>
<p>it's not really a specific feature, but Rust has been putting pressure on LLVM for its performance regressions, and <span class="user-mention silent" data-user-id="133224">Nikita Popov</span> actively improved a lot of this.</p>



<a name="224932261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/Talk%20at%20LLVM%20conference/near/224932261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Walton <a href="https://zulip-archive.rust-lang.org/stream/187780-t-compiler/wg-llvm/topic/Talk.20at.20LLVM.20conference.html#224932261">(Feb 02 2021 at 20:32)</a>:</h4>
<p>Great, thanks for all the pointers!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>