<html>
<head><meta charset="utf-8"><title>relocation failure due to #77961 (possibly) · t-compiler/wg-llvm · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187780-t-compiler/wg-llvm/index.html">t-compiler/wg-llvm</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187780-t-compiler/wg-llvm/topic/relocation.20failure.20due.20to.20.2377961.20(possibly).html">relocation failure due to #77961 (possibly)</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="213984643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/relocation%20failure%20due%20to%20%2377961%20%28possibly%29/near/213984643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/187780-t-compiler/wg-llvm/topic/relocation.20failure.20due.20to.20.2377961.20(possibly).html#213984643">(Oct 20 2020 at 21:57)</a>:</h4>
<p>Hey folks, so I've seen the libc build failure on MIPS64 and it has occurred since <code>nightly-2020-10-18</code>.<br>
The error says <code>relocation truncated to fit</code>and I'm wondering <a href="https://github.com/rust-lang/rust/issues/77961">#77961</a> is related, since it makes some sections allocatable and rustc now uses more resources than before (nagisa left a similar concern on the PR: <a href="https://github.com/rust-lang/rust/pull/77961#issuecomment-709289996">https://github.com/rust-lang/rust/pull/77961#issuecomment-709289996</a>).<br>
Since I'm less familiar with this behavior, I'd like to ask someone to confirm if my guess is correct.<br>
If it's reasonable and this PR is _not necessary_, I'd prefer reverting it to tweaking memory size on the libc crate.</p>



<a name="213984890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/relocation%20failure%20due%20to%20%2377961%20%28possibly%29/near/213984890" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/187780-t-compiler/wg-llvm/topic/relocation.20failure.20due.20to.20.2377961.20(possibly).html#213984890">(Oct 20 2020 at 21:59)</a>:</h4>
<p>this comment contains the CI log link, for reference: <a href="https://github.com/rust-lang/rust/pull/77961#issuecomment-712313902">https://github.com/rust-lang/rust/pull/77961#issuecomment-712313902</a></p>



<a name="214370874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/relocation%20failure%20due%20to%20%2377961%20%28possibly%29/near/214370874" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/187780-t-compiler/wg-llvm/topic/relocation.20failure.20due.20to.20.2377961.20(possibly).html#214370874">(Oct 23 2020 at 22:03)</a>:</h4>
<p>reverting PR is up by <strong>tmandry</strong> , thanks!</p>



<a name="214370898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187780-t-compiler/wg-llvm/topic/relocation%20failure%20due%20to%20%2377961%20%28possibly%29/near/214370898" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/187780-t-compiler/wg-llvm/topic/relocation.20failure.20due.20to.20.2377961.20(possibly).html#214370898">(Oct 23 2020 at 22:03)</a>:</h4>
<p>FYI,  <a href="https://github.com/rust-lang/rust/issues/78307">#78307</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>