<html>
<head><meta charset="utf-8"><title>PR #88804 · t-lang/project-never-type · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/index.html">t-lang/project-never-type</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html">PR #88804</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="253495052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253495052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253495052">(Sep 15 2021 at 22:04)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="116122">@simulacrum</span>, looking at your PR now</p>



<a name="253495071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253495071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253495071">(Sep 15 2021 at 22:04)</a>:</h4>
<p>Gotten through basically all but the last commit</p>



<a name="253495138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253495138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253495138">(Sep 15 2021 at 22:05)</a>:</h4>
<p>Need to think more about this</p>



<a name="253495337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253495337" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253495337">(Sep 15 2021 at 22:06)</a>:</h4>
<p>I don't really like the <code>FoundRelationships</code> tracking</p>



<a name="253495856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253495856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253495856">(Sep 15 2021 at 22:11)</a>:</h4>
<p>Looking at the example in the OP (can you add this as a test btw?):</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#![feature(never_type_fallback)]</span><span class="w"></span>

<span class="k">trait</span><span class="w"> </span><span class="n">Bar</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="k">impl</span><span class="w"> </span><span class="n">Bar</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="k">impl</span><span class="w"> </span><span class="n">Bar</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">foo</span><span class="o">&lt;</span><span class="n">R</span>: <span class="nc">Bar</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span>: <span class="nc">impl</span><span class="w"> </span><span class="nb">Fn</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nc">R</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">foo</span><span class="p">(</span><span class="o">||</span><span class="w"> </span><span class="fm">panic!</span><span class="p">());</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="253495908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253495908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253495908">(Sep 15 2021 at 22:11)</a>:</h4>
<p>How often did this come up in the crater run?</p>



<a name="253496512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253496512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253496512">(Sep 15 2021 at 22:17)</a>:</h4>
<p>And how is this logically more justifiable than just always falling back to <code>()</code> when <code>()</code> impls Foo but <code>!</code> does not</p>



<a name="253496745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253496745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253496745">(Sep 15 2021 at 22:19)</a>:</h4>
<p>We can diff with Niko's PR</p>



<a name="253496767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253496767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253496767">(Sep 15 2021 at 22:19)</a>:</h4>
<p>I think there were quite a few crates this fixed</p>



<a name="253496928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253496928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253496928">(Sep 15 2021 at 22:20)</a>:</h4>
<p>Your  rule I <em>think</em> is ok, but hurts because we aren't as precise</p>



<a name="253496945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253496945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253496945">(Sep 15 2021 at 22:21)</a>:</h4>
<p>Correct</p>



<a name="253496959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253496959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253496959">(Sep 15 2021 at 22:21)</a>:</h4>
<p>I guess I have two concerns</p>



<a name="253496989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253496989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253496989">(Sep 15 2021 at 22:21)</a>:</h4>
<p>The first is, as above, the justification</p>



<a name="253496992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253496992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253496992">(Sep 15 2021 at 22:21)</a>:</h4>
<p>The second</p>



<a name="253497000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497000">(Sep 15 2021 at 22:21)</a>:</h4>
<p>Is more implementation</p>



<a name="253497029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497029">(Sep 15 2021 at 22:21)</a>:</h4>
<p>It would be nicer to have some way to just "mark" type variables as "live"</p>



<a name="253497071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497071">(Sep 15 2021 at 22:22)</a>:</h4>
<p>rather than needed to track these "relationships"</p>



<a name="253497098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497098">(Sep 15 2021 at 22:22)</a>:</h4>
<p>It might cause failures where we want ! and () impls to coexist (and there's no associated type), like From for Infallible</p>



<a name="253497187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497187">(Sep 15 2021 at 22:23)</a>:</h4>
<p>I think the relationship tracking is basically marking them live? It's just that it's live if a and b</p>



<a name="253497255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497255">(Sep 15 2021 at 22:23)</a>:</h4>
<p>It might be that we should integrate that into the coercion graph though</p>



<a name="253497277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497277">(Sep 15 2021 at 22:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/259160-t-lang.2Fproject-never-type/topic/PR.20.2388804/near/253497255">said</a>:</p>
<blockquote>
<p>It might be that we should integrate that into the coercion graph though</p>
</blockquote>
<p>yes more that</p>



<a name="253497389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497389">(Sep 15 2021 at 22:24)</a>:</h4>
<p>But that's only really changing code in the fallback module - I expect it won't make any difference to the behavior. Should be cleaner, I think.</p>



<a name="253497400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497400">(Sep 15 2021 at 22:24)</a>:</h4>
<p>I think if we do go with this, imo, hack we should consider also adding a lint/future compat warning</p>



<a name="253497421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497421" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497421">(Sep 15 2021 at 22:25)</a>:</h4>
<p>Though curious on <span class="user-mention" data-user-id="116009">@nikomatsakis</span>'s thoughts</p>



<a name="253497507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497507">(Sep 15 2021 at 22:25)</a>:</h4>
<p>Niko and I both agree in spirit that we want a lint</p>



<a name="253497539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497539">(Sep 15 2021 at 22:26)</a>:</h4>
<p>On a bunch of cases</p>



<a name="253497595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497595">(Sep 15 2021 at 22:26)</a>:</h4>
<p>(not just around never / unit distinction, but fallback in general)</p>



<a name="253497738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497738">(Sep 15 2021 at 22:28)</a>:</h4>
<p>Anyways, I'll go ahead and finish reviewing this commit/PR under the pretense that 1) there could be more a more elegant implementation approach, but this is "straightforward" and likely "temporary" (famous last words) 2) The precise logic here <em>is</em> what we want</p>



<a name="253497773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497773" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497773">(Sep 15 2021 at 22:28)</a>:</h4>
<p>It's likely pretty long term</p>



<a name="253497802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497802">(Sep 15 2021 at 22:28)</a>:</h4>
<p>Any phase out is at the soonest years out I think</p>



<a name="253497845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497845" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497845">(Sep 15 2021 at 22:29)</a>:</h4>
<p>(maybe partially coupled to edition 24)</p>



<a name="253497849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497849">(Sep 15 2021 at 22:29)</a>:</h4>
<p>(deleted)</p>



<a name="253497891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497891">(Sep 15 2021 at 22:29)</a>:</h4>
<p>I tend to think of implementation time length in terms of "pre chalk merge" vs "longer than that"</p>



<a name="253497904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497904">(Sep 15 2021 at 22:29)</a>:</h4>
<p>But I think we do want to get as fine-grained with () fallback as we can</p>



<a name="253497980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253497980" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253497980">(Sep 15 2021 at 22:30)</a>:</h4>
<p>Because ! Fallback is sort of justifiable, () is much less so</p>



<a name="253498055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498055">(Sep 15 2021 at 22:30)</a>:</h4>
<p>Sounds good on review though</p>



<a name="253498108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498108">(Sep 15 2021 at 22:31)</a>:</h4>
<p>side thought: has there been a perf run on this?</p>



<a name="253498148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498148">(Sep 15 2021 at 22:31)</a>:</h4>
<p>I imagine this commit in particular will likely have a pretty serious hit</p>



<a name="253498159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498159" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498159">(Sep 15 2021 at 22:31)</a>:</h4>
<p>Yeah, it's neutral iirc</p>



<a name="253498219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498219" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498219">(Sep 15 2021 at 22:32)</a>:</h4>
<p>But I'm not sure if it was on this particular version</p>



<a name="253498230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498230">(Sep 15 2021 at 22:32)</a>:</h4>
<p>Feel free to queue one, it's cheap</p>



<a name="253498466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498466">(Sep 15 2021 at 22:34)</a>:</h4>
<p>Was that done with <code>never_type_fallback</code> enabled by default?</p>



<a name="253498525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498525">(Sep 15 2021 at 22:35)</a>:</h4>
<p>Yes</p>



<a name="253498563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498563">(Sep 15 2021 at 22:36)</a>:</h4>
<p>None of the code except the last step is gated on that right?</p>



<a name="253498628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498628">(Sep 15 2021 at 22:36)</a>:</h4>
<p>Perf wise it shouldn't matter whether it's enabled I think</p>



<a name="253498703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/PR%20%2388804/near/253498703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/259160-t-lang/project-never-type/topic/PR.20.2388804.html#253498703">(Sep 15 2021 at 22:37)</a>:</h4>
<p>Yeah, probably not</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>