<html>
<head><meta charset="utf-8"><title>meeting 2020-oct-15 · t-lang/project-never-type · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/index.html">t-lang/project-never-type</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html">meeting 2020-oct-15</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="213472723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213472723" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213472723">(Oct 15 2020 at 19:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span>  <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="213473198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213473198" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213473198">(Oct 15 2020 at 19:06)</a>:</h4>
<p><span class="user-mention" data-user-id="128294">@blitzerr</span> omw</p>



<a name="213473206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213473206" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213473206">(Oct 15 2020 at 19:06)</a>:</h4>
<p>my computer decided to mysteriously restart</p>



<a name="213473242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213473242" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213473242">(Oct 15 2020 at 19:06)</a>:</h4>
<p>oh I guess we don't have a zoom room</p>



<a name="213473348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213473348" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213473348">(Oct 15 2020 at 19:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/259160-t-lang.2Fproject-never-type/topic/meeting.202020-oct-15/near/213473206">said</a>:</p>
<blockquote>
<p>my computer decided to mysteriously restart</p>
</blockquote>
<p>Computer do that sometime but consistently at the wrong time <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="213477927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213477927" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213477927">(Oct 15 2020 at 19:44)</a>:</h4>
<p>OK <span class="user-mention" data-user-id="128294">@blitzerr</span> these are the steps we said</p>
<ul>
<li>[x] turn the lint to deny by default and make sure libstd builds</li>
<li>[ ] create a helper function for adding to <code>dead_nodes</code> that explains what is going on<br>
    - document that this function is invoked on the "way up" the tree, so that nodes are added to <code>dead_nodes</code> set if they diverge before completing (or they never start)</li>
<li>[ ] test against the objc crate version that had problems</li>
<li>[ ] run a "crater check" run and see the results</li>
<li>[ ] improve the error message</li>
</ul>



<a name="213477966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213477966" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213477966">(Oct 15 2020 at 19:45)</a>:</h4>
<p>I'll paste them into <a href="https://github.com/rust-lang/rust/issues/66173">https://github.com/rust-lang/rust/issues/66173</a> though</p>



<a name="213478186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213478186" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213478186">(Oct 15 2020 at 19:46)</a>:</h4>
<p>I put it into the "original post"</p>



<a name="213478636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213478636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213478636">(Oct 15 2020 at 19:50)</a>:</h4>
<p>also <a href="https://github.com/rust-lang/rust/issues/66173#issuecomment-709554231">left a comment regarding the objc crate</a></p>



<a name="213507683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213507683" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213507683">(Oct 16 2020 at 01:18)</a>:</h4>
<p>Thanks a lot <span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="213573285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213573285" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213573285">(Oct 16 2020 at 15:12)</a>:</h4>
<p><span class="user-mention" data-user-id="128294">@blitzerr</span> <a href="https://github.com/rust-lang/rust/issues/66173#issuecomment-709661961">see this reply</a></p>



<a name="213577221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577221" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577221">(Oct 16 2020 at 15:42)</a>:</h4>
<p><span aria-label="octopus" class="emoji emoji-1f419" role="img" title="octopus">:octopus:</span></p>



<a name="213577268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577268" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577268">(Oct 16 2020 at 15:43)</a>:</h4>
<p>Awesome! I will include that as a test <span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="213577408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577408" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577408">(Oct 16 2020 at 15:44)</a>:</h4>
<p><span class="user-mention" data-user-id="128294">@blitzerr</span> I think it'll have to be tested by hand</p>



<a name="213577412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577412" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577412">(Oct 16 2020 at 15:44)</a>:</h4>
<p>not included in the compiler</p>



<a name="213577419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577419" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577419">(Oct 16 2020 at 15:44)</a>:</h4>
<p>because of the dependency on objc crate</p>



<a name="213577429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577429" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577429">(Oct 16 2020 at 15:44)</a>:</h4>
<p>you'll have to make a <code>Cargo.toml</code></p>



<a name="213577439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577439" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577439">(Oct 16 2020 at 15:44)</a>:</h4>
<p>but it'd be good just to see if it works</p>



<a name="213577458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577458">(Oct 16 2020 at 15:44)</a>:</h4>
<p>I <em>think</em> the test I wrote is representative of this situation</p>



<a name="213577644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577644" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577644">(Oct 16 2020 at 15:46)</a>:</h4>
<p>you might be able to minimize to something that doesn't depend on objc</p>



<a name="213577655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577655" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577655">(Oct 16 2020 at 15:46)</a>:</h4>
<p>then you could write automated tests for it</p>



<a name="213577773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577773" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577773">(Oct 16 2020 at 15:47)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> yeah the point is I think I already did that</p>



<a name="213577780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577780">(Oct 16 2020 at 15:47)</a>:</h4>
<p>(minimize)</p>



<a name="213577793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577793" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577793">(Oct 16 2020 at 15:47)</a>:</h4>
<p>but I did want to go back and test that the original crate gets a warning</p>



<a name="213577802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577802" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577802">(Oct 16 2020 at 15:48)</a>:</h4>
<p>just to double check</p>



<a name="213577960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213577960" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213577960">(Oct 16 2020 at 15:49)</a>:</h4>
<p>Ah oops, sorry for the noise</p>



<a name="213580525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213580525" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213580525">(Oct 16 2020 at 16:09)</a>:</h4>
<p>Ohh! Right. Ya I will test it manually and see the lint earns in this case.</p>



<a name="213591332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213591332" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213591332">(Oct 16 2020 at 17:41)</a>:</h4>
<p><span class="user-mention" data-user-id="128294">@blitzerr</span> <a href="https://youtu.be/yEq7pfBFwYQ">https://youtu.be/yEq7pfBFwYQ</a></p>
<div class="youtube-video message_inline_image"><a data-id="yEq7pfBFwYQ" href="https://youtu.be/yEq7pfBFwYQ"><img src="https://i.ytimg.com/vi/yEq7pfBFwYQ/default.jpg"></a></div>



<a name="213652800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213652800" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213652800">(Oct 17 2020 at 13:49)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span>: <span class="nc">resulted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">diverging</span><span class="w"> </span><span class="n">fallback</span>: <span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="o">-</span>-&gt; <span class="nc">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">macros</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">15</span>:<span class="mi">34</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">11</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">/</span><span class="w"> </span><span class="n">macro_rules</span><span class="o">!</span><span class="w"> </span><span class="n">panic</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="mi">12</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"explicit panic"</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">13</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">rt</span>::<span class="n">begin_panic</span><span class="p">(</span><span class="cp">$msg</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">14</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">,)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="cp">$msg</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">15</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$fmt</span>:<span class="nc">expr</span><span class="p">,</span><span class="w"> </span><span class="cp">$($arg</span>:<span class="nc">tt</span><span class="p">)</span><span class="o">+</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="n">__________________________________</span><span class="o">^</span><span class="w"></span>
<span class="mi">16</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="w">         </span><span class="cp">$crate</span>::<span class="n">rt</span>::<span class="n">begin_panic_fmt</span><span class="p">(</span><span class="o">&amp;</span><span class="cp">$crate</span>::<span class="n">format_args</span><span class="o">!</span><span class="p">(</span><span class="cp">$fmt</span><span class="p">,</span><span class="w"> </span><span class="cp">$($arg</span><span class="p">)</span><span class="o">+</span><span class="p">))</span><span class="w"></span>
<span class="mi">17</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="w">     </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="n">_____</span><span class="o">^</span><span class="w"></span>
<span class="mi">18</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="n">_</span><span class="o">-</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">expansion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="err">`</span><span class="n">panic</span><span class="o">!</span><span class="err">`</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="w">   </span>::: <span class="nc">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">unix</span><span class="o">/</span><span class="n">rand</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">113</span>:<span class="mi">25</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">113</span><span class="w"> </span><span class="o">|</span><span class="w">                            </span><span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"unexpected getentropy error: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">errno</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                            </span><span class="o">---------------------------------------------------</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="n">invocation</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="err">`</span><span class="cp">#[deny(fall_back_to_never_type)]</span><span class="err">`</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">resulted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">diverging</span><span class="w"> </span><span class="n">fallback</span>: <span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="o">-</span>-&gt; <span class="nc">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">macros</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">15</span>:<span class="mi">34</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">11</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">/</span><span class="w"> </span><span class="n">macro_rules</span><span class="o">!</span><span class="w"> </span><span class="n">panic</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="mi">12</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"explicit panic"</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">13</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">rt</span>::<span class="n">begin_panic</span><span class="p">(</span><span class="cp">$msg</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">14</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">,)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="cp">$msg</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">15</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$fmt</span>:<span class="nc">expr</span><span class="p">,</span><span class="w"> </span><span class="cp">$($arg</span>:<span class="nc">tt</span><span class="p">)</span><span class="o">+</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="n">__________________________________</span><span class="o">^</span><span class="w"></span>
<span class="mi">16</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="w">         </span><span class="cp">$crate</span>::<span class="n">rt</span>::<span class="n">begin_panic_fmt</span><span class="p">(</span><span class="o">&amp;</span><span class="cp">$crate</span>::<span class="n">format_args</span><span class="o">!</span><span class="p">(</span><span class="cp">$fmt</span><span class="p">,</span><span class="w"> </span><span class="cp">$($arg</span><span class="p">)</span><span class="o">+</span><span class="p">))</span><span class="w"></span>
<span class="mi">17</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="w">     </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="n">_____</span><span class="o">^</span><span class="w"></span>
<span class="mi">18</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="n">_</span><span class="o">-</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">expansion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="err">`</span><span class="n">panic</span><span class="o">!</span><span class="err">`</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="w">   </span>::: <span class="nc">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">unix</span><span class="o">/</span><span class="n">rand</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">113</span>:<span class="mi">25</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">113</span><span class="w"> </span><span class="o">|</span><span class="w">                            </span><span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"unexpected getentropy error: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">errno</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                            </span><span class="o">---------------------------------------------------</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="n">invocation</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">aborting</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">errors</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="err">`</span><span class="n">std</span><span class="err">`</span><span class="w"></span>

<span class="n">To</span><span class="w"> </span><span class="n">learn</span><span class="w"> </span><span class="n">more</span><span class="p">,</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">again</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">--</span><span class="n">verbose</span><span class="p">.</span><span class="w"></span>
<span class="n">command</span><span class="w"> </span><span class="n">did</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">successfully</span>: <span class="s">"/Users/blitz/rustc-dev/rust/build/x86_64-apple-darwin/stage0/bin/cargo"</span><span class="w"> </span><span class="s">"build"</span><span class="w"> </span><span class="s">"--target"</span><span class="w"> </span><span class="s">"x86_64-apple-darwin"</span><span class="w"> </span><span class="s">"-Zbinary-dep-depinfo"</span><span class="w"> </span><span class="s">"-j"</span><span class="w"> </span><span class="s">"12"</span><span class="w"> </span><span class="s">"--release"</span><span class="w"> </span><span class="s">"--features"</span><span class="w"> </span><span class="s">"panic-unwind backtrace compiler-builtins-c"</span><span class="w"> </span><span class="s">"--manifest-path"</span><span class="w"> </span><span class="s">"/Users/blitz/rustc-dev/rust/library/test/Cargo.toml"</span><span class="w"> </span><span class="s">"--message-format"</span><span class="w"> </span><span class="s">"json-render-diagnostics"</span><span class="w"></span>
<span class="n">expected</span><span class="w"> </span><span class="n">success</span><span class="p">,</span><span class="w"> </span><span class="n">got</span>: <span class="nc">exit</span><span class="w"> </span><span class="n">code</span>: <span class="mi">101</span><span class="w"></span>
<span class="n">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span>: <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">blitz</span><span class="o">/</span><span class="n">rustc</span><span class="o">-</span><span class="n">dev</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">bootstrap</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">bootstrap</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">src</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">ui</span><span class="w"></span>
<span class="n">Build</span><span class="w"> </span><span class="n">completed</span><span class="w"> </span><span class="n">unsuccessfully</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">0</span>:<span class="mi">01</span>:<span class="mi">04</span><span class="w"></span>
<span class="n">The</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="s">"/usr/local/bin/fish '-c', './x.py test -i src/test/ui'"</span><span class="w"> </span><span class="n">terminated</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">code</span>: <span class="mf">1.</span><span class="w"></span>
</code></pre></div>



<a name="213652953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213652953" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213652953">(Oct 17 2020 at 13:52)</a>:</h4>
<p>The test building is  failing where we have <code>panic</code>. Is this because of the new block return type we started checking ?</p>



<a name="213652955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213652955" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213652955">(Oct 17 2020 at 13:52)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="213653158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213653158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213653158">(Oct 17 2020 at 13:57)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/78051">https://github.com/rust-lang/rust/pull/78051</a></p>



<a name="213653222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213653222" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213653222">(Oct 17 2020 at 13:59)</a>:</h4>
<p>I had to create a new branch as I started getting some sub-modules conflicts after rebasing with latest master.</p>



<a name="213785474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213785474" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213785474">(Oct 19 2020 at 13:33)</a>:</h4>
<p><span class="user-mention" data-user-id="128294">@blitzerr</span> hmm, I was hoping we had fixed that problem, but perhaps not</p>



<a name="213785833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213785833" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213785833">(Oct 19 2020 at 13:36)</a>:</h4>
<p>At least it is occuring in <em>std</em> and not <em>core</em></p>



<a name="213786061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213786061" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213786061">(Oct 19 2020 at 13:38)</a>:</h4>
<p>I would recommend <span class="user-mention" data-user-id="128294">@blitzerr</span> trying to isolate the pattern into a test case like we did before. You could make the lint "allow by default" to let std build if that helps.</p>



<a name="213965114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/213965114" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#213965114">(Oct 20 2020 at 19:02)</a>:</h4>
<p>Sorry <span class="user-mention" data-user-id="116009">@nikomatsakis</span> I missed this. I did try to extract out the macro that failed as a test case. I am working on that. Haven't reproduced it yet.</p>



<a name="214191950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214191950" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214191950">(Oct 22 2020 at 14:07)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="128294">@blitzerr</span> -- let's see if we can make some progress this week</p>



<a name="214223930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214223930" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214223930">(Oct 22 2020 at 17:55)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Building</span><span class="w"> </span><span class="n">stage1</span><span class="w"> </span><span class="n">std</span><span class="w"> </span><span class="n">artifacts</span><span class="w"> </span><span class="p">(</span><span class="n">x86_64</span><span class="o">-</span><span class="n">apple</span><span class="o">-</span><span class="n">darwin</span><span class="w"> </span>-&gt; <span class="nc">x86_64</span><span class="o">-</span><span class="n">apple</span><span class="o">-</span><span class="n">darwin</span><span class="p">)</span><span class="w"></span>
<span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="n">error</span>: <span class="nc">resulted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">diverging</span><span class="w"> </span><span class="n">fallback</span>: <span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="o">-</span>-&gt; <span class="nc">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">macros</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">15</span>:<span class="mi">34</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">11</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">/</span><span class="w"> </span><span class="n">macro_rules</span><span class="o">!</span><span class="w"> </span><span class="n">panic</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="mi">12</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"explicit panic"</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">13</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">rt</span>::<span class="n">begin_panic</span><span class="p">(</span><span class="cp">$msg</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">14</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">,)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="cp">$msg</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">15</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$fmt</span>:<span class="nc">expr</span><span class="p">,</span><span class="w"> </span><span class="cp">$($arg</span>:<span class="nc">tt</span><span class="p">)</span><span class="o">+</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="n">__________________________________</span><span class="o">^</span><span class="w"></span>
<span class="mi">16</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="w">         </span><span class="cp">$crate</span>::<span class="n">rt</span>::<span class="n">begin_panic_fmt</span><span class="p">(</span><span class="o">&amp;</span><span class="cp">$crate</span>::<span class="n">format_args</span><span class="o">!</span><span class="p">(</span><span class="cp">$fmt</span><span class="p">,</span><span class="w"> </span><span class="cp">$($arg</span><span class="p">)</span><span class="o">+</span><span class="p">))</span><span class="w"></span>
<span class="mi">17</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="w">     </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="n">_____</span><span class="o">^</span><span class="w"></span>
<span class="mi">18</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="n">_</span><span class="o">-</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">expansion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="err">`</span><span class="n">panic</span><span class="o">!</span><span class="err">`</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="w">   </span>::: <span class="nc">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">unix</span><span class="o">/</span><span class="n">rand</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">113</span>:<span class="mi">25</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">113</span><span class="w"> </span><span class="o">|</span><span class="w">                            </span><span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"unexpected getentropy error: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">errno</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                            </span><span class="o">---------------------------------------------------</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="n">invocation</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">fall</span><span class="o">-</span><span class="n">back</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">never</span><span class="o">-</span><span class="k">type</span><span class="err">`</span><span class="w"> </span><span class="n">implied</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">warnings</span><span class="err">`</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">resulted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">diverging</span><span class="w"> </span><span class="n">fallback</span>: <span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="o">-</span>-&gt; <span class="nc">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">macros</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">15</span>:<span class="mi">34</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">11</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">/</span><span class="w"> </span><span class="n">macro_rules</span><span class="o">!</span><span class="w"> </span><span class="n">panic</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="mi">12</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"explicit panic"</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">13</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">rt</span>::<span class="n">begin_panic</span><span class="p">(</span><span class="cp">$msg</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">14</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">,)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="cp">$msg</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">15</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$fmt</span>:<span class="nc">expr</span><span class="p">,</span><span class="w"> </span><span class="cp">$($arg</span>:<span class="nc">tt</span><span class="p">)</span><span class="o">+</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="n">__________________________________</span><span class="o">^</span><span class="w"></span>
<span class="mi">16</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="w">         </span><span class="cp">$crate</span>::<span class="n">rt</span>::<span class="n">begin_panic_fmt</span><span class="p">(</span><span class="o">&amp;</span><span class="cp">$crate</span>::<span class="n">format_args</span><span class="o">!</span><span class="p">(</span><span class="cp">$fmt</span><span class="p">,</span><span class="w"> </span><span class="cp">$($arg</span><span class="p">)</span><span class="o">+</span><span class="p">))</span><span class="w"></span>
<span class="mi">17</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="w">     </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="n">_____</span><span class="o">^</span><span class="w"></span>
<span class="mi">18</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="n">_</span><span class="o">-</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">expansion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="err">`</span><span class="n">panic</span><span class="o">!</span><span class="err">`</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="w">   </span>::: <span class="nc">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">unix</span><span class="o">/</span><span class="n">rand</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">113</span>:<span class="mi">25</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">113</span><span class="w"> </span><span class="o">|</span><span class="w">                            </span><span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"unexpected getentropy error: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">errno</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                            </span><span class="o">---------------------------------------------------</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="n">invocation</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">aborting</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">errors</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="err">`</span><span class="n">std</span><span class="err">`</span><span class="w"></span>
</code></pre></div>

<p>This is what I get locally when I try to run tests. The compiler builds fine.</p>



<a name="214224050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214224050" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214224050">(Oct 22 2020 at 17:56)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Building</span><span class="w"> </span><span class="n">stage1</span><span class="w"> </span><span class="n">compiler</span><span class="w"> </span><span class="n">artifacts</span><span class="w"> </span><span class="p">(</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="w"> </span>-&gt; <span class="nc">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="p">)</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">resulted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">diverging</span><span class="w"> </span><span class="n">fallback</span>: <span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="o">-</span>-&gt; <span class="nc">compiler</span><span class="o">/</span><span class="n">rustc_macros</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">session_diagnostic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">116</span>:<span class="mi">33</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">116</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="p">(</span><span class="cp">$span</span>:<span class="nc">expr</span><span class="p">,</span><span class="w"> </span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{{</span><span class="w"> </span><span class="n">throw_span_err</span><span class="o">!</span><span class="p">(</span><span class="cp">$span</span><span class="p">,</span><span class="w"> </span><span class="cp">$msg</span><span class="p">,</span><span class="w"> </span><span class="o">|</span><span class="n">diag</span><span class="o">|</span><span class="w"> </span><span class="n">diag</span><span class="p">)</span><span class="w"> </span><span class="p">}};</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                                   </span><span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><span class="w"></span>
<span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="mi">450</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="w">                                             </span><span class="n">throw_span_err</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="mi">451</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                                                 </span><span class="n">info</span><span class="p">.</span><span class="n">span</span><span class="p">.</span><span class="n">clone</span><span class="p">().</span><span class="n">unwrap</span><span class="p">(),</span><span class="w"></span>
<span class="mi">452</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                                                 </span><span class="s">"type of field annotated with `#[suggestion(...)]` contains more than one Span"</span><span class="w"></span>
<span class="mi">453</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                                             </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">______________________________________________</span><span class="o">-</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="n">invocation</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="err">`</span><span class="cp">#[deny(fall_back_to_never_type)]</span><span class="err">`</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="w"></span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="nc">this</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">originates</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">Nightly</span><span class="w"> </span><span class="n">builds</span><span class="p">,</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">-</span><span class="n">Z</span><span class="w"> </span><span class="kr">macro</span><span class="o">-</span><span class="n">backtrace</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">info</span><span class="p">)</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">resulted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">diverging</span><span class="w"> </span><span class="n">fallback</span>: <span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="o">-</span>-&gt; <span class="nc">compiler</span><span class="o">/</span><span class="n">rustc_macros</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">session_diagnostic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">116</span>:<span class="mi">33</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">116</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="p">(</span><span class="cp">$span</span>:<span class="nc">expr</span><span class="p">,</span><span class="w"> </span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{{</span><span class="w"> </span><span class="n">throw_span_err</span><span class="o">!</span><span class="p">(</span><span class="cp">$span</span><span class="p">,</span><span class="w"> </span><span class="cp">$msg</span><span class="p">,</span><span class="w"> </span><span class="o">|</span><span class="n">diag</span><span class="o">|</span><span class="w"> </span><span class="n">diag</span><span class="p">)</span><span class="w"> </span><span class="p">}};</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                                   </span><span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><span class="w"></span>
<span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="mi">450</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="w">                                             </span><span class="n">throw_span_err</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="mi">451</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                                                 </span><span class="n">info</span><span class="p">.</span><span class="n">span</span><span class="p">.</span><span class="n">clone</span><span class="p">().</span><span class="n">unwrap</span><span class="p">(),</span><span class="w"></span>
<span class="mi">452</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                                                 </span><span class="s">"type of field annotated with `#[suggestion(...)]` contains more than one Span"</span><span class="w"></span>
<span class="mi">453</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                                             </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">______________________________________________</span><span class="o">-</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="n">invocation</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="nc">this</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">originates</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">Nightly</span><span class="w"> </span><span class="n">builds</span><span class="p">,</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">-</span><span class="n">Z</span><span class="w"> </span><span class="kr">macro</span><span class="o">-</span><span class="n">backtrace</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">info</span><span class="p">)</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">resulted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">diverging</span><span class="w"> </span><span class="n">fallback</span>: <span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="o">-</span>-&gt; <span class="nc">compiler</span><span class="o">/</span><span class="n">rustc_macros</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">session_diagnostic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">116</span>:<span class="mi">33</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">116</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="p">(</span><span class="cp">$span</span>:<span class="nc">expr</span><span class="p">,</span><span class="w"> </span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{{</span><span class="w"> </span><span class="n">throw_span_err</span><span class="o">!</span><span class="p">(</span><span class="cp">$span</span><span class="p">,</span><span class="w"> </span><span class="cp">$msg</span><span class="p">,</span><span class="w"> </span><span class="o">|</span><span class="n">diag</span><span class="o">|</span><span class="w"> </span><span class="n">diag</span><span class="p">)</span><span class="w"> </span><span class="p">}};</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                                   </span><span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><span class="w"></span>
<span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="mi">462</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="w">                                             </span><span class="n">throw_span_err</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="mi">463</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                                                 </span><span class="n">info</span><span class="p">.</span><span class="n">span</span><span class="p">.</span><span class="n">clone</span><span class="p">().</span><span class="n">unwrap</span><span class="p">(),</span><span class="w"></span>
<span class="mi">464</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                                                 </span><span class="s">"type of field annotated with `#[suggestion(...)]` contains more than one Applicability"</span><span class="w"></span>
<span class="mi">465</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                                             </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">______________________________________________</span><span class="o">-</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="n">invocation</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="nc">this</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">originates</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">Nightly</span><span class="w"> </span><span class="n">builds</span><span class="p">,</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">-</span><span class="n">Z</span><span class="w"> </span><span class="kr">macro</span><span class="o">-</span><span class="n">backtrace</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">info</span><span class="p">)</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">aborting</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">errors</span><span class="w"></span>

<span class="n">error</span>: <span class="nc">could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="err">`</span><span class="n">rustc_macros</span><span class="err">`</span><span class="w"></span>
</code></pre></div>



<a name="214224098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214224098" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214224098">(Oct 22 2020 at 17:57)</a>:</h4>
<p>This is what I get from the Github CI failure.</p>



<a name="214224260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214224260" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214224260">(Oct 22 2020 at 17:58)</a>:</h4>
<p>Trying to resolve the local first, I think this is the cause:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="mi">11</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">/</span><span class="w"> </span><span class="n">macro_rules</span><span class="o">!</span><span class="w"> </span><span class="n">panic</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="mi">12</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"explicit panic"</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">13</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">rt</span>::<span class="n">begin_panic</span><span class="p">(</span><span class="cp">$msg</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">14</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$msg</span>:<span class="nc">expr</span><span class="p">,)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="cp">$crate</span>::<span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="cp">$msg</span><span class="p">)</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="mi">15</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="p">(</span><span class="cp">$fmt</span>:<span class="nc">expr</span><span class="p">,</span><span class="w"> </span><span class="cp">$($arg</span>:<span class="nc">tt</span><span class="p">)</span><span class="o">+</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="n">__________________________________</span><span class="o">^</span><span class="w"></span>
<span class="mi">16</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="w">         </span><span class="cp">$crate</span>::<span class="n">rt</span>::<span class="n">begin_panic_fmt</span><span class="p">(</span><span class="o">&amp;</span><span class="cp">$crate</span>::<span class="n">format_args</span><span class="o">!</span><span class="p">(</span><span class="cp">$fmt</span><span class="p">,</span><span class="w"> </span><span class="cp">$($arg</span><span class="p">)</span><span class="o">+</span><span class="p">))</span><span class="w"></span>
<span class="mi">17</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="w">     </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">||</span><span class="n">_____</span><span class="o">^</span><span class="w"></span>
<span class="mi">18</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="214224363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214224363" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214224363">(Oct 22 2020 at 17:59)</a>:</h4>
<p>Which is triggered by <code> panic!("unexpected getentropy error: {}", errno());</code></p>



<a name="214224441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214224441" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214224441">(Oct 22 2020 at 17:59)</a>:</h4>
<p>So I wrote an extremely simple test file:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#![feature(never_type_fallback)]</span><span class="w"></span>
<span class="cp">#![deny(fall_back_to_never_type)]</span><span class="w"></span>

<span class="c1">// macro_rules! panic2 {</span>
<span class="c1">//     () =&gt; ({ $crate::panic!("explicit panic") });</span>
<span class="c1">//     ($msg:expr) =&gt; ({ $crate::rt::begin_panic($msg) });</span>
<span class="c1">//     ($msg:expr,) =&gt; ({ $crate::panic!($msg) });</span>
<span class="c1">//     ($fmt:expr, $($arg:tt)+) =&gt; ({</span>
<span class="c1">//         $crate::rt::begin_panic_fmt(&amp;$crate::format_args!($fmt, $($arg)+))</span>
<span class="c1">//     });</span>
<span class="c1">// }</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span>::<span class="n">Error</span><span class="p">;</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"unexpected getentropy error: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span>::<span class="n">last_os_error</span><span class="p">());}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="214233746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214233746" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214233746">(Oct 22 2020 at 19:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="214233778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214233778" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214233778">(Oct 22 2020 at 19:06)</a>:</h4>
<p>Sorry, I added the details of failures here <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="214233863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214233863" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214233863">(Oct 22 2020 at 19:07)</a>:</h4>
<p>yeah I'm looking</p>



<a name="214233866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214233866" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214233866">(Oct 22 2020 at 19:07)</a>:</h4>
<p>I am also compiling your new PR</p>



<a name="214233873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214233873" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214233873">(Oct 22 2020 at 19:07)</a>:</h4>
<p>I forgot it was a new branch</p>



<a name="214233999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214233999" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214233999">(Oct 22 2020 at 19:08)</a>:</h4>
<p>Ya, I could n't merge on the previous one. Was getting conflicts in sub-modules</p>



<a name="214234065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234065" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234065">(Oct 22 2020 at 19:08)</a>:</h4>
<p>So</p>



<a name="214234081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234081" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234081">(Oct 22 2020 at 19:08)</a>:</h4>
<p>the test file I guess doesn't trigger?</p>



<a name="214234131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234131" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234131">(Oct 22 2020 at 19:09)</a>:</h4>
<p>I'm building now but I have to build LLVM again :(</p>



<a name="214234166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234166" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234166">(Oct 22 2020 at 19:09)</a>:</h4>
<p>Did you make it "allow by default", <span class="user-mention" data-user-id="128294">@blitzerr</span> ?</p>



<a name="214234201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234201" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234201">(Oct 22 2020 at 19:09)</a>:</h4>
<p>also, do you have a local build? we could connect via zom and you could share your screen if you want</p>



<a name="214234204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234204" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234204">(Oct 22 2020 at 19:10)</a>:</h4>
<p>It does not generate the warnings.</p>



<a name="214234267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234267" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234267">(Oct 22 2020 at 19:10)</a>:</h4>
<p>Ya it is allow by default in the PR. But it is <code>warn</code> on my local.</p>



<a name="214234288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234288" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234288">(Oct 22 2020 at 19:10)</a>:</h4>
<p>sounds good</p>



<a name="214234293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234293" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234293">(Oct 22 2020 at 19:10)</a>:</h4>
<p>oh, man, it makes it all the way into librustc?</p>



<a name="214234298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234298" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234298">(Oct 22 2020 at 19:10)</a>:</h4>
<p>I also tried the objc crate</p>



<a name="214234325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234325" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234325">(Oct 22 2020 at 19:10)</a>:</h4>
<p>It does <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="214234342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234342" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234342">(Oct 22 2020 at 19:10)</a>:</h4>
<p>I on the the meeting</p>



<a name="214234354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234354" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234354">(Oct 22 2020 at 19:11)</a>:</h4>
<p>The zoom one.</p>



<a name="214234370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214234370" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214234370">(Oct 22 2020 at 19:11)</a>:</h4>
<p>ok let me join</p>



<a name="214240484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240484" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240484">(Oct 22 2020 at 19:57)</a>:</h4>
<p><span class="user-mention" data-user-id="128294">@blitzerr</span> can you send me that test?</p>



<a name="214240536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240536" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240536">(Oct 22 2020 at 19:58)</a>:</h4>
<p>the one that did not reproduce the problem :)</p>



<a name="214240541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240541" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240541">(Oct 22 2020 at 19:58)</a>:</h4>
<p>I've got a build going at least</p>



<a name="214240599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240599" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240599">(Oct 22 2020 at 19:58)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#![feature(never_type_fallback)]</span><span class="w"></span>
<span class="cp">#![deny(fall_back_to_never_type)]</span><span class="w"></span>

<span class="c1">// macro_rules! panic2 {</span>
<span class="c1">//     () =&gt; ({ $crate::panic!("explicit panic") });</span>
<span class="c1">//     ($msg:expr) =&gt; ({ $crate::rt::begin_panic($msg) });</span>
<span class="c1">//     ($msg:expr,) =&gt; ({ $crate::panic!($msg) });</span>
<span class="c1">//     ($fmt:expr, $($arg:tt)+) =&gt; ({</span>
<span class="c1">//         $crate::rt::begin_panic_fmt(&amp;$crate::format_args!($fmt, $($arg)+))</span>
<span class="c1">//     });</span>
<span class="c1">// }</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span>::<span class="n">Error</span><span class="p">;</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">foo</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="kt">bool</span> <span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">Some</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="o">|</span><span class="n">_x</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">..</span><span class="mi">4</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="kd">let</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">44</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="n">panic</span><span class="o">!</span><span class="p">(</span><span class="s">"unexpected getentropy error: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span>::<span class="n">last_os_error</span><span class="p">());</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="kc">true</span><span class="w"></span>
<span class="w">        </span><span class="p">})</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">unwrap_or</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">foo</span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="214240627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240627" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240627">(Oct 22 2020 at 19:58)</a>:</h4>
<p>actually wait</p>



<a name="214240643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240643">(Oct 22 2020 at 19:59)</a>:</h4>
<p><code>panic_macro_fallback.rs</code></p>



<a name="214240649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240649" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240649">(Oct 22 2020 at 19:59)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">declare_lint</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">//TODO: Add explanation.</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">FALL_BACK_TO_NEVER_TYPE</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Deny</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s">"Unresolved variable might fall back to never_type `!`"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="214240669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240669" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240669">(Oct 22 2020 at 19:59)</a>:</h4>
<p>so that is what I see <em>locally</em></p>



<a name="214240739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240739" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240739">(Oct 22 2020 at 20:00)</a>:</h4>
<p>and I don't get any errors building libstd</p>



<a name="214240785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240785" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240785">(Oct 22 2020 at 20:00)</a>:</h4>
<p>however, when I build with <code>--stage 2</code></p>



<a name="214240817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240817" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240817">(Oct 22 2020 at 20:00)</a>:</h4>
<div class="codehilite"><pre><span></span><code>error: resulted from diverging fallback: ()
   --&gt; compiler/rustc_macros/src/session_diagnostic.rs:116:33
    |
116 |       ($span:expr, $msg:expr) =&gt; {{ throw_span_err!($span, $msg, |diag| diag) }};
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
450 | /                                             throw_span_err!(
451 | |                                                 info.span.clone().unwrap(),
452 | |                                                 &quot;type of field annotated with `#[suggestion(...)]` contains more t\
han one Span&quot;
453 | |                                             );
    | |______________________________________________- in this macro invocation
    |
    = note: `#[deny(fall_back_to_never_type)]` on by default
    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)
</code></pre></div>



<a name="214240823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240823" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240823">(Oct 22 2020 at 20:00)</a>:</h4>
<p>I see that</p>



<a name="214240837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214240837" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214240837">(Oct 22 2020 at 20:00)</a>:</h4>
<p>same as CI</p>



<a name="214241177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241177" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241177">(Oct 22 2020 at 20:02)</a>:</h4>
<p>naturally I can't reproduce that problem in a local test</p>



<a name="214241214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241214" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241214">(Oct 22 2020 at 20:03)</a>:</h4>
<p>that is, a minimized test</p>



<a name="214241216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241216" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241216">(Oct 22 2020 at 20:03)</a>:</h4>
<p>I see. That makes sense.</p>



<a name="214241285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241285" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241285">(Oct 22 2020 at 20:03)</a>:</h4>
<p>but point is I don't see anything in libstd</p>



<a name="214241294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241294" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241294">(Oct 22 2020 at 20:03)</a>:</h4>
<p>that's a bit confusing</p>



<a name="214241309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241309" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241309">(Oct 22 2020 at 20:03)</a>:</h4>
<p>I was giving the errors building  the tests and stage1 compilation didn't fail.</p>



<a name="214241396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241396" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241396">(Oct 22 2020 at 20:04)</a>:</h4>
<p>however</p>



<a name="214241415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241415" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241415">(Oct 22 2020 at 20:04)</a>:</h4>
<p>I can reproduce the problems building librustc_macros easily enough</p>



<a name="214241431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241431" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241431">(Oct 22 2020 at 20:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="128294">blitzerr</span> <a href="#narrow/stream/259160-t-lang.2Fproject-never-type/topic/meeting.202020-oct-15/near/214241309">said</a>:</p>
<blockquote>
<p>I was giving the errors building  the tests and stage1 compilation didn't fail.</p>
</blockquote>
<p>ah hmm</p>



<a name="214241445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241445" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241445">(Oct 22 2020 at 20:04)</a>:</h4>
<p>interesting</p>



<a name="214241446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241446" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241446">(Oct 22 2020 at 20:04)</a>:</h4>
<p>Maybe I can wipe off everything and try. I did do a clean earlier.</p>



<a name="214241455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241455" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241455">(Oct 22 2020 at 20:04)</a>:</h4>
<p>it might be related to <code>#[cfg(test)]</code> or something</p>



<a name="214241475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241475" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241475">(Oct 22 2020 at 20:05)</a>:</h4>
<p>anyway probably better to debug the librustc_macros case</p>



<a name="214241489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241489" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241489">(Oct 22 2020 at 20:05)</a>:</h4>
<p>because that crate is small and relatively easy to deal with</p>



<a name="214241515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214241515" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214241515">(Oct 22 2020 at 20:05)</a>:</h4>
<p>sounds good</p>



<a name="214335423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214335423" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214335423">(Oct 23 2020 at 16:33)</a>:</h4>
<p>It was weird, first time (after <code>rm -rf</code> on the <code>build</code> dir) all the library build passed for me and build for tests passed as well but some tests failed.<br>
But then when I do a build again it failed at the earlier place we both looked into last night</p>



<a name="214335461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/214335461" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#214335461">(Oct 23 2020 at 16:33)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="215012946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/215012946" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#215012946">(Oct 29 2020 at 19:02)</a>:</h4>
<p><span class="user-mention" data-user-id="128294">@blitzerr</span></p>



<a name="215013008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/meeting%202020-oct-15/near/215013008" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> blitzerr <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/meeting.202020-oct-15.html#215013008">(Oct 29 2020 at 19:02)</a>:</h4>
<p>hi <span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>