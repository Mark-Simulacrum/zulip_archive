<html>
<head><meta charset="utf-8"><title>`never` type alias for `!` · t-lang/project-never-type · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/index.html">t-lang/project-never-type</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html">`never` type alias for `!`</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="218884020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218884020" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218884020">(Dec 04 2020 at 20:01)</a>:</h4>
<p>Hi everyone,</p>



<a name="218884108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218884108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218884108">(Dec 04 2020 at 20:02)</a>:</h4>
<p>I did a little experiment of adding a type alias for <code>!</code> called <code>never</code>, which effectively renames the never type.<br>
<a href="https://github.com/rust-lang/rust/pull/79707">https://github.com/rust-lang/rust/pull/79707</a></p>



<a name="218884205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218884205" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218884205">(Dec 04 2020 at 20:02)</a>:</h4>
<p>What do you think about that idea?</p>



<a name="218884287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218884287" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218884287">(Dec 04 2020 at 20:03)</a>:</h4>
<p>So you can write</p>
<div class="codehilite"><pre><span></span><code>fn foo() -&gt; never {
    let x: never = panic!();
}
</code></pre></div>



<a name="218884520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218884520" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218884520">(Dec 04 2020 at 20:04)</a>:</h4>
<p>(Many details are in the PR)</p>



<a name="218884617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218884617" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218884617">(Dec 04 2020 at 20:05)</a>:</h4>
<p>the motivation seems a little weak IMO, I don't think ! is any more confusing than <code>@</code> in match bindings, and I'd expect it to be used about as frequently</p>



<a name="218884667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218884667" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218884667">(Dec 04 2020 at 20:06)</a>:</h4>
<p>that said since this is backwards compatible maybe that's not the worst thing, being able to google keywords is always nice</p>



<a name="218887723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218887723" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218887723">(Dec 04 2020 at 20:32)</a>:</h4>
<p><span class="user-mention" data-user-id="200368">@Julian-Wollersberger</span> Note that if you just want a name for it, you can use <code>std::convert::Infallible</code> -- that's currently its own empty enum, but the expectation is that it will change to a <code>type</code> alias for <code>!</code> when <code>!</code> stabilizes -- see <a href="https://github.com/rust-lang/rust/pull/79470#issuecomment-735391490">https://github.com/rust-lang/rust/pull/79470#issuecomment-735391490</a></p>
<p>For a lang perspective <code>fn foo() -&gt; ! { loop {} }</code> is already stable, so that would need to keep working with <code>!</code>, and having two names for the same thing is something that we'll generally not do without extraordinary motivation.  (Libs putting a type alias for this in the prelude is not impossible, but I think it's unlikely that they'd choose to do so.)</p>
<p>And note that you can already search for <code>!</code> in the docs to find out about it: <a href="https://doc.rust-lang.org/nightly/std/?search=!">https://doc.rust-lang.org/nightly/std/?search=!</a></p>
<p>Edit: gah, so hard to get the markdown link parser to include the <code>!</code>...</p>



<a name="218897550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218897550" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218897550">(Dec 04 2020 at 22:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/259160-t-lang.2Fproject-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60/near/218884617">said</a>:</p>
<blockquote>
<p>the motivation seems a little weak IMO, I don't think ! is any more confusing than <code>@</code> in match bindings, and I'd expect it to be used about as frequently</p>
</blockquote>
<p>This is also my biggest concern. It's an improvement to a very niche feature.</p>
<p>(Although I'd argue that "as confusing as @" is still confusing)</p>



<a name="218898332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218898332" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218898332">(Dec 04 2020 at 22:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125270">scottmcm</span> <a href="#narrow/stream/259160-t-lang.2Fproject-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60/near/218887723">said</a>:</p>
<blockquote>
<p>and having two names for the same thing is something that we'll generally not do without extraordinary motivation.  </p>
</blockquote>
<p>Yes, this would mean to then deprecate the old syntax, possibly make it a hard error in the next edition.</p>



<a name="218905097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218905097" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218905097">(Dec 04 2020 at 23:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="200368">Julian-Wollersberger</span> <a href="#narrow/stream/259160-t-lang.2Fproject-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60/near/218898332">said</a>:</p>
<blockquote>
<p>Yes, this would mean to then deprecate the old syntax, possibly make it a hard error in the next edition.</p>
</blockquote>
<p>I think the churn of it, even if <code>cargo fix</code>able, still needs superpowered motivation.</p>
<p>For example, <code>!</code> is used in the printed book &lt;<a href="https://doc.rust-lang.org/1.30.0/book/second-edition/ch19-04-advanced-types.html#the-never-type-that-never-returns">https://doc.rust-lang.org/1.30.0/book/second-edition/ch19-04-advanced-types.html#the-never-type-that-never-returns</a>&gt;.  Would it be the end of the world to follow that and get "it's spelled <code>never</code> now"? No.  But is it better <em>enough</em> to be worth it?  I'd say no.</p>
<p>(I think no matter what it's named, people will still end up in the docs for the difference between <code>()</code> and <code>!</code>, so as long as it's searchable I'm not too worried about the keypresses to get it.  Is it common enough to get a sigil?  No, probably not if I had a time machine, but oh well.)</p>



<a name="218915573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/259160-t-lang/project-never-type/topic/%60never%60%20type%20alias%20for%20%60%21%60/near/218915573" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isHavvy <a href="https://rust-lang.github.io/zulip_archive/stream/259160-t-lang/project-never-type/topic/.60never.60.20type.20alias.20for.20.60!.60.html#218915573">(Dec 05 2020 at 03:36)</a>:</h4>
<p>Isn't this what doc alias is for?</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>