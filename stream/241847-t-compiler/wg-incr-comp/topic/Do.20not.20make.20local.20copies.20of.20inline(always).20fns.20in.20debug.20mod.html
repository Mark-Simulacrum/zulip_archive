<html>
<head><meta charset="utf-8"><title>Do not make local copies of inline(always) fns in debug mod · t-compiler/wg-incr-comp · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/index.html">t-compiler/wg-incr-comp</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html">Do not make local copies of inline(always) fns in debug mod</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="210568291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/210568291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#210568291">(Sep 18 2020 at 19:57)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/76889">#76889</a></p>



<a name="210568351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/210568351" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#210568351">(Sep 18 2020 at 19:58)</a>:</h4>
<p>something that we were discussing with <span class="user-mention" data-user-id="125250">@Wesley Wiser</span></p>



<a name="210568376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/210568376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#210568376">(Sep 18 2020 at 19:58)</a>:</h4>
<p>I'm trying other things out but this one seems that could be an easy "win"</p>



<a name="210568390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/210568390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#210568390">(Sep 18 2020 at 19:58)</a>:</h4>
<p>although some other test regress a bit</p>



<a name="210640288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/210640288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#210640288">(Sep 19 2020 at 23:26)</a>:</h4>
<p>btw, I've left a different try here <a href="https://github.com/rust-lang/rust/issues/76896">#76896</a></p>



<a name="222344414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/222344414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#222344414">(Jan 11 2021 at 19:21)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> <span class="user-mention" data-user-id="116107">@davidtwco</span> I think we should revert this PR</p>



<a name="222344420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/222344420" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#222344420">(Jan 11 2021 at 19:21)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/76896#issuecomment-758097233">https://github.com/rust-lang/rust/pull/76896#issuecomment-758097233</a></p>



<a name="222344508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/222344508" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#222344508">(Jan 11 2021 at 19:22)</a>:</h4>
<p>cc <span class="user-group-mention" data-user-group-id="3282">@wg-incr-comp</span></p>



<a name="222344524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/222344524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#222344524">(Jan 11 2021 at 19:22)</a>:</h4>
<p>but let's agree on something here and I guess I can provide a new PR</p>



<a name="222344630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/222344630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#222344630">(Jan 11 2021 at 19:23)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="116015">@Alex Crichton</span>'s reasoning is convincing and so I'd be fine with seeing the PR reverted.</p>



<a name="222344762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/222344762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#222344762">(Jan 11 2021 at 19:24)</a>:</h4>
<p>yep, that was my reasoning too</p>



<a name="222344779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/222344779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#222344779">(Jan 11 2021 at 19:24)</a>:</h4>
<p>Yeah, let's revert but leave that issue open so we can track what needs to be done to land this again (if we can).</p>



<a name="222345672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Do%20not%20make%20local%20copies%20of%20inline%28always%29%20fns%20in%20debug%20mod/near/222345672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Do.20not.20make.20local.20copies.20of.20inline(always).20fns.20in.20debug.20mod.html#222345672">(Jan 11 2021 at 19:30)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/80922">#80922</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>