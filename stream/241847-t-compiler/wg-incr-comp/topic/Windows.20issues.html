<html>
<head><meta charset="utf-8"><title>Windows issues · t-compiler/wg-incr-comp · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/index.html">t-compiler/wg-incr-comp</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html">Windows issues</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="275437939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275437939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275437939">(Mar 15 2022 at 21:28)</a>:</h4>
<p>FWIW, this is how incremental build of rustc looks on my machine (using windows 8.1 as OS). <a href="/user_uploads/4715/PxLAAI_UGrkzce6BtB9Fkqlh/incremental-windows.png">incremental-windows.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/PxLAAI_UGrkzce6BtB9Fkqlh/incremental-windows.png" title="incremental-windows.png"><img src="/user_uploads/4715/PxLAAI_UGrkzce6BtB9Fkqlh/incremental-windows.png"></a></div>



<a name="275438046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275438046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275438046">(Mar 15 2022 at 21:29)</a>:</h4>
<p>Apparently some filesystem races or something similar is happening during incremental compilation on Windows.</p>



<a name="275438158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275438158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275438158">(Mar 15 2022 at 21:30)</a>:</h4>
<p>I've seen these warnings on Windows 10 too, but they happen much more rarely.</p>



<a name="275438206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275438206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275438206">(Mar 15 2022 at 21:30)</a>:</h4>
<p>do you have an IDE like vscode open on the rustc folder by any chance ?</p>



<a name="275438499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275438499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275438499">(Mar 15 2022 at 21:33)</a>:</h4>
<p>I do.</p>



<a name="275438660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275438660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275438660">(Mar 15 2022 at 21:34)</a>:</h4>
<p>I've also seen these happen in the same situation then, and the warnings disappeared when closing vscode. I'm wondering if it's its filewatching or something</p>



<a name="275439074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275439074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275439074">(Mar 15 2022 at 21:37)</a>:</h4>
<p>(or maybe rust-analyzer's if you also have that ?)</p>



<a name="275440098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275440098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275440098">(Mar 15 2022 at 21:46)</a>:</h4>
<p>I'm also using vscode but on Windows 11 and while I do occasionally see the "Error finalizing incremental compilation session" message (perhaps 1 out of 10 compiles), it's usually only one crate and I've never seen the other message.</p>



<a name="275440157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275440157" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275440157">(Mar 15 2022 at 21:46)</a>:</h4>
<p>We stash diagnostics and replay them which doesn't help in this situation <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="275482155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275482155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275482155">(Mar 16 2022 at 09:00)</a>:</h4>
<p>I've seen the "Error finalizing incremental compilation session" error too for a while now. <span class="user-mention" data-user-id="224872">@rylev</span> reported it back in July: <a href="https://github.com/rust-lang/rust/issues/86929">https://github.com/rust-lang/rust/issues/86929</a></p>
<p>I haven't seen the other issue yet. I'll assign the first one to me and see what I can do because that one I can reproduce pretty reliably.</p>



<a name="275482382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/Windows%20issues/near/275482382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/Windows.20issues.html#275482382">(Mar 16 2022 at 09:02)</a>:</h4>
<p>(FYI I'm still seeing the "Error finalizing incremental compilation session" error and I've also not seen the other issue)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>