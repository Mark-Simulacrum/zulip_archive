<html>
<head><meta charset="utf-8"><title>✔ HashStable for IndexMap · t-compiler/wg-incr-comp · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/index.html">t-compiler/wg-incr-comp</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/.E2.9C.94.20HashStable.20for.20IndexMap.html">✔ HashStable for IndexMap</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="272904035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/%E2%9C%94%20HashStable%20for%20IndexMap/near/272904035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/.E2.9C.94.20HashStable.20for.20IndexMap.html#272904035">(Feb 23 2022 at 04:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="316352">pierwill</span> has marked this topic as resolved.</p>



<a name="272924496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241847-t-compiler/wg-incr-comp/topic/%E2%9C%94%20HashStable%20for%20IndexMap/near/272924496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/241847-t-compiler/wg-incr-comp/topic/.E2.9C.94.20HashStable.20for.20IndexMap.html#272924496">(Feb 23 2022 at 09:41)</a>:</h4>
<blockquote>
<p>Is it totally insane to consider implementing HashStable for IndexMap&lt;T,U&gt; where T,U are HashStable? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>
</blockquote>
<p>It's not totally insane :) One just has to make sure that the IndexMap is filled in deterministic order, very similar to how Vec also supports HashStable. In some places we rely on Vecs being filled in deterministic order from the beginning, in others we sort them in a stable way before returning them as a query result. It's easy to overlook though.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>