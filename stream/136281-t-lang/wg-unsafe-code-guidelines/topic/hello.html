<html>
<head><meta charset="utf-8"><title>hello · t-lang/wg-unsafe-code-guidelines · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/index.html">t-lang/wg-unsafe-code-guidelines</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html">hello</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="131124266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/131124266" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Welcome Bot <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#131124266">(Aug 08 2018 at 18:14)</a>:</h4>
<p>Welcome to <a class="stream" data-stream-id="136281" href="/#narrow/stream/136281-wg-unsafe-code-guidelines">#wg-unsafe-code-guidelines</a>.</p>
<p><strong>Description</strong>: Discussing about what Unsafe Code means. Or doesn't.</p>



<a name="132537157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132537157" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132537157">(Aug 21 2018 at 19:34)</a>:</h4>
<p>perhaps a question more for libs team. is there an existing guideline for defining certain types of PRs using unsafe that should require a fcp, such as public data structures in std? would it make sense to require group reviews for changes such as <a href="https://github.com/rust-lang/rust/issues/52553" target="_blank" title="https://github.com/rust-lang/rust/issues/52553">#52553</a> ? (opened issues that followed: <a href="https://github.com/rust-lang/rust/issues/53529" target="_blank" title="https://github.com/rust-lang/rust/issues/53529">#53529</a> <a href="https://github.com/rust-lang/rust/issues/53564" target="_blank" title="https://github.com/rust-lang/rust/issues/53564">#53564</a> <a href="https://github.com/rust-lang/rust/issues/53566" target="_blank" title="https://github.com/rust-lang/rust/issues/53566">#53566</a>)</p>



<a name="132540956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132540956" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132540956">(Aug 21 2018 at 20:46)</a>:</h4>
<p>seems like a decent idea, but I'm not sure -- would definitely be something to ask the libs team</p>



<a name="132543956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132543956" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132543956">(Aug 21 2018 at 21:53)</a>:</h4>
<p><span class="user-mention" data-user-id="125246">@memoryruins</span> we have all the unsafe guidelines we need</p>
<div class="message_inline_image"><a href="https://i.stack.imgur.com/AJNGO.jpg" target="_blank" title="https://i.stack.imgur.com/AJNGO.jpg"><img src="https://i.stack.imgur.com/AJNGO.jpg"></a></div><div class="message_inline_image"><a href="https://i.stack.imgur.com/w9XMh.jpg" target="_blank" title="https://i.stack.imgur.com/w9XMh.jpg"><img src="https://i.stack.imgur.com/w9XMh.jpg"></a></div>



<a name="132544007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544007" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544007">(Aug 21 2018 at 21:54)</a>:</h4>
<p>Although <em>technically</em>, I reviewed that original PR somewhat, as did Simon. Simon is a smart programmer, I make no claims for myself.</p>



<a name="132544036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544036" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544036">(Aug 21 2018 at 21:55)</a>:</h4>
<p>I'd rather remove humans as much as possible. A combination of Miri + Valgrind + Proptest + Fuzzing would make me feel better.</p>



<a name="132544078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544078" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544078">(Aug 21 2018 at 21:56)</a>:</h4>
<p><span class="user-mention" data-user-id="125246">@memoryruins</span> my personal desire is to have a valgrind plugin that checks for UB; I can't say whether such a plugin would have caught those cases, as I'm not sure of the error... <span class="user-mention" data-user-id="120791">@RalfJ</span> is looking into this, however (the plugin, I mean)</p>



<a name="132544089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544089" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544089">(Aug 21 2018 at 21:56)</a>:</h4>
<p>I mean, some of the UB was already caught by Miri, just no one had ever run it before</p>



<a name="132544094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544094" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544094">(Aug 21 2018 at 21:56)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> what would such a plugin do that Valgrind doesn't already?</p>



<a name="132544096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544096" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544096">(Aug 21 2018 at 21:57)</a>:</h4>
<p>check Rust's aliasing rules</p>



<a name="132544101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544101" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544101">(Aug 21 2018 at 21:57)</a>:</h4>
<p>once we have them :)</p>



<a name="132544108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544108">(Aug 21 2018 at 21:57)</a>:</h4>
<p>Someone should start a team to construct those rules...</p>



<a name="132544109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544109" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544109">(Aug 21 2018 at 21:57)</a>:</h4>
<p>e.g., consider the add'l invariants described in <a href="https://www.ralfj.de/blog/2018/08/07/stacked-borrows.html" target="_blank" title="https://www.ralfj.de/blog/2018/08/07/stacked-borrows.html">the stacked borrows blog post</a></p>



<a name="132544181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544181" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544181">(Aug 21 2018 at 21:58)</a>:</h4>
<p>Why part of Valgrind instead of Miri? So that it catches codegen issues as well?</p>



<a name="132544189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544189" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544189">(Aug 21 2018 at 21:58)</a>:</h4>
<p>I'm reading blog now in case it's explained there</p>



<a name="132544191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544191" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544191">(Aug 21 2018 at 21:58)</a>:</h4>
<p>yes and so it can e.g. check C code</p>



<a name="132544202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544202" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544202">(Aug 21 2018 at 21:59)</a>:</h4>
<p>i.e., you could just run all your tests</p>



<a name="132544278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544278" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544278">(Aug 21 2018 at 22:00)</a>:</h4>
<blockquote>
<p>check C code</p>
</blockquote>
<p>huh... does linked C code need to uphold Rust's rules?</p>



<a name="132544280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544280" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544280">(Aug 21 2018 at 22:00)</a>:</h4>
<p>of course</p>



<a name="132544282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544282" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544282">(Aug 21 2018 at 22:00)</a>:</h4>
<p>if e.g. it has a ptr from Rust</p>



<a name="132544293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544293" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544293">(Aug 21 2018 at 22:01)</a>:</h4>
<p>if there is some memory that C code allocates and uses but never "escapes" to Rust</p>



<a name="132544295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544295" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544295">(Aug 21 2018 at 22:01)</a>:</h4>
<p>then we don't care</p>



<a name="132544298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544298" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544298">(Aug 21 2018 at 22:01)</a>:</h4>
<p>and the rules would not add any add'l constraints on such memory beyond what valgrind already checks</p>



<a name="132544351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544351" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544351">(Aug 21 2018 at 22:02)</a>:</h4>
<p>OK, the amount of interop there makes more sense. I was thinking you were including completely distinct code.</p>



<a name="132544431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132544431" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132544431">(Aug 21 2018 at 22:05)</a>:</h4>
<blockquote>
<p>An address in memory, and a tag used to store the time when the reference was created</p>
</blockquote>
<p>Time to get those custom fat pointers working ;-)</p>



<a name="132554208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132554208" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132554208">(Aug 22 2018 at 02:25)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> lmao those photos. i agree with your sentiments for combination of checks</p>



<a name="132554413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132554413" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132554413">(Aug 22 2018 at 02:32)</a>:</h4>
<p>would be more consistent than only a group review</p>



<a name="132554417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132554417" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132554417">(Aug 22 2018 at 02:32)</a>:</h4>
<p>very keen to what ralf discovers while looking into the plugin</p>



<a name="132554419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132554419" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132554419">(Aug 22 2018 at 02:32)</a>:</h4>
<p>awesome that miri caught it too</p>



<a name="132577619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132577619" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132577619">(Aug 22 2018 at 13:24)</a>:</h4>
<p>miri caught sth else though</p>



<a name="132577627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132577627" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132577627">(Aug 22 2018 at 13:24)</a>:</h4>
<p>uninitialized data used in <code>Debug</code></p>



<a name="132577876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132577876" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132577876">(Aug 22 2018 at 13:29)</a>:</h4>
<p>looking at <a href="https://play.rust-lang.org/?gist=7f32ef3123acb517dcfba377806f391f&amp;version=stable&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=7f32ef3123acb517dcfba377806f391f&amp;version=stable&amp;mode=debug&amp;edition=2015">https://play.rust-lang.org/?gist=7f32ef3123acb517dcfba377806f391f&amp;version=stable&amp;mode=debug&amp;edition=2015</a>, miri does not see anything... strange. or is that using a libstd without the broken VecDeque?</p>



<a name="132577921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132577921" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132577921">(Aug 22 2018 at 13:30)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> is there any way for me to see which nightly this miri is using?</p>



<a name="132577967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132577967" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132577967">(Aug 22 2018 at 13:31)</a>:</h4>
<p>ah yes, locally it finds the problem :D</p>



<a name="132578270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578270" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578270">(Aug 22 2018 at 13:36)</a>:</h4>
<p>Not trivially <a href="https://github.com/integer32llc/rust-playground/issues/300" target="_blank" title="https://github.com/integer32llc/rust-playground/issues/300">https://github.com/integer32llc/rust-playground/issues/300</a></p>



<a name="132578294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578294" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578294">(Aug 22 2018 at 13:37)</a>:</h4>
<p>You can look at <a href="https://travis-ci.org/integer32llc/rust-playground" target="_blank" title="https://travis-ci.org/integer32llc/rust-playground">the build status</a></p>



<a name="132578364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578364" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578364">(Aug 22 2018 at 13:38)</a>:</h4>
<p>Add see that <code>error: `rust-src` component not found. Run `rustup component add rust-src`.</code></p>



<a name="132578369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578369" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578369">(Aug 22 2018 at 13:38)</a>:</h4>
<p>which doesn't make any damn sense</p>



<a name="132578376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578376" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578376">(Aug 22 2018 at 13:38)</a>:</h4>
<p>considering it was installed a few lines earlier</p>



<a name="132578491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578491" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578491">(Aug 22 2018 at 13:40)</a>:</h4>
<p>hm I see. well I noticed that for nightlies it shows the commit, but doesn't show the toolchain name either</p>



<a name="132578499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578499" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578499">(Aug 22 2018 at 13:40)</a>:</h4>
<p>of course, with toolchain name != version shown by <code>rustc --version</code>, this is also not easy</p>



<a name="132578546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578546" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578546">(Aug 22 2018 at 13:41)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> that's a strange error indeed... I'd expect a build failure, but it doesn't even try to build miri?</p>



<a name="132578612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578612" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578612">(Aug 22 2018 at 13:42)</a>:</h4>
<p>oh I think I know what is happening</p>



<a name="132578621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578621" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578621">(Aug 22 2018 at 13:42)</a>:</h4>
<p>this is probably related to <a href="https://github.com/solson/miri/blob/master/rust-toolchain" target="_blank" title="https://github.com/solson/miri/blob/master/rust-toolchain">https://github.com/solson/miri/blob/master/rust-toolchain</a></p>



<a name="132578622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578622" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578622">(Aug 22 2018 at 13:42)</a>:</h4>
<p>I've disabled build failures (there's a <code>|| true</code>) because I don't want a failure in a tool to prevent deploying the UI. I should change it so it shows up as red in travis though</p>



<a name="132578638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578638" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578638">(Aug 22 2018 at 13:43)</a>:</h4>
<p>I am still not sure what the best solution is there</p>



<a name="132578645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578645" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578645">(Aug 22 2018 at 13:43)</a>:</h4>
<p>I'd like someone downloading miri to know a nightly version they can use</p>



<a name="132578653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578653" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578653">(Aug 22 2018 at 13:43)</a>:</h4>
<p>so currently we put that into rust-toolchain, which means that gets used automatically by rustup</p>



<a name="132578667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578667" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578667">(Aug 22 2018 at 13:44)</a>:</h4>
<p>people that absolutely want to use the latest nightly are supposed to do <code>rustup override set nightly</code></p>



<a name="132578702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578702" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578702">(Aug 22 2018 at 13:44)</a>:</h4>
<p>mmm. My build should /probably/ ignore that</p>



<a name="132578712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578712" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578712">(Aug 22 2018 at 13:44)</a>:</h4>
<p>yeah I think it should do that override</p>



<a name="132578728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578728" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578728">(Aug 22 2018 at 13:44)</a>:</h4>
<p>currently it doesnt find rust-src for the nightly-XXXX toolchain, hence the error</p>



<a name="132578746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578746" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578746">(Aug 22 2018 at 13:45)</a>:</h4>
<p>that error would remain even when we get miri green again</p>



<a name="132578767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578767" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578767">(Aug 22 2018 at 13:45)</a>:</h4>
<blockquote>
<p>should change it so it shows up as red in travis though</p>
</blockquote>
<p>I think travis has an option to ignore failing some tasks</p>



<a name="132578819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578819" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578819">(Aug 22 2018 at 13:46)</a>:</h4>
<p>so then you could remove the <code>|| true</code> such that travis knows the actual state, but still keep deploying the rest</p>



<a name="132578829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578829" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578829">(Aug 22 2018 at 13:46)</a>:</h4>
<p>it does; i just never set it up (or it wasn't present when I set it up x years ago)</p>



<a name="132578841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132578841" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132578841">(Aug 22 2018 at 13:46)</a>:</h4>
<p><a href="https://github.com/integer32llc/rust-playground/issues/387" target="_blank" title="https://github.com/integer32llc/rust-playground/issues/387">https://github.com/integer32llc/rust-playground/issues/387</a></p>



<a name="132579133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579133">(Aug 22 2018 at 13:52)</a>:</h4>
<p>The trick is that the playground doesn't use a build matrix directly. It uses build stages, which doesn't <em>obviously</em> have a fail is ok config</p>



<a name="132579191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579191" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579191">(Aug 22 2018 at 13:53)</a>:</h4>
<p>hm yeah</p>



<a name="132579233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579233" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579233">(Aug 22 2018 at 13:54)</a>:</h4>
<p>I tried to match the syntax but that doesn't seem right^^</p>



<a name="132579241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579241" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579241">(Aug 22 2018 at 13:54)</a>:</h4>
<p>of course they dont have a working syntax checker :/</p>



<a name="132579248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579248" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579248">(Aug 22 2018 at 13:54)</a>:</h4>
<p><a href="https://github.com/travis-ci/travis-ci/issues/7789" target="_blank" title="https://github.com/travis-ci/travis-ci/issues/7789">https://github.com/travis-ci/travis-ci/issues/7789</a></p>



<a name="132579249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579249" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579249">(Aug 22 2018 at 13:54)</a>:</h4>
<p>I'll just remove the 2nd commit</p>



<a name="132579277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579277">(Aug 22 2018 at 13:55)</a>:</h4>
<p>oh, you cant fix that anyway. PRs don't build containers ;-)</p>



<a name="132579296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579296" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579296">(Aug 22 2018 at 13:55)</a>:</h4>
<p>dang^^</p>



<a name="132579301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579301" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579301">(Aug 22 2018 at 13:55)</a>:</h4>
<p>wow so I have to <em>repeat</em> the allowed-to-fail config?</p>



<a name="132579303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579303" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579303">(Aug 22 2018 at 13:55)</a>:</h4>
<p>wtf</p>



<a name="132579403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579403" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579403">(Aug 22 2018 at 13:58)</a>:</h4>
<p>So I guess that would be the right syntax?</p>



<a name="132579443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579443" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579443">(Aug 22 2018 at 13:58)</a>:</h4>
<p>When I originally set it up, there definitely wasn't a way to skip build stages, which there is now</p>



<a name="132579447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579447" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579447">(Aug 22 2018 at 13:58)</a>:</h4>
<p>so that's another thing I wanted to revisit</p>



<a name="132579452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579452" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579452">(Aug 22 2018 at 13:58)</a>:</h4>
<p><a href="https://github.com/integer32llc/rust-playground/pull/388/commits/69347ef8aa022ae377beefe1dd3a79feff512ac3" target="_blank" title="https://github.com/integer32llc/rust-playground/pull/388/commits/69347ef8aa022ae377beefe1dd3a79feff512ac3">https://github.com/integer32llc/rust-playground/pull/388/commits/69347ef8aa022ae377beefe1dd3a79feff512ac3</a></p>



<a name="132579558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579558" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579558">(Aug 22 2018 at 14:00)</a>:</h4>
<p>hm not sure if I have to repeat the script part</p>



<a name="132579619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579619" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579619">(Aug 22 2018 at 14:01)</a>:</h4>
<p>but how else is it going to match?^^</p>



<a name="132579638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579638" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579638">(Aug 22 2018 at 14:01)</a>:</h4>
<p>why couldnt they just add a "allow_fail: true" to the individual job yml?!?</p>



<a name="132579864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579864" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579864">(Aug 22 2018 at 14:05)</a>:</h4>
<p>The travis YML is a prime example of organically grown software with many opposed requirements</p>



<a name="132579921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579921" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579921">(Aug 22 2018 at 14:06)</a>:</h4>
<p>and no clear design</p>



<a name="132579979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132579979" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132579979">(Aug 22 2018 at 14:07)</a>:</h4>
<p>OTOH, at least they have matrices, which I wish gitlab CI had as well...</p>



<a name="132580077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132580077" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132580077">(Aug 22 2018 at 14:09)</a>:</h4>
<p>oh dang... yaml why are you so annoying</p>



<a name="132580086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132580086" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132580086">(Aug 22 2018 at 14:09)</a>:</h4>
<p>turns out <code>false</code> is not the program false, but parsed as boolean</p>



<a name="132647828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132647828" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> alercah <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132647828">(Aug 23 2018 at 16:36)</a>:</h4>
<p>Why Valgrind and not a sanitizer?</p>



<a name="132650443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello/near/132650443" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/hello.html#132650443">(Aug 23 2018 at 17:30)</a>:</h4>
<p>I don't really draw a strong line between those two, actually. :P But I do want something that can enforce the stacked  borrows rules, which requires some "shadow memory" and so forth.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>