<html>
<head><meta charset="utf-8"><title>meeting-2019-04-11 · t-lang/wg-unsafe-code-guidelines · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/index.html">t-lang/wg-unsafe-code-guidelines</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html">meeting-2019-04-11</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="163108862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163108862" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163108862">(Apr 11 2019 at 15:14)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="810">@WG-unsafe-code-guidelines</span> !</p>



<a name="163108890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163108890" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Jeffrey <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163108890">(Apr 11 2019 at 15:15)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="163109068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109068" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109068">(Apr 11 2019 at 15:17)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <span class="user-mention" data-user-id="132920">@gnzlbg</span> <span class="user-mention" data-user-id="126854">@avadacatavra</span></p>



<a name="163109090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109090" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109090">(Apr 11 2019 at 15:17)</a>:</h4>
<p>is there anything to discuss? we have two open PRs by <span class="user-mention" data-user-id="132920">@gnzlbg</span></p>



<a name="163109158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109158">(Apr 11 2019 at 15:18)</a>:</h4>
<p>and also the GH pages book publishing thing still doesnt work, AFAIK</p>



<a name="163109171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109171" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109171">(Apr 11 2019 at 15:18)</a>:</h4>
<p>not sure who can do what about that though</p>



<a name="163109250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109250" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109250">(Apr 11 2019 at 15:19)</a>:</h4>
<p>Also sorry for just missing last week's meeting, I was travelling and forget to tell y'all. I guess today I get to see how that feels from the other side ;)</p>



<a name="163109447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109447" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109447">(Apr 11 2019 at 15:21)</a>:</h4>
<p><span aria-label="hi" class="emoji emoji-1f44b" role="img" title="hi">:hi:</span></p>



<a name="163109461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109461" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109461">(Apr 11 2019 at 15:21)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="163109465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109465" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109465">(Apr 11 2019 at 15:21)</a>:</h4>
<p>I'm back from traveling and things too this week</p>



<a name="163109484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109484" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109484">(Apr 11 2019 at 15:22)</a>:</h4>
<blockquote>
<p>and also the GH pages book publishing thing still doesnt work, AFAIK</p>
</blockquote>
<p>ok sorry this is probably my fault</p>



<a name="163109587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109587" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109587">(Apr 11 2019 at 15:22)</a>:</h4>
<p>i couldn't manage to properly update the deploy key to travis</p>



<a name="163109593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109593" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109593">(Apr 11 2019 at 15:22)</a>:</h4>
<p>OK, let me see if I can fix it.</p>



<a name="163109613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109613" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109613">(Apr 11 2019 at 15:22)</a>:</h4>
<p>:)</p>



<a name="163109615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109615" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109615">(Apr 11 2019 at 15:22)</a>:</h4>
<p><span class="user-mention" data-user-id="132920">@gnzlbg</span> what is the status of your PRs?</p>



<a name="163109616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109616" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109616">(Apr 11 2019 at 15:22)</a>:</h4>
<p>alex mentioned that we shouldn't use github tokens, but deploy keys instead</p>



<a name="163109634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109634" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109634">(Apr 11 2019 at 15:23)</a>:</h4>
<p>i don't remember what those were about</p>



<a name="163109660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109660" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109660">(Apr 11 2019 at 15:23)</a>:</h4>
<p>Oh? (cc <span class="user-mention" data-user-id="116015">@Alex Crichton</span>) I don't know anything about deploying keys</p>



<a name="163109661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109661" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109661">(Apr 11 2019 at 15:23)</a>:</h4>
<blockquote>
<p>If <code>T</code> is sized, references and pointers to <code>T</code> have a size and alignment of one<br>
word and have therefore the same layout as C pointers.</p>
</blockquote>



<a name="163109687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109687" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109687">(Apr 11 2019 at 15:23)</a>:</h4>
<p><a href="https://github.com/rust-lang/unsafe-code-guidelines/pull/100" target="_blank" title="https://github.com/rust-lang/unsafe-code-guidelines/pull/100">https://github.com/rust-lang/unsafe-code-guidelines/pull/100</a></p>



<a name="163109693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109693" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109693">(Apr 11 2019 at 15:23)</a>:</h4>
<p>seems fine to merge?</p>



<a name="163109766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109766" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109766">(Apr 11 2019 at 15:24)</a>:</h4>
<p>nobody complained for 4 weeks^^</p>



<a name="163109771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109771" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109771">(Apr 11 2019 at 15:24)</a>:</h4>
<p>That one seems to just fix an omission in the layout of ptrs sections, right ?</p>



<a name="163109780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109780">(Apr 11 2019 at 15:24)</a>:</h4>
<p>I guess so</p>



<a name="163109787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109787" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109787">(Apr 11 2019 at 15:24)</a>:</h4>
<p>that seems fine to me except i'm not sure about the word "word"</p>



<a name="163109798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109798" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109798">(Apr 11 2019 at 15:24)</a>:</h4>
<p>like, is that defined and well understood?</p>



<a name="163109808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109808" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109808">(Apr 11 2019 at 15:24)</a>:</h4>
<p>I guess "same as C pointers" is pretty clear :)</p>



<a name="163109817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109817" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109817">(Apr 11 2019 at 15:25)</a>:</h4>
<p>that term is also used a lot in the same document</p>



<a name="163109829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109829" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109829">(Apr 11 2019 at 15:25)</a>:</h4>
<p>ok</p>



<a name="163109833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109833" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109833">(Apr 11 2019 at 15:25)</a>:</h4>
<p>then fine</p>



<a name="163109836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109836" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109836">(Apr 11 2019 at 15:25)</a>:</h4>
<p>but I agree with the concern</p>



<a name="163109848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109848" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109848">(Apr 11 2019 at 15:25)</a>:</h4>
<p>good question, word size == pointer size, but maybe we should just define word somewhere as "something pointer sized"</p>



<a name="163109857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109857" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109857">(Apr 11 2019 at 15:25)</a>:</h4>
<p>in that case it seems redundant there</p>



<a name="163109869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109869" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109869">(Apr 11 2019 at 15:25)</a>:</h4>
<p>seems worth adding to the "terminology" section that this document has</p>



<a name="163109900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109900" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109900">(Apr 11 2019 at 15:26)</a>:</h4>
<p>is that universally correct? like, I am thinking of CHERI here</p>



<a name="163109945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109945" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109945">(Apr 11 2019 at 15:26)</a>:</h4>
<p>or we should just not use "word" and just say "pointer-sized", size of a pointer, etc.</p>



<a name="163109958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109958" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109958">(Apr 11 2019 at 15:26)</a>:</h4>
<p>i mean, in CHERI pointers are 128-bit wide, that would be true for both Rust and C</p>



<a name="163109981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109981" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109981">(Apr 11 2019 at 15:26)</a>:</h4>
<p>yes but does that really make CHERI's word size 128 bits</p>



<a name="163109997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163109997" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163109997">(Apr 11 2019 at 15:27)</a>:</h4>
<p>so.. a word in CHERI would be 128-bit i suppose, this is confusiong, I really would prefer to just talk about pointer sizes</p>



<a name="163110015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110015" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110015">(Apr 11 2019 at 15:27)</a>:</h4>
<p>I'd imagine for, e.g. CHERI-MIPS if this is 64bit MIPS with CHERI extensions, the word size would still be considered 64bits</p>



<a name="163110016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110016">(Apr 11 2019 at 15:27)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <span class="user-mention" data-user-id="132920">@gnzlbg</span> I'd prioritize getting something working, but if you're setting up CI I'd recommend using a deploy key instead of a token so it's scoped to just one repo rather than "all repos the user who created the token has access to"</p>



<a name="163110051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110051" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110051">(Apr 11 2019 at 15:27)</a>:</h4>
<p>but maybe that's too weird to be a concern right now</p>



<a name="163110055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110055" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110055">(Apr 11 2019 at 15:27)</a>:</h4>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span>  that's what I did, but I don't appear to have enough permission to upload the deploy key to travis or something like that</p>



<a name="163110064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110064" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110064">(Apr 11 2019 at 15:28)</a>:</h4>
<p>and for Rust, "word" = "size of usize"</p>



<a name="163110142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110142" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110142">(Apr 11 2019 at 15:28)</a>:</h4>
<p>anyway that's a separate PR/issue, let's merge this one</p>



<a name="163110152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110152" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110152">(Apr 11 2019 at 15:28)</a>:</h4>
<p>maybe we should just open an issue about the word "word" and either add it to the glossary, or remove it. IIRC that was the only document that uses it</p>



<a name="163110187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110187" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110187">(Apr 11 2019 at 15:29)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> do you want to do that?</p>



<a name="163110310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110310">(Apr 11 2019 at 15:30)</a>:</h4>
<p>the other PR is <a href="https://github.com/rust-lang/unsafe-code-guidelines/pull/98" target="_blank" title="https://github.com/rust-lang/unsafe-code-guidelines/pull/98">https://github.com/rust-lang/unsafe-code-guidelines/pull/98</a>. That diff is hard to read because it also moves stuff around.</p>



<a name="163110336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110336" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110336">(Apr 11 2019 at 15:31)</a>:</h4>
<p>and then it <em>also</em> does the "maximal object size" thing</p>



<a name="163110338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110338" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110338">(Apr 11 2019 at 15:31)</a>:</h4>
<p><a href="https://github.com/rust-lang/unsafe-code-guidelines/issues/109" target="_blank" title="https://github.com/rust-lang/unsafe-code-guidelines/issues/109">https://github.com/rust-lang/unsafe-code-guidelines/issues/109</a></p>



<a name="163110377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110377" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110377">(Apr 11 2019 at 15:31)</a>:</h4>
<p>we don't guarantee anything about "maximal object size" there I think, just document how its currently implemented</p>



<a name="163110458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110458">(Apr 11 2019 at 15:32)</a>:</h4>
<p>so the <code>uint8_t == u8</code> etc seems <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> to me</p>



<a name="163110462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110462" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110462">(Apr 11 2019 at 15:32)</a>:</h4>
<p>I'm skimming the rest</p>



<a name="163110469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110469" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110469">(Apr 11 2019 at 15:32)</a>:</h4>
<p>there is an issue open about whether we should guarantee anything at all about the maximum size of Rust objects or not: <a href="https://github.com/rust-lang/unsafe-code-guidelines/issues/102" target="_blank" title="https://github.com/rust-lang/unsafe-code-guidelines/issues/102">https://github.com/rust-lang/unsafe-code-guidelines/issues/102</a></p>



<a name="163110482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110482" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110482">(Apr 11 2019 at 15:32)</a>:</h4>
<p>well it says something about "the maximum size of Rust _values_ is limited to <code>isize::max_value()</code>"</p>



<a name="163110520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110520" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110520">(Apr 11 2019 at 15:33)</a>:</h4>
<p>sure, but it says so in a n"ote: in the current implementation..."... right?</p>



<a name="163110526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110526" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110526">(Apr 11 2019 at 15:33)</a>:</h4>
<p>yes</p>



<a name="163110533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110533" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110533">(Apr 11 2019 at 15:33)</a>:</h4>
<p>but then there was this discussion about "value" or "object" or "allocation" or whatever</p>



<a name="163110539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110539" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110539">(Apr 11 2019 at 15:33)</a>:</h4>
<p>There was a thread there were we decided to not guarantee anything</p>



<a name="163110556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110556" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110556">(Apr 11 2019 at 15:33)</a>:</h4>
<p>That's <a href="https://github.com/rust-lang/unsafe-code-guidelines/pull/40" target="_blank" title="https://github.com/rust-lang/unsafe-code-guidelines/pull/40">https://github.com/rust-lang/unsafe-code-guidelines/pull/40</a></p>



<a name="163110619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110619" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110619">(Apr 11 2019 at 15:34)</a>:</h4>
<p>no its <a href="https://github.com/rust-lang/unsafe-code-guidelines/pull/98#discussion_r266196387" target="_blank" title="https://github.com/rust-lang/unsafe-code-guidelines/pull/98#discussion_r266196387">https://github.com/rust-lang/unsafe-code-guidelines/pull/98#discussion_r266196387</a></p>



<a name="163110621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110621" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110621">(Apr 11 2019 at 15:34)</a>:</h4>
<p>once that is merged, somebody needs to do a pass through the whole document, and make it consistent</p>



<a name="163110648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110648" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110648">(Apr 11 2019 at 15:34)</a>:</h4>
<p>I concur with what <span class="user-mention" data-user-id="124289">@rkruppe</span> says there</p>



<a name="163110665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110665" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110665">(Apr 11 2019 at 15:35)</a>:</h4>
<p>"allocations" (on the heap, the stack or elsewhere) are the better term</p>



<a name="163110695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110695" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110695">(Apr 11 2019 at 15:35)</a>:</h4>
<p>in particular, the limit applies even to just calling the <code>alloc</code> function without putting any "value" into it</p>



<a name="163110708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110708" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110708">(Apr 11 2019 at 15:35)</a>:</h4>
<p>shouldn't that be places ?</p>



<a name="163110732"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110732" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110732">(Apr 11 2019 at 15:35)</a>:</h4>
<p>places are an ephemeral concept arising during evaluation of some statements</p>



<a name="163110739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110739" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110739">(Apr 11 2019 at 15:35)</a>:</h4>
<p>also this affects the size of temporaries without a real place</p>



<a name="163110805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110805" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110805">(Apr 11 2019 at 15:36)</a>:</h4>
<p>(I think, e.g., if an expression produces a value that's too large)</p>



<a name="163110842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110842" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110842">(Apr 11 2019 at 15:36)</a>:</h4>
<blockquote>
<p>"allocations" (on the heap, the stack or elsewhere) are the better term</p>
</blockquote>
<p>this sounds correct to me too; but modulo the terminology, the overall approach of the PR seems right (documenting limits + current behavior)</p>



<a name="163110871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110871" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110871">(Apr 11 2019 at 15:37)</a>:</h4>
<p>on the LLVM level there is no such thing as a "value" not backed by an allocation</p>



<a name="163110886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110886" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110886">(Apr 11 2019 at 15:37)</a>:</h4>
<p>and on MIR ?</p>



<a name="163110903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110903" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110903">(Apr 11 2019 at 15:37)</a>:</h4>
<p>let me go look that up in the MIR spec... ;)</p>



<a name="163110905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110905" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110905">(Apr 11 2019 at 15:37)</a>:</h4>
<p>in Miri, there is not</p>



<a name="163110918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110918" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110918">(Apr 11 2019 at 15:37)</a>:</h4>
<p>but there are different ways to write the spec</p>



<a name="163110946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110946" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110946">(Apr 11 2019 at 15:37)</a>:</h4>
<p>this is a limit on the size of the result of any expression as well</p>



<a name="163110982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163110982" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163110982">(Apr 11 2019 at 15:38)</a>:</h4>
<p>(well, there is not except for "immediates", which are basically scalars, plus fat pointers)</p>



<a name="163111010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111010" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111010">(Apr 11 2019 at 15:38)</a>:</h4>
<p>yes but that result is put into an allocation</p>



<a name="163111013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111013" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111013">(Apr 11 2019 at 15:38)</a>:</h4>
<p>so the term covers that case</p>



<a name="163111051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111051" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111051">(Apr 11 2019 at 15:38)</a>:</h4>
<p>so what's the difference between an allocation and a place ?</p>



<a name="163111052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111052" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111052">(Apr 11 2019 at 15:38)</a>:</h4>
<p>we should probably come back to this once <a href="https://github.com/rust-lang/unsafe-code-guidelines/issues/40" target="_blank" title="https://github.com/rust-lang/unsafe-code-guidelines/issues/40">ucg#40</a> is resolved</p>



<a name="163111060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111060" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111060">(Apr 11 2019 at 15:38)</a>:</h4>
<p>an allocation is an entity in the machine state</p>



<a name="163111072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111072" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111072">(Apr 11 2019 at 15:38)</a>:</h4>
<p>it has properties such as alignment, size, blah</p>



<a name="163111118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111118" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111118">(Apr 11 2019 at 15:39)</a>:</h4>
<p>a place arises ephemerally during evaluation of a statement, and is basically a synonym for "location" (!= allocation)</p>



<a name="163111153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111153" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111153">(Apr 11 2019 at 15:39)</a>:</h4>
<p>in particular a place can point to part of an allocation, like <code>&amp;(1,2).1</code></p>



<a name="163111227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111227" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111227">(Apr 11 2019 at 15:40)</a>:</h4>
<p>i think we should document that in the glossary, I'll change the PR to say allocation there, and then I'll merge</p>



<a name="163111245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111245" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111245">(Apr 11 2019 at 15:40)</a>:</h4>
<p>well we can document this once we resolved <a href="https://github.com/rust-lang/unsafe-code-guidelines/issues/40" target="_blank" title="https://github.com/rust-lang/unsafe-code-guidelines/issues/40">ucg#40</a> I guess^^</p>



<a name="163111262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111262" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111262">(Apr 11 2019 at 15:40)</a>:</h4>
<p>and for the bigger picture, once we get a MIR spec</p>



<a name="163111266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111266" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111266">(Apr 11 2019 at 15:41)</a>:</h4>
<p>i think we can add the definition of "allocation" in parallel right ?</p>



<a name="163111300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111300" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111300">(Apr 11 2019 at 15:41)</a>:</h4>
<p>but judging from how long it takes us to agree on 1 term, the expected time to agree on the framework of terminology in a MIR spec is &gt;10 years :P</p>



<a name="163111425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111425" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111425">(Apr 11 2019 at 15:42)</a>:</h4>
<p>I find it hard to "define" allocation. for me "define" is something mathematical, and to do taht you cannot just define one thing... allocation talks about memory, so you got to define that, and at that point you basically have to define the entire machine model.</p>



<a name="163111468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111468" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111468">(Apr 11 2019 at 15:43)</a>:</h4>
<p>we can "define" in the sense of "putting down some hand-wavy English sentences" but I see little value in that for terms like "allocation", TBH...</p>



<a name="163111498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111498" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111498">(Apr 11 2019 at 15:43)</a>:</h4>
<p>but that is a separate discussion ;)</p>



<a name="163111524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111524" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111524">(Apr 11 2019 at 15:43)</a>:</h4>
<p>I think using the term allocation seems good for now. I agree it's meaning seems fairly clear, but I also think defining in the sense of giving a few examples of allocations seems harmless</p>



<a name="163111548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111548" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111548">(Apr 11 2019 at 15:44)</a>:</h4>
<p>in particular it's probably worth pointing out that this is not restrictied to "things returned by malloc"</p>



<a name="163111589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111589" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111589">(Apr 11 2019 at 15:44)</a>:</h4>
<p>but includes e.g. stack slots</p>



<a name="163111596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111596" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111596">(Apr 11 2019 at 15:44)</a>:</h4>
<p>i've updated the PR</p>



<a name="163111646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111646" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111646">(Apr 11 2019 at 15:44)</a>:</h4>
<p>something else: when we had the lang team sync discussion, one thing I took away was the need for us to not only document <em>conclusions</em> but also the <em>considerations</em> that led to those conclusions</p>



<a name="163111651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111651" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111651">(Apr 11 2019 at 15:44)</a>:</h4>
<p>I don't thnk we've done much in that direction so far, right?</p>



<a name="163111687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111687" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111687">(Apr 11 2019 at 15:45)</a>:</h4>
<p>its in the issues and PRs, but its not part of a document</p>



<a name="163111703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111703" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111703">(Apr 11 2019 at 15:45)</a>:</h4>
<p>right, the key point was to extract out from the issues and into the document</p>



<a name="163111710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111710" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111710">(Apr 11 2019 at 15:45)</a>:</h4>
<p>or into <em>a</em> document</p>



<a name="163111717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111717" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111717">(Apr 11 2019 at 15:45)</a>:</h4>
<p>maybe it would be nice to have like drop-down rationale lists that can be expanded to read the rationale of things</p>



<a name="163111730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111730" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111730">(Apr 11 2019 at 15:45)</a>:</h4>
<p>i mean, inline within the documents</p>



<a name="163111737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111737" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111737">(Apr 11 2019 at 15:45)</a>:</h4>
<p>we could use <code>&lt;details&gt;</code> for that?</p>



<a name="163111739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111739" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111739">(Apr 11 2019 at 15:45)</a>:</h4>
<p>I think we were talking about having separate sections</p>



<a name="163111745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111745" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111745">(Apr 11 2019 at 15:46)</a>:</h4>
<p>but I'm game for details if that works =)</p>



<a name="163111835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111835" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111835">(Apr 11 2019 at 15:46)</a>:</h4>
<p>i think i would prefer to have the rationale of each section (or each paragraph) "inline" so that one can quickly read it for the parts that might be unclear, and also make it easy to update.</p>



<a name="163111872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111872" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111872">(Apr 11 2019 at 15:47)</a>:</h4>
<p>for C++ the rationale was in a different document, and now its 20 years out of date</p>



<a name="163111975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163111975" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163111975">(Apr 11 2019 at 15:48)</a>:</h4>
<p>got to go to catch a bus, thanks all!</p>



<a name="163112033"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163112033" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163112033">(Apr 11 2019 at 15:49)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span>  collecting the whole rationale is going to be a lot of work, for things that stem from RFCs, there was a lot of discussion in the PRs, which is not necessarily accounted for in the RFC rationale and alternatives</p>



<a name="163112096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163112096" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163112096">(Apr 11 2019 at 15:50)</a>:</h4>
<p>yep</p>



<a name="163112146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163112146" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163112146">(Apr 11 2019 at 15:50)</a>:</h4>
<p>luckily almost none of this comes from RFCs :P</p>



<a name="163112161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163112161" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163112161">(Apr 11 2019 at 15:50)</a>:</h4>
<p>(fwiw I think this is a place where our RFC process needs to be updated too)</p>



<a name="163112171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163112171" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163112171">(Apr 11 2019 at 15:50)</a>:</h4>
<p>to do a better job of this</p>



<a name="163112187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163112187" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163112187">(Apr 11 2019 at 15:50)</a>:</h4>
<p>anyway as a first step maybe we can just try to make a <em>list</em> of places we might want to add rationale</p>



<a name="163112675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163112675" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163112675">(Apr 11 2019 at 15:57)</a>:</h4>
<p>in many places the rationale is "there wasn't any other reasonable option"</p>



<a name="163112793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163112793" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163112793">(Apr 11 2019 at 15:58)</a>:</h4>
<p>should we document those as well ?</p>



<a name="163112895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163112895" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163112895">(Apr 11 2019 at 15:59)</a>:</h4>
<p>seems like it would be valuable to docuent</p>



<a name="163112965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163112965" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hanna Kruppe <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163112965">(Apr 11 2019 at 16:00)</a>:</h4>
<p>In some cases there are "unreasonable" alternatives that were brought up and dismissed, we should document the reasons why they're considered unreasonable.</p>



<a name="163115704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163115704" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163115704">(Apr 11 2019 at 16:31)</a>:</h4>
<p><a href="https://github.com/rust-lang/unsafe-code-guidelines/pull/110" target="_blank" title="https://github.com/rust-lang/unsafe-code-guidelines/pull/110">https://github.com/rust-lang/unsafe-code-guidelines/pull/110</a> shows an example of how that could look like</p>



<a name="163115766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163115766" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163115766">(Apr 11 2019 at 16:32)</a>:</h4>
<p>maybe we could make the rationale labels a bit smaller</p>



<a name="163115835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11/near/163115835" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/136281-t-lang/wg-unsafe-code-guidelines/topic/meeting-2019-04-11.html#163115835">(Apr 11 2019 at 16:33)</a>:</h4>
<p>Collapsed:</p>
<p><a href="/user_uploads/4715/xNASdDFJosO9A1qRF8JKELtS/collapsed.png" target="_blank" title="collapsed.png">collapsed.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/xNASdDFJosO9A1qRF8JKELtS/collapsed.png" target="_blank" title="collapsed.png"><img src="/user_uploads/4715/xNASdDFJosO9A1qRF8JKELtS/collapsed.png"></a></div><p>Expanded:</p>
<p><a href="/user_uploads/4715/gGCcJ2U2Mu8C11DwOPlBBGfF/expanded.png" target="_blank" title="expanded.png">expanded.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/gGCcJ2U2Mu8C11DwOPlBBGfF/expanded.png" target="_blank" title="expanded.png"><img src="/user_uploads/4715/gGCcJ2U2Mu8C11DwOPlBBGfF/expanded.png"></a></div>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>