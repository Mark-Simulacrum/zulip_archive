<html>
<head><meta charset="utf-8"><title>default nightly · t-compiler/cargo-bisect-rustc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/index.html">t-compiler/cargo-bisect-rustc</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html">default nightly</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="185205771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185205771" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185205771">(Jan 09 2020 at 12:11)</a>:</h4>
<p>I think there's something interesting going on when the default nightly is the same as one of the range it's trying to bisect</p>



<a name="185205863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185205863" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185205863">(Jan 09 2020 at 12:12)</a>:</h4>
<p>I'm on <code>rustc 1.42.0-nightly (ef92009c1 2020-01-06)</code> it has the default name <code>nightly</code> in rustup (nightly-x86_64-unknown-linux-gnu)</p>



<a name="185205897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185205897" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185205897">(Jan 09 2020 at 12:13)</a>:</h4>
<p>when trying to bisect something where the end range was also 2020-01-06 cargo-bisect-rustc kept saying the end range does not reproduce the regression</p>



<a name="185205907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185205907" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185205907">(Jan 09 2020 at 12:13)</a>:</h4>
<p>even though it does when testing manually or via --script</p>



<a name="185205917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185205917" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185205917">(Jan 09 2020 at 12:13)</a>:</h4>
<p>turns out there was an error running the command</p>



<a name="185205987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185205987" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185205987">(Jan 09 2020 at 12:14)</a>:</h4>
<p>the problem seems to be that cargo-bisect-rustc was using its "bisector" nightly name</p>



<a name="185206005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185206005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185206005">(Jan 09 2020 at 12:14)</a>:</h4>
<p>which it hadn't installed since the default nightly has the same date</p>



<a name="185206170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185206170" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185206170">(Jan 09 2020 at 12:16)</a>:</h4>
<p>it passed the toolchain via the env<code>RUSTUP_TOOLCHAIN: bisector-nightly-2020-01-06-x86_64-unknown-linux-gnu</code> and rustup failed with <code>error: toolchain 'bisector-nightly-2020-01-06-x86_64-unknown-linux-gnu' is not installed</code></p>



<a name="185206276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185206276" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185206276">(Jan 09 2020 at 12:18)</a>:</h4>
<p>all these errors happen inside cargo-bisect-rustc, for the user it's just </p>
<div class="codehilite"><pre><span></span>verifying the end of the range reproduces the regression
tested nightly-2020-01-06, got No
</pre></div>



<a name="185214240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185214240" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185214240">(Jan 09 2020 at 14:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> can you fill an issue? or well a PR would be even better :)</p>



<a name="185214253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185214253" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185214253">(Jan 09 2020 at 14:06)</a>:</h4>
<p>lol nice try :p</p>



<a name="185214275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185214275" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185214275">(Jan 09 2020 at 14:07)</a>:</h4>
<p>:P</p>



<a name="185214283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185214283" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185214283">(Jan 09 2020 at 14:07)</a>:</h4>
<p>I'll try to file an issue later yeah</p>



<a name="185214324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185214324" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185214324">(Jan 09 2020 at 14:08)</a>:</h4>
<p>I didn't fix it locally, only worked around it by changing the bounds on my bisection and it didn't fall on the nightly date again so it succeeded</p>



<a name="185214629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185214629" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185214629">(Jan 09 2020 at 14:11)</a>:</h4>
<p>I can try to fix it but I'll need to try one of your homemade beers if/when I ever visit Montevideo :p</p>



<a name="185215119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185215119" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185215119">(Jan 09 2020 at 14:17)</a>:</h4>
<p>for that you would need to implement <a href="https://github.com/rust-lang/cargo-bisect-rustc/issues/40" target="_blank" title="https://github.com/rust-lang/cargo-bisect-rustc/issues/40">cargo-bisect-rustc#40</a></p>



<a name="185215392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185215392" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185215392">(Jan 09 2020 at 14:20)</a>:</h4>
<p>and I can even take one bottle for you to All Hands if you're attending</p>



<a name="185215601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185215601" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185215601">(Jan 09 2020 at 14:22)</a>:</h4>
<p>(unsure about All Hands tbh)</p>



<a name="185215643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185215643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185215643">(Jan 09 2020 at 14:22)</a>:</h4>
<p>(and yeah using the GH API would be nice :)</p>



<a name="185215801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/185215801" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#185215801">(Jan 09 2020 at 14:24)</a>:</h4>
<p><span class="user-mention" data-user-id="215267">@Andrés Margalef</span> and/or <span class="user-mention" data-user-id="250987">@apiraino</span> were after that one :)</p>



<a name="187682174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187682174" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187682174">(Feb 07 2020 at 21:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> did you ever file an issue about this? I am encountering it too; it is super confusing.</p>



<a name="187682632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187682632" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187682632">(Feb 07 2020 at 21:36)</a>:</h4>
<p>sorry I may have forgotten to do it (very confusing yeah, I think I spent quite a while to see this was the reason bisection didn't work on my example)</p>



<a name="187684589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187684589" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187684589">(Feb 07 2020 at 22:02)</a>:</h4>
<p>indeed. It seems entirely acccidental that cargo-bisect-rustc works at all when one has <code>rustup default nightly</code></p>



<a name="187693903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187693903" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187693903">(Feb 08 2020 at 00:44)</a>:</h4>
<p>will take a look at this next week :)</p>



<a name="187814660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187814660" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187814660">(Feb 10 2020 at 13:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> thoughts on <a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/45" target="_blank" title="https://github.com/rust-lang/cargo-bisect-rustc/pull/45">https://github.com/rust-lang/cargo-bisect-rustc/pull/45</a> ? cc <span class="user-mention" data-user-id="116083">@pnkfelix</span> <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span></p>



<a name="187814834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187814834" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187814834">(Feb 10 2020 at 13:30)</a>:</h4>
<p>/me will casually return to waiting for delicious Uruguayan artisan craft beers from Santiago <em>whistles</em> :)</p>



<a name="187816737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187816737" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187816737">(Feb 10 2020 at 13:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> I’m not really around today but yeah that seems good. Although, shouldn’t you get the name from the installation rather than using “nighly”?</p>



<a name="187817140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187817140" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187817140">(Feb 10 2020 at 13:58)</a>:</h4>
<p>I don't yet know how to do that but sure why not</p>



<a name="187822011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187822011" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187822011">(Feb 10 2020 at 14:52)</a>:</h4>
<blockquote>
<p>why not</p>
</blockquote>
<p>some more thoughts about that are in the PR comments; I don't know we can have non-standard names for existing channels, and the question could even be "shouldn't we actually avoid using a +name since this is about the default toolchain"</p>



<a name="187922028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187922028" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187922028">(Feb 11 2020 at 15:32)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> sorry, but yesterday I wasn't really around, just got your ping and answered from my phone</p>



<a name="187922047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187922047" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187922047">(Feb 11 2020 at 15:32)</a>:</h4>
<p>I agree with the latest comment <span class="user-mention" data-user-id="116122">@simulacrum</span> has made</p>



<a name="187922128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187922128" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187922128">(Feb 11 2020 at 15:33)</a>:</h4>
<p>I'd just do rustup link for the default nightly and leave the logic as it was</p>



<a name="187944586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/187944586" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#187944586">(Feb 11 2020 at 19:24)</a>:</h4>
<p>(deleted)</p>



<a name="188000074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188000074" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188000074">(Feb 12 2020 at 11:07)</a>:</h4>
<p>honestly I don't even understand how cargo-bisect-rustc is installing and uninstalling the downloaded toolchains as it doesn't seem to call <code>rustup</code> ? Linking requires a path to the installed toolchain, which I don't think rustup provides, so the path will also be OS-dependent IIUC and it won't just be calling a shell command like </p>
<div class="codehilite"><pre><span></span>rustup toolchain link bisector-details ~/.rustup/toolchains/`rustup default | awk &#39;{ print $1 }&#39;`
</pre></div>


<p>(at least I don't think users can also override the <code>.rustup</code> name, but I'm not sure). </p>
<p>That seems less interesting than just downloading the one nightly you already have and make biseection work for people on nightly by default ?</p>



<a name="188018749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188018749" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188018749">(Feb 12 2020 at 15:16)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> why do you say it doesn't seem to be calling <code>rustup</code> ? It may be slightly obscured, but I thought I tracked that down</p>



<a name="188019165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019165" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019165">(Feb 12 2020 at 15:20)</a>:</h4>
<p>oh, wait, maybe it just downloads and unpacks the tarballs itself...</p>



<a name="188019222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019222" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019222">(Feb 12 2020 at 15:21)</a>:</h4>
<p>yes</p>



<a name="188019240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019240" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019240">(Feb 12 2020 at 15:21)</a>:</h4>
<p>there's mention of a fallback as well</p>



<a name="188019348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019348" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019348">(Feb 12 2020 at 15:22)</a>:</h4>
<p>but that is definitely weird to not use <code>rustup</code> while at the same time leverage the <code>rustup</code> system (the <code>cargo +version ...</code> stuff)</p>



<a name="188019474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019474" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019474">(Feb 12 2020 at 15:24)</a>:</h4>
<p>I saw no rustup cmds to install/uninstall, only unpacking the tarball and deleting the tmp folder, so that's why I asked</p>



<a name="188019519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019519" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019519">(Feb 12 2020 at 15:24)</a>:</h4>
<p>is it magically guessing the right directory name to unpack the tarball into such that rustup will then use that directory?</p>



<a name="188019702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019702" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019702">(Feb 12 2020 at 15:26)</a>:</h4>
<p>when I was working on the tool I had the same doubts</p>



<a name="188019712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019712" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019712">(Feb 12 2020 at 15:26)</a>:</h4>
<p>I guess <span class="user-mention" data-user-id="116122">@simulacrum</span> can help us here :)</p>



<a name="188019754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019754" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019754">(Feb 12 2020 at 15:26)</a>:</h4>
<p>rustup cannot currently download from CI</p>



<a name="188019811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019811" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019811">(Feb 12 2020 at 15:27)</a>:</h4>
<p>rustup's <code>+version</code> support, to my knowledge, essentially just looks like <code>~/.rustup/toolchains/&lt;version&gt;</code></p>



<a name="188019917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019917" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019917">(Feb 12 2020 at 15:28)</a>:</h4>
<p>you mean cargo-bisect-rustc is downloading the toolchains in the rustup toolchain folder ?</p>



<a name="188019930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019930" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019930">(Feb 12 2020 at 15:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> you mean <code>rustup</code> "can't" because it doesn't have something like <a href="https://github.com/kennytm/rustup-toolchain-install-master" target="_blank" title="https://github.com/kennytm/rustup-toolchain-install-master">kennytm's rustup-toolchain-install-master</a> built into it?</p>



<a name="188019936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019936" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019936">(Feb 12 2020 at 15:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> right, yes</p>



<a name="188019958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188019958" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188019958">(Feb 12 2020 at 15:28)</a>:</h4>
<p>that tool does the same thing bisect does afaik, i.e., puts a directory inside rustup</p>



<a name="188020002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020002" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020002">(Feb 12 2020 at 15:29)</a>:</h4>
<p><a href="https://github.com/kennytm/rustup-toolchain-install-master/blob/master/src/main.rs#L403-L410" target="_blank" title="https://github.com/kennytm/rustup-toolchain-install-master/blob/master/src/main.rs#L403-L410">https://github.com/kennytm/rustup-toolchain-install-master/blob/master/src/main.rs#L403-L410</a></p>



<a name="188020004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020004" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020004">(Feb 12 2020 at 15:29)</a>:</h4>
<p>ok so they are "installed" in the sense that <code>rustup toolchain list</code> is essentially <code>ls ~/.rustup/toolchains
</code></p>



<a name="188020010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020010" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020010">(Feb 12 2020 at 15:29)</a>:</h4>
<p>yes</p>



<a name="188020049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020049" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020049">(Feb 12 2020 at 15:29)</a>:</h4>
<p>ok that clears things up a bit thanks</p>



<a name="188020115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020115" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020115">(Feb 12 2020 at 15:30)</a>:</h4>
<p>it would be nicer if tools like this could throw such products into a subdirectory</p>



<a name="188020210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020210" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020210">(Feb 12 2020 at 15:31)</a>:</h4>
<p>e.g. <code>~/.rustup/toolchains/bisections/...</code>; but i guess if they use a nice naming convention then that is good enough.</p>



<a name="188020314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020314" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020314">(Feb 12 2020 at 15:32)</a>:</h4>
<p>yeah, that would be better</p>



<a name="188020327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020327" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020327">(Feb 12 2020 at 15:32)</a>:</h4>
<p>but I think rustup doesn't support that today</p>



<a name="188020348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020348" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020348">(Feb 12 2020 at 15:32)</a>:</h4>
<p>realistically I've long wanted to upstream the CI stuff into rustup (e.g., at well-known <code>ci-sha</code>)</p>



<a name="188020362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020362" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020362">(Feb 12 2020 at 15:32)</a>:</h4>
<p>and then bisect would just do <code>rustup install ci-sha</code> and everything would be nice</p>



<a name="188020415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188020415" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188020415">(Feb 12 2020 at 15:33)</a>:</h4>
<p>But I really don't have the will to dig into that when what we have today mostly works :)</p>



<a name="188025500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188025500" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188025500">(Feb 12 2020 at 16:17)</a>:</h4>
<p><del>so making the default nightly's <code>rustup_name</code> return what <code>rustup default</code> returns seems more "natural" than using <code>rustup link</code> and <code>rustup toolchain uninstall</code> just for this one nightly ?</del> actually, meh, I won't have much more time to dedicate to this for a while</p>



<a name="188761907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188761907" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188761907">(Feb 21 2020 at 18:46)</a>:</h4>
<p>i just put up <a href="https://github.com/rust-lang/cargo-bisect-rustc/issues/55" target="_blank" title="https://github.com/rust-lang/cargo-bisect-rustc/issues/55">cargo-bisect-rustc#55</a> which tries to resolve this in the way that <span class="user-mention" data-user-id="116122">@simulacrum</span> described.</p>



<a name="188939865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/default%20nightly/near/188939865" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/default.20nightly.html#188939865">(Feb 24 2020 at 16:12)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> <a href="https://github.com/rust-lang/cargo-bisect-rustc/issues/55" target="_blank" title="https://github.com/rust-lang/cargo-bisect-rustc/issues/55">cargo-bisect-rustc#55</a> merged</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>