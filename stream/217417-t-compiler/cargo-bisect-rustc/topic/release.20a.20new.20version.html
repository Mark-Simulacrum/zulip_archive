<html>
<head><meta charset="utf-8"><title>release a new version · t-compiler/cargo-bisect-rustc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/index.html">t-compiler/cargo-bisect-rustc</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html">release a new version</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="188940086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188940086" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188940086">(Feb 24 2020 at 16:14)</a>:</h4>
<p>I think we should release a new version of the tool which would include <a href="https://github.com/rust-lang/cargo-bisect-rustc/issues/55" target="_blank" title="https://github.com/rust-lang/cargo-bisect-rustc/issues/55">cargo-bisect-rustc#55</a> and <a href="https://github.com/rust-lang/cargo-bisect-rustc/issues/53" target="_blank" title="https://github.com/rust-lang/cargo-bisect-rustc/issues/53">cargo-bisect-rustc#53</a></p>



<a name="188940155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188940155" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188940155">(Feb 24 2020 at 16:15)</a>:</h4>
<p>and some other things that <span class="user-mention" data-user-id="262810">@Chris Simpkins</span> added</p>



<a name="188940158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188940158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188940158">(Feb 24 2020 at 16:15)</a>:</h4>
<p>maybe fork to new topic to discuss a release?</p>



<a name="188940471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188940471" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188940471">(Feb 24 2020 at 16:18)</a>:</h4>
<p>moved everything to a new topic</p>



<a name="188940513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188940513" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188940513">(Feb 24 2020 at 16:18)</a>:</h4>
<p>current version is 0.2.1, we can release 0.3.0 I guess with all this stuff :)</p>



<a name="188956596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188956596" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188956596">(Feb 24 2020 at 19:16)</a>:</h4>
<p>yeah, I started looking at trying to make something to query <a href="http://github.com" target="_blank" title="http://github.com">github.com</a> directly to get the PR's in a commit range. But I don't think I'll have anything I'm happy with in the short term.</p>



<a name="188956656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188956656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188956656">(Feb 24 2020 at 19:17)</a>:</h4>
<p>(I was briefly considering saying "oh lets hold on until I get this done", but I've abandoned that optimism now)</p>



<a name="188956731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188956731" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188956731">(Feb 24 2020 at 19:18)</a>:</h4>
<p>should we check in with <span class="user-mention" data-user-id="116122">@simulacrum</span> before doing a release?</p>



<a name="188956741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188956741" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188956741">(Feb 24 2020 at 19:18)</a>:</h4>
<p>/me wishes we had a test suite.</p>



<a name="188956797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188956797" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188956797">(Feb 24 2020 at 19:19)</a>:</h4>
<p>actually I guess it wouldn't be <em>that</em> hard to make a test suite, if we're willing to use <code>--end</code> for all the tests, and just cross our finges that the behavior without <code>--end</code> does not break.</p>



<a name="188957321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188957321" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188957321">(Feb 24 2020 at 19:26)</a>:</h4>
<p>I think making a release is a good idea, can always bugfix in .1 or so.</p>
<p>I have not reviewed changelog or anything like that though :)</p>



<a name="188960023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188960023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188960023">(Feb 24 2020 at 19:56)</a>:</h4>
<blockquote>
<p>actually I guess it wouldn't be that hard to make a test suite,</p>
</blockquote>
<p>I've been thinking through how to approach this. The commit level rustc caches expire at the 167 day mark so the tests covering this part of the source would need to be updated periodically.</p>



<a name="188960461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188960461" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188960461">(Feb 24 2020 at 20:01)</a>:</h4>
<p>hmm. that is a good point.</p>



<a name="188960705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188960705" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188960705">(Feb 24 2020 at 20:04)</a>:</h4>
<p>we might at least be able to make the update process relatively painless, by using <a href="https://github.com/dtolnay/rustversion" target="_blank" title="https://github.com/dtolnay/rustversion">rustversion</a> and <code>#[rustc_error]</code>...</p>



<a name="188967540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188967540" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188967540">(Feb 24 2020 at 21:24)</a>:</h4>
<p>Do you have a suggestion about how to refactor the source to best support tests?  I discussed moving most of the source that currently lives in <a href="http://main.rs" target="_blank" title="http://main.rs">main.rs</a> into a library and adding unit/integration tests with Santiago last week.  He supports this and Mark indicated that he is <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/sharing.20knowledge/near/188215844" title="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/sharing.20knowledge/near/188215844">deferring the review to Santiago due to other time commitments</a>.  </p>
<p>The error handling PR is a first step in that direction.  It only refactors custom errors out of <a href="http://main.rs" target="_blank" title="http://main.rs">main.rs</a> and doesn't address the testing issue. At the moment, the git functionality and the least_satisfying nightly/commit testing approach live outside of <a href="http://main.rs" target="_blank" title="http://main.rs">main.rs</a>.  We can move everything else from the <code>run()</code> function up into a <a href="http://lib.rs" target="_blank" title="http://lib.rs">lib.rs</a> at this stage or use a more modular approach, then begin the work on the tests.</p>



<a name="188967602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188967602" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188967602">(Feb 24 2020 at 21:25)</a>:</h4>
<p>btw, I can release but we do not have a CHANGELOG</p>



<a name="188967612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188967612" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188967612">(Feb 24 2020 at 21:25)</a>:</h4>
<p>I think is worth adding that</p>



<a name="188967745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188967745" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188967745">(Feb 24 2020 at 21:25)</a>:</h4>
<p>can't do that today if someone can meanwhile would be great otherwise I can make it tomorrow</p>



<a name="188967864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188967864" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188967864">(Feb 24 2020 at 21:26)</a>:</h4>
<p>np, I can add one now</p>



<a name="188967948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188967948" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188967948">(Feb 24 2020 at 21:27)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> This will be v0.3.0?</p>



<a name="188968063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188968063" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188968063">(Feb 24 2020 at 21:29)</a>:</h4>
<p>yes</p>



<a name="188968075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188968075" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188968075">(Feb 24 2020 at 21:29)</a>:</h4>
<p>thanks when you do I can merge and release</p>



<a name="188968275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188968275" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188968275">(Feb 24 2020 at 21:31)</a>:</h4>
<p>I don't see any tagged releases for previous versions.  It looks like the Cargo.toml change history has commits for v0.2.1 and v0.2.0.  I will see if I can track down changes that happened between those releases and add them too</p>



<a name="188970984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/188970984" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#188970984">(Feb 24 2020 at 22:02)</a>:</h4>
<p><a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/59" target="_blank" title="https://github.com/rust-lang/cargo-bisect-rustc/pull/59">https://github.com/rust-lang/cargo-bisect-rustc/pull/59</a></p>



<a name="189023697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/189023697" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#189023697">(Feb 25 2020 at 14:29)</a>:</h4>
<p>seems like previous versions are not tagged :(</p>



<a name="189023711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/189023711" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#189023711">(Feb 25 2020 at 14:29)</a>:</h4>
<p>we could tag backwards I guess</p>



<a name="189024485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/189024485" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#189024485">(Feb 25 2020 at 14:38)</a>:</h4>
<p>have tagged previous versions</p>



<a name="189024509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/189024509" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#189024509">(Feb 25 2020 at 14:38)</a>:</h4>
<p>and releasing 0.3.0 ...</p>



<a name="189024692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/189024692" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#189024692">(Feb 25 2020 at 14:40)</a>:</h4>
<p>done</p>



<a name="189026195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/release%20a%20new%20version/near/189026195" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/release.20a.20new.20version.html#189026195">(Feb 25 2020 at 14:58)</a>:</h4>
<p>thanks Santiago!</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>