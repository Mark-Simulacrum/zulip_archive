<html>
<head><meta charset="utf-8"><title>Testing · t-compiler/cargo-bisect-rustc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/index.html">t-compiler/cargo-bisect-rustc</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html">Testing</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="189047981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189047981" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189047981">(Feb 25 2020 at 18:42)</a>:</h4>
<p>Moving this to a new thread from <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/release.20a.20new.20version" title="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/release.20a.20new.20version">Release New Version</a> so that we can continue the conversation</p>
<p>pnkfelix said: </p>
<blockquote>
<p>wishes we had a test suite.</p>
</blockquote>
<p>pnkfelix said: </p>
<blockquote>
<p>actually I guess it wouldn't be that hard to make a test suite, if we're willing to use --end for all the tests, and just cross our finges that the behavior without --end does not break.</p>
</blockquote>
<p>Chris Simpkins said: </p>
<blockquote>
<p>I've been thinking through how to approach this. The commit level rustc caches expire at the 167 day mark so the tests covering this part of the source would need to be updated periodically.</p>
</blockquote>
<p>pnkfelix said:</p>
<blockquote>
<p>hmm. that is a good point.<br>
we might at least be able to make the update process relatively painless, by using rustversion and #[rustc_error]...</p>
</blockquote>



<a name="189052512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189052512" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189052512">(Feb 25 2020 at 19:34)</a>:</h4>
<p>another option would be to just not attempt to test the commit level caches... :(</p>



<a name="189052596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189052596" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189052596">(Feb 25 2020 at 19:35)</a>:</h4>
<p>or maybe we could find out if we could ... "bless" certain commits to live beyond the 167 day expiration period, solely for the purpose of supporting the test suite? That might be the simplest option here...</p>



<a name="189052620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189052620" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189052620">(Feb 25 2020 at 19:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> any thought on the latter approach?</p>



<a name="189053274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189053274" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189053274">(Feb 25 2020 at 19:42)</a>:</h4>
<p>I'd just test on nightlies for now, blessing is possible but a bit painful i think</p>



<a name="189053477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189053477" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189053477">(Feb 25 2020 at 19:45)</a>:</h4>
<p>Or just updated the test once a year ish</p>



<a name="189053487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189053487" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189053487">(Feb 25 2020 at 19:45)</a>:</h4>
<p>Which might be reasonable</p>



<a name="189053501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189053501" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189053501">(Feb 25 2020 at 19:45)</a>:</h4>
<p>To test new things</p>



<a name="189053860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189053860" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189053860">(Feb 25 2020 at 19:49)</a>:</h4>
<p>wouldn't it would need to be roughly twice a year? (365 / 167 \approx 2?)</p>



<a name="189054087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189054087" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189054087">(Feb 25 2020 at 19:51)</a>:</h4>
<p>(and really this is the kind of thing where you need to round up, not down. <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span>  so ⌈365/167⌉ = 3 ...</p>



<a name="189054161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189054161" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189054161">(Feb 25 2020 at 19:51)</a>:</h4>
<p>nonetheless, updating the tests three times a year probably <em>is</em> better than blessing some random commits</p>



<a name="189059440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189059440" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189059440">(Feb 25 2020 at 20:46)</a>:</h4>
<p>We just need to make sure that there is at least one good regression every six months...  <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="189064518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189064518" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189064518">(Feb 25 2020 at 21:44)</a>:</h4>
<p>yes, I would personally lean towards updating the test I think for now at least, long-term I think we may want to eventually have commit artifacts stick around even longer -- e.g., we'd preserve every 5th commit after 167 days</p>



<a name="189065085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189065085" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189065085">(Feb 25 2020 at 21:51)</a>:</h4>
<p>one note: we could "fake" commit bisection in theory for the tests</p>



<a name="189065097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189065097" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189065097">(Feb 25 2020 at 21:51)</a>:</h4>
<p>i.e., we separately test that we can download commits for example</p>



<a name="189065127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189065127" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189065127">(Feb 25 2020 at 21:51)</a>:</h4>
<p>but then for the actual test of commit bisection we provide a custom "url generator" or "downloader" impl that actually downloads nightlies behind the back of the commit bisection</p>



<a name="189065194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189065194" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189065194">(Feb 25 2020 at 21:52)</a>:</h4>
<p>which are, at least in theory, "just" sparse commits</p>



<a name="189065203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189065203" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189065203">(Feb 25 2020 at 21:52)</a>:</h4>
<p>i.e. everything's a rollup</p>



<a name="189070808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189070808" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189070808">(Feb 25 2020 at 23:09)</a>:</h4>
<p>Could we mock the regression check part of execution with a handful of strategically designed executables in a repository that is designed to have a series of git commits in a ‘nightly’ and a roll up PR.  ‘rustc’ could even be scripts that just spit out the proper exit status codes and stderr messages for the tests.</p>



<a name="189084620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189084620" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189084620">(Feb 26 2020 at 04:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/189064518" title="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/189064518">said</a>:</p>
<blockquote>
<p>yes, I would personally lean towards updating the test I think for now at least, long-term I think we may want to eventually have commit artifacts stick around even longer -- e.g., we'd preserve every 5th commit after 167 days</p>
</blockquote>
<p>Or maybe go with a exponentially decaying archive: after 167 days, keep the 2nd, 4th, 8th, 16th, 32nd, ... commits</p>



<a name="189084666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189084666" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189084666">(Feb 26 2020 at 04:08)</a>:</h4>
<p>(I am mostly kidding; we're keeping the nightlies anyway)</p>



<a name="189084693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189084693" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189084693">(Feb 26 2020 at 04:09)</a>:</h4>
<p>((and hopefully someone will keep paying for that expanding storage in perpetuity ....))</p>



<a name="189116011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189116011" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189116011">(Feb 26 2020 at 14:03)</a>:</h4>
<p>yeah, I think the main reason we've not done it is it's somewhat non-trivial to do and not really worthwhile</p>



<a name="189537108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189537108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189537108">(Mar 02 2020 at 21:11)</a>:</h4>
<p>okay after poking around a bit, I found a crate <a href="https://crates.io/crates/rustversion" target="_blank" title="https://crates.io/crates/rustversion">rustversion</a> that used a <code>build.rs</code> script to inspect the rustc version. I tried using that crate directly, but it takes too long to repeatedly compile it and its depedencies during bisection. But the strategy itself is <em>easily</em> adapted.</p>



<a name="189537168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189537168" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189537168">(Mar 02 2020 at 21:11)</a>:</h4>
<p>I hope to have a PR with some demo tests up in a bit.</p>



<a name="189983149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/189983149" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#189983149">(Mar 07 2020 at 19:34)</a>:</h4>
<p>It looks like this is a "stable" ICE for testing? <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span> =&gt; <a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=30d4e67ce98fb868270b4796f9ad077e" target="_blank" title="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=30d4e67ce98fb868270b4796f9ad077e">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=30d4e67ce98fb868270b4796f9ad077e</a></p>



<a name="190906255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/190906255" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#190906255">(Mar 17 2020 at 20:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/189537108" title="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/189537108">said</a>:</p>
<blockquote>
<p>okay after poking around a bit, I found a crate <a href="https://crates.io/crates/rustversion" target="_blank" title="https://crates.io/crates/rustversion">rustversion</a> that used a <code>build.rs</code> script to inspect the rustc version. I tried using that crate directly, but it takes too long to repeatedly compile it and its depedencies during bisection. But the strategy itself is <em>easily</em> adapted.</p>
</blockquote>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> Do you have more details about how you intend to approach this?</p>



<a name="190971803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/190971803" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#190971803">(Mar 18 2020 at 12:21)</a>:</h4>
<p>Yeah i have a demo in a branch</p>



<a name="193094478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/193094478" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#193094478">(Apr 06 2020 at 20:09)</a>:</h4>
<p>sorry that I didn't follow up about this</p>



<a name="193094498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/193094498" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#193094498">(Apr 06 2020 at 20:09)</a>:</h4>
<p>here is the branch with WIP demo: <a href="https://github.com/rust-lang/cargo-bisect-rustc/compare/master...pnkfelix:add-cli-test-frameworkl?expand=1" title="https://github.com/rust-lang/cargo-bisect-rustc/compare/master...pnkfelix:add-cli-test-frameworkl?expand=1">https://github.com/rust-lang/cargo-bisect-rustc/compare/master...pnkfelix:add-cli-test-frameworkl?expand=1</a></p>



<a name="193097788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/193097788" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#193097788">(Apr 06 2020 at 20:33)</a>:</h4>
<p>No worries!  Will check it out Felix.  Thanks</p>



<a name="197299207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197299207" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197299207">(May 12 2020 at 16:06)</a>:</h4>
<p>@t-compiler/cargo-bisect-rustc Picking up the conversation on bisect-rustc testing again in light of the discussion in <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Searched.20date.20range.20misreported.20.2382">https://rust-lang.zulipchat.com/#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Searched.20date.20range.20misreported.20.2382</a>.   Is there time/interest to pitch in on an effort to refactor the bisect-rustc source, broaden test support, and review PR's with these changes?</p>



<a name="197324778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197324778" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197324778">(May 12 2020 at 19:17)</a>:</h4>
<p>I might be willing to try to revive that branch I made</p>



<a name="197415094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197415094" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197415094">(May 13 2020 at 13:50)</a>:</h4>
<p>let me see if I can allocate time to do this today</p>



<a name="197495702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197495702" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197495702">(May 14 2020 at 00:45)</a>:</h4>
<p><a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/88">https://github.com/rust-lang/cargo-bisect-rustc/pull/88</a></p>



<a name="197649378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197649378" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197649378">(May 15 2020 at 05:21)</a>:</h4>
<p>Added GNU/Linux, macOS, Win GH Actions CI workflows in <a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/90">https://github.com/rust-lang/cargo-bisect-rustc/pull/90</a></p>



<a name="197694338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197694338" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197694338">(May 15 2020 at 13:55)</a>:</h4>
<p><span class="user-mention" data-user-id="262810">@Chris Simpkins</span> looks good, should we merge this now or wait for <a href="https://github.com/rust-lang/cargo-bisect-rustc/issues/89">cargo-bisect-rustc#89</a> ?</p>



<a name="197694534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197694534" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197694534">(May 15 2020 at 13:57)</a>:</h4>
<p>also about <a href="https://github.com/rust-lang/cargo-bisect-rustc/issues/89">cargo-bisect-rustc#89</a> we can temporarily fix on our side by adding that dependency bump in our <code>Cargo.toml</code></p>



<a name="197694549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197694549" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197694549">(May 15 2020 at 13:57)</a>:</h4>
<p>I think that it may be helpful for <span class="user-mention" data-user-id="116083">@pnkfelix</span>  to work on his CI testing PR.  That was the goal at least... <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span>.  As long as Felix doesn't mind, I think that we can merge it</p>



<a name="197694648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197694648" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197694648">(May 15 2020 at 13:57)</a>:</h4>
<p>yeah my main concern is <a href="https://github.com/rust-lang/cargo-bisect-rustc/issues/89">cargo-bisect-rustc#89</a> won't this make all the future PRs fail unless the PR is to fix that problem?</p>



<a name="197695126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197695126" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197695126">(May 15 2020 at 14:01)</a>:</h4>
<p>Fix just submitted in <a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/91">https://github.com/rust-lang/cargo-bisect-rustc/pull/91</a></p>



<a name="197695328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197695328" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197695328">(May 15 2020 at 14:02)</a>:</h4>
<p>both merged</p>



<a name="197695450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197695450" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197695450">(May 15 2020 at 14:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="262810">Chris Simpkins</span> <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/197695126">said</a>:</p>
<blockquote>
<p>Fix just submitted in <a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/91">https://github.com/rust-lang/cargo-bisect-rustc/pull/91</a></p>
</blockquote>
<p>I guess it's better to make the bump in <code>Cargo.toml</code> but anyway, if they will fix this on console we would need to later revert the <code>Cargo.toml</code> change so ... meh</p>



<a name="197711099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197711099" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197711099">(May 15 2020 at 15:45)</a>:</h4>
<p>I'm sorry that I haven't been following everything that's been going on, but: did <code>--regress=ice</code> support break at some point in the past month or so?</p>



<a name="197711175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197711175" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197711175">(May 15 2020 at 15:45)</a>:</h4>
<p>I'm a little surprised by the behavior I'm seeing from <code>cargo-bisect-rustc</code> on one of my test cases, and I thought I should do some sanity checking first...</p>



<a name="197711445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197711445" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197711445">(May 15 2020 at 15:47)</a>:</h4>
<p>hmm I wonder if this is due to <a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/78">https://github.com/rust-lang/cargo-bisect-rustc/pull/78</a> ...</p>



<a name="197713346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197713346" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197713346">(May 15 2020 at 16:02)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> maybe ...</p>



<a name="197713399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197713399" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197713399">(May 15 2020 at 16:02)</a>:</h4>
<p>do you have the app you're trying available?</p>



<a name="197713408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197713408" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197713408">(May 15 2020 at 16:02)</a>:</h4>
<p>if you have I can test it out</p>



<a name="197713447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197713447" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197713447">(May 15 2020 at 16:02)</a>:</h4>
<p>and fix the issues we may be hitting</p>



<a name="197713707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197713707" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197713707">(May 15 2020 at 16:04)</a>:</h4>
<p>the app is the "eventually_ice" test from <a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/88">https://github.com/rust-lang/cargo-bisect-rustc/pull/88</a></p>



<a name="197713720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197713720" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197713720">(May 15 2020 at 16:04)</a>:</h4>
<p>the basic problem</p>



<a name="197713766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197713766" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197713766">(May 15 2020 at 16:04)</a>:</h4>
<p>is that <a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/78">https://github.com/rust-lang/cargo-bisect-rustc/pull/78</a> assumes that  error code 101 suffices to identify ICE's</p>



<a name="197713778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197713778" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197713778">(May 15 2020 at 16:05)</a>:</h4>
<p>and that is... bogus?</p>



<a name="197713813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197713813" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197713813">(May 15 2020 at 16:05)</a>:</h4>
<p>namely, I think even normal compiler errors return error code 101 from cargo?</p>



<a name="197714007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714007" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714007">(May 15 2020 at 16:06)</a>:</h4>
<p>basically, I <em>think</em> that any crate that has a "normal error" on version A of rustc, and an ICE on version B of rustc, will fail when you try to run <code>--regress=ice</code></p>



<a name="197714058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714058" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714058">(May 15 2020 at 16:07)</a>:</h4>
<p>because now cargo-bisect-rustc is incorrectly thinking that version A causes an ICE, and thus reports that the start commit is not allowed to reproduce the regression.</p>



<a name="197714107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714107" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714107">(May 15 2020 at 16:07)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span>, do you have a fix for this or we should just revert?</p>



<a name="197714116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714116" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714116">(May 15 2020 at 16:07)</a>:</h4>
<p>I think the easy fix is to resume processing stderr for the cases where we are getting an error code</p>



<a name="197714232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714232" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714232">(May 15 2020 at 16:08)</a>:</h4>
<p>but the main issue is that other kinds of crashes still need to be identified</p>



<a name="197714248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714248" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714248">(May 15 2020 at 16:08)</a>:</h4>
<p>let me see what I can do</p>



<a name="197714311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714311" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714311">(May 15 2020 at 16:08)</a>:</h4>
<p>eh, simplest maybe to just revert it</p>



<a name="197714318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714318" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714318">(May 15 2020 at 16:08)</a>:</h4>
<p>land my test</p>



<a name="197714378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714378" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714378">(May 15 2020 at 16:09)</a>:</h4>
<p>and then see about re-adding the functionality of <a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/78">https://github.com/rust-lang/cargo-bisect-rustc/pull/78</a> in a way that does not break my test</p>



<a name="197714428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714428" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714428">(May 15 2020 at 16:09)</a>:</h4>
<p>do you want me to do this, I meant, revert and explain in the PR?</p>



<a name="197714495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714495" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714495">(May 15 2020 at 16:10)</a>:</h4>
<p>I'll take care of it</p>



<a name="197714515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714515" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714515">(May 15 2020 at 16:10)</a>:</h4>
<p>I'll make it part of the PR that adds my test</p>



<a name="197714525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714525" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714525">(May 15 2020 at 16:10)</a>:</h4>
<p>ok, it's not a problem for me but <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="197714544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714544" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714544">(May 15 2020 at 16:10)</a>:</h4>
<p>cool, going to work a bit on pre-prioritization automation then :)</p>



<a name="197714545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714545" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714545">(May 15 2020 at 16:10)</a>:</h4>
<p>unless you think there is a strong reason to make the revert part of a separate PR?</p>



<a name="197714560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197714560" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197714560">(May 15 2020 at 16:10)</a>:</h4>
<p>I don't think so</p>



<a name="197719381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197719381" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197719381">(May 15 2020 at 16:44)</a>:</h4>
<p>hmm. Glacier seems to think that normal errors will non-101 (and non-zero) error codes.</p>



<a name="197719717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197719717" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197719717">(May 15 2020 at 16:47)</a>:</h4>
<p>I wonder if this is something where rustc produces non-101 but cargo produces 101?</p>



<a name="197728835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197728835" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197728835">(May 15 2020 at 17:56)</a>:</h4>
<p>What is the issue with rustfmt Felix?</p>



<a name="197730626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197730626" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197730626">(May 15 2020 at 18:09)</a>:</h4>
<p><del>Also, do we want to push the Windows build fix today or wait on the ICE definition to be addressed?</del> Pushed as v0.5.1</p>



<a name="197960688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197960688" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197960688">(May 18 2020 at 16:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="262810">Chris Simpkins</span> <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/197728835">said</a>:</p>
<blockquote>
<p>What is the issue with rustfmt Felix?</p>
</blockquote>
<p>It is some bug with how it deals with <code>mod inner { mod file1; mod file2; }</code> within <del>a #[test]</del> the <code>tests/</code> directory for a crate</p>



<a name="197960725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197960725" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197960725">(May 18 2020 at 16:32)</a>:</h4>
<p>Its already logged as an issue on the <code>rustfmt</code> repository</p>



<a name="197960885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/197960885" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#197960885">(May 18 2020 at 16:33)</a>:</h4>
<p>(and I linked to it from my PR; its <a href="https://github.com/rust-lang/rustfmt/issues/3794">rust-lang/rustfmt#3794</a> )</p>



<a name="198543256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198543256" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198543256">(May 23 2020 at 16:58)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> push the ICE definition changes (revert recent ICE definition changes) in a separate PR/new release before we merge the testing updates? <a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/88/commits/7bd1ec404ff28377f2bfd2652fa86edea997f7e0">https://github.com/rust-lang/cargo-bisect-rustc/pull/88/commits/7bd1ec404ff28377f2bfd2652fa86edea997f7e0</a></p>



<a name="198555857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198555857" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198555857">(May 23 2020 at 22:58)</a>:</h4>
<p>Yeah <span class="user-mention" data-user-id="262810">@Chris Simpkins</span> let’s do that, given i cannot figure out why my PR is currently otherwise blocked</p>



<a name="198602575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198602575" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198602575">(May 24 2020 at 22:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/198555857">said</a>:</p>
<blockquote>
<p>Yeah <span class="user-mention silent" data-user-id="262810">Chris Simpkins</span> let’s do that, given i cannot figure out why my PR is currently otherwise blocked</p>
</blockquote>
<p><a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/94">https://github.com/rust-lang/cargo-bisect-rustc/pull/94</a></p>



<a name="198775406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198775406" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198775406">(May 26 2020 at 15:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="262810">Chris Simpkins</span> <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/198602575">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/198555857">said</a>:</p>
<blockquote>
<p>Yeah <span class="user-mention silent" data-user-id="262810">Chris Simpkins</span> let’s do that, given i cannot figure out why my PR is currently otherwise blocked</p>
</blockquote>
<p><a href="https://github.com/rust-lang/cargo-bisect-rustc/pull/94">https://github.com/rust-lang/cargo-bisect-rustc/pull/94</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> OK to merge and release this?</p>



<a name="198775519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198775519" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198775519">(May 26 2020 at 15:06)</a>:</h4>
<p>I hit merge just a minute or two ago. I'm cool with a release</p>



<a name="198775594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198775594" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198775594">(May 26 2020 at 15:06)</a>:</h4>
<p>I may or may not have time to look into the CLI testing PR's issues today. Not sure how best to deal with some random reqwest issue...</p>



<a name="198775616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198775616" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198775616">(May 26 2020 at 15:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/198775519">said</a>:</p>
<blockquote>
<p>I hit merge just a minute or two ago. I'm cool with a release</p>
</blockquote>
<p>Ha!  Sorry, I didn't check my notifications before I asked... Apologies</p>



<a name="198775639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198775639" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198775639">(May 26 2020 at 15:06)</a>:</h4>
<p>no prob, it was super recent</p>



<a name="198775992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198775992" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198775992">(May 26 2020 at 15:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/217417-t-compiler.2Fcargo-bisect-rustc/topic/Testing/near/198775594">said</a>:</p>
<blockquote>
<p>I may or may not have time to look into the CLI testing PR's issues today. Not sure how best to deal with some random reqwest issue...</p>
</blockquote>
<p>I need to spend some time with your source to understand what you are doing with the tests.  I'm afraid that I am not much help right now b/c I don't understand it</p>



<a name="198776025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198776025" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198776025">(May 26 2020 at 15:09)</a>:</h4>
<p>I understand that</p>



<a name="198776148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198776148" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198776148">(May 26 2020 at 15:10)</a>:</h4>
<p>I tried to outline the two strategies in the commit message (or was it the PR description) ... but if anything in the outline itself is unclear, please do ask questions</p>



<a name="198776183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198776183" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198776183">(May 26 2020 at 15:10)</a>:</h4>
<p>otherwise if its about the source itself, I'll admit that that is/was a little obtuse at times.</p>



<a name="198776204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198776204" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198776204">(May 26 2020 at 15:10)</a>:</h4>
<p>at least, I knew that even I myself had to work a little bit to remember how it worked</p>



<a name="198776216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198776216" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198776216">(May 26 2020 at 15:10)</a>:</h4>
<p>We'll need to figure out how to maintain the source that needs to be updated too.</p>



<a name="198776270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198776270" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198776270">(May 26 2020 at 15:11)</a>:</h4>
<p>it would be good to have some way to track <em>when</em> that source is going to expire</p>



<a name="198776290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198776290" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198776290">(May 26 2020 at 15:11)</a>:</h4>
<p>and replace it with something else ahead of time</p>



<a name="198776492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198776492" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198776492">(May 26 2020 at 15:12)</a>:</h4>
<p>Yes, possible to have a ~quarterly cadence of a good ICE example from compiler meetings that we can use for the updates?</p>



<a name="198779187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198779187" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Simpkins <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198779187">(May 26 2020 at 15:28)</a>:</h4>
<p>If compiler meeting is not appropriate for tracking this, I'd be happy to add it to my personal calendar and will do my best™ . This is a less reliable approach. <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="198781332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198781332" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198781332">(May 26 2020 at 15:41)</a>:</h4>
<p>hmm. Interesting question of who should be in charge of this. I suspect its not currently part of the T-compiler charter, as much as I'd like it to be</p>



<a name="198781399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing/near/198781399" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/217417-t-compiler/cargo-bisect-rustc/topic/Testing.html#198781399">(May 26 2020 at 15:42)</a>:</h4>
<p>but I certainly will be willing to put it on my calendar as well. :)</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>