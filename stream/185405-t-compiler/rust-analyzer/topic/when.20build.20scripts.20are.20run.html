<html>
<head><meta charset="utf-8"><title>when build scripts are run · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/when.20build.20scripts.20are.20run.html">when build scripts are run</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="263883006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/when%20build%20scripts%20are%20run/near/263883006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Winter <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/when.20build.20scripts.20are.20run.html#263883006">(Dec 06 2021 at 17:13)</a>:</h4>
<p>when are build scripts (re-)run by RA?</p>



<a name="263971814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/when%20build%20scripts%20are%20run/near/263971814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/when.20build.20scripts.20are.20run.html#263971814">(Dec 07 2021 at 08:43)</a>:</h4>
<p>I think we only re-run thouse when syncing project structure</p>



<a name="263971880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/when%20build%20scripts%20are%20run/near/263971880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/when.20build.20scripts.20are.20run.html#263971880">(Dec 07 2021 at 08:44)</a>:</h4>
<p>That is, when Cargo.toml and the like change. The user can also invoke "reload project" manually</p>



<a name="263972063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/when%20build%20scripts%20are%20run/near/263972063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/when.20build.20scripts.20are.20run.html#263972063">(Dec 07 2021 at 08:46)</a>:</h4>
<p>See <code>fetch_workspaces_queue.request_op</code>(one useage is  <a href="https://github.com/rust-analyzer/rust-analyzer/blob/9ae3158292a61974cc319c99f7c3c74a3129521a/crates/rust-analyzer/src/main_loop.rs#L705">https://github.com/rust-analyzer/rust-analyzer/blob/9ae3158292a61974cc319c99f7c3c74a3129521a/crates/rust-analyzer/src/main_loop.rs#L705</a>) for all the places where this is triggered.</p>



<a name="264236014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/when%20build%20scripts%20are%20run/near/264236014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Winter <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/when.20build.20scripts.20are.20run.html#264236014">(Dec 08 2021 at 23:25)</a>:</h4>
<p>Is "reload project" fired by the VS Code extension's "Reload Workspace" command? If so, then I think I found a bug.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>