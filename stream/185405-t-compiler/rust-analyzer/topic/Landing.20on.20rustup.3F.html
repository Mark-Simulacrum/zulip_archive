<html>
<head><meta charset="utf-8"><title>Landing on rustup? · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html">Landing on rustup?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="180105677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180105677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180105677">(Nov 07 2019 at 06:17)</a>:</h4>
<p>Just curious if it's feasible to start shipping ra within rustup distribition some time in 2020?</p>



<a name="180106405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180106405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180106405">(Nov 07 2019 at 06:36)</a>:</h4>
<p>There are no technical barriers to that, the questions are “do we want to<br>
ship ra via rustup at all?” and “if we want, what set of bugs should we fix<br>
before doing that?”. I don’t know the answers :)</p>



<a name="180109305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180109305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Mcnab <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180109305">(Nov 07 2019 at 07:45)</a>:</h4>
<p>We so don't have anything which is compiler version dependant at the moment, which makes rustups toolchain model not the best for us.</p>



<a name="180109347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180109347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Mcnab <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180109347">(Nov 07 2019 at 07:46)</a>:</h4>
<p>Shipping precompiled binaries would be quite useful though</p>



<a name="180139826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180139826" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180139826">(Nov 07 2019 at 14:59)</a>:</h4>
<p>I'm not up to date on the data transfer costs, but maybe it would be feasible to host some RA binaries in S3 or whatever, and download them from the extension. Maybe not now, but in the next year?</p>



<a name="180139964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180139964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180139964">(Nov 07 2019 at 15:00)</a>:</h4>
<p>I bet we can even ab-use GitHub releases for this?</p>



<a name="180140114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180140114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180140114">(Nov 07 2019 at 15:02)</a>:</h4>
<p>Probably, I assume they can be automated? Then it becomes a question of how often to release</p>



<a name="180140264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180140264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180140264">(Nov 07 2019 at 15:03)</a>:</h4>
<p>It also becomes a question of safety and trust: basically, we can plant a vulnerability in our installation process (not intentionally, but because I am not a security person), and that can compromize users</p>



<a name="180140350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180140350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180140350">(Nov 07 2019 at 15:04)</a>:</h4>
<p>witht he current setup, we fully outsource safety to <code>cargo install</code> and <code>git</code>, we don't create <code>+x</code> binaries on user's machine</p>



<a name="180140456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180140456" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180140456">(Nov 07 2019 at 15:05)</a>:</h4>
<p>That's just side-stepping the problem :-). But yeah, most Code extensions seem to download binaries on the first load.</p>



<a name="180140694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180140694" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180140694">(Nov 07 2019 at 15:08)</a>:</h4>
<p>I think it's also a question of popularity and resources. When it's published on the marketplace, there will be more people trying it and filing issues, some of them duplicate or whatever.</p>



<a name="180140775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180140775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180140775">(Nov 07 2019 at 15:08)</a>:</h4>
<p>It's going to get harder to manage</p>



<a name="180148538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180148538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180148538">(Nov 07 2019 at 16:24)</a>:</h4>
<p>I also wish that the rls 1.0 vscode extension and ra vscode extension can be packed together ... that will give lots of current rls 1.0 vscode users the opportunity to give ra a try.</p>



<a name="180148620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180148620" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180148620">(Nov 07 2019 at 16:25)</a>:</h4>
<p>I've been using ra for a little while now, the experience is good so far.</p>



<a name="180418913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180418913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180418913">(Nov 11 2019 at 12:33)</a>:</h4>
<blockquote>
<p>I also wish that the rls 1.0 vscode extension and ra vscode extension can be packed together ... that will give lots of current rls 1.0 vscode users the opportunity to give ra a try.</p>
</blockquote>
<p><span class="user-mention" data-user-id="133169">@matklad</span> I actually wanted to talk to you about that</p>



<a name="180418941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180418941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180418941">(Nov 11 2019 at 12:33)</a>:</h4>
<p>it's maybe not ideal to have exposed only to VSCode users</p>



<a name="180418996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180418996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180418996">(Nov 11 2019 at 12:34)</a>:</h4>
<p>but maybe sufficiently enough people use that platform to justify unifying the extension and providing a good Rust out-of-box experience for the users</p>



<a name="180419743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180419743" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180419743">(Nov 11 2019 at 12:44)</a>:</h4>
<p>Hm, I think if the goal is to expand the number of users, which use ra, the best steps towards the goal are:</p>
<ul>
<li>establishing release process</li>
<li>publishing extension to vs code marketplace</li>
<li>supporing installation/update of the ra-lsp binary from vs code extension</li>
<li>actually activelly saying to people "hey, use rust-analyzer"</li>
</ul>
<p>However, i am not sure if "incresing number of users" is the goal at the moment. Like, the more "production" the thing gets, the harder it becomes to do wild experiments</p>



<a name="180420665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180420665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180420665">(Nov 11 2019 at 12:56)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> I was thinking more in terms of the "unified" effort</p>



<a name="180420672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180420672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180420672">(Nov 11 2019 at 12:56)</a>:</h4>
<p>to a single extension prompting the user "RA or RLS?" and installing that</p>



<a name="180420681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180420681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180420681">(Nov 11 2019 at 12:56)</a>:</h4>
<p>I think it'd be less confusing to have a <em>single</em> extension</p>



<a name="180420698"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180420698" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180420698">(Nov 11 2019 at 12:57)</a>:</h4>
<p>things were bad enough with old Kalita's vscode-rust extension laying around</p>



<a name="180425129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Landing%20on%20rustup%3F/near/180425129" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Landing.20on.20rustup.3F.html#180425129">(Nov 11 2019 at 13:56)</a>:</h4>
<p>It indeed will be less confusing, if we decide that rust-analyzer is production ready enough</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>