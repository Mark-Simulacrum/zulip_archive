<html>
<head><meta charset="utf-8"><title>Debug Adapter Protocol (DAP) · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html">Debug Adapter Protocol (DAP)</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269113234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269113234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269113234">(Jan 24 2022 at 14:30)</a>:</h4>
<p>Hey all, I was curious what thoughts and/or plans y'all had around the <a href="https://microsoft.github.io/debug-adapter-protocol/">Debug Adapter Protocol</a> (if any). I don't believe Rust-Analyzer currently supports it, but it feels closely related, so I figured I'd ask (:</p>



<a name="269113335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269113335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269113335">(Jan 24 2022 at 14:31)</a>:</h4>
<p>(also keen to hear if this is the first time folks are hearing about it, or if y'all don't know of any plans -- mostly trying to understand what the current thinking is)</p>



<a name="269114072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269114072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269114072">(Jan 24 2022 at 14:37)</a>:</h4>
<p>First time hearing of that, so assuming r-a used that. This would be a way for r-a to talk with the debugger?</p>



<a name="269114208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269114208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269114208">(Jan 24 2022 at 14:38)</a>:</h4>
<p>so far I would have said it's outside the scope of RA</p>



<a name="269114744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269114744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269114744">(Jan 24 2022 at 14:42)</a>:</h4>
<p>interesting - it sounds like folks here haven't really been making plans on what to do with DAP</p>



<a name="269114913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269114913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269114913">(Jan 24 2022 at 14:43)</a>:</h4>
<p>I guess to share why I'm asking: the DAP protocol is a sibling to the LSP protocol, which allows integrating with things like debuggers, profilers, and more.</p>



<a name="269115728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269115728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269115728">(Jan 24 2022 at 14:49)</a>:</h4>
<p>Right now the debugger experience for Rust is usable, but not yet mind-blowingly good. Something I've been wondering about is if we spoke the DAP protocol, on the server side we could gradually start providing the functionality it provides.</p>



<a name="269115794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269115794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269115794">(Jan 24 2022 at 14:49)</a>:</h4>
<p>Which includes debugger support (which maybe we could extend / improve on?), but as I said also profiling, and even REPL support.</p>



<a name="269115994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269115994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269115994">(Jan 24 2022 at 14:51)</a>:</h4>
<p>The tie-in to Rust-Analyzer would be ease of packaging; it'd be amazing if the first time a user opens a <code>.rs</code> file, VS Code auto suggests: "do you want to install the 'Rust' extension", and once it completes everything is done and ready.</p>



<a name="269116077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269116077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269116077">(Jan 24 2022 at 14:51)</a>:</h4>
<p>But if there are no plans to integrate Rust-Analyzer with the DAP protocol, experiments should probably start outside of the RA codebase.</p>



<a name="269116163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269116163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269116163">(Jan 24 2022 at 14:52)</a>:</h4>
<p>Anywayyyyy; that's my two half-formed thoughts haha.</p>



<a name="269240247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269240247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Mcnab <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269240247">(Jan 25 2022 at 10:59)</a>:</h4>
<p>This sounds more related to something like priroda</p>



<a name="269257236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Debug%20Adapter%20Protocol%20%28DAP%29/near/269257236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Olivier FAURE <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Debug.20Adapter.20Protocol.20(DAP).html#269257236">(Jan 25 2022 at 13:37)</a>:</h4>
<p>I think the folks working on Headcrap considere it on their roadmap? Doesn't really matter for now though, since the Headcrab project is stalled.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>