<html>
<head><meta charset="utf-8"><title>new salsa panic? · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html">new salsa panic?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="265085278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265085278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265085278">(Dec 15 2021 at 22:29)</a>:</h4>
<p>Just ran into this assertion, no idea how I managed to trigger this nor do I have a stacktrace since those are still bugged on windows but this does not sound nice</p>
<div class="codehilite"><pre><span></span><code>thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;assertion failed: old_memo.revisions.changed_at &lt;= result.changed_at&#39;, C:\Users\runneradmin\.cargo\registry\src\github.com-1ecc6299db9ec823\salsa-0.17.0-pre.2\src\derived\slot.rs:261:21
</code></pre></div>



<a name="265140990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265140990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265140990">(Dec 16 2021 at 11:16)</a>:</h4>
<p>You might be able to run with <code>RUST_LOG=salsa=debug</code> to extract some more info if it reappears</p>



<a name="265285894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265285894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265285894">(Dec 17 2021 at 11:48)</a>:</h4>
<p>Is there an issue open for broken stacktrace?</p>



<a name="265287614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265287614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265287614">(Dec 17 2021 at 12:09)</a>:</h4>
<p><a href="https://github.com/rust-analyzer/rust-analyzer/issues/10371">https://github.com/rust-analyzer/rust-analyzer/issues/10371</a></p>



<a name="265288199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265288199" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265288199">(Dec 17 2021 at 12:16)</a>:</h4>
<p>I should really look into <a href="https://github.com/rust-analyzer/rust-analyzer/issues/10483">rust-analyzer#10483</a> <span aria-label="grimacing" class="emoji emoji-1f62c" role="img" title="grimacing">:grimacing:</span></p>



<a name="265288411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265288411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265288411">(Dec 17 2021 at 12:19)</a>:</h4>
<p>Right that one might solve the problem for us</p>



<a name="265288413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265288413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265288413">(Dec 17 2021 at 12:19)</a>:</h4>
<p>Yeah, with support for pre-relises we can cut so much questionable javascript</p>



<a name="265288498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265288498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265288498">(Dec 17 2021 at 12:20)</a>:</h4>
<p>Sounds like backtrace should windows-gnu target should work out of the box.</p>



<a name="265288553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265288553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265288553">(Dec 17 2021 at 12:21)</a>:</h4>
<p>What windows-gnu target? <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="265288566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265288566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265288566">(Dec 17 2021 at 12:21)</a>:</h4>
<p>Our binaries are windows-msvc</p>



<a name="265288637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265288637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265288637">(Dec 17 2021 at 12:22)</a>:</h4>
<p>Sorry, brainfart. I meant if binaries were built with windows-gnu target they would have working stacktrace.</p>



<a name="265288848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265288848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265288848">(Dec 17 2021 at 12:25)</a>:</h4>
<p>They should also work if you're building from source</p>



<a name="265289117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265289117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265289117">(Dec 17 2021 at 12:28)</a>:</h4>
<p>They do, its just the msvc binaries we ship that don't</p>



<a name="265289241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265289241" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265289241">(Dec 17 2021 at 12:30)</a>:</h4>
<p>Well, you could try to temporarily ship windows-gnu builds until the proper solution is ready.</p>



<a name="265289305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265289305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265289305">(Dec 17 2021 at 12:31)</a>:</h4>
<p>It's harder to set up <code>windows-gnu</code> and make sure they work for users without MinGW or whatever installed than to include the <code>.pdb</code> in the release</p>



<a name="265289499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265289499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265289499">(Dec 17 2021 at 12:33)</a>:</h4>
<p>Ugh, do I want to know why the executable is called <code>rust-analyzer.exe</code> while the PDB is <code>rust_analyzer.pdb</code>?</p>



<a name="265289869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265289869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265289869">(Dec 17 2021 at 12:38)</a>:</h4>
<p>Doesn't <code>windows-gnu</code> statically link to mingw?</p>



<a name="265289965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265289965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265289965">(Dec 17 2021 at 12:39)</a>:</h4>
<p>These are all static libraries: <a href="https://github.com/rust-lang/rust/blob/master/src/bootstrap/dist.rs#L177-L221">https://github.com/rust-lang/rust/blob/master/src/bootstrap/dist.rs#L177-L221</a></p>



<a name="265290026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290026">(Dec 17 2021 at 12:39)</a>:</h4>
<p>Ah, nice</p>



<a name="265290267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290267">(Dec 17 2021 at 12:42)</a>:</h4>
<p>Windows-gnu statically links libgcc, Windows DLLs are still dynamically linked. So using this binary is the same as ones built by windows-msvc.<br>
Builing on CI takes slightly more effort though.</p>



<a name="265290332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290332">(Dec 17 2021 at 12:42)</a>:</h4>
<p>Sigh, the <code>zip</code> crate uses <code>thiserror</code></p>



<a name="265290390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290390">(Dec 17 2021 at 12:43)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> do you have anything against moving the compression from <code>xtask dist</code> to the GHA workflow? We should switch from <code>.gz</code> to <code>.zip</code> in order to include the PDB in the archive.</p>



<a name="265290460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290460">(Dec 17 2021 at 12:43)</a>:</h4>
<p>can we just shell-out to <code>zip</code>?</p>



<a name="265290508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290508" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290508">(Dec 17 2021 at 12:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133169">matklad</span> <a href="#narrow/stream/185405-t-compiler.2Frust-analyzer/topic/new.20salsa.20panic.3F/near/265290460">said</a>:</p>
<blockquote>
<p>can we just shell-out to <code>zip</code>?</p>
</blockquote>
<p>Not on Windows. Oh..</p>



<a name="265290579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290579">(Dec 17 2021 at 12:44)</a>:</h4>
<p>Never mind <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="265290581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290581">(Dec 17 2021 at 12:44)</a>:</h4>
<p>I guess, i'd still prefer if we do whatever that action is doing via xtask, but no super strong opinion here</p>



<a name="265290590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290590">(Dec 17 2021 at 12:44)</a>:</h4>
<p>Why not use .tar.gz?</p>



<a name="265290623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290623">(Dec 17 2021 at 12:45)</a>:</h4>
<p>Yeah, we can use <code>.tar.gz</code> (by adding the <code>tar</code> crate). ZIP is slightly nicer, but it probably doesn't matter here</p>



<a name="265290658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290658">(Dec 17 2021 at 12:45)</a>:</h4>
<p>i'd rather not use tar.gz for windows -- as a matter of principle, we shouldn't carry unix idioms to windows</p>



<a name="265290682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290682">(Dec 17 2021 at 12:45)</a>:</h4>
<p>Although, no suuuper storng opinion here either</p>



<a name="265290776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290776">(Dec 17 2021 at 12:46)</a>:</h4>
<p>Windows 10 has tar support.</p>



<a name="265290778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290778">(Dec 17 2021 at 12:46)</a>:</h4>
<blockquote>
<p><code>tar.exe -x -f out.zip</code></p>
</blockquote>



<a name="265290811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290811">(Dec 17 2021 at 12:46)</a>:</h4>
<p>Sorry for offtpic but <span class="user-mention" data-user-id="133247">@bjorn3</span>  mingw-w64 is set of import and static libraries, it doesn't have dynamic dependencies except Windows built-in libraries. The dynamic dependencies come either from GCC (libgcc, winpthread, libstdc++) or LLVM (libunwind, libc++).</p>



<a name="265290978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265290978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265290978">(Dec 17 2021 at 12:48)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/blob/master/src/bootstrap/dist.rs#L177-L221">https://github.com/rust-lang/rust/blob/master/src/bootstrap/dist.rs#L177-L221</a> lists static libraries for libgcc, libpthread and libstdc++.</p>



<a name="265291571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265291571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265291571">(Dec 17 2021 at 12:54)</a>:</h4>
<p>True but you can use external C toolchain with it, like you do on Linux.</p>



<a name="265291970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265291970" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265291970">(Dec 17 2021 at 12:58)</a>:</h4>
<p>Is rust-analyzer still trying to avoid C dependencies as much as possible?</p>



<a name="265292068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/new%20salsa%20panic%3F/near/265292068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/new.20salsa.20panic.3F.html#265292068">(Dec 17 2021 at 12:59)</a>:</h4>
<p>I think so</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>