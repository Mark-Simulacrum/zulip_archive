<html>
<head><meta charset="utf-8"><title>✔ ebuilds and packaging RA for linux distros · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html">✔ ebuilds and packaging RA for linux distros</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="248429517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429517">(Aug 05 2021 at 01:43)</a>:</h4>
<p>Hello, I have some questions about writing build scripts for gentoo (ebuilds) for rust-analyzer. I am wondering about cargo xtask and what it does, and if it's possible to avoid using it and just call cargo build directly since gentoo's cargo eclass already has all of the machinery to do it that way. I am also new to this website so I apologize if I am asking in the wrong place or something!</p>



<a name="248429580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429580" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429580">(Aug 05 2021 at 01:44)</a>:</h4>
<p>I tried building the package with cargo build directly and it seems to work fine, but the docs don't say to do that. I am also curious if it's possible to build it with the regular command, if it builds the vscode stuff that depends on npm as well, since I want that part of the package to be able to toggled at compile time behind a USE flag</p>



<a name="248429672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429672">(Aug 05 2021 at 01:46)</a>:</h4>
<p>I'm not sure if there is a way to just talk in general outside of a topic? Does anyone know how to do that</p>



<a name="248429789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429789">(Aug 05 2021 at 01:49)</a>:</h4>
<p>talking outside of a topic is not recommended because it tends to become an unsearchable dumping ground</p>



<a name="248429793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429793">(Aug 05 2021 at 01:49)</a>:</h4>
<p>it's okay if the topic goes a little off topic</p>



<a name="248429855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429855">(Aug 05 2021 at 01:50)</a>:</h4>
<p>huh that's pretty strange coming from IRC but now I think I get it</p>



<a name="248429862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429862">(Aug 05 2021 at 01:50)</a>:</h4>
<p>i thought there might be a "rust" room and then you could start subrooms with topics or something</p>



<a name="248429863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429863" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429863">(Aug 05 2021 at 01:50)</a>:</h4>
<p>but some basic categorization is helpful for organizing hundreds of interleaved conversations</p>



<a name="248429869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429869">(Aug 05 2021 at 01:51)</a>:</h4>
<p>yeah that makes sense for sure</p>



<a name="248429876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429876">(Aug 05 2021 at 01:51)</a>:</h4>
<p>You can use general for "rust room" stuff</p>



<a name="248429879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429879" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429879">(Aug 05 2021 at 01:51)</a>:</h4>
<p>but still make a topic name</p>



<a name="248429884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429884">(Aug 05 2021 at 01:51)</a>:</h4>
<p>oh I see now, if I click t-compiler/rust-analzyer I can see all messages from all topics</p>



<a name="248429961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248429961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248429961">(Aug 05 2021 at 01:53)</a>:</h4>
<p>streams are like IRC rooms. This is the rust-analyzer stream so only people subscribed to it will see this discussion</p>



<a name="248430045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248430045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248430045">(Aug 05 2021 at 01:55)</a>:</h4>
<p>is it pretty active on here? this is the only place to ask for help from a real person about RA that I can find</p>



<a name="248430211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248430211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248430211">(Aug 05 2021 at 01:58)</a>:</h4>
<p>I think so, you can see the rate of messages by selecting the stream and scrolling up. Most of the RA experts are here so I'm sure you will get an answer when they drop by.</p>



<a name="248430377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248430377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248430377">(Aug 05 2021 at 02:01)</a>:</h4>
<p>You should probably give it at least 24 h though just in case they are all asleep. They can ping you so there is no need to wait</p>



<a name="248430387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248430387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248430387">(Aug 05 2021 at 02:01)</a>:</h4>
<p>thanks for the help!</p>



<a name="248432941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248432941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248432941">(Aug 05 2021 at 02:51)</a>:</h4>
<p>Just incase someone reads this while I'm gone, another reason for not being able to use the "cargo xtask install" command is because I need to be able to build the binary and install in two separate steps. Afaik the portage sandbox on gentoo forbids FS access except in the src_install() function. It could probably be worked around with some nasty hacks but there should be a better way!</p>
<p>Just running cargo build in the rust-analyzer crate dir seems to build the project fine so I may end up just doing that for now.</p>



<a name="248433019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248433019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248433019">(Aug 05 2021 at 02:52)</a>:</h4>
<p>I also need a method for disabling features like jemalloc (if supported) and building only the server (e.g, cargo xtask install --server)</p>



<a name="248439859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248439859" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248439859">(Aug 05 2021 at 05:25)</a>:</h4>
<p><span class="user-mention" data-user-id="425259">@John T</span>  <code>cargo build --release</code> will work just fine. You can see what it does <a href="https://github.com/rust-analyzer/rust-analyzer/blob/294cfd61c79d031da20e042c56cf621db1918228/xtask/src/install.rs#L139-L171">here</a>.</p>



<a name="248439927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248439927" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248439927">(Aug 05 2021 at 05:26)</a>:</h4>
<p>And actually you probably don't want <code>--features force-always-assert</code> because it makes RA more.. crashy.</p>



<a name="248439951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248439951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248439951">(Aug 05 2021 at 05:27)</a>:</h4>
<p>So <code>cargo build --release --locked --path crates/rust-analyzer</code> should work, and you can add one of <code>--features mimalloc</code> or <code>--features jemalloc</code> depending on your USE flags.</p>



<a name="248440830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248440830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248440830">(Aug 05 2021 at 05:47)</a>:</h4>
<p><span class="user-mention" data-user-id="203546">@Laurențiu</span> That sounds good. Is there a flag I can pass to build the vscode related parts of RA as well through the regular cargo build command? It seems like just running "cargo build" will not build that part of the project, so I'm wondering what I have to call to do that as well</p>



<a name="248440906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248440906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248440906">(Aug 05 2021 at 05:50)</a>:</h4>
<p>Actually looking through this file I can see exactly what xtask would be running for me, I guess I can just run that manually for the same effect.</p>



<a name="248440959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248440959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248440959">(Aug 05 2021 at 05:51)</a>:</h4>
<p>thanks a lot for pointing that file out, now xtask makes a whole lot more sense to me and I can sort of see what's going on!</p>



<a name="248441032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248441032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248441032">(Aug 05 2021 at 05:52)</a>:</h4>
<p>I'm going to mark this as resolved for now since i have the most important part of my answer as far as I can tell. If I run into more issues I will go ahead and open a new topic</p>



<a name="248441034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248441034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248441034">(Aug 05 2021 at 05:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="425259">John T</span> has marked this topic as resolved.</p>



<a name="248442973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248442973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248442973">(Aug 05 2021 at 06:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="425259">John T</span> <a href="#narrow/stream/185405-t-compiler.2Frust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros/near/248440959">said</a>:</p>
<blockquote>
<p>thanks a lot for pointing that file out, now xtask makes a whole lot more sense to me and I can sort of see what's going on!</p>
</blockquote>
<p>Yeah, but I'm not sure how useful that is. Code extensions are installed per-user AFAICT, so what would you do with a VSIX ebuild?</p>



<a name="248546638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248546638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248546638">(Aug 05 2021 at 22:43)</a>:</h4>
<p><span class="user-mention" data-user-id="203546">@Laurențiu</span> is it valid to just run cargo build in the top level dir without passing --path to build? Passing the path to the Cargo.toml file is breaking the way the eclass works since it passes all arguments to each phase of the build, including the install phase, where any path parameter is invalid</p>



<a name="248546745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248546745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John T <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248546745">(Aug 05 2021 at 22:44)</a>:</h4>
<p>The issue with that might be passing feature flags to RA's crate</p>



<a name="248571813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/%E2%9C%94%20ebuilds%20and%20packaging%20RA%20for%20linux%20distros/near/248571813" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/.E2.9C.94.20ebuilds.20and.20packaging.20RA.20for.20linux.20distros.html#248571813">(Aug 06 2021 at 05:00)</a>:</h4>
<p><code>-p rust-analyzer</code> works too, but I don't know if that works with the ebuild stuff. Or you can omit it altogether, it might compile slightly slower, but that's probably fine.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>