<html>
<head><meta charset="utf-8"><title>loadOutDirsFromCheck / proc macros · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck.20.2F.20proc.20macros.html">loadOutDirsFromCheck / proc macros</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="215443599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck%20/%20proc%20macros/near/215443599" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck.20.2F.20proc.20macros.html#215443599">(Nov 03 2020 at 11:57)</a>:</h4>
<p>I've been wondering about the long-term plan for <code>loadOutDirsFromCheck</code> and running proc macros, so I wrote down some thoughts here: <a href="https://github.com/rust-analyzer/rust-analyzer/issues/6448">rust-analyzer#6448</a></p>



<a name="215445551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck%20/%20proc%20macros/near/215445551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck.20.2F.20proc.20macros.html#215445551">(Nov 03 2020 at 12:17)</a>:</h4>
<p>See also <a href="https://github.com/rust-analyzer/rust-analyzer/issues/6279">https://github.com/rust-analyzer/rust-analyzer/issues/6279</a></p>



<a name="215445678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck%20/%20proc%20macros/near/215445678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck.20.2F.20proc.20macros.html#215445678">(Nov 03 2020 at 12:19)</a>:</h4>
<blockquote>
<p>we want to be able to function without cargo check</p>
</blockquote>
<p>We still do, by default. Are there any downsides to enabling proc macros/build scripts if e.g. the code doesnt build?</p>



<a name="215445997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck%20/%20proc%20macros/near/215445997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck.20.2F.20proc.20macros.html#215445997">(Nov 03 2020 at 12:23)</a>:</h4>
<p>My preference would be to enable them by default, or to ask on the first project load (not necessarily one with build scripts). Another nice touch would be to detect if the proc macro server is crashing and disable it, to better handle ABI changes</p>



<a name="215446161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck%20/%20proc%20macros/near/215446161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/loadOutDirsFromCheck.20.2F.20proc.20macros.html#215446161">(Nov 03 2020 at 12:25)</a>:</h4>
<p>I should have checked for duplicates <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>