<html>
<head><meta charset="utf-8"><title>trait body generation · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html">trait body generation</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="248902564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248902564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248902564">(Aug 09 2021 at 20:19)</a>:</h4>
<p>o/ I'm implementing the trait body generation today and tomorrow; figured I might as well open a topic for it (:</p>



<a name="248902648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248902648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248902648">(Aug 09 2021 at 20:20)</a>:</h4>
<p>I could use some help with something: I'm trying to get a type <code>ast::Adt</code> at this line: <a href="https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/ide_assists/src/handlers/add_missing_impl_members.rs#L126">https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/ide_assists/src/handlers/add_missing_impl_members.rs#L126</a> for the target which we're implementing the trait on</p>



<a name="248902673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248902673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248902673">(Aug 09 2021 at 20:20)</a>:</h4>
<p>Does anyone have any pointers on how to get that?</p>



<a name="248902738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248902738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248902738">(Aug 09 2021 at 20:20)</a>:</h4>
<p>probably ping <span class="user-mention" data-user-id="300586">@Lukas Wirth</span></p>



<a name="248902824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248902824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248902824">(Aug 09 2021 at 20:21)</a>:</h4>
<p>e.g. <code>impl Foo for Bar</code> - I'm trying to get <code>Bar</code> in the shape of <code>ast::Adt</code> -- but getting a bit lost</p>



<a name="248903339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248903339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248903339">(Aug 09 2021 at 20:25)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">hir_ty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sema</span><span class="p">.</span><span class="n">resolve_type</span><span class="p">(</span><span class="n">impl_</span><span class="p">.</span><span class="n">self_ty</span><span class="p">());</span><span class="w"></span>
<span class="kd">let</span><span class="w"> </span><span class="n">adt_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hir_ty</span><span class="p">.</span><span class="n">source</span><span class="p">(</span><span class="n">db</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>something like this should help you out i think?</p>



<a name="248907703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248907703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248907703">(Aug 09 2021 at 21:03)</a>:</h4>
<p><span class="user-mention" data-user-id="300586">@Lukas Wirth</span> yes, thank you! -- It's not quite working yet (<code>hir::Adt</code> doesn't implement <code>HasSource</code>); but at least it feels like I'm heading in the right direction now!</p>



<a name="248907776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248907776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248907776">(Aug 09 2021 at 21:03)</a>:</h4>
<p>The variants of <code>hir::Adt</code> should implement <code>HasSource</code></p>



<a name="248908029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248908029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248908029">(Aug 09 2021 at 21:05)</a>:</h4>
<p>yep, found them!</p>



<a name="248908079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248908079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248908079">(Aug 09 2021 at 21:06)</a>:</h4>
<p>just need a way to convert them back to <code>ast::Adt</code> now, hehe</p>



<a name="248908114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248908114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248908114">(Aug 09 2021 at 21:06)</a>:</h4>
<p>though I guess; that shouldn't be hard!</p>



<a name="248908147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248908147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248908147">(Aug 09 2021 at 21:06)</a>:</h4>
<p><code>ast::Adt</code> is just an enum of the three adt ast nodes as well</p>



<a name="248910797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248910797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248910797">(Aug 09 2021 at 21:28)</a>:</h4>
<p>Pushed my branch to a WIP PR here: <a href="https://github.com/rust-analyzer/rust-analyzer/pull/9830">https://github.com/rust-analyzer/rust-analyzer/pull/9830</a></p>



<a name="248910832"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248910832" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248910832">(Aug 09 2021 at 21:28)</a>:</h4>
<p>The test I added is failing; feel like I'm missing something obvious. Going to call it a night for now tho</p>



<a name="248910877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248910877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248910877">(Aug 09 2021 at 21:29)</a>:</h4>
<p>Did manage to add <code>HasSource for hir::Adt</code>! \o/</p>



<a name="248952672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248952672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248952672">(Aug 10 2021 at 08:28)</a>:</h4>
<p>woot, it's working! <code>add_missing_impl_members.rs</code> now also generates trait function bodies!</p>



<a name="248952689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248952689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248952689">(Aug 10 2021 at 08:29)</a>:</h4>
<p>Now waiting on CI to pass on: <a href="https://github.com/rust-analyzer/rust-analyzer/pull/9830">https://github.com/rust-analyzer/rust-analyzer/pull/9830</a></p>



<a name="248952814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248952814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248952814">(Aug 10 2021 at 08:30)</a>:</h4>
<p>Next step: default body generation for <code>Hash</code></p>



<a name="248952876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248952876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248952876">(Aug 10 2021 at 08:31)</a>:</h4>
<p>Traits left to specialize for: <code>PartialEq</code>, <code>PartialOrd</code>, <code>Clone</code>, <code>Hash</code></p>



<a name="248952908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248952908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248952908">(Aug 10 2021 at 08:32)</a>:</h4>
<p>Traits already specialized: <code>Debug</code>, <code>Default</code></p>



<a name="248962394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248962394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248962394">(Aug 10 2021 at 10:28)</a>:</h4>
<p>Draft PR for implementing <code>Hash</code>: <a href="https://github.com/rust-analyzer/rust-analyzer/pull/9835">https://github.com/rust-analyzer/rust-analyzer/pull/9835</a>. Depends on the PR which moves the code to <code>utils.rs</code> to be merged first.</p>



<a name="248962406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248962406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248962406">(Aug 10 2021 at 10:28)</a>:</h4>
<p>Next I think I'll do <code>Clone</code> <span aria-label="sparkles" class="emoji emoji-2728" role="img" title="sparkles">:sparkles:</span> - the implementation should be a mix between <code>Default</code> and <code>Hash</code>.</p>



<a name="248970111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248970111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248970111">(Aug 10 2021 at 12:10)</a>:</h4>
<p>Is there a function in <code>make.rs</code> to create a pattern in the style of <code>Foo { x, y, z } =&gt;</code> ?</p>



<a name="248970472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248970472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248970472">(Aug 10 2021 at 12:14)</a>:</h4>
<p>I don't think so, seems good to add it to <code>make::ext</code></p>



<a name="248970656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248970656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248970656">(Aug 10 2021 at 12:17)</a>:</h4>
<p>cool; I'll do that. Seems like the type I'm targeting here is <code>RecordPat</code></p>



<a name="248970759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248970759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248970759">(Aug 10 2021 at 12:18)</a>:</h4>
<p>oh neat; it seems there is one already for that in make!</p>



<a name="248976197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248976197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248976197">(Aug 10 2021 at 13:08)</a>:</h4>
<p>PR for <code>clone</code>: <a href="https://github.com/rust-analyzer/rust-analyzer/pull/9846">https://github.com/rust-analyzer/rust-analyzer/pull/9846</a></p>



<a name="248976248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248976248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248976248">(Aug 10 2021 at 13:08)</a>:</h4>
<p>correctly handling tuple and record enums. That took a few hrs, oops</p>



<a name="248976847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248976847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248976847">(Aug 10 2021 at 13:14)</a>:</h4>
<p>alright, seems that all that's left now is <code>PartialEq</code> and <code>PartialOrd</code></p>



<a name="248977350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248977350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248977350">(Aug 10 2021 at 13:18)</a>:</h4>
<p><del>Just as a headsup, try to not mention github handles in the PR description, just do a follow up comment for r?. Bors puts the PR descriptions into the merge commit message and github likes to notify people due to these commits on fork updates and the like <span aria-label="grimacing" class="emoji emoji-1f62c" role="img" title="grimacing">:grimacing:</span> (Though I  think they finally fixed that but I'd rather not challenge that)</del></p>



<a name="248977678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248977678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248977678">(Aug 10 2021 at 13:21)</a>:</h4>
<blockquote>
<p>Bors puts the PR descriptions into the merge commit message</p>
</blockquote>
<p>No longer happens since <a href="https://github.com/bors-ng/bors-ng/issues/1221">bors-ng/bors-ng#1221</a></p>



<a name="248979083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248979083" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248979083">(Aug 10 2021 at 13:33)</a>:</h4>
<p>oh, I didn't know that used to be an issue -- glad it was fixed tho! :D</p>



<a name="248981733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248981733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248981733">(Aug 10 2021 at 13:54)</a>:</h4>
<p><span class="user-mention" data-user-id="203546">@Laurențiu</span> I think the bug in <a href="https://github.com/rust-analyzer/rust-analyzer/pull/9846#issuecomment-896043331">https://github.com/rust-analyzer/rust-analyzer/pull/9846#issuecomment-896043331</a> predates the work I've been doing; I don't think I touched the outer trait generation code. It might be worth checking whether it affects the <code>add_missing_impl_members</code> assist too, and then fixing it wholesale</p>



<a name="248981900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/248981900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#248981900">(Aug 10 2021 at 13:55)</a>:</h4>
<p>Yeah, it's a previous bug, I just didn't test it before. Or maybe I did, but forgot about it.</p>



<a name="249145888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/249145888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#249145888">(Aug 11 2021 at 18:05)</a>:</h4>
<p>PR for <code>PartialEq</code>: <a href="https://github.com/rust-analyzer/rust-analyzer/pull/9863">https://github.com/rust-analyzer/rust-analyzer/pull/9863</a></p>



<a name="249216936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/249216936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#249216936">(Aug 12 2021 at 10:13)</a>:</h4>
<p><span class="user-mention" data-user-id="300586">@Lukas Wirth</span> any suggestions for what to name the path iter method?</p>



<a name="249216943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/249216943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#249216943">(Aug 12 2021 at 10:13)</a>:</h4>
<p>I have <code>make::ext::path_from_parts</code>, but not loving it</p>



<a name="249216960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/249216960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#249216960">(Aug 12 2021 at 10:13)</a>:</h4>
<p><code>make::ext::path_idents</code>?</p>



<a name="249217243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/249217243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#249217243">(Aug 12 2021 at 10:17)</a>:</h4>
<p>alright, going with <code>path_from_idents</code> -- we can always change it later ^^</p>



<a name="249217253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/249217253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#249217253">(Aug 12 2021 at 10:17)</a>:</h4>
<p>ye seems good</p>



<a name="249347517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/249347517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#249347517">(Aug 13 2021 at 11:12)</a>:</h4>
<p>Making a note here that we should update <a href="https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/ide_completion/src/completions/trait_impl.rs">https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/ide_completion/src/completions/trait_impl.rs</a></p>



<a name="249605512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/trait%20body%20generation/near/249605512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/trait.20body.20generation.html#249605512">(Aug 16 2021 at 15:40)</a>:</h4>
<p>Fixed the Debug codegen for record/tuple enums: <a href="https://github.com/rust-analyzer/rust-analyzer/pull/9924">https://github.com/rust-analyzer/rust-analyzer/pull/9924</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>