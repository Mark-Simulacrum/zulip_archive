<html>
<head><meta charset="utf-8"><title>Pull requests · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Pull.20requests.html">Pull requests</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="195197177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Pull%20requests/near/195197177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> std::Veetaha <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Pull.20requests.html#195197177">(Apr 24 2020 at 14:39)</a>:</h4>
<p>Hey guys, was I constantly mistaken or does GitHub (bare-bones without bors) invoke workflows for PRs having merged the PR branch with destination branch (e.g. master). I have noticed this when issuing a PR with an old branch that no longer builds if it is merged with the current master.<br>
I noticed the checkout actions uses <a href="https://discourse.drone.io/t/github-claims-that-merge-refs-are-undocumented-feature/1100" title="https://discourse.drone.io/t/github-claims-that-merge-refs-are-undocumented-feature/1100">some undocumented feature</a> of GitHub, namely PR merge refs, it invokes:</p>
<div class="codehilite"><pre><span></span>git fetch --no-tags --prune --no-recurse-submodules --depth<span class="o">=</span><span class="m">1</span> origin +&lt;some_long_hash&gt;:refs/remotes/pull/42/merge
</pre></div>



<a name="195198484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Pull%20requests/near/195198484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Pull.20requests.html#195198484">(Apr 24 2020 at 14:48)</a>:</h4>
<p>Yes, it does, which seems a good idea</p>



<a name="195297626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Pull%20requests/near/195297626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christopher Durham <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Pull.20requests.html#195297626">(Apr 25 2020 at 18:50)</a>:</h4>
<p>Yes, I don't recall where it's documented exactly, but GitHub does say that PR workflow runs are done against a merged commit.</p>
<p>This isn't "enough" to replace bors, though, as the workflow is not rerun if the target branch is updated between the posting of the PR and the merging of the PR.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>