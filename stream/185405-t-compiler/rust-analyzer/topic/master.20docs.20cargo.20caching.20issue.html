<html>
<head><meta charset="utf-8"><title>master docs cargo caching issue · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/master.20docs.20cargo.20caching.20issue.html">master docs cargo caching issue</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="161631746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/master%20docs%20cargo%20caching%20issue/near/161631746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> robojumper <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/master.20docs.20cargo.20caching.20issue.html#161631746">(Mar 25 2019 at 10:52)</a>:</h4>
<p>Huh, so it looks like there's a bug in cargo for documenting workspaces -- removing a crate doesn't actually remove it from the target/doc directory, and the crate is still included in the search index etc. So <a href="https://rust-analyzer.github.io/rust-analyzer/ra_ide_api_light/index.html" target="_blank" title="https://rust-analyzer.github.io/rust-analyzer/ra_ide_api_light/index.html">https://rust-analyzer.github.io/rust-analyzer/ra_ide_api_light/index.html</a> is still accessible even though the crate doesn't exist anymore (and it's included in every other crate's sidebar).</p>



<a name="161631761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/master%20docs%20cargo%20caching%20issue/near/161631761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> robojumper <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/master.20docs.20cargo.20caching.20issue.html#161631761">(Mar 25 2019 at 10:52)</a>:</h4>
<p>Is this something I should report to r-l/cargo?</p>



<a name="161632772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/master%20docs%20cargo%20caching%20issue/near/161632772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/master.20docs.20cargo.20caching.20issue.html#161632772">(Mar 25 2019 at 11:10)</a>:</h4>
<p>So, this is just stale files in the <code>target</code> folder? I guess we should maybe just exclude it from caching on travis?</p>



<a name="161632781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/master%20docs%20cargo%20caching%20issue/near/161632781" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/master.20docs.20cargo.20caching.20issue.html#161632781">(Mar 25 2019 at 11:10)</a>:</h4>
<p>or am I misunderstanding the issue?</p>



<a name="161632859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/master%20docs%20cargo%20caching%20issue/near/161632859" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> robojumper <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/master.20docs.20cargo.20caching.20issue.html#161632859">(Mar 25 2019 at 11:11)</a>:</h4>
<p>Stale files in target/doc, yeah. Removing it from caching on Travis and deleting the cache once should fix that.<br>
Still opened <a href="https://github.com/rust-lang/cargo/issues/6783" target="_blank" title="https://github.com/rust-lang/cargo/issues/6783">https://github.com/rust-lang/cargo/issues/6783</a> because it seems like a bug.</p>



<a name="161632975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/master%20docs%20cargo%20caching%20issue/near/161632975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/master.20docs.20cargo.20caching.20issue.html#161632975">(Mar 25 2019 at 11:13)</a>:</h4>
<p>Thanks!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>