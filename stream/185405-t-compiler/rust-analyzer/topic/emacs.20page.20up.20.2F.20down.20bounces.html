<html>
<head><meta charset="utf-8"><title>emacs page up / down bounces · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html">emacs page up / down bounces</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="230051645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230051645" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230051645">(Mar 12 2021 at 15:52)</a>:</h4>
<p>I use emacs on macOS in the terminal with rust-analyzer. Sometimes, when I use Page Up / Page Down, the scroll position "resets".</p>
<p>In this GIF, I only ever hit Page Up, but the document scrolls back. Any tips on where to start debugging that? (I'm also asking in the emacs LSP Discord)</p>
<div class="message_inline_image"><a href="https://media.discordapp.net/attachments/789890622424219658/819959539591938098/2021-03-12_10.45.32.gif"><img src="https://media.discordapp.net/attachments/789890622424219658/819959539591938098/2021-03-12_10.45.32.gif"></a></div>



<a name="230058057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230058057" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230058057">(Mar 12 2021 at 16:25)</a>:</h4>
<p>Is it even related to LSP?</p>



<a name="230059928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230059928" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230059928">(Mar 12 2021 at 16:36)</a>:</h4>
<p>When I turn off LSP (<code>M-x lsp-disconnect</code>) it appears to go away as well</p>



<a name="230064896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230064896" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230064896">(Mar 12 2021 at 17:07)</a>:</h4>
<p>I've never encountered this, and I don't have any idea what could cause it</p>



<a name="230076263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230076263" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230076263">(Mar 12 2021 at 18:28)</a>:</h4>
<p>Starting emacs with <code>emacs -q -l /tmp/lsp-start-plain.el -nw src/resources/common.rs</code> (<a href="https://raw.githubusercontent.com/emacs-lsp/lsp-mode/master/scripts/lsp-start-plain.el">lsp-start-plain.el</a>) has the same problem, so it seems unlikely to be user-config.</p>



<a name="230076595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230076595" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230076595">(Mar 12 2021 at 18:31)</a>:</h4>
<p>And I've tried in a different terminal (usually use iTerm, tried with <a href="http://Terminal.app">Terminal.app</a> as well)</p>



<a name="230088739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230088739" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230088739">(Mar 12 2021 at 20:01)</a>:</h4>
<p>Hm, does it mean you are not seeing this in GUI emacs?</p>



<a name="230096662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230096662" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230096662">(Mar 12 2021 at 20:59)</a>:</h4>
<p>I don't even have a GUI emacs with a reasonable setup :-)</p>



<a name="230096768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230096768" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230096768">(Mar 12 2021 at 21:00)</a>:</h4>
<p>I have Aquamacs installed, but I've never even successfully got it to connect to MELPA</p>



<a name="230096877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230096877" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230096877">(Mar 12 2021 at 21:00)</a>:</h4>
<p>So GUI emacs is a big ? there</p>



<a name="230147505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230147505" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230147505">(Mar 13 2021 at 08:21)</a>:</h4>
<p>I see inlay hints, and we do use weird unicode symbols for them (zero width whitespace and such), so that <em>might</em> clash with some kind of an escape sequence?</p>



<a name="230187942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230187942" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230187942">(Mar 13 2021 at 20:48)</a>:</h4>
<p>In the smaller reproduction (after the GIF was made), inlay hints are apparently disabled (since it's all the LSP defaults)</p>



<a name="230188133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230188133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230188133">(Mar 13 2021 at 20:52)</a>:</h4>
<p>Hmm, it looks like it has something to do with the end of the visible buffer. If I just arrow-down to the last line, it automatically centers the visible buffer on that line. </p>
<p><a href="/user_uploads/4715/XHFdOn6KezYXYnT14_Q8lAYU/2021-03-13-15.51.36.gif">2021-03-13-15.51.36.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/XHFdOn6KezYXYnT14_Q8lAYU/2021-03-13-15.51.36.gif" title="2021-03-13-15.51.36.gif"><img src="/user_uploads/4715/XHFdOn6KezYXYnT14_Q8lAYU/2021-03-13-15.51.36.gif"></a></div>



<a name="230193796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/emacs%20page%20up%20/%20down%20bounces/near/230193796" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/185405-t-compiler/rust-analyzer/topic/emacs.20page.20up.20.2F.20down.20bounces.html#230193796">(Mar 13 2021 at 22:18)</a>:</h4>
<p>It seems to have something to do with the lsp headerline breadcrumb <em>and</em> an older version of emacs from trunk. I upgraded my version of emacs and it <em>seems</em> to have disappeared.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>