<html>
<head><meta charset="utf-8"><title>git 2.35 breaks CI · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html">git 2.35 breaks CI</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269449633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/git%202.35%20breaks%20CI/near/269449633" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html#269449633">(Jan 26 2022 at 17:30)</a>:</h4>
<p>FYI: git 2.35 seems to change the behavior of <code>git rev-list</code> so that the "no merge commits" check now fails on all the bors commits. CI hasn't yet updated to that, but once it does it will break there too.</p>



<a name="269449971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/git%202.35%20breaks%20CI/near/269449971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html#269449971">(Jan 26 2022 at 17:32)</a>:</h4>
<p>Hmm, <code>git rev-list --merges --invert-grep --author 'bors\\[bot\\]' HEAD~19..</code> still works for me on 2.35</p>



<a name="269450048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/git%202.35%20breaks%20CI/near/269450048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html#269450048">(Jan 26 2022 at 17:32)</a>:</h4>
<p>which check is this? do you mean the <code>x.py</code> check or something specific to rust-analyzer?</p>



<a name="269450142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/git%202.35%20breaks%20CI/near/269450142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html#269450142">(Jan 26 2022 at 17:33)</a>:</h4>
<p>That's one of the rust-analyzer tests, shouldn't matter if you're working on rust-lang/rust</p>



<a name="269450268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/git%202.35%20breaks%20CI/near/269450268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html#269450268">(Jan 26 2022 at 17:34)</a>:</h4>
<p>We prefer to rebase and there's a check that PRs don't contain merge commits</p>



<a name="269450519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/git%202.35%20breaks%20CI/near/269450519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html#269450519">(Jan 26 2022 at 17:35)</a>:</h4>
<p>That command prints all the bors commits for me</p>



<a name="269450778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/git%202.35%20breaks%20CI/near/269450778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html#269450778">(Jan 26 2022 at 17:37)</a>:</h4>
<p><a href="/user_uploads/4715/bgABx39qenNXIeyqIlXRhymw/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/bgABx39qenNXIeyqIlXRhymw/image.png" title="image.png"><img src="/user_uploads/4715/bgABx39qenNXIeyqIlXRhymw/image.png"></a></div><p>Weird stuff <span aria-label="grimacing" class="emoji emoji-1f62c" role="img" title="grimacing">:grimacing:</span>.</p>



<a name="269452242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/git%202.35%20breaks%20CI/near/269452242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html#269452242">(Jan 26 2022 at 17:47)</a>:</h4>
<p>It's a real change: <a href="https://github.com/git/git/blob/89bece5c8c96f0b962cfc89e63f82d603fd60bed/Documentation/RelNotes/2.35.0.txt#L330-L333">https://github.com/git/git/blob/89bece5c8c96f0b962cfc89e63f82d603fd60bed/Documentation/RelNotes/2.35.0.txt#L330-L333</a></p>



<a name="269456191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/git%202.35%20breaks%20CI/near/269456191" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html#269456191">(Jan 26 2022 at 18:11)</a>:</h4>
<p>fix: <a href="https://github.com/rust-analyzer/rust-analyzer/pull/11348">https://github.com/rust-analyzer/rust-analyzer/pull/11348</a></p>



<a name="269456707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/git%202.35%20breaks%20CI/near/269456707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/git.202.2E35.20breaks.20CI.html#269456707">(Jan 26 2022 at 18:14)</a>:</h4>
<p>Ah, it seemed to work fine for me because of the double-escaped brackets</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>