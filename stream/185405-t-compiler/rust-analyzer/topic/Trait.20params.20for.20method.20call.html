<html>
<head><meta charset="utf-8"><title>Trait params for method call · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Trait.20params.20for.20method.20call.html">Trait params for method call</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="267451764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Trait%20params%20for%20method%20call/near/267451764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Trait.20params.20for.20method.20call.html#267451764">(Jan 10 2022 at 15:19)</a>:</h4>
<p>If I have a method call like <code>x.method()</code>, it's easy to figure out that <code>method</code> is from a trait. But is there a way to access the inferred type parameters of the trait ref from the IDE layer? The fully inferred trait ref would work too.</p>



<a name="267453963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Trait%20params%20for%20method%20call/near/267453963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Trait.20params.20for.20method.20call.html#267453963">(Jan 10 2022 at 15:36)</a>:</h4>
<p>I don't think so, at least I don't remember us having anything like that yet</p>



<a name="267463842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Trait%20params%20for%20method%20call/near/267463842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Trait.20params.20for.20method.20call.html#267463842">(Jan 10 2022 at 16:38)</a>:</h4>
<p><code>Semantics::resolve_method_call_as_callable</code> returns a <code>Callable</code> which contains the full type with type parameters of the called method</p>



<a name="267470710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Trait%20params%20for%20method%20call/near/267470710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Trait.20params.20for.20method.20call.html#267470710">(Jan 10 2022 at 17:25)</a>:</h4>
<p>That doesn't contain the method's trait type arguments though</p>



<a name="267476515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Trait%20params%20for%20method%20call/near/267476515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Trait.20params.20for.20method.20call.html#267476515">(Jan 10 2022 at 18:02)</a>:</h4>
<p>maybe I'm misunderstanding, but if we have <code>trait Trait&lt;T1, T2&gt; { fn method&lt;T3&gt;() }</code> then the type of the callable should be the function type of the method with parameters <code>Self, T1, T2, T3</code>, right?</p>



<a name="267480306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Trait%20params%20for%20method%20call/near/267480306" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Trait.20params.20for.20method.20call.html#267480306">(Jan 10 2022 at 18:32)</a>:</h4>
<p>Oh right, that should be the case. Never mind then.</p>



<a name="267607972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Trait%20params%20for%20method%20call/near/267607972" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Trait.20params.20for.20method.20call.html#267607972">(Jan 11 2022 at 16:34)</a>:</h4>
<p>looks like we don't have an IDE concept for "thing with substs" or even just "<code>TraitRef</code>"</p>



<a name="267618502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Trait%20params%20for%20method%20call/near/267618502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Trait.20params.20for.20method.20call.html#267618502">(Jan 11 2022 at 17:46)</a>:</h4>
<p>we probably do need to complete the <code>Ty : Type :: TraitRef : ???</code></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>