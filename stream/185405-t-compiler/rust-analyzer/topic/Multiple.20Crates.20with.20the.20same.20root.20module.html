<html>
<head><meta charset="utf-8"><title>Multiple Crates with the same root module · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html">Multiple Crates with the same root module</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="277771217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277771217" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Barsky <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277771217">(Apr 04 2022 at 18:02)</a>:</h4>
<p>Hi folks! I wanted to clarify something with regard to <code>rust-project.json</code>. I'm seeing situations where if Rust Analyzer is given multiple crates with the same root module, it will arbitrarily pick the first one. this occurs most often when Buck, the build system fb uses, generates a <code>crate</code> and <code>crate-unittests</code>, with the latter corresponding to—you guessed it—unit tests. unfortunately, this means that the unit tests can't resolve any imports.</p>
<p>to fix this, am I correct in thinking that both the <code>crate</code> and <code>crate-unittests</code> have to specify the same, _non-empty_ sources in the <code>rust-project.json</code> as per the comment on <a href="https://rust-analyzer.github.io/manual.html#non-cargo-based-projects">https://rust-analyzer.github.io/manual.html#non-cargo-based-projects</a> under <code>Crate</code>?</p>



<a name="277782042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277782042" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277782042">(Apr 04 2022 at 19:29)</a>:</h4>
<p>it's a bit unclear to me what the problem is, maybe you could provide an example project? <br>
every file should belong to exactly one source root, and the source roots are defined by those <code>source</code> elements in the <code>Crate</code> structure (and omitting that amounts to specifying the parent of the root module)</p>



<a name="277782264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277782264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277782264">(Apr 04 2022 at 19:31)</a>:</h4>
<p>I think it's completely ok to specify the top folder containing all the sources as the single root if you have a big workspace with many crates; the only situation where you really need a different root is for dependencies stored in other places (like cargo deps in <code>~/.cargo/registry</code> etc.)</p>



<a name="277783115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277783115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277783115">(Apr 04 2022 at 19:38)</a>:</h4>
<p>They are talking about the source modules of crates, not the source roots.</p>



<a name="277783143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277783143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277783143">(Apr 04 2022 at 19:39)</a>:</h4>
<p>I am a bit confused about when you would ever want to have the same source module for multiple crates though <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="277784813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277784813" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277784813">(Apr 04 2022 at 19:54)</a>:</h4>
<p>I guess it's just once with <code>cfg(test)</code> for tests and once without for the real build / use in dependencies? something we have considered doing for normal cargo workspaces as well</p>



<a name="277795731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277795731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Barsky <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277795731">(Apr 04 2022 at 21:23)</a>:</h4>
<p>yeah, buck does a thing where it creates a unit test crate suffixed with <code>-unittest</code> for <code>#[test]</code>-annotated things. i don't know if that's a reasonable approach, though.</p>



<a name="277795855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277795855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Barsky <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277795855">(Apr 04 2022 at 21:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="129457">Florian Diebold</span> <a href="#narrow/stream/185405-t-compiler.2Frust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module/near/277782042">said</a>:</p>
<blockquote>
<p>it's a bit unclear to me what the problem is, maybe you could provide an example project? <br>
every file should belong to exactly one source root, and the source roots are defined by those <code>source</code> elements in the <code>Crate</code> structure (and omitting that amounts to specifying the parent of the root module)</p>
</blockquote>
<p>I can see about that, but some of this stuff is unfortunately closed source and kinda idiosyntractic. i wouldn't be surprised if we're holding portions of the crate graph wrong.</p>



<a name="277796073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277796073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Barsky <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277796073">(Apr 04 2022 at 21:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="198819">David Barsky</span> <a href="#narrow/stream/185405-t-compiler.2Frust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module/near/277795731">said</a>:</p>
<blockquote>
<p>yeah, buck does a thing where it creates a unit test crate suffixed with <code>-unittest</code> for <code>#[test]</code>-annotated things. i don't know if that's a reasonable approach, though.</p>
</blockquote>
<p>which is to say: to do a <code>buck test</code>, a separate target (e.g., crate) is needed, so it's not unreasonable to see two crates with the same source root because the lib has a <code>#[test]</code> within it. again, this can be entirely wrong!</p>



<a name="277846576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277846576" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277846576">(Apr 05 2022 at 09:00)</a>:</h4>
<p>no, that should be fine and RA should be able to deal with it, it just isn't exercised that much currently</p>
<blockquote>
<p>source root</p>
</blockquote>
<p>note that what you mean here is what we'd call "root file" (i.e. <code>some_crate/src/lib.rs</code>); "source root" in RA is something different: the whole virtual file system is divided into non-intersecting "source roots", where every file that RA knows about has to be in one of them. so if I open my RA workspace in <code>~/projects/rust-analyzer</code>, I'll probably have one source root <code>~/projects/rust-analyzer</code> and then a bunch of source roots for cargo dependencies, e.g. <code>~/.cargo/registry/src/github.com-.../arrayvec-0.7.2/</code> and so on. A source root can contain the source code for any number of crates, the only restriction is that RA assumes that crates don't span across multiple roots. OTOH RA will (if I'm not mistaken) load <em>every</em> .rs file in those source roots, so they can't be too wide (don't make <code>~</code> the single root)</p>



<a name="277846673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277846673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277846673">(Apr 05 2022 at 09:01)</a>:</h4>
<p>and with rust-project.json the <code>source</code> field specifies these source roots</p>



<a name="277874906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277874906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Barsky <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277874906">(Apr 05 2022 at 13:05)</a>:</h4>
<p>oh, thanks for the correction :). yeah, i’m using the terminology in the rust-project.json file, but that helps.</p>



<a name="277875149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277875149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Barsky <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277875149">(Apr 05 2022 at 13:07)</a>:</h4>
<p>how does rust analyzer handle tests in cargo-based builds, btw? i know libtest is kinda funky with visibility rules and so forth, but understanding the baseline behavior would<br>
be helpful in debugging this.</p>



<a name="277875520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277875520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277875520">(Apr 05 2022 at 13:10)</a>:</h4>
<p>Rust-analyzer currently just sets <code>cfg(test)</code> unconditionally.</p>



<a name="277875590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277875590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277875590">(Apr 05 2022 at 13:10)</a>:</h4>
<p>And hopes that no <code>cfg(not(test))</code> is used.</p>



<a name="277891189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277891189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Barsky <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277891189">(Apr 05 2022 at 14:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133247">bjorn3</span> <a href="#narrow/stream/185405-t-compiler.2Frust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module/near/277875520">said</a>:</p>
<blockquote>
<p>Rust-analyzer currently just sets <code>cfg(test)</code> unconditionally.</p>
</blockquote>
<p>gotcha, that's helpful!</p>



<a name="277892218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277892218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Barsky <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277892218">(Apr 05 2022 at 15:02)</a>:</h4>
<p>yeah, it looks like rust-analyzer adds the test cfg to cargo-based builds (<a href="https://github.com/rust-analyzer/rust-analyzer/blob/5a6918f1c4e9d4f0c6a655e6283470f64edd64cf/crates/project_model/src/workspace.rs#L545-L547">https://github.com/rust-analyzer/rust-analyzer/blob/5a6918f1c4e9d4f0c6a655e6283470f64edd64cf/crates/project_model/src/workspace.rs#L545-L547</a>), but it doesn't do the same the same in <code>project_json_to_crate_graph</code>.</p>



<a name="277892306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277892306" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Barsky <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277892306">(Apr 05 2022 at 15:03)</a>:</h4>
<p>...which means we might need to add it in the rust-project.json.</p>



<a name="277899572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277899572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277899572">(Apr 05 2022 at 15:47)</a>:</h4>
<p>this causes other problems for us though. So I think it'd be interesting to see how well the duplicate-crate-with-test-cfg approach currently works / what problems you're having with it and whether they can be fixed</p>



<a name="277906498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/277906498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Barsky <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#277906498">(Apr 05 2022 at 16:31)</a>:</h4>
<p>I'll give it a try and let you know!</p>



<a name="278729428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/278729428" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> woody77 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#278729428">(Apr 12 2022 at 17:58)</a>:</h4>
<p>I think this is a common pattern that people generating <code>rust-project.json</code> from non-<code>cargo</code> build systems run into (we hit it with GN in Fuchsia, for instance).</p>



<a name="278730022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/278730022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> woody77 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#278730022">(Apr 12 2022 at 18:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133247">bjorn3</span> <a href="#narrow/stream/185405-t-compiler.2Frust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module/near/277875520">said</a>:</p>
<blockquote>
<p>Rust-analyzer currently just sets <code>cfg(test)</code> unconditionally.</p>
</blockquote>
<p>But only for <code>Cargo</code> workspaces, not <code>rust-project.json</code> workspaces.</p>
<p><span class="user-mention silent" data-user-id="198819">David Barsky</span> <a href="#narrow/stream/185405-t-compiler.2Frust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module/near/277892218">said</a>:</p>
<blockquote>
<p>yeah, it looks like rust-analyzer adds the test cfg to cargo-based builds (<a href="https://github.com/rust-analyzer/rust-analyzer/blob/5a6918f1c4e9d4f0c6a655e6283470f64edd64cf/crates/project_model/src/workspace.rs#L545-L547">https://github.com/rust-analyzer/rust-analyzer/blob/5a6918f1c4e9d4f0c6a655e6283470f64edd64cf/crates/project_model/src/workspace.rs#L545-L547</a>), but it doesn't do the same the same in <code>project_json_to_crate_graph</code>.<br>
...which means we might need to add it in the rust-project.json.</p>
</blockquote>
<p>This is what we do (our "test" crate entries all end up with the following in <code>rust-project.json</code>)</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="s">"cfg"</span>: <span class="p">[</span><span class="w"></span>
<span class="w">  </span><span class="s">"test"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="o">....</span><span class="w"></span>
</code></pre></div>



<a name="278730454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/278730454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> woody77 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#278730454">(Apr 12 2022 at 18:05)</a>:</h4>
<p>I've been thinking about configuration mgmt and <code>rust-project.json</code>, especially because we build with both a host- and a cross-compiler:</p>
<ul>
<li>host "release"</li>
<li>host "test"</li>
<li>cross "release"</li>
<li>cross "test"</li>
</ul>
<p>and given how libs and binaries can <a href="https://doc.rust-lang.org/cargo/guide/project-layout.html">share a src root</a> with <code>cargo</code>, we can end up with 6 or more entries for the same <code>src/</code> folder.</p>



<a name="278730648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/278730648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> woody77 <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#278730648">(Apr 12 2022 at 18:06)</a>:</h4>
<p>I've looked at doing a deduplication pass, and only emitting one <code>crate</code> entry into <code>rust-project.json</code>, but that has to "pick a winner", so to speak, with respect to which configuration to use.</p>



<a name="278731423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/Multiple%20Crates%20with%20the%20same%20root%20module/near/278731423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/Multiple.20Crates.20with.20the.20same.20root.20module.html#278731423">(Apr 12 2022 at 18:12)</a>:</h4>
<p>as I wrote above, IMO this is something that we should handle better, but some concrete examples would be helpful in improving the situation</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>