<html>
<head><meta charset="utf-8"><title>cargo install · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html">cargo install</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="195861794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195861794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195861794">(Apr 30 2020 at 16:04)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> Hey, so I'm slowly digging into integrating the rust-analyzer into the vscode and been wondering about the current distribution</p>



<a name="195861885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195861885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195861885">(Apr 30 2020 at 16:05)</a>:</h4>
<p>Looking at the current infrastructure, it seems to be very tied to the current extension and installing it alongside of it</p>



<a name="195861989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195861989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195861989">(Apr 30 2020 at 16:06)</a>:</h4>
<p>Apart from providing the best experience coupled with a dedicated plugin, is there any other technical reason not to support a regular <code>cargo install</code> means of distribution?</p>



<a name="195862141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195862141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195862141">(Apr 30 2020 at 16:06)</a>:</h4>
<p>Is it because we'd like to continue providing rolling releases without the semver hassle?</p>



<a name="195863025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863025">(Apr 30 2020 at 16:13)</a>:</h4>
<p>So, cargo install is supported</p>



<a name="195863036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863036" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863036">(Apr 30 2020 at 16:13)</a>:</h4>
<p>or rather, it just works</p>



<a name="195863051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863051">(Apr 30 2020 at 16:13)</a>:</h4>
<p>(with <code>--git=...</code></p>



<a name="195863156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863156" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863156">(Apr 30 2020 at 16:14)</a>:</h4>
<p>But it's kind of unpleasant, as it builds stuff from source. Not that building rust-analyzer is hard (we have zero c deps, which is even checked on CI), but it's not super fast</p>



<a name="195863247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863247">(Apr 30 2020 at 16:15)</a>:</h4>
<p>Like, if <code>cargo install</code> could do binary packages, we'd do that</p>



<a name="195863474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863474">(Apr 30 2020 at 16:16)</a>:</h4>
<p>ah right, I missed that</p>



<a name="195863528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863528">(Apr 30 2020 at 16:17)</a>:</h4>
<p>I wouldn't call that the infra is reallied tied to the extension. </p>
<p>Publishing-wise, we just ship binaries to GH releases.</p>
<p>On the extension side, we basically need just a path to the <code>rust-analyzer</code> executable. But we also implement "download from github" thing</p>



<a name="195863572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863572">(Apr 30 2020 at 16:17)</a>:</h4>
<p>I was scouring the code and referred to the cargo xtask install ra</p>



<a name="195863587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863587">(Apr 30 2020 at 16:17)</a>:</h4>
<p>which does a lot of vscode  checking and tweaking, hence my original comment</p>



<a name="195863632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863632">(Apr 30 2020 at 16:18)</a>:</h4>
<p>Yeah, <code>cargo xtask install</code> installs both the binary and the vscode extension</p>



<a name="195863662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863662" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863662">(Apr 30 2020 at 16:18)</a>:</h4>
<p>I imagine the alternative is to download the release directly from <a href="https://github.com/rust-analyzer/rust-analyzer/releases/download/nightly/rust-analyzer-linux" title="https://github.com/rust-analyzer/rust-analyzer/releases/download/nightly/rust-analyzer-linux">https://github.com/rust-analyzer/rust-analyzer/releases/download/nightly/rust-analyzer-linux</a> or similar?</p>



<a name="195863731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863731">(Apr 30 2020 at 16:18)</a>:</h4>
<p>btw it feels nice to specify "rust-analyzer" as the LSP server path in the existing extension and most of the stuff just works out of box :)</p>



<a name="195863761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863761">(Apr 30 2020 at 16:18)</a>:</h4>
<p>(modulo applySourceChange and whatnot)</p>



<a name="195863766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863766">(Apr 30 2020 at 16:18)</a>:</h4>
<p>Yup (in VS Code, we do this(=download release directly) in <code>bootstrapServer</code> funciont)</p>



<a name="195863800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863800">(Apr 30 2020 at 16:19)</a>:</h4>
<p>Argh, applySourceChange is a big one tough</p>



<a name="195863814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863814">(Apr 30 2020 at 16:19)</a>:</h4>
<p>will hopefully taclke it next week</p>



<a name="195863842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863842">(Apr 30 2020 at 16:19)</a>:</h4>
<p>btw why codeaction/textedit from LSP wasn't enough?</p>



<a name="195863977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195863977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195863977">(Apr 30 2020 at 16:20)</a>:</h4>
<p>We want to control the position of the cursor</p>



<a name="195864072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864072">(Apr 30 2020 at 16:21)</a>:</h4>
<p><a href="/user_uploads/4715/-4PTa3Kx21T0R8_63YIa_OnX/Peek-2020-04-30-18-21.gif" title="Peek-2020-04-30-18-21.gif">Peek-2020-04-30-18-21.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/-4PTa3Kx21T0R8_63YIa_OnX/Peek-2020-04-30-18-21.gif" title="Peek-2020-04-30-18-21.gif"><img src="/user_uploads/4715/-4PTa3Kx21T0R8_63YIa_OnX/Peek-2020-04-30-18-21.gif"></a></div>



<a name="195864118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864118" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864118">(Apr 30 2020 at 16:21)</a>:</h4>
<p>The following won't be possible with stock code actions</p>



<a name="195864186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864186" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864186">(Apr 30 2020 at 16:22)</a>:</h4>
<p>as well as "ctrl+. on <code>mod foo;</code> creates&amp;opens <a href="http://foo.rs" title="http://foo.rs">foo.rs</a> file"</p>



<a name="195864293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864293">(Apr 30 2020 at 16:23)</a>:</h4>
<p>while we are at it <span class="user-mention" data-user-id="153740">@Igor Matuszewski</span> what are your thoughts on mering TS extensions?</p>



<a name="195864335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864335">(Apr 30 2020 at 16:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133169">matklad</span> <a href="#narrow/stream/185405-t-compiler.2Fwg-rls-2.2E0/topic/cargo.20install/near/195863977" title="#narrow/stream/185405-t-compiler.2Fwg-rls-2.2E0/topic/cargo.20install/near/195863977">said</a>:</p>
<blockquote>
<p>We want to control the position of the cursor</p>
</blockquote>
<p>gotcha</p>



<a name="195864345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864345">(Apr 30 2020 at 16:23)</a>:</h4>
<p>I've looked, and they both clock at around 2k lines of code, which is not that bad</p>



<a name="195864376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864376">(Apr 30 2020 at 16:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133169">matklad</span> <a href="#narrow/stream/185405-t-compiler.2Fwg-rls-2.2E0/topic/cargo.20install/near/195864293" title="#narrow/stream/185405-t-compiler.2Fwg-rls-2.2E0/topic/cargo.20install/near/195864293">said</a>:</p>
<blockquote>
<p>while we are at it <span class="user-mention silent" data-user-id="153740">Igor Matuszewski</span> what are your thoughts on mering TS extensions?</p>
</blockquote>
<p>I think that'd be ideal</p>



<a name="195864439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864439">(Apr 30 2020 at 16:24)</a>:</h4>
<p>I'd host something like a <code>rust-lang/vscode-rust</code> personally, though</p>



<a name="195864462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864462">(Apr 30 2020 at 16:24)</a>:</h4>
<p>to sort of make it more official/bless it</p>



<a name="195864502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864502">(Apr 30 2020 at 16:24)</a>:</h4>
<p>Which is the high-order bit here? A separate repo, or a <code>rust-lang</code> org?</p>



<a name="195864510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864510">(Apr 30 2020 at 16:24)</a>:</h4>
<p>not sure how that would impede the current dev workflow for rust-analyzer, I imagine that's something that has to be talked over separately</p>



<a name="195864529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864529">(Apr 30 2020 at 16:24)</a>:</h4>
<p>I sort-of find it usful to have the typescript and rust code in the same repository</p>



<a name="195864537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864537">(Apr 30 2020 at 16:25)</a>:</h4>
<p>well, both I imagine</p>



<a name="195864562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864562">(Apr 30 2020 at 16:25)</a>:</h4>
<p>Ideally we shouldn't really tie them in any way</p>



<a name="195864574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864574" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864574">(Apr 30 2020 at 16:25)</a>:</h4>
<p>Not sure....</p>



<a name="195864630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864630">(Apr 30 2020 at 16:25)</a>:</h4>
<p>Like, we <em>do</em> custom things, and when you hack on a custom thing, it's very conveient to me able to fix both sides at once</p>



<a name="195864697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864697">(Apr 30 2020 at 16:26)</a>:</h4>
<p>I personally feel like this sends a wrong message in the sense that it's only expected to work best for vscode</p>



<a name="195864794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864794">(Apr 30 2020 at 16:26)</a>:</h4>
<p>I too feel the burden when you need to juggle 3 vscode instances, output to a log file and debug the spawned extension, which the more streamlined approach helps with</p>



<a name="195864805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864805">(Apr 30 2020 at 16:26)</a>:</h4>
<p><a href="https://github.com/rust-analyzer/rust-analyzer/pull/3561" title="https://github.com/rust-analyzer/rust-analyzer/pull/3561">https://github.com/rust-analyzer/rust-analyzer/pull/3561</a> is a good example of feature which would be pretty awkward to do across several repos</p>



<a name="195864840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864840" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864840">(Apr 30 2020 at 16:27)</a>:</h4>
<p>but I'm not sure that's the right way - otherwise we'd have to lump all of the editors' code together with rust-analyzer</p>



<a name="195864948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195864948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195864948">(Apr 30 2020 at 16:28)</a>:</h4>
<blockquote>
<p>it's only expected to work best for vscode</p>
</blockquote>
<p>It's quite literary true though: LSP impls in other editors tend to be sup bar</p>



<a name="195865000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865000">(Apr 30 2020 at 16:28)</a>:</h4>
<p>one thing that <em>is</em> annoying, though, is that you get a lot of bug reports for the vscode extension repository, which 99% should be meant for the LSP itself</p>



<a name="195865038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865038">(Apr 30 2020 at 16:28)</a>:</h4>
<p>as someone who uses RA from another editor (and sometimes updates the integration), I think it's still useful to have one 'reference' implementation</p>



<a name="195865120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865120" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865120">(Apr 30 2020 at 16:29)</a>:</h4>
<p>TBH, I'd be happy to have at least VS Code, Emacs and Vim plugins in the repo.</p>



<a name="195865128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865128">(Apr 30 2020 at 16:29)</a>:</h4>
<p>we'll have an official VSCode extension and the official IDE tool as Rust Analyzer, I think that should be easily discoverable for the reference implementation, personally</p>



<a name="195865191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865191" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865191">(Apr 30 2020 at 16:29)</a>:</h4>
<p>But at the moment Emacs-LSP preferes a monorepo wit all extensions, and vim has five different LSP plugins none of which is a clear favorite</p>



<a name="195865256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865256">(Apr 30 2020 at 16:30)</a>:</h4>
<p>at least neovim has it easy <span aria-label="stuck out tongue" class="emoji emoji-1f61d" role="img" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="195865305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865305">(Apr 30 2020 at 16:30)</a>:</h4>
<p>You mean the neovim-lsp which is in the unrelease 0.5 branch?</p>



<a name="195865358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865358">(Apr 30 2020 at 16:31)</a>:</h4>
<p>the one by autozimu, last time I've checked it's been the most popular one</p>



<a name="195865410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865410">(Apr 30 2020 at 16:31)</a>:</h4>
<p>but then again they added a support for LSP in trunk? or so I recall</p>



<a name="195865534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865534">(Apr 30 2020 at 16:32)</a>:</h4>
<p>debatable: <a href="https://www.reddit.com/r/rust/comments/g5ckqi/rfc_transition_to_rustanalyzer_as_our_official/fo90t1c/" title="https://www.reddit.com/r/rust/comments/g5ckqi/rfc_transition_to_rustanalyzer_as_our_official/fo90t1c/">https://www.reddit.com/r/rust/comments/g5ckqi/rfc_transition_to_rustanalyzer_as_our_official/fo90t1c/</a></p>



<a name="195865596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865596" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865596">(Apr 30 2020 at 16:32)</a>:</h4>
<p>I <em>think</em> coc.nvim is known for "works best", and the <code>nvim-lsp</code> (which I talked above) is going to be build in</p>



<a name="195865625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865625" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865625">(Apr 30 2020 at 16:33)</a>:</h4>
<p>gotcha</p>



<a name="195865629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865629">(Apr 30 2020 at 16:33)</a>:</h4>
<p>I was talking about <a href="https://github.com/autozimu/LanguageClient-neovim" title="https://github.com/autozimu/LanguageClient-neovim">https://github.com/autozimu/LanguageClient-neovim</a></p>



<a name="195865713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Matuszewski <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865713">(Apr 30 2020 at 16:33)</a>:</h4>
<p>should we move the discussion merging off this topic btw?</p>



<a name="195865807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/cargo%20install/near/195865807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/cargo.20install.html#195865807">(Apr 30 2020 at 16:34)</a>:</h4>
<p>yup, right, there was a dedidated one</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>