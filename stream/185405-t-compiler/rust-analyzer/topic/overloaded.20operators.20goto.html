<html>
<head><meta charset="utf-8"><title>overloaded operators goto · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/overloaded.20operators.20goto.html">overloaded operators goto</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="266363506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/overloaded%20operators%20goto/near/266363506" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayomide Bamidele <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/overloaded.20operators.20goto.html#266363506">(Dec 29 2021 at 17:35)</a>:</h4>
<p>Hi! I had a question about this issue, <a href="https://github.com/rust-analyzer/rust-analyzer/issues/11105">https://github.com/rust-analyzer/rust-analyzer/issues/11105</a> . In the code snippet there's a <code>match</code> macro that seems to be matching variants of an <code>ast</code> enum. I tried looking through the code and I'm not sure what variants <code>ast</code> has. Autocomplete when typing <code>ast::</code> doesn't bring up anything. So I'm guessing I'm misunderstanding what is going on in that macro. Can anyone shed some light?</p>



<a name="266365274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/overloaded%20operators%20goto/near/266365274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ruochen Wang <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/overloaded.20operators.20goto.html#266365274">(Dec 29 2021 at 17:57)</a>:</h4>
<p>The <code>match_ast!</code> macro will turn the match into a if-else chain, it will check if <code>node</code> can be cast into a struct in <a href="https://rust-analyzer.github.io/rust-analyzer/syntax/ast/index.html"><code>syntax::ast</code></a>. The definition of <code>match_ast!</code> is here <a href="https://github.com/rust-analyzer/rust-analyzer/blob/4ea1f58bf6b3fd5bb59ed583f2ac432e237e1e1e/crates/syntax/src/lib.rs#L239-L250">https://github.com/rust-analyzer/rust-analyzer/blob/4ea1f58bf6b3fd5bb59ed583f2ac432e237e1e1e/crates/syntax/src/lib.rs#L239-L250</a></p>



<a name="266365917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/overloaded%20operators%20goto/near/266365917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayomide Bamidele <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/overloaded.20operators.20goto.html#266365917">(Dec 29 2021 at 18:04)</a>:</h4>
<p>Thank you! I understand now</p>



<a name="266367910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/overloaded%20operators%20goto/near/266367910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayomide Bamidele <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/overloaded.20operators.20goto.html#266367910">(Dec 29 2021 at 18:33)</a>:</h4>
<p>Hmm, so for jumping to the overloadable operator. I'm guessing I would need to match on <code>ast::BinaryOp</code>? It's an enum not a struct but I'm not sure if any of the structs are specific to operators</p>



<a name="266379122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/overloaded%20operators%20goto/near/266379122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ruochen Wang <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/overloaded.20operators.20goto.html#266379122">(Dec 29 2021 at 21:12)</a>:</h4>
<p>seems like <code>ast::BinaryOp</code> doesn't implement <code>AstNode</code>, so there's no <code>BinaryOp::cast</code> function</p>



<a name="266381031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/overloaded%20operators%20goto/near/266381031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/overloaded.20operators.20goto.html#266381031">(Dec 29 2021 at 21:39)</a>:</h4>
<p>You want to check for <code>BinExpr</code> I believe</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>