<html>
<head><meta charset="utf-8"><title>bad release · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html">bad release</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269445498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269445498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269445498">(Jan 26 2022 at 17:03)</a>:</h4>
<p>I'm trying to install the VS Code extension and getting an error "Bad release" with not much else to go off of.</p>



<a name="269445546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269445546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269445546">(Jan 26 2022 at 17:04)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Bootstrap error [AssertionError [ERR_ASSERTION]: Bad release: {&quot;url&quot;:&quot;https://api.github.com/repos/rust-analyzer/rust-analyzer/releases/57973475&quot;
</code></pre></div>



<a name="269445559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269445559" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269445559">(Jan 26 2022 at 17:04)</a>:</h4>
<p>Any ideas what the issue might be?</p>



<a name="269445661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269445661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269445661">(Jan 26 2022 at 17:05)</a>:</h4>
<p>Did you set the nightly channel in preferences?</p>



<a name="269445720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269445720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269445720">(Jan 26 2022 at 17:05)</a>:</h4>
<p>This is from a fresh uninstall/reinstall, so I don't think so, but I'll make sure</p>



<a name="269445727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269445727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269445727">(Jan 26 2022 at 17:05)</a>:</h4>
<p>It's probably this: <a href="https://github.com/rust-analyzer/rust-analyzer/issues/11098">https://github.com/rust-analyzer/rust-analyzer/issues/11098</a></p>



<a name="269445823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269445823" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269445823">(Jan 26 2022 at 17:06)</a>:</h4>
<p>TL;DR because of a Code bug, you might be getting an old version of RA</p>



<a name="269445856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269445856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269445856">(Jan 26 2022 at 17:06)</a>:</h4>
<p>You can download a VSIX from <a href="https://github.com/rust-analyzer/rust-analyzer/releases/tag/2022-01-24">https://github.com/rust-analyzer/rust-analyzer/releases/tag/2022-01-24</a> instead</p>



<a name="269446053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269446053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269446053">(Jan 26 2022 at 17:07)</a>:</h4>
<p>Yea looks like I had the nightly channel (I guess the extension kept my old settings?)</p>



<a name="269446215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269446215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269446215">(Jan 26 2022 at 17:08)</a>:</h4>
<p>Still getting the same issue when switching to the stable release</p>



<a name="269446322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269446322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269446322">(Jan 26 2022 at 17:09)</a>:</h4>
<p>What version did you get?</p>



<a name="269446460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269446460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269446460">(Jan 26 2022 at 17:10)</a>:</h4>
<p>Of the extension or of the r-a binary?</p>



<a name="269446526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269446526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269446526">(Jan 26 2022 at 17:10)</a>:</h4>
<p>Extension version: 0.2.853</p>



<a name="269446635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269446635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269446635">(Jan 26 2022 at 17:11)</a>:</h4>
<p>Yeah, that's from early December</p>



<a name="269446690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269446690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269446690">(Jan 26 2022 at 17:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="203546">Laurențiu</span> <a href="#narrow/stream/185405-t-compiler.2Frust-analyzer/topic/bad.20release/near/269445856">said</a>:</p>
<blockquote>
<p>You can download a VSIX from <a href="https://github.com/rust-analyzer/rust-analyzer/releases/tag/2022-01-24">https://github.com/rust-analyzer/rust-analyzer/releases/tag/2022-01-24</a> instead</p>
</blockquote>
<p>This might be the easiest way to install it at the moment</p>



<a name="269446784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269446784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269446784">(Jan 26 2022 at 17:12)</a>:</h4>
<p>This is a super real shame. I'm giving a talk on rust-analyzer for the VS Code YouTube channel... This is going to be awkward to talk around</p>



<a name="269446819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269446819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269446819">(Jan 26 2022 at 17:12)</a>:</h4>
<p>It's that, install the pre-release version (there's an arrow on the extension page and in the list), or wait for Code 1.64. Or use the "install a different version" command.</p>



<a name="269447209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269447209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269447209">(Jan 26 2022 at 17:15)</a>:</h4>
<p>Strange, though, 0.2.853 works fine for me. The "bad release" message should only appear when it's trying to update from an old nightly to a newer nightly.</p>



<a name="269447401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269447401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269447401">(Jan 26 2022 at 17:16)</a>:</h4>
<p>Hmmm... Then I wonder what's happening here...</p>



<a name="269447699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269447699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269447699">(Jan 26 2022 at 17:18)</a>:</h4>
<p>I assume you don't have a workspace settings.json with the same channel preference..</p>



<a name="269448085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269448085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269448085">(Jan 26 2022 at 17:21)</a>:</h4>
<p>Ah it was the remote settings since I was running in WSL</p>



<a name="269448106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269448106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269448106">(Jan 26 2022 at 17:21)</a>:</h4>
<p>I switched to stable and it works now</p>



<a name="269448291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269448291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269448291">(Jan 26 2022 at 17:22)</a>:</h4>
<p>Thanks for your help!</p>



<a name="269448819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/269448819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#269448819">(Jan 26 2022 at 17:25)</a>:</h4>
<p>FWIW, I think Code 1.64 comes out in a week or so and should fix this issue.</p>



<a name="275204439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/275204439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#275204439">(Mar 14 2022 at 08:18)</a>:</h4>
<p>We've got a fun and new problem today</p>



<a name="275204507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/275204507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#275204507">(Mar 14 2022 at 08:19)</a>:</h4>
<p><a href="https://github.com/rust-analyzer/rust-analyzer/runs/5533716255?check_suite_focus=true">https://github.com/rust-analyzer/rust-analyzer/runs/5533716255?check_suite_focus=true</a> timed out when publishing one of the VSIXes</p>



<a name="275204541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/275204541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#275204541">(Mar 14 2022 at 08:19)</a>:</h4>
<p>And a second run <a href="https://github.com/rust-analyzer/rust-analyzer/runs/5533938957?check_suite_focus=true">https://github.com/rust-analyzer/rust-analyzer/runs/5533938957?check_suite_focus=true</a> failed because some of the VSIXes were already publised</p>



<a name="275211566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/275211566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#275211566">(Mar 14 2022 at 09:34)</a>:</h4>
<p>And here I thought we were finally done with the release problems</p>



<a name="275214228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/275214228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#275214228">(Mar 14 2022 at 10:00)</a>:</h4>
<p>I forgot what the versioning is based on for our releases but can we just force bump the version and re-release?</p>



<a name="275214743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/275214743" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#275214743">(Mar 14 2022 at 10:05)</a>:</h4>
<p>I restarted the workflow, not sure if it will work, but it should get a different run number, so a different version</p>



<a name="275218692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/bad%20release/near/275218692" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/bad.20release.html#275218692">(Mar 14 2022 at 10:44)</a>:</h4>
<p>Yup, it went through</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>