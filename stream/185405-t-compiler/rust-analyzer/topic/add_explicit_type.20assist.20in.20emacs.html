<html>
<head><meta charset="utf-8"><title>add_explicit_type assist in emacs · t-compiler/rust-analyzer · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/index.html">t-compiler/rust-analyzer</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type.20assist.20in.20emacs.html">add_explicit_type assist in emacs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="268955956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type%20assist%20in%20emacs/near/268955956" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type.20assist.20in.20emacs.html#268955956">(Jan 22 2022 at 12:44)</a>:</h4>
<p>it works for me in Emacs</p>



<a name="268956019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type%20assist%20in%20emacs/near/268956019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type.20assist.20in.20emacs.html#268956019">(Jan 22 2022 at 12:46)</a>:</h4>
<p>is there anything in <code>*rust-analyzer::stderr*</code>?</p>



<a name="268956523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type%20assist%20in%20emacs/near/268956523" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sibi Prabakaran <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type.20assist.20in.20emacs.html#268956523">(Jan 22 2022 at 12:58)</a>:</h4>
<p>No, there is nothing there.  I'm using <code>rustic-mode</code>, so not sure if that's the issue.</p>



<a name="268956543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type%20assist%20in%20emacs/near/268956543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sibi Prabakaran <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type.20assist.20in.20emacs.html#268956543">(Jan 22 2022 at 12:59)</a>:</h4>
<p>Do you have your rust emacs config somewhere ? I would like to compare and see if I'm doing something wrong.</p>



<a name="268957638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type%20assist%20in%20emacs/near/268957638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type.20assist.20in.20emacs.html#268957638">(Jan 22 2022 at 13:26)</a>:</h4>
<p>I use doom emacs, my config is at <a href="https://github.com/flodiebold/dotfiles/tree/master/doom-emacs/.doom.d">https://github.com/flodiebold/dotfiles/tree/master/doom-emacs/.doom.d</a> . I don't use rustic. I'm not sure what config could cause this though. Do other assists work? Does completion work?</p>



<a name="268957655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type%20assist%20in%20emacs/near/268957655" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sibi Prabakaran <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type.20assist.20in.20emacs.html#268957655">(Jan 22 2022 at 13:27)</a>:</h4>
<p>Yes, some assists work reliably. And some don't.</p>



<a name="268957733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type%20assist%20in%20emacs/near/268957733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type.20assist.20in.20emacs.html#268957733">(Jan 22 2022 at 13:29)</a>:</h4>
<p>do you get inlay hints for the <code>x</code> variable in the example, or what does hovering it show?</p>



<a name="268957921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type%20assist%20in%20emacs/near/268957921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sibi Prabakaran <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type.20assist.20in.20emacs.html#268957921">(Jan 22 2022 at 13:33)</a>:</h4>
<p>No, I don't get any inlay hints.</p>



<a name="268957929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type%20assist%20in%20emacs/near/268957929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sibi Prabakaran <a href="https://zulip-archive.rust-lang.org/stream/185405-t-compiler/rust-analyzer/topic/add_explicit_type.20assist.20in.20emacs.html#268957929">(Jan 22 2022 at 13:33)</a>:</h4>
<p>These are the logs when I'm hovering:</p>
<div class="codehilite"><pre><span></span><code>[Trace - 07:02:52 PM] Sending request &#39;textDocument/documentHighlight - (54)&#39;.
Params: {
  &quot;textDocument&quot;: {
    &quot;uri&quot;: &quot;file:///home/sibi/github/interactive-rust/src/main.rs&quot;
  },
  &quot;position&quot;: {
    &quot;line&quot;: 1,
    &quot;character&quot;: 8
  }
}


[Trace - 07:02:52 PM] Received response &#39;textDocument/hover - (53)&#39; in 6ms.
Result: null


[Trace - 07:02:52 PM] Received response &#39;textDocument/documentHighlight - (54)&#39; in 4ms.
Result: null
</code></pre></div>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>