<html>
<head><meta charset="utf-8"><title>next perf triage · t-compiler/performance · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/index.html">t-compiler/performance</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html">next perf triage</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269007809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269007809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269007809">(Jan 23 2022 at 09:27)</a>:</h4>
<p>heads up for the next perf triage, it may be surprising: </p>
<ul>
<li>rollup <a href="https://github.com/rust-lang/rust/issues/93138">#93138</a> had a big impact on the <code>deeply-nested-async</code> benchmark (up to -89%), due to <a href="https://github.com/rust-lang/rust/issues/91032">#91032</a> being in there</li>
<li>because of ICEs on nightly, the same PR <a href="https://github.com/rust-lang/rust/issues/91032">#91032</a> was soft reverted by <a href="https://github.com/rust-lang/rust/issues/93165">#93165</a> (apparently only partially so, but that seems to manifest as ICEs rather than perf changes per se), which of course has the opposite +879% results on that benchmark</li>
</ul>



<a name="269160851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269160851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269160851">(Jan 24 2022 at 19:34)</a>:</h4>
<p>oh, right, the reverse of -89.5% is +879% (approximately…). (At first I thought you had a typo somewhere there.)</p>



<a name="269161041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269161041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269161041">(Jan 24 2022 at 19:36)</a>:</h4>
<p>Maybe the numbers should be log scale?</p>



<a name="269161091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269161091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269161091">(Jan 24 2022 at 19:36)</a>:</h4>
<p>well, I think my preference would be for scale factors</p>



<a name="269161167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269161167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269161167">(Jan 24 2022 at 19:37)</a>:</h4>
<p>(but I’m guessing <span class="user-mention" data-user-id="330154">@The 8472</span> is making a joke? The numbers aren’t usually this enormous…)</p>



<a name="269161481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269161481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269161481">(Jan 24 2022 at 19:39)</a>:</h4>
<p>Not exactly a joke, but not meant very seriously either. The nice part about log scale is that it's symmetric. I guess with scale factors you get the same symmetry when you express improvements as x&lt;sup&gt;-1&lt;/sup&gt;</p>



<a name="269170790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269170790" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269170790">(Jan 24 2022 at 20:50)</a>:</h4>
<p>I've seen log-scale done reasonably well in a context like this, in terms of "bits": -1 bit == 50 %, +1 bit == 200%.</p>



<a name="269170841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269170841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269170841">(Jan 24 2022 at 20:50)</a>:</h4>
<p>It'd still confuse people though.</p>



<a name="269170870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269170870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269170870">(Jan 24 2022 at 20:51)</a>:</h4>
<p>And as <span class="user-mention" data-user-id="116083">@pnkfelix</span> said, the numbers aren't usually this big. :)</p>



<a name="269250482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269250482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269250482">(Jan 25 2022 at 12:40)</a>:</h4>
<p>I'm surprised that the change was included in a rollup. Search a large feature change like that seems like the exact case where we would <em>not</em> want to rollup. Another way to look at it is also why was a perf run not done on the original PR?</p>



<a name="269252570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269252570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269252570">(Jan 25 2022 at 12:58)</a>:</h4>
<p>the risks here extended beyond perf, such as the ICE it injected (the reason it was reverted). But your points still stand.</p>



<a name="269259333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269259333" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269259333">(Jan 25 2022 at 13:54)</a>:</h4>
<p>yeah, should not have rolled that one up, that was my mistake <span aria-label="oh no" class="emoji emoji-1f615" role="img" title="oh no">:oh_no:</span></p>



<a name="269261847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269261847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269261847">(Jan 25 2022 at 14:12)</a>:</h4>
<p>there were a lot of oversights, this isn’t on just one person. I’m more curious to consider: What further structure <em>can</em> we put in place to try to catch this? Maybe a bot that automatically rollup-’s PRs based on certain criteria? (What criteria are good? Raw size of diff for PR?)</p>



<a name="269262762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269262762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269262762">(Jan 25 2022 at 14:18)</a>:</h4>
<p>Maybe we shouldn't rollup rollup=maybe PRs directly and instead signal intent-to-rollup (e.g. by rollup+ each PR) so someone can nope it if necessary? It adds more work though.</p>



<a name="269263046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269263046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269263046">(Jan 25 2022 at 14:21)</a>:</h4>
<p>Or homu could generate a reminder to review PRs that weren't already explicitly marked when assembling the rollup.</p>



<a name="269265945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269265945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269265945">(Jan 25 2022 at 14:42)</a>:</h4>
<p>Yea the fact that we rely on each individual reviewers own criteria for whether something shouldn't be rolled up, combined with the fact that the default is effectively to roll something up makes it more likely than it should be IMO that a rollup fails.</p>



<a name="269266054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269266054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269266054">(Jan 25 2022 at 14:43)</a>:</h4>
<p>We still don't have good statistics on how often a roll up should not have been rolled up, but I would imagine it's probably a decent percentage</p>



<a name="269266325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269266325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269266325">(Jan 25 2022 at 14:45)</a>:</h4>
<p>Also, those making rollups have very little tools for understanding the nature of the risk of their roll up. It would be nice if we could provide some sort of statistics to give a better sense of how risky a potential roll up is (i.e., how many files are changed, how many .rs files are changed in compiler or in the std lib, are those changes to code or to code comments, etc.)</p>



<a name="269274109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269274109" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269274109">(Jan 25 2022 at 15:36)</a>:</h4>
<p>is rollup=maybe actually displayed on <a href="https://bors.rust-lang.org/queue/rust">https://bors.rust-lang.org/queue/rust</a> or does it only show iffy?</p>



<a name="269274128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269274128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269274128">(Jan 25 2022 at 15:37)</a>:</h4>
<p>if it is not shown it is practically useless</p>



<a name="269274291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269274291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269274291">(Jan 25 2022 at 15:38)</a>:</h4>
<p>Imo, rollup=maybe should only be for PRs that could break a rollup, if something could have a perf impact it should be marked rollup=never right away or get a perf run and if it does not show any change, maybe we can remove the rollup=never again.</p>



<a name="269274317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269274317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269274317">(Jan 25 2022 at 15:38)</a>:</h4>
<p>maybe is the "default" -- there's only {always, iffy, never, maybe} in the possible state list, right?</p>
<blockquote>
<p>rollup=maybe|always|iffy|never: Mark the PR as "always", "maybe", "iffy", and "never" rollup-able.</p>
</blockquote>



<a name="269274608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269274608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269274608">(Jan 25 2022 at 15:39)</a>:</h4>
<p>also I think rollup=None made sense perhaps 3-4 years ago, but right now we just have so many prs that we rarely ever get to the rollup=never layer on top of the queue</p>



<a name="269274851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269274851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269274851">(Jan 25 2022 at 15:41)</a>:</h4>
<p>so basically a pr is merged in 24-48 hours if its ok to rollup, or maybe in a 2-7 days if it's rollup=never, at least that was the case for thae last  ~30 days</p>



<a name="269275127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269275127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269275127">(Jan 25 2022 at 15:43)</a>:</h4>
<p>perhaps we could have a list of files where when they are changed, bors pings the reviewer to check if the PR should be marked as rollup=never since these files contain a lot of performance-sensitive code?</p>



<a name="269275201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269275201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269275201">(Jan 25 2022 at 15:43)</a>:</h4>
<p>(of course if someone just changes a comment doesn't make sense to auto-rollup=never the pr)</p>



<a name="269279738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269279738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269279738">(Jan 25 2022 at 16:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="217864">matthiaskrgr</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/next.20perf.20triage/near/269274851">said</a>:</p>
<blockquote>
<p>so basically a pr is merged in 24-48 hours if its ok to rollup, or maybe in a 2-7 days if it's rollup=never, at least that was the case for thae last  ~30 days</p>
</blockquote>
<p>hmm. 2 (or even 2-4) days might be okay. but that upper <del>bound</del> estimate of 7 is more worrisome to me. I should go try to get stats on queue length over time</p>



<a name="269279915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269279915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269279915">(Jan 25 2022 at 16:12)</a>:</h4>
<p>(in other words, I don’t want us to get rid of rollup=never. its important to support it.)</p>



<a name="269284675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269284675" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269284675">(Jan 25 2022 at 16:43)</a>:</h4>
<p>Conversely, if rollups fail is that a problem? As long as they fail fast enough it doesn't eat up too much of our daily CI throughput.</p>



<a name="269284735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269284735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269284735">(Jan 25 2022 at 16:43)</a>:</h4>
<p>So if increasing CI capacity is too hard or too expensive maybe making things fail sooner could also help.</p>



<a name="269284999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269284999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269284999">(Jan 25 2022 at 16:45)</a>:</h4>
<p>E.g. the running stage1 tests MCP should help</p>



<a name="269285445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269285445" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269285445">(Jan 25 2022 at 16:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/next.20perf.20triage/near/269284675">said</a>:</p>
<blockquote>
<p>Conversely, if rollups fail is that a problem? As long as they fail fast enough it doesn't eat up too much of our daily CI throughput.</p>
</blockquote>
<p>"failure" here doesn't only mean fails CI. It can also mean introducing performance regressions or causing some sort of bug not caught by CI</p>



<a name="269314067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269314067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269314067">(Jan 25 2022 at 19:51)</a>:</h4>
<p>Well so far I think most rollups already save us time. if you rollup 5prs that means you could essentially retry it 5 times before "losing time", and if it lands you "save" maybe around 17 hours of ci time already. <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> </p>
<p>As for performance "failures" the problem is that you never know before the pr has landed. We don't gate on performance regressions (although that might be an interesting project..)<br>
We're always gonna have some new crashes or regressions slip through but crater and the nightly/beta/stable staging helps mitigate that in the long run :)</p>



<a name="269314579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269314579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269314579">(Jan 25 2022 at 19:55)</a>:</h4>
<blockquote>
<p>I should go try to get stats on queue length over time</p>
</blockquote>
<p>Since everyone came back from new years holidays, we had an average of 20-40 PRs being approved and waiting for merge WHILE merging 5-20 approved prs a day<br>
<a href="https://rust-lang.github.io/rustc-pr-tracking/">https://rust-lang.github.io/rustc-pr-tracking/</a></p>



<a name="269353651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/next%20perf%20triage/near/269353651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/next.20perf.20triage.html#269353651">(Jan 26 2022 at 02:04)</a>:</h4>
<p>ah such pretty pictures, I should look at this every week</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>