<html>
<head><meta charset="utf-8"><title>triage 2021-02-16 · t-compiler/performance · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/index.html">t-compiler/performance</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html">triage 2021-02-16</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="226529642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226529642" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226529642">(Feb 16 2021 at 15:48)</a>:</h4>
<p><span class="user-mention" data-user-id="224872">@rylev</span> any chance you could do triage today? otherwise I can likely allocate some time</p>



<a name="226529753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226529753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226529753">(Feb 16 2021 at 15:48)</a>:</h4>
<p>I can't unfortunately <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span>. Let me know if you can't get to it today, and I can do it first thing tomorrow.</p>



<a name="226531070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226531070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226531070">(Feb 16 2021 at 15:57)</a>:</h4>
<p>Ok, will do it in a bit then.</p>



<a name="226537491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226537491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226537491">(Feb 16 2021 at 16:32)</a>:</h4>
<p>done, and posted twir</p>



<a name="226541189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226541189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226541189">(Feb 16 2021 at 16:54)</a>:</h4>
<p>For those looking for it: <a href="https://github.com/rust-lang/rustc-perf/commit/115aff9e6ebc72619c6f8c878d812fab9f697d72?branch=115aff9e6ebc72619c6f8c878d812fab9f697d72&amp;diff=unified">https://github.com/rust-lang/rustc-perf/commit/115aff9e6ebc72619c6f8c878d812fab9f697d72?branch=115aff9e6ebc72619c6f8c878d812fab9f697d72&amp;diff=unified</a></p>



<a name="226541346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226541346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226541346">(Feb 16 2021 at 16:56)</a>:</h4>
<p>Looks like a relatively quiet week</p>



<a name="226553951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226553951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226553951">(Feb 16 2021 at 18:19)</a>:</h4>
<p>The situation with <a href="https://github.com/rust-lang/rust/issues/81855">#81855</a> is... odd. I just reviewed the list of PRs in ae00b62c..d1206f95, haven't found anything really suspicious.<br>
The only other PR touching the query system is <a href="https://github.com/rust-lang/rust/issues/81892">#81892</a>, I doubt this is it, since all code is still generic.</p>



<a name="226566351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226566351" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226566351">(Feb 16 2021 at 19:49)</a>:</h4>
<p>Could this be a bad interaction with <a href="https://github.com/rust-lang/rust/issues/81892">#81892</a> which landed in the meantime? Especially <code>try_get_cached</code> is maybe something that really should be inlined?</p>



<a name="226566532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226566532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226566532">(Feb 16 2021 at 19:51)</a>:</h4>
<p>Yeah, seems plausible. Could try a revert.</p>



<a name="226567143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226567143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226567143">(Feb 16 2021 at 19:55)</a>:</h4>
<p>I will try inlining <code>try_get_cached</code> since that shows on profile diff.</p>



<a name="226567393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226567393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226567393">(Feb 16 2021 at 19:57)</a>:</h4>
<p>thanks :) I was mostly looking at number of lines, looking back at it <code>try_get_cached</code> is pretty trivial</p>



<a name="226568065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021-02-16/near/226568065" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021-02-16.html#226568065">(Feb 16 2021 at 20:01)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/82197">#82197</a> lets see what perf has to say about that</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>