<html>
<head><meta charset="utf-8"><title>compiler team interface · t-compiler/performance · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/index.html">t-compiler/performance</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html">compiler team interface</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="222445670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222445670" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222445670">(Jan 12 2021 at 15:22)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> maybe you can share some of the goals of observing? it might be useful to talk about them directly</p>



<a name="222445760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222445760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222445760">(Jan 12 2021 at 15:23)</a>:</h4>
<p>Yeah, I guess my main goal is that I want to try to make the report more effective</p>



<a name="222445800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222445800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222445800">(Jan 12 2021 at 15:23)</a>:</h4>
<p>in terms of making it succinct enough for us to digest in a short time</p>



<a name="222445814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222445814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222445814">(Jan 12 2021 at 15:23)</a>:</h4>
<p>but still giving us things to act on</p>



<a name="222445862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222445862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222445862">(Jan 12 2021 at 15:23)</a>:</h4>
<p>the triage process today consists of:</p>
<ul>
<li>run a script</li>
<li>check each change<ul>
<li>potentially ping folks if there's action needed, logging in outstanding nags</li>
</ul>
</li>
<li>push to rust-lang/rustc-perf and update TWIR</li>
</ul>



<a name="222445981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222445981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222445981">(Jan 12 2021 at 15:24)</a>:</h4>
<p>I guess my question is what is T-compiler's hope from the reports? If it's just "what does t-compiler need to assign" then that's just the nags section</p>



<a name="222446034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222446034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222446034">(Jan 12 2021 at 15:24)</a>:</h4>
<p>if there's interest in looking at the specific regressions/improvements, in hopes of someone spotting something, then maybe putting it in announcements is better</p>



<a name="222446062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222446062" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222446062">(Jan 12 2021 at 15:24)</a>:</h4>
<p>(and not expecting any discussion)</p>



<a name="222446374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222446374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222446374">(Jan 12 2021 at 15:26)</a>:</h4>
<p>What I want out of weekly performance triage: 1. keep team members aware of the trajectory, 2.  advertise red flags when they come up, and 3. assign follow-up tasks when necessary</p>



<a name="222446693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222446693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222446693">(Jan 12 2021 at 15:28)</a>:</h4>
<p>Part of the problem here is that I’m often so rushed when it comes to meeting time that I cannot on-the-fly identify the most important bits to copy over from the agenda to the zulip stream, and so I end up doing something ad hoc. Lately its been to copy over the high-level summary in the opening of the report and also the follow-up nags.</p>



<a name="222446779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222446779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222446779">(Jan 12 2021 at 15:29)</a>:</h4>
<p>hm, so I think trajectory wise we might be able to just touch on it, say, once a release cycle</p>



<a name="222446828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222446828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222446828">(Jan 12 2021 at 15:29)</a>:</h4>
<p>tbh the trajectory is.. largely an improvement, but every week is not usually an improvement of more than 0.5% or something on average</p>



<a name="222446833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222446833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222446833">(Jan 12 2021 at 15:29)</a>:</h4>
<p>You don’t think its useful to check on it weekly?</p>



<a name="222446922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222446922" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222446922">(Jan 12 2021 at 15:30)</a>:</h4>
<p>its true, if it never changes or if its always noise then its hard to justify spending time on</p>



<a name="222446965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222446965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eh2406 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222446965">(Jan 12 2021 at 15:30)</a>:</h4>
<p>(the report in twir) Demonstrate to the community that the compiler team takes build time seriously. The team has for a long time but the community has not alway seen it.</p>



<a name="222446970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222446970" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222446970">(Jan 12 2021 at 15:30)</a>:</h4>
<p>I do not think it is useful spend of meeting time, I guess</p>



<a name="222447008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447008">(Jan 12 2021 at 15:30)</a>:</h4>
<p>it doesn't seem actionable to do more than look at nags</p>



<a name="222447024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447024" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447024">(Jan 12 2021 at 15:30)</a>:</h4>
<p>Maybe what I really want to generate awareness of the <em>long term</em> trajectory</p>



<a name="222447048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447048">(Jan 12 2021 at 15:30)</a>:</h4>
<p>which the performance report doesn’t actually include, right?</p>



<a name="222447082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447082" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447082">(Jan 12 2021 at 15:31)</a>:</h4>
<p>(it just has the change since last week, right?)</p>



<a name="222447088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447088">(Jan 12 2021 at 15:31)</a>:</h4>
<p>no, it doesn't</p>



<a name="222447101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447101">(Jan 12 2021 at 15:31)</a>:</h4>
<p><a href="https://perf.rust-lang.org/dashboard.html">https://perf.rust-lang.org/dashboard.html</a> is the long term trajectory in some sense</p>



<a name="222447114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447114">(Jan 12 2021 at 15:31)</a>:</h4>
<p>Right</p>



<a name="222447163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447163">(Jan 12 2021 at 15:31)</a>:</h4>
<p>but that, as expected, is really quite slow to move down</p>



<a name="222447167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447167">(Jan 12 2021 at 15:31)</a>:</h4>
<p>but that’s the very long term</p>



<a name="222447309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447309">(Jan 12 2021 at 15:32)</a>:</h4>
<p>/me wonders what grain he is expecting</p>



<a name="222447316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447316">(Jan 12 2021 at 15:32)</a>:</h4>
<p>I guess my expectation is that there is a lot more value in building a culture of caring about performance on <em>every</em> review, and I think we're doing good work there</p>



<a name="222447376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447376">(Jan 12 2021 at 15:32)</a>:</h4>
<p>perfbot, etc., have all I think contributed overall to helping us be aware of the performance impact of PRs</p>



<a name="222447420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447420" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447420">(Jan 12 2021 at 15:33)</a>:</h4>
<p>it is not uncommon for folks to make changes as a result, or suggest follow-up work, etc</p>



<a name="222447519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447519">(Jan 12 2021 at 15:33)</a>:</h4>
<p>And even the nags resulting from triage - do not feel significantly different, than, say, P-high issues or so</p>



<a name="222447545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447545">(Jan 12 2021 at 15:34)</a>:</h4>
<p>(We could start filing them explicitly I guess)</p>



<a name="222447721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447721">(Jan 12 2021 at 15:35)</a>:</h4>
<p>I guess the current <a href="http://perf.rust-lang.org">perf.rust-lang.org</a> dashboard shows the previous 5 weeks, and I suspect that <em>is</em> the granularity I am seeking, I think.</p>



<a name="222447947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447947">(Jan 12 2021 at 15:36)</a>:</h4>
<p>index.html shows last 30 days</p>



<a name="222447961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222447961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222447961">(Jan 12 2021 at 15:36)</a>:</h4>
<p>but yeah, that I guess is one way to look at things.</p>



<a name="222448040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222448040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222448040">(Jan 12 2021 at 15:37)</a>:</h4>
<p>bootstrap page is perhaps also useful to glance at, but again is unclear as to what can be actionable in triage meetings out of it - really, spikes etc can be noted outside meeting and issues filed if needed</p>



<a name="222452161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222452161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222452161">(Jan 12 2021 at 16:03)</a>:</h4>
<p>Since you're more interested in the trajectory, maybe it would be helpful to discuss perf less often, but in more detail? Like once a month or something?</p>



<a name="222456819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/compiler%20team%20interface/near/222456819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/compiler.20team.20interface.html#222456819">(Jan 12 2021 at 16:31)</a>:</h4>
<p>Yeah I’m definitely tempted by that idea</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>