<html>
<head><meta charset="utf-8"><title>Speedups in the past 15 months · t-compiler/performance · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/index.html">t-compiler/performance</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html">Speedups in the past 15 months</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261092485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261092485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261092485">(Nov 11 2021 at 04:35)</a>:</h4>
<p>My last "How to speed up the Rust compiler" blog post was in August 2020. I just checked how perf has changed since then. It's gotten quite a bit better! See <a href="https://perf.rust-lang.org/compare.html?start=2020-08-05&amp;end=2021-11-10&amp;stat=wall-time">https://perf.rust-lang.org/compare.html?start=2020-08-05&amp;end=2021-11-10&amp;stat=wall-time</a></p>



<a name="261092551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261092551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261092551">(Nov 11 2021 at 04:36)</a>:</h4>
<p>Among the non-synthetic benchmarks, walltime has dropped by up to 60%, with barely any regressions</p>



<a name="261092565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261092565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261092565">(Nov 11 2021 at 04:37)</a>:</h4>
<p>Most are in the 10% to 30% range</p>



<a name="261092571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261092571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261092571">(Nov 11 2021 at 04:37)</a>:</h4>
<p>Great stuff</p>



<a name="261101855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261101855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Drehwald <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261101855">(Nov 11 2021 at 07:31)</a>:</h4>
<p>Pretty cool numbers and btw. thank you a lot for your blog posts, they were always fun to read.</p>
<p>My first thoughts where about the effect of the new PassManager, but apparently that's less than half of the improvements:<br>
<a href="https://perf.rust-lang.org/compare.html?start=e9f29a851917a706c01b6f51331894df1d15770b&amp;end=63cc2bb3d07d6c726dfcdc5f95cbe5ed4760641a">https://perf.rust-lang.org/compare.html?start=e9f29a851917a706c01b6f51331894df1d15770b&amp;end=63cc2bb3d07d6c726dfcdc5f95cbe5ed4760641a</a></p>
<p>Just for curiosity, is there somewhere a rough summary of the changes which helped the most from the rustc side?</p>



<a name="261102418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261102418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> panstromek <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261102418">(Nov 11 2021 at 07:42)</a>:</h4>
<p><span class="user-mention" data-user-id="348574">@Manuel Drehwald</span> If you open the range in "graphs" section, you can click individual PRs that had a big bump, but it may take a while to load. From what I remember, notable changes were few pathological cases in coherence checking, checking of extern functions, enabling PGO for rustc, enabling PGO for Clang (IIRC), 2 LLVM bumps, bunch of changes to incremental system from cjgillot, improving codegen of builtin derives and bunch more that I can't recall now..</p>



<a name="261102720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261102720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> panstromek <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261102720">(Nov 11 2021 at 07:48)</a>:</h4>
<p>I have to say there was a lot of microoptimizations and tiny improvements in that range. I'd guess maybe roughly ~100. Those are small in the graphs but compound over time.</p>



<a name="261102864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261102864" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> panstromek <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261102864">(Nov 11 2021 at 07:50)</a>:</h4>
<p>Another way to look at this is to search for "rust-timer" in PRs. I use variations of this query pretty often</p>
<p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+sort%3Aupdated-desc+rust-timer+is%3Aclosed">https://github.com/rust-lang/rust/pulls?q=is%3Apr+sort%3Aupdated-desc+rust-timer+is%3Aclosed</a></p>



<a name="261111699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261111699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261111699">(Nov 11 2021 at 09:47)</a>:</h4>
<p>Or you could take a look at the triage reports. <a href="https://github.com/rust-lang/rustc-perf/tree/master/triage">https://github.com/rust-lang/rustc-perf/tree/master/triage</a></p>



<a name="261132245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261132245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261132245">(Nov 11 2021 at 13:18)</a>:</h4>
<p>Wow, that page is really encouraging! I didn't realize how much improvement there'd been :)</p>
<p>I did notice some of the times went up and not down - I'd be curious why <code>webrender-wrench-doc</code> is 8% slower but unfortunately the start comparison is before perf started running rustdoc with <code>self-profile</code>. Does anyone know an easy way to remeasure an old commit?</p>



<a name="261133504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261133504" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261133504">(Nov 11 2021 at 13:29)</a>:</h4>
<blockquote>
<p>Does anyone know an easy way to remeasure an old commit?</p>
</blockquote>
<p>I don't think there is one, but it would be nice if there was a mechanism for this</p>



<a name="261133528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261133528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261133528">(Nov 11 2021 at 13:29)</a>:</h4>
<p>This makes me wonder if we should do a yearly perf retrospective. Could be good to celebrate a bit</p>



<a name="261135240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261135240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261135240">(Nov 11 2021 at 13:43)</a>:</h4>
<p>The self profile pages list the command to locally rerun the benchmark using cachegrind. You could take it for anothet comparison and then change the commit. For example <code>./target/release/collector diff_local cachegrind +0727994435c75fdedd3e9d226cf434089b0ab585 +089a016919b0a9daaed9f676804102d6ba3f8f9d --include deeply-nested-async --builds Debug --runs IncrUnchanged</code>.</p>



<a name="261174561"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261174561" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261174561">(Nov 11 2021 at 19:20)</a>:</h4>
<blockquote>
<p>This makes me wonder if we should do a yearly perf retrospective. Could be good to celebrate a bit</p>
</blockquote>
<p>I'm planning to write a blog post today <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="261175305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261175305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261175305">(Nov 11 2021 at 19:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="208862">panstromek</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/Speedups.20in.20the.20past.2015.20months/near/261102720">said</a>:</p>
<blockquote>
<p>I have to say there was a lot of microoptimizations and tiny improvements in that range. I'd guess maybe roughly ~100. Those are small in the graphs but compound over time.</p>
</blockquote>
<p>It's hard to calibrate on how small an improvement is worth it. Hopefully getting an overview will help.</p>



<a name="261179051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261179051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261179051">(Nov 11 2021 at 20:05)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> This URL should give perf changes between 2020-04-22 and 2020-08-04: <a href="https://perf.rust-lang.org/compare.html?start=2020-04-22&amp;end=2020-08-04&amp;stat=wall-time">https://perf.rust-lang.org/compare.html?start=2020-04-22&amp;end=2020-08-04&amp;stat=wall-time</a></p>



<a name="261179115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261179115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261179115">(Nov 11 2021 at 20:06)</a>:</h4>
<p>But the end point becomes <a href="https://github.com/rust-lang/rust/issues/90648">#90648</a>, which is today</p>



<a name="261179123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261179123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261179123">(Nov 11 2021 at 20:06)</a>:</h4>
<p>I think end dates have been broken for a bit</p>



<a name="261179129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261179129" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261179129">(Nov 11 2021 at 20:06)</a>:</h4>
<p>you can probably manually use a commit</p>



<a name="261179165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261179165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261179165">(Nov 11 2021 at 20:06)</a>:</h4>
<p><a href="https://perf.rust-lang.org/compare.html?start=2020-04-22&amp;end=f9d422ea78a4652c5d9ecd6b6d7577bdfbfd98a8&amp;stat=wall-time">https://perf.rust-lang.org/compare.html?start=2020-04-22&amp;end=f9d422ea78a4652c5d9ecd6b6d7577bdfbfd98a8&amp;stat=wall-time</a></p>



<a name="261179226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261179226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261179226">(Nov 11 2021 at 20:07)</a>:</h4>
<p>(I don't quite have time to go investigate right now, but can probably review a pretty simple patch -- my guess is it's pretty obvious)</p>



<a name="261179237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261179237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261179237">(Nov 11 2021 at 20:07)</a>:</h4>
<p>Ok, thanks</p>



<a name="261185615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261185615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> panstromek <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261185615">(Nov 11 2021 at 21:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/Speedups.20in.20the.20past.2015.20months/near/261175305">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="208862">panstromek</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/Speedups.20in.20the.20past.2015.20months/near/261102720">said</a>:</p>
<blockquote>
<p>I have to say there was a lot of microoptimizations and tiny improvements in that range. I'd guess maybe roughly ~100. Those are small in the graphs but compound over time.</p>
</blockquote>
<p>It's hard to calibrate on how small an improvement is worth it. Hopefully getting an overview will help.</p>
</blockquote>
<p>One problem with those is that many of them are limited just to few benchmarks, so they are almost invisible in the summary graph. It's more obvious on compare page.</p>



<a name="261198672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261198672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261198672">(Nov 12 2021 at 00:10)</a>:</h4>
<p>Blog post is done: <a href="https://nnethercote.github.io/2021/11/12/the-rust-compiler-has-gotten-faster-again.html">https://nnethercote.github.io/2021/11/12/the-rust-compiler-has-gotten-faster-again.html</a></p>



<a name="261198682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261198682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261198682">(Nov 12 2021 at 00:11)</a>:</h4>
<p>It's a new blog, too, hopefully I've set everything up ok.</p>



<a name="261198976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261198976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261198976">(Nov 12 2021 at 00:16)</a>:</h4>
<p>Posted to HN and Reddit.</p>



<a name="261199085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199085">(Nov 12 2021 at 00:18)</a>:</h4>
<p>I guess I might as well tweet it now, the hordes will be coming</p>



<a name="261199107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199107" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199107">(Nov 12 2021 at 00:19)</a>:</h4>
<p>hasn't there been a hardware upgrade in that timespan?</p>



<a name="261199383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199383">(Nov 12 2021 at 00:23)</a>:</h4>
<p>wut</p>



<a name="261199451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199451" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199451">(Nov 12 2021 at 00:24)</a>:</h4>
<p>No</p>



<a name="261199472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199472">(Nov 12 2021 at 00:25)</a>:</h4>
<p>We've not changed hardware recently that I recall</p>



<a name="261199479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199479">(Nov 12 2021 at 00:25)</a>:</h4>
<p>huh, ok. I thought it was some recent ryzen</p>



<a name="261199490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199490">(Nov 12 2021 at 00:25)</a>:</h4>
<p>The blog post refers to walltimes, but the instruction count results are pretty similar, which is a good sanity check</p>



<a name="261199492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199492">(Nov 12 2021 at 00:25)</a>:</h4>
<p>3600x, which is multiple years old</p>



<a name="261199583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199583">(Nov 12 2021 at 00:26)</a>:</h4>
<p>mhm, zen2 launch date was july 2019</p>



<a name="261199660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199660">(Nov 12 2021 at 00:28)</a>:</h4>
<p>And the time spans go back to that month. Must have been fresh from the fab back then.</p>



<a name="261199707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199707">(Nov 12 2021 at 00:29)</a>:</h4>
<p>Yeah, it was pretty recent iirc - but at least for last year we've been on it</p>



<a name="261199737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199737">(Nov 12 2021 at 00:29)</a>:</h4>
<p>And 2020 too, I think</p>



<a name="261199852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261199852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261199852">(Nov 12 2021 at 00:31)</a>:</h4>
<p>I asked because of that line in the blog post</p>
<blockquote>
<p>If you want to see how performance has changed over a longer period, check out 2019-11-07 to 2021-11-11. (This is the longest period we can easily examine because the data format for results changed on 2019-11-07.)</p>
</blockquote>



<a name="261200079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261200079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261200079">(Nov 12 2021 at 00:35)</a>:</h4>
<p>Ah, sure. Not sure if that whole range is purely changes to rustc. But my guess is most of it is.</p>



<a name="261200125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261200125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261200125">(Nov 12 2021 at 00:36)</a>:</h4>
<p>For that longer range, walltimes and instruction counts look pretty similar, which suggests no change in hardware</p>



<a name="261204305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261204305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261204305">(Nov 12 2021 at 01:58)</a>:</h4>
<p>Huh, blog post made the front page of HN, didn't expect that</p>



<a name="261204324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261204324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261204324">(Nov 12 2021 at 01:58)</a>:</h4>
<p>Currently <a href="https://github.com/rust-lang/rust/issues/2">#2</a></p>



<a name="261205374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Speedups%20in%20the%20past%2015%20months/near/261205374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Speedups.20in.20the.20past.2015.20months.html#261205374">(Nov 12 2021 at 02:18)</a>:</h4>
<p>Reading the comments reminds me why I stopped reading HN</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>