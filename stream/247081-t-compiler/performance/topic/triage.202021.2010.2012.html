<html>
<head><meta charset="utf-8"><title>triage 2021 10 12 · t-compiler/performance · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/index.html">t-compiler/performance</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html">triage 2021 10 12</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="257217974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257217974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257217974">(Oct 12 2021 at 15:04)</a>:</h4>
<p>starting triage now. will be interrupted intermittently.</p>



<a name="257253775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257253775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257253775">(Oct 12 2021 at 18:55)</a>:</h4>
<p>hmm, the auto-generated report is failing to make the titles for the PR’s ? Its just emitting <code>&lt;UNKNOWN&gt;</code> for each one. :(</p>



<a name="257253833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257253833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257253833">(Oct 12 2021 at 18:55)</a>:</h4>
<p>13 occurrences. I can fix it by hand.</p>



<a name="257254414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257254414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257254414">(Oct 12 2021 at 18:59)</a>:</h4>
<p>That sounds like it can't connect to GitHub... Maybe the token has expired?</p>



<a name="257254665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257254665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257254665">(Oct 12 2021 at 19:01)</a>:</h4>
<p>This would be any error that happens <a href="https://github.com/rust-lang/rustc-perf/blob/e92928f818d0587de2080f6c30b2fe486140a605/site/src/github.rs#L753-L761">here</a></p>



<a name="257254939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257254939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257254939">(Oct 12 2021 at 19:02)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> is there any easy way to see the logs (what gets printed to stdout/stderr)?</p>



<a name="257256105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257256105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257256105">(Oct 12 2021 at 19:10)</a>:</h4>
<p>I can check</p>



<a name="257256119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257256119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257256119">(Oct 12 2021 at 19:10)</a>:</h4>
<p>Token shouldn't expire</p>



<a name="257256624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257256624" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257256624">(Oct 12 2021 at 19:14)</a>:</h4>
<p>hm indeed "HTTP status client error 403 forbidden"</p>



<a name="257256927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257256927" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257256927">(Oct 12 2021 at 19:16)</a>:</h4>
<p>token seems valid</p>



<a name="257256949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257256949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257256949">(Oct 12 2021 at 19:16)</a>:</h4>
<p>let me try locally I guess</p>



<a name="257257151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257257151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257257151">(Oct 12 2021 at 19:17)</a>:</h4>
<p>hm, locally seems to work</p>



<a name="257257165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257257165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257257165">(Oct 12 2021 at 19:17)</a>:</h4>
<p>I'll try to restart rustc-perf</p>



<a name="257257570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257257570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257257570">(Oct 12 2021 at 19:20)</a>:</h4>
<p>the untriaged prs list works</p>



<a name="257257724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257257724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257257724">(Oct 12 2021 at 19:21)</a>:</h4>
<p>so the token is valid for search queries at least</p>



<a name="257258279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257258279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257258279">(Oct 12 2021 at 19:26)</a>:</h4>
<p>seems to work locally...</p>



<a name="257258392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257258392" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257258392">(Oct 12 2021 at 19:26)</a>:</h4>
<p>I'll refresh the token to a newer one for now, maybe that will help</p>



<a name="257260051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257260051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257260051">(Oct 12 2021 at 19:38)</a>:</h4>
<p>ok, well, rotating the token fixed it I think</p>



<a name="257260062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257260062" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257260062">(Oct 12 2021 at 19:39)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> if you could double check after you finish, that'd be good</p>



<a name="257260116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257260116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257260116">(Oct 12 2021 at 19:39)</a>:</h4>
<p>not really sure what happened</p>



<a name="257260129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257260129" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257260129">(Oct 12 2021 at 19:39)</a>:</h4>
<p>our rate limit monitoring didn't see a problem</p>



<a name="257261156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257261156" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257261156">(Oct 12 2021 at 19:47)</a>:</h4>
<p>huh no it did it again</p>



<a name="257262574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257262574" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257262574">(Oct 12 2021 at 19:57)</a>:</h4>
<p>I'm really confused</p>



<a name="257262589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257262589" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257262589">(Oct 12 2021 at 19:57)</a>:</h4>
<p>I guess we can log more details</p>



<a name="257265198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257265198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257265198">(Oct 12 2021 at 20:15)</a>:</h4>
<p>regarding actual triage notes: rollup PR <a href="https://github.com/rust-lang/rust/issues/89608">#89608</a> was marked as regression due to some <a href="https://perf.rust-lang.org/compare.html?start=d480ceff384f80394e9367b5e9d3596d62f20585&amp;end=0eabf25b90396dead0b2a1aaa275af18a1ae6008">minor changes to instruction counts</a>.  But the PR list seems like there is nothing that could really matter, and in addition: <del>the <a href="https://perf.rust-lang.org/compare.html?start=d480ceff384f80394e9367b5e9d3596d62f20585&amp;end=0eabf25b90396dead0b2a1aaa275af18a1ae6008&amp;stat=task-clock%3Au">task-clock</a> shows no change at all</del> (wait, is task-clock even usable?), and the <a href="https://perf.rust-lang.org/compare.html?start=d480ceff384f80394e9367b5e9d3596d62f20585&amp;end=0eabf25b90396dead0b2a1aaa275af18a1ae6008&amp;stat=wall-time">wall-time</a> shows very little change.</p>
<p>I’m planning to just delete this supposed “regression” from the report. Are there objections to that reasoning?</p>



<a name="257267153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257267153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257267153">(Oct 12 2021 at 20:29)</a>:</h4>
<p>Looking at the timelines the jump in externs-debug and -opt  looks like non-noise. That benchmark is very stable. Docs aren't on the timelines, so who knows.</p>



<a name="257267193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257267193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257267193">(Oct 12 2021 at 20:29)</a>:</h4>
<p><a href="https://perf.rust-lang.org/index.html?start=2021-10-05&amp;end=&amp;kind=percentfromfirst&amp;stat=instructions%3Au">https://perf.rust-lang.org/index.html?start=2021-10-05&amp;end=&amp;kind=percentfromfirst&amp;stat=instructions%3Au</a></p>



<a name="257267577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257267577" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257267577">(Oct 12 2021 at 20:32)</a>:</h4>
<p>hmm. Okay.</p>



<a name="257268281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257268281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257268281">(Oct 12 2021 at 20:37)</a>:</h4>
<p>FYI: we've gotten pretty good at marking noise, so if a test case isn't labeled as noisy with "?", it's very unlikely to be noise if you see large "significance factor"</p>



<a name="257268583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257268583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257268583">(Oct 12 2021 at 20:39)</a>:</h4>
<p>In other words, I would be very surprised if this is noise. This is very likely a real performance regression.</p>



<a name="257268606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257268606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257268606">(Oct 12 2021 at 20:39)</a>:</h4>
<p>(whether it's worth addressing is another question)</p>



<a name="257268812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257268812" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257268812">(Oct 12 2021 at 20:40)</a>:</h4>
<p>I guess I know from my own experience that the reported wall time itself will be quite noisy and thus mask real regressions that instruction-counts capture.</p>



<a name="257268997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257268997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257268997">(Oct 12 2021 at 20:42)</a>:</h4>
<p>wall-time is almost always noisy and can't really be relied on for small perf changes.</p>



<a name="257269046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257269046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257269046">(Oct 12 2021 at 20:42)</a>:</h4>
<p>I’m realizing also that I need to refine my terminology. When I said “noise”, I really meant “a codegen artifact that causes a performance delta that is dependent on local environmental factors but also persists from run to run."</p>



<a name="257269127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257269127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257269127">(Oct 12 2021 at 20:43)</a>:</h4>
<p>but I also recognize that one cannot identify those cases from our performance reports alone.</p>



<a name="257269223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257269223" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257269223">(Oct 12 2021 at 20:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/triage.202021.2010.2012/near/257269046">said</a>:</p>
<blockquote>
<p>I’m realizing also that I need to refine my terminology. When I said “noise”, I really meant “a codegen artifact that causes a performance delta that is dependent on local environmental factors but also persists from run to run."</p>
</blockquote>
<p>(an example of this that I am thinking of is the kind of thing where adding code in one place causes an unrelated function to regress performance due to changes in code alignment in memory.)</p>



<a name="257272839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257272839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257272839">(Oct 12 2021 at 21:11)</a>:</h4>
<p><span class="user-mention" data-user-id="224872">@rylev</span> if you’re still there, can you explain why triage report puts <a href="https://github.com/rust-lang/rust/issues/86525">#86525</a> into the “probably changed” group, but then the perf site says that <a href="https://github.com/rust-lang/rust/pull/89582#issuecomment-939270041">"Summary: This benchmark run did not return any relevant changes.”</a> ?</p>



<a name="257273515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257273515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257273515">(Oct 12 2021 at 21:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/triage.202021.2010.2012/near/257269046">said</a>:</p>
<blockquote>
<p>I’m realizing also that I need to refine my terminology. When I said “noise”, I really meant “a codegen artifact that causes a performance delta that is dependent on local environmental factors but also persists from run to run."</p>
</blockquote>
<p>maybe "perturbation"?</p>



<a name="257273811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257273811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257273811">(Oct 12 2021 at 21:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/triage.202021.2010.2012/near/257272839">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="224872">rylev</span> if you’re still there, can you explain why triage report puts <a href="https://github.com/rust-lang/rust/issues/86525">#86525</a> into the “probably changed” group, but then the perf site says that <a href="https://github.com/rust-lang/rust/pull/89582#issuecomment-939270041">"Summary: This benchmark run did not return any relevant changes.”</a> ?</p>
</blockquote>
<p>Yes, we need to improve the wording here. The post-merge messages only say that there is a relevant change if the changes are classified as "definitely relevant" The triage report includes "probably relevant" changes.</p>



<a name="257273853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257273853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257273853">(Oct 12 2021 at 21:19)</a>:</h4>
<p>I have it on my todo to changing the wording to make this all much clearer</p>



<a name="257274071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257274071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257274071">(Oct 12 2021 at 21:21)</a>:</h4>
<p>It's not that there aren't performance changes, it's just that we determined that it's not worth bugging the author/reviewer about it</p>



<a name="257276166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257276166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257276166">(Oct 12 2021 at 21:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/triage.202021.2010.2012/near/257273515">said</a>:</p>
<blockquote>
<p>maybe "perturbation"?</p>
</blockquote>
<p>Stabilizer paper says “measurement bias: a systematic error due to uncontrolled factors"</p>



<a name="257276312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257276312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257276312">(Oct 12 2021 at 21:41)</a>:</h4>
<p>But I worry that “measurement bias” is describing too general a phenomenon and I want something narrower here</p>



<a name="257276776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/triage%202021%2010%2012/near/257276776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/triage.202021.2010.2012.html#257276776">(Oct 12 2021 at 21:45)</a>:</h4>
<p>okay, done with report. Thanks for your assistance all.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>