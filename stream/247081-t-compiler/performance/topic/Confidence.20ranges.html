<html>
<head><meta charset="utf-8"><title>Confidence ranges · t-compiler/performance · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/index.html">t-compiler/performance</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html">Confidence ranges</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="249099705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Confidence%20ranges/near/249099705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html#249099705">(Aug 11 2021 at 12:29)</a>:</h4>
<p>We're going to begin rating how "confident" we are that a test result change is an _actual_ real performance change. There are definitely better ways to do this (using formal statistical methods), but for now we're doing this based on weighted "score". Essentially, larger changes and more changes make us more confident.</p>
<p>We have three confidence levels "definitely relevant" (i.e., a human needs to see this), "probably relevant", and "maybe relevant". In triage we only want to show definitely relevant changes, while for try run results, we'll show anything that is definitely or probably relevant. </p>
<p>Here are some comparisons. How would you rate them (definitely, probably, or maybe relevant)?<br>
1) <a href="https://perf.rust-lang.org/compare.html?start=022720bfccd46400e69def42f4647fe4059ad951&amp;end=2312ff1a850db449b79fd3c4b215395cd2598c25&amp;stat=instructions:u">https://perf.rust-lang.org/compare.html?start=022720bfccd46400e69def42f4647fe4059ad951&amp;end=2312ff1a850db449b79fd3c4b215395cd2598c25&amp;stat=instructions:u</a> <br>
2) <a href="https://perf.rust-lang.org/compare.html?start=ac3e680193a3e11e60b07840ffb1db12793de110&amp;end=6c2dd251bbff03c7a3092d43fb5b637eca0810e3&amp;stat=instructions:u">https://perf.rust-lang.org/compare.html?start=ac3e680193a3e11e60b07840ffb1db12793de110&amp;end=6c2dd251bbff03c7a3092d43fb5b637eca0810e3&amp;stat=instructions:u</a><br>
3) <a href="https://perf.rust-lang.org/compare.html?start=1c82bb293c83877b52380d0d7a181a011fb70603&amp;end=4afa3a80926f52aa361fe4e89643dac2e2e57f34&amp;stat=instructions:u">https://perf.rust-lang.org/compare.html?start=1c82bb293c83877b52380d0d7a181a011fb70603&amp;end=4afa3a80926f52aa361fe4e89643dac2e2e57f34&amp;stat=instructions:u</a><br>
4) <a href="https://perf.rust-lang.org/compare.html?start=f57d5ba3c9ffef4cd2402e3e7d8934bd1a6e9cc1&amp;end=86b0bafbf1e0fab3aa433c10256919d1b6ba46ac&amp;stat=instructions:u">https://perf.rust-lang.org/compare.html?start=f57d5ba3c9ffef4cd2402e3e7d8934bd1a6e9cc1&amp;end=86b0bafbf1e0fab3aa433c10256919d1b6ba46ac&amp;stat=instructions:u</a></p>



<a name="249100361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Confidence%20ranges/near/249100361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html#249100361">(Aug 11 2021 at 12:35)</a>:</h4>
<p>I would like us to include probably in triage reports, explicitly so that we can check if out heuristics are doing okay. We can put them in a separate section which we manually delete or something to make it simple.</p>



<a name="249100714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Confidence%20ranges/near/249100714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html#249100714">(Aug 11 2021 at 12:38)</a>:</h4>
<p>What exactly would you like to include?</p>



<a name="249101144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Confidence%20ranges/near/249101144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html#249101144">(Aug 11 2021 at 12:43)</a>:</h4>
<p>The "probably changed" set?</p>



<a name="249101303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Confidence%20ranges/near/249101303" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html#249101303">(Aug 11 2021 at 12:45)</a>:</h4>
<p>All 4 of the listed comparisons look definitely relevant.</p>



<a name="249101783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Confidence%20ranges/near/249101783" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html#249101783">(Aug 11 2021 at 12:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/Confidence.20ranges/near/249101303">said</a>:</p>
<blockquote>
<p>All 4 of the listed comparisons look definitely relevant.</p>
</blockquote>
<p>This is interesting you mention that as 3 and 4 do not show up on the triage report today</p>



<a name="249102595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Confidence%20ranges/near/249102595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html#249102595">(Aug 11 2021 at 12:57)</a>:</h4>
<p>Yeah, this is why I think we should include probably changed - it'll help us tune.</p>



<a name="249108355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Confidence%20ranges/near/249108355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html#249108355">(Aug 11 2021 at 13:40)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I made changes in the PR to include the "probably relevant" changes in the triage report. I'll wait for <span class="user-mention" data-user-id="116083">@pnkfelix</span> to decide if he wants to do the triage report with these changes or not. If not, we can merge them after the triage report is done for this week</p>



<a name="249108376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Confidence%20ranges/near/249108376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html#249108376">(Aug 11 2021 at 13:41)</a>:</h4>
<p>Sounds good.</p>



<a name="249115741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/Confidence%20ranges/near/249115741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/Confidence.20ranges.html#249115741">(Aug 11 2021 at 14:28)</a>:</h4>
<p>Yeah I responded in the <a class="stream-topic" data-stream-id="247081" href="/#narrow/stream/247081-t-compiler.2Fperformance/topic/perf.20triage.202021-08-10">#t-compiler/performance &gt; perf triage 2021-08-10</a> topic already: I would prefer to first do triage report without new changes to service, and then let <span class="user-mention" data-user-id="224872">@rylev</span> make the changes and I’ll go over the new results once that’s done.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>