<html>
<head><meta charset="utf-8"><title>firefox profile viewer · t-compiler/performance · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/index.html">t-compiler/performance</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html">firefox profile viewer</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="214769614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214769614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214769614">(Oct 27 2020 at 21:57)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> so <span class="user-mention" data-user-id="270901">@Nika Layzell</span> found this thing <a href="https://github.com/firefox-devtools/profiler/blob/main/src/profile-logic/import/chrome.js">https://github.com/firefox-devtools/profiler/blob/main/src/profile-logic/import/chrome.js</a></p>



<a name="214769664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214769664" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214769664">(Oct 27 2020 at 21:57)</a>:</h4>
<p>apparently it might be possible to "just" load chrome profiles into firefox? haven't actually tried it myself though</p>



<a name="214769682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214769682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214769682">(Oct 27 2020 at 21:57)</a>:</h4>
<p>or maybe you have to explicitly do something</p>



<a name="214769737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214769737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214769737">(Oct 27 2020 at 21:58)</a>:</h4>
<p>(sorry if this is already all known information, it came up in a different discussion)</p>



<a name="214779753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214779753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214779753">(Oct 27 2020 at 23:54)</a>:</h4>
<p>@mw and I I tried that like late last year and it didn't seem to work but that could certainly have been fixed in the mean time.</p>



<a name="214782754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214782754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214782754">(Oct 28 2020 at 00:35)</a>:</h4>
<p>Yeah they seem to not be fully supported</p>



<a name="214782759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214782759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214782759">(Oct 28 2020 at 00:35)</a>:</h4>
<p>I've been meaning to try speedscope</p>



<a name="214816674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214816674" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214816674">(Oct 28 2020 at 10:19)</a>:</h4>
<p>Since Mozilla seems to have <a href="https://dev.to/adamgreenough/mozilla-s-layoffs-are-bad-news-for-developers-8a1">laid off their entire dev tools team</a> I'd be surprised if the profiler had gotten new features lately. I heard that it supports <code>perf</code>s data format though, so one could write a converter.</p>



<a name="214818177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214818177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214818177">(Oct 28 2020 at 10:34)</a>:</h4>
<p>the profiler still seems to be pretty active, and the Chrome importer in particular seems to have had some work done a few months back, maybe the issues have been fixed</p>



<a name="214818908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214818908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214818908">(Oct 28 2020 at 10:41)</a>:</h4>
<p>it's pretty easy to test as well: it can load files from a URL, and perf.rlo now serves the crox-processed files (and could even link to the profiler website, ready to import the crox json). here's one from a random PR in last week's performance report <a href="https://share.firefox.dev/35BLAOq">https://share.firefox.dev/35BLAOq</a> -- the profile is big so it'll take a long time to load. The marker chart and marker table work, no call tree/flame graph/stack chart</p>



<a name="214826866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214826866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214826866">(Oct 28 2020 at 12:07)</a>:</h4>
<p>Oh, very nice! <span class="user-group-mention" data-user-group-id="1123">@WG-self-profile</span> always dreamed of being able to provide links to profiles on perf.rlo.</p>



<a name="214826955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214826955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214826955">(Oct 28 2020 at 12:08)</a>:</h4>
<p>Profiles are currently broken on very recent commits due to format changes, but I just need to sit down for a bit and fix that, should be relatively easy</p>



<a name="214827032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214827032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214827032">(Oct 28 2020 at 12:09)</a>:</h4>
<p>I should clarify - rendered profiles don't work. But the raw downloads do.</p>



<a name="214827253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214827253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214827253">(Oct 28 2020 at 12:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124287">mw</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/firefox.20profile.20viewer/near/214826866">said</a>:</p>
<blockquote>
<p>... always dreamed of being able to provide links to profiles on perf.rlo.</p>
</blockquote>
<p>yeah me too :) <a href="https://github.com/rust-lang/rust/issues/43804">https://github.com/rust-lang/rust/issues/43804</a></p>



<a name="214827352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214827352" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214827352">(Oct 28 2020 at 12:12)</a>:</h4>
<p>if y'all feel the current state of FF's profiler is good enough for us, I'll try to make a PR for perf.rlo</p>



<a name="214827511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214827511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214827511">(Oct 28 2020 at 12:14)</a>:</h4>
<p>I personally use <a href="http://speedscope.app">speedscope.app</a>, which supports a lot of profile formats, including chrome profiles and <code>perf script</code>.</p>



<a name="214827798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214827798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214827798">(Oct 28 2020 at 12:17)</a>:</h4>
<p>in any case, speedscope is also supposed to be able to load profile URLs</p>



<a name="214827889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214827889" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214827889">(Oct 28 2020 at 12:18)</a>:</h4>
<p>(I myself like to use tracy)</p>



<a name="214828646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214828646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214828646">(Oct 28 2020 at 12:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/247081-t-compiler.2Fperformance/topic/firefox.20profile.20viewer/near/214827032">said</a>:</p>
<blockquote>
<p>I should clarify - rendered profiles don't work. But the raw downloads do.</p>
</blockquote>
<p>some of the downloads do have errors 500 though, for example the flamegraph and crox links <a href="https://perf.rust-lang.org/detailed-query.html?commit=f5b6e9824f9430f5bbe58b7c12c4a69612e93a30&amp;benchmark=packed-simd-check&amp;run_name=full">in this recent perf run</a> edit: ah I understand that's what you meant by 'raw' vs 'rendered'</p>



<a name="214829257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214829257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214829257">(Oct 28 2020 at 12:32)</a>:</h4>
<p>so here's a <a href="https://www.speedscope.app/#profileURL=https%3A%2F%2Fperf.rust-lang.org%2Fperf%2Fprocessed-self-profile%3Fcommit%3D08e2d4616613716362b4b49980ff303f2b9ae654%26benchmark%3Dwf-projection-stress-65510-check%26run_name%3Dfull%26type%3Dcrox">speedscope profile from an older PR</a></p>



<a name="214954537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/247081-t-compiler/performance/topic/firefox%20profile%20viewer/near/214954537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/247081-t-compiler/performance/topic/firefox.20profile.20viewer.html#214954537">(Oct 29 2020 at 11:32)</a>:</h4>
<p>it probably won't work in all cases just yet until we finish the analyzeme v9 work (so, should work mostly on runs using the v7 format), <em>but</em> the speedscope and FF profiler links should already be available on perf.rlo :)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>