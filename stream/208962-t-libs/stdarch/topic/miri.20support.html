<html>
<head><meta charset="utf-8"><title>miri support · t-libs/stdarch · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/208962-t-libs/stdarch/index.html">t-libs/stdarch</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/208962-t-libs/stdarch/topic/miri.20support.html">miri support</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="175796508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/208962-t-libs/stdarch/topic/miri%20support/near/175796508" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luca Barbato <a href="https://rust-lang.github.io/zulip_archive/stream/208962-t-libs/stdarch/topic/miri.20support.html#175796508">(Sep 16 2019 at 09:24)</a>:</h4>
<p>The people working on miri asked if they could get the support in the nightly, I didn't check if it is in already, is it?</p>



<a name="175796914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/208962-t-libs/stdarch/topic/miri%20support/near/175796914" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/208962-t-libs/stdarch/topic/miri.20support.html#175796914">(Sep 16 2019 at 09:31)</a>:</h4>
<p>I don't think so.</p>



<a name="175797015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/208962-t-libs/stdarch/topic/miri%20support/near/175797015" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/208962-t-libs/stdarch/topic/miri.20support.html#175797015">(Sep 16 2019 at 09:33)</a>:</h4>
<p>We merged a PR recently, <a href="https://github.com/rust-lang/stdarch/issues/803" target="_blank" title="https://github.com/rust-lang/stdarch/issues/803">stdarch#803</a></p>



<a name="175797031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/208962-t-libs/stdarch/topic/miri%20support/near/175797031" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/208962-t-libs/stdarch/topic/miri.20support.html#175797031">(Sep 16 2019 at 09:33)</a>:</h4>
<p>but we should add a test that checks that this does not break</p>



<a name="175797132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/208962-t-libs/stdarch/topic/miri%20support/near/175797132" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/208962-t-libs/stdarch/topic/miri.20support.html#175797132">(Sep 16 2019 at 09:34)</a>:</h4>
<p>Probably a build job for x86+miri that only runs the <code>std::detect</code> tests and checks that <code>is_x86_feature_detected!</code> returns the same value as <code>cfg!(target_feature)</code></p>



<a name="175797515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/208962-t-libs/stdarch/topic/miri%20support/near/175797515" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luca Barbato <a href="https://rust-lang.github.io/zulip_archive/stream/208962-t-libs/stdarch/topic/miri.20support.html#175797515">(Sep 16 2019 at 09:41)</a>:</h4>
<p>sounds a good idea, I wanted the miri dev to write it since it requires some additional work to make sure it does not break because of miri itself.</p>



<a name="175824418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/208962-t-libs/stdarch/topic/miri%20support/near/175824418" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/208962-t-libs/stdarch/topic/miri.20support.html#175824418">(Sep 16 2019 at 15:43)</a>:</h4>
<p><span class="user-mention" data-user-id="131070">@Luca Barbato</span> i've updated the PR, and I think it closes <a href="https://github.com/rust-lang/stdarch/issues/667" target="_blank" title="https://github.com/rust-lang/stdarch/issues/667">stdarch#667</a> now</p>



<a name="175824501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/208962-t-libs/stdarch/topic/miri%20support/near/175824501" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/208962-t-libs/stdarch/topic/miri.20support.html#175824501">(Sep 16 2019 at 15:44)</a>:</h4>
<p>Will probably need to do a crater run</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>