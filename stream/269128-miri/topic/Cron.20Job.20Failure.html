<html>
<head><meta charset="utf-8"><title>Cron Job Failure · miri · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/index.html">miri</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html">Cron Job Failure</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="222967613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/222967613" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#222967613">(Jan 16 2021 at 07:51)</a>:</h4>
<p><span class="user-mention" data-user-id="120791">@RalfJ</span> <span class="user-mention" data-user-id="124288">@oli</span> the Miri cron job build failed. Please investigate!</p>



<a name="222971474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/222971474" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#222971474">(Jan 16 2021 at 09:28)</a>:</h4>
<p>Yay, it's working. :)</p>



<a name="223058555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/223058555" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#223058555">(Jan 17 2021 at 19:22)</a>:</h4>
<p>For a moment I didn't realize it was a bot and was wondering why someone was posting this message <span aria-label="laughter tears" class="emoji emoji-1f602" role="img" title="laughter tears">:laughter_tears:</span></p>



<a name="223058853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/223058853" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#223058853">(Jan 17 2021 at 19:29)</a>:</h4>
<p>:D</p>



<a name="223058902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/223058902" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#223058902">(Jan 17 2021 at 19:30)</a>:</h4>
<p>bots aren't as polite as we expect people to be, are they? ;)</p>



<a name="223061529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/223061529" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#223061529">(Jan 17 2021 at 20:30)</a>:</h4>
<p>Opened <a href="https://github.com/rust-lang/miri/issues/1680">miri#1680</a> to fix this issue</p>



<a name="223063595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/223063595" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#223063595">(Jan 17 2021 at 21:18)</a>:</h4>
<p>Wait you actually merged it? <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="223063746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/223063746" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#223063746">(Jan 17 2021 at 21:21)</a>:</h4>
<p>if you want to get something in just cite the CoC! <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="223064042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/223064042" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#223064042">(Jan 17 2021 at 21:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="255061">Léo Lanteri Thauvin</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/223063595">said</a>:</p>
<blockquote>
<p>Wait you actually merged it? <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>
</blockquote>
<p>I mean of course, why wouldn't I? :D</p>



<a name="223064059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/223064059" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#223064059">(Jan 17 2021 at 21:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281739">oliver</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/223063746">said</a>:</p>
<blockquote>
<p>if you want to get something in just cite the CoC! <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>
</blockquote>
<p>more importantly, just make it funny :D</p>



<a name="223865005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/223865005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#223865005">(Jan 25 2021 at 08:04)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span>\n\nIt would appear that the Miri cron job build failed. Would you mind investigating this issue?\n\nThanks in advance!\nSincerely,\nThe Miri Cronjobs Bot</p>



<a name="224004797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/224004797" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#224004797">(Jan 26 2021 at 07:30)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span></p>
<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>
<p>Thanks in advance!<br>
Sincerely,<br>
The Miri Cronjobs Bot</p>



<a name="224043218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/224043218" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#224043218">(Jan 26 2021 at 14:08)</a>:</h4>
<p>newlines are working :)</p>



<a name="224043230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/224043230" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#224043230">(Jan 26 2021 at 14:09)</a>:</h4>
<p>(also, I took care of the problem)</p>



<a name="224104571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/224104571" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#224104571">(Jan 26 2021 at 21:15)</a>:</h4>
<p><span class="user-mention" data-user-id="374062">@miri cronjobs</span> good bot :D</p>



<a name="224148035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/224148035" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#224148035">(Jan 27 2021 at 07:33)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span></p>
<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>
<p>Thanks in advance!<br>
Sincerely,<br>
The Miri Cronjobs Bot</p>



<a name="224182914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/224182914" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#224182914">(Jan 27 2021 at 13:51)</a>:</h4>
<p>done</p>



<a name="224629133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/224629133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#224629133">(Jan 31 2021 at 07:30)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span></p>
<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>
<p>Thanks in advance!<br>
Sincerely,<br>
The Miri Cronjobs Bot</p>



<a name="225268024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/225268024" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#225268024">(Feb 05 2021 at 07:23)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span></p>
<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>
<p>Thanks in advance!<br>
Sincerely,<br>
The Miri Cronjobs Bot</p>



<a name="225414990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/225414990" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#225414990">(Feb 06 2021 at 14:47)</a>:</h4>
<p>(all taken care of)</p>



<a name="225653024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/225653024" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#225653024">(Feb 09 2021 at 07:27)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span></p>
<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>
<p>Thanks in advance!<br>
Sincerely,<br>
The Miri Cronjobs Bot</p>



<a name="225664001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/225664001" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#225664001">(Feb 09 2021 at 09:41)</a>:</h4>
<p>that's done</p>



<a name="226480145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/226480145" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#226480145">(Feb 16 2021 at 07:23)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span></p>
<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>
<p>Thanks in advance!<br>
Sincerely,<br>
The Miri Cronjobs Bot</p>



<a name="226495169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/226495169" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#226495169">(Feb 16 2021 at 10:17)</a>:</h4>
<p>done</p>



<a name="226773217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/226773217" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#226773217">(Feb 18 2021 at 07:22)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span></p>
<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>
<p>Thanks in advance!<br>
Sincerely,<br>
The Miri Cronjobs Bot</p>



<a name="226791415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/226791415" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#226791415">(Feb 18 2021 at 10:34)</a>:</h4>
<p>done</p>



<a name="227391191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/227391191" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#227391191">(Feb 23 2021 at 07:24)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span></p>
<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>
<p>Thanks in advance!<br>
Sincerely,<br>
The Miri Cronjobs Bot</p>



<a name="227395326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/227395326" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#227395326">(Feb 23 2021 at 08:19)</a>:</h4>
<p>Hm, interesting... the toolstate is green but Miri's CI fails?</p>



<a name="227395532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/227395532" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#227395532">(Feb 23 2021 at 08:21)</a>:</h4>
<p>Ah, it's a failure only with <code>-Z mir-opt-level=3</code>. Some new MIR optimization landed that masks UB in a compile-fail test.</p>



<a name="227395848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/227395848" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#227395848">(Feb 23 2021 at 08:24)</a>:</h4>
<p>done</p>



<a name="228365212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228365212" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228365212">(Mar 02 2021 at 07:25)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span></p>
<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>
<p>Thanks in advance!<br>
Sincerely,<br>
The Miri Cronjobs Bot</p>



<a name="228373882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228373882" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228373882">(Mar 02 2021 at 08:48)</a>:</h4>
<p>Hm, looks like some MIR optimization (or something else) landed that makes the data race detector fail on some examples... but only with <code>mir-opt-level=3</code></p>



<a name="228374616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228374616" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228374616">(Mar 02 2021 at 08:56)</a>:</h4>
<p>Could it be <a href="https://github.com/rust-lang/rust/issues/80475">#80475</a>?</p>



<a name="228375184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375184" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375184">(Mar 02 2021 at 09:00)</a>:</h4>
<p>I just went over all merges since your last miri up 2 days ago, and nothing stands out</p>



<a name="228375238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375238" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375238">(Mar 02 2021 at 09:01)</a>:</h4>
<p>we have one mir-opt PR that gets rid of storage markers in general, but only if no optimizations are run at all</p>



<a name="228375309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375309" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375309">(Mar 02 2021 at 09:01)</a>:</h4>
<p>the only one that landed yesterday is <a href="https://github.com/rust-lang/rust/pull/78360">https://github.com/rust-lang/rust/pull/78360</a></p>



<a name="228375325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375325" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375325">(Mar 02 2021 at 09:01)</a>:</h4>
<p>but I cannot figure out why that would remove deadlocks from a program...</p>



<a name="228375411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375411" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375411">(Mar 02 2021 at 09:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228375238">said</a>:</p>
<blockquote>
<p>we have one mir-opt PR that gets rid of storage markers in general, but only if no optimizations are run at all</p>
</blockquote>
<p>not sure what you mean, it seems to run as part of <code>optimizations</code>, i.e. only with <code>mir-opt-level</code> &gt; 0?</p>



<a name="228375446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375446" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375446">(Mar 02 2021 at 09:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228375184">said</a>:</p>
<blockquote>
<p>I just went over all merges since your last miri up 2 days ago, and nothing stands out</p>
</blockquote>
<p>this cronjob runs every morning, so only the last 24h are relevant</p>



<a name="228375700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375700" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375700">(Mar 02 2021 at 09:04)</a>:</h4>
<p>E.g. the behavior of this program is changed:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">libc</span><span class="p">;</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">rw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span>::<span class="n">cell</span>::<span class="n">UnsafeCell</span>::<span class="n">new</span><span class="p">(</span><span class="n">libc</span>::<span class="n">PTHREAD_RWLOCK_INITIALIZER</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">libc</span>::<span class="n">pthread_rwlock_rdlock</span><span class="p">(</span><span class="n">rw</span><span class="p">.</span><span class="n">get</span><span class="p">()),</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">libc</span>::<span class="n">pthread_rwlock_wrlock</span><span class="p">(</span><span class="n">rw</span><span class="p">.</span><span class="n">get</span><span class="p">());</span><span class="w"> </span><span class="c1">//~ ERROR: deadlock</span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="228375706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375706">(Mar 02 2021 at 09:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="120791">RalfJ</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228375411">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228375238">said</a>:</p>
<blockquote>
<p>we have one mir-opt PR that gets rid of storage markers in general, but only if no optimizations are run at all</p>
</blockquote>
<p>not sure what you mean, it seems to run as part of <code>optimizations</code>, i.e. only with <code>mir-opt-level</code> &gt; 0?</p>
</blockquote>
<p>it's only run if we don't emit lifetime markers to llvm. We only emit lifetime markers to llvm if the -O opt level is 0, llvm opt level is irrelevant</p>



<a name="228375743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375743" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375743">(Mar 02 2021 at 09:05)</a>:</h4>
<p>I tried to diff the MIR but that seems near impossible due to all of that "scope" crap</p>



<a name="228375788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375788" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375788">(Mar 02 2021 at 09:05)</a>:</h4>
<p>wait... the MIR is so heavily different?</p>



<a name="228375790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375790" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375790">(Mar 02 2021 at 09:05)</a>:</h4>
<p>oh</p>



<a name="228375793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375793" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375793">(Mar 02 2021 at 09:05)</a>:</h4>
<p>you mean the comments</p>



<a name="228375826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375826" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375826">(Mar 02 2021 at 09:05)</a>:</h4>
<p>just strip them with a <code>//[^\n]*</code> regex</p>



<a name="228375829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375829" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375829">(Mar 02 2021 at 09:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228375706">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="120791">RalfJ</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228375411">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228375238">said</a>:</p>
<blockquote>
<p>we have one mir-opt PR that gets rid of storage markers in general, but only if no optimizations are run at all</p>
</blockquote>
<p>not sure what you mean, it seems to run as part of <code>optimizations</code>, i.e. only with <code>mir-opt-level</code> &gt; 0?</p>
</blockquote>
<p>it's only run if we don't emit lifetime markers to llvm. We only emit lifetime markers to llvm if the -O opt level is 0, llvm opt level is irrelevant</p>
</blockquote>
<p>I have no idea what you mean but this is <a href="https://github.com/rust-lang/rust/pull/78360/files#diff-8299f830f4c4cd8dff330695a684161c749d092036fad1327a4b4a495e3a6c3cR497">definitely only run for non-0 mir-opt-level</a></p>



<a name="228375923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375923" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375923">(Mar 02 2021 at 09:06)</a>:</h4>
<p>yes, but the mir opt level is irrelevant</p>



<a name="228375945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375945" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375945">(Mar 02 2021 at 09:06)</a>:</h4>
<p>"yes its relevant but no its not relevant"?!?</p>



<a name="228375977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375977" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375977">(Mar 02 2021 at 09:06)</a>:</h4>
<p>what I mean is that this is only affected by the LLVM optimization level</p>



<a name="228375990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375990" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375990">(Mar 02 2021 at 09:07)</a>:</h4>
<p>sec</p>



<a name="228375996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228375996" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228375996">(Mar 02 2021 at 09:07)</a>:</h4>
<p>it is certainly <em>also</em> affected by the mir opt level</p>



<a name="228376011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376011" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376011">(Mar 02 2021 at 09:07)</a>:</h4>
<p>as I just demonstrated and you said "yes"</p>



<a name="228376023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376023">(Mar 02 2021 at 09:07)</a>:</h4>
<p>so I cannot make sense of your statement</p>



<a name="228376037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376037" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376037">(Mar 02 2021 at 09:07)</a>:</h4>
<p>hold up <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="228376066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376066" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376066">(Mar 02 2021 at 09:07)</a>:</h4>
<p>it is only run if <code>!tcx.sess.emit_lifetime_markers()</code></p>



<a name="228376123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376123" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376123">(Mar 02 2021 at 09:08)</a>:</h4>
<p>and <code>tcx.sess.emit_lifetime_markers()</code> is true if the llvm-opt-level is 0</p>



<a name="228376203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376203" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376203">(Mar 02 2021 at 09:08)</a>:</h4>
<p>oh</p>



<a name="228376213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376213" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376213">(Mar 02 2021 at 09:08)</a>:</h4>
<p>what does miri do with -O</p>



<a name="228376218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376218" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376218">(Mar 02 2021 at 09:08)</a>:</h4>
<p>since there is no llvm</p>



<a name="228376231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376231" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376231">(Mar 02 2021 at 09:08)</a>:</h4>
<p>/me goes check</p>



<a name="228376436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376436" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376436">(Mar 02 2021 at 09:10)</a>:</h4>
<p>it doesnt do anything</p>



<a name="228376464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376464" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376464">(Mar 02 2021 at 09:10)</a>:</h4>
<p>it sets <code>-Zmir-opt-level=0</code></p>



<a name="228376494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376494" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376494">(Mar 02 2021 at 09:10)</a>:</h4>
<p>IMO it makes little sense that a <em>MIR</em> oprimization would be affected by any other flags^^</p>



<a name="228376537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376537" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376537">(Mar 02 2021 at 09:10)</a>:</h4>
<p>well</p>



<a name="228376546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376546" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376546">(Mar 02 2021 at 09:11)</a>:</h4>
<p>the optimization is not for MIR</p>



<a name="228376552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376552" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376552">(Mar 02 2021 at 09:11)</a>:</h4>
<p>it is for LLVM</p>



<a name="228376577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376577" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376577">(Mar 02 2021 at 09:11)</a>:</h4>
<p>making LLVM faster, because it doesn't have to process useless storage markers</p>



<a name="228376594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376594" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376594">(Mar 02 2021 at 09:11)</a>:</h4>
<p>storage markers/llvm-lifetimes are only useful to LLVM if it optimizes things</p>



<a name="228376641"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376641" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376641">(Mar 02 2021 at 09:11)</a>:</h4>
<p>we could make this an optimization not affected by mir-opt-level at all</p>



<a name="228376657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376657" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376657">(Mar 02 2021 at 09:12)</a>:</h4>
<p>but it needs to be active depending on things other than mir-opt-level</p>



<a name="228376721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376721" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376721">(Mar 02 2021 at 09:12)</a>:</h4>
<p>anyway, a quick way to test this is to set -O2 or sth</p>



<a name="228376846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376846" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376846">(Mar 02 2021 at 09:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228376577">said</a>:</p>
<blockquote>
<p>making LLVM faster, because it doesn't have to process useless storage markers</p>
</blockquote>
<p>that sounds like something that is better done during MIR -&gt; LLVM lowering then?</p>



<a name="228376985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376985" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376985">(Mar 02 2021 at 09:14)</a>:</h4>
<p>there's a rather large diff comparing yesterday's nightly with current master: <a href="https://pastebin.com/r8b1wbPf">https://pastebin.com/r8b1wbPf</a></p>



<a name="228376998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228376998" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228376998">(Mar 02 2021 at 09:14)</a>:</h4>
<p>not just the storage markers, also something with panics seems to have changed</p>



<a name="228377088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377088" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377088">(Mar 02 2021 at 09:15)</a>:</h4>
<p>hmm... that looks like way more than just what happened from yesterday</p>



<a name="228377100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377100" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377100">(Mar 02 2021 at 09:15)</a>:</h4>
<p>the <code>const</code> before function calls is fixed since months</p>



<a name="228377283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377283" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377283">(Mar 02 2021 at 09:17)</a>:</h4>
<p>oh lol</p>



<a name="228377289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377289" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377289">(Mar 02 2021 at 09:17)</a>:</h4>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code><span class="gd">-        _1 = const 0i32;</span>
<span class="gi">+        _1 = const 0_i32;</span>
</code></pre></div>



<a name="228377292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377292" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377292">(Mar 02 2021 at 09:17)</a>:</h4>
<p>I used nightly 2020-03-01</p>



<a name="228377297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377297" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377297">(Mar 02 2021 at 09:17)</a>:</h4>
<p>spot the mistake^^</p>



<a name="228377299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377299" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377299">(Mar 02 2021 at 09:17)</a>:</h4>
<p>heh</p>



<a name="228377311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377311" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377311">(Mar 02 2021 at 09:17)</a>:</h4>
<p>man, whatever happened to time</p>



<a name="228377312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377312" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377312">(Mar 02 2021 at 09:17)</a>:</h4>
<p>was just about to say, there's so many differences here</p>



<a name="228377402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377402" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377402">(Mar 02 2021 at 09:18)</a>:</h4>
<p>but it looks indeed like we're missing all storage markers</p>



<a name="228377445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377445" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377445">(Mar 02 2021 at 09:18)</a>:</h4>
<p>yeah the storage markers are the only difference</p>



<a name="228377463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377463" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377463">(Mar 02 2021 at 09:18)</a>:</h4>
<p>miri is passing neither <code>-O</code> nor <code>-g</code> so those flags are at whatever the rustc default is</p>



<a name="228377689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377689" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377689">(Mar 02 2021 at 09:20)</a>:</h4>
<p>yea, I just tracked it through our test suite, and we are at <code>-O0</code> due to the way <code>compiletest</code> parses the flags from <code>cargo test</code></p>



<a name="228377708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377708" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377708">(Mar 02 2021 at 09:20)</a>:</h4>
<p>so... quick fix, use <code>-O1</code></p>



<a name="228377879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377879" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377879">(Mar 02 2021 at 09:22)</a>:</h4>
<p>actually... since we want to make the mir-opt level depend on the -O flag at some point, that may be good to do anyway</p>



<a name="228377949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228377949" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228377949">(Mar 02 2021 at 09:22)</a>:</h4>
<p>Miri will rely on being able to overwrite that I think</p>



<a name="228378019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228378019" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228378019">(Mar 02 2021 at 09:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228377708">said</a>:</p>
<blockquote>
<p>so... quick fix, use <code>-O1</code></p>
</blockquote>
<p>as the equivalent of <code>-Zmir-opt-level=3</code>, or where?</p>



<a name="228378050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228378050" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228378050">(Mar 02 2021 at 09:23)</a>:</h4>
<p>okaaay.... so it seems it's not the storage markers after all^^ at least with toolchain <a href="https://github.com/rust-lang/rust/commit/09db05762b283bed62d4f92729cfee4646519833">09db05762b283bed62d4f92729cfee4646519833</a> miri still works</p>



<a name="228378118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228378118" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228378118">(Mar 02 2021 at 09:24)</a>:</h4>
<p>oh neat we have git commit links</p>



<a name="228378796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228378796" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228378796">(Mar 02 2021 at 09:29)</a>:</h4>
<p>oh wait no I am probably testing the wrong thing</p>



<a name="228379597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228379597" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228379597">(Mar 02 2021 at 09:34)</a>:</h4>
<p>yeah I did, <a href="https://github.com/rust-lang/rust/commit/09db05762b283bed62d4f92729cfee4646519833">09db05762b283bed62d4f92729cfee4646519833</a> is definitely the culprit</p>



<a name="228380091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228380091" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228380091">(Mar 02 2021 at 09:38)</a>:</h4>
<p>cc <span class="user-group-mention" data-user-group-id="1162">@WG-mir-opt</span> we should probably move faster on having a mir-opt level that is on-by-default for <code>-O</code> builds and not make any mir opts depend on the <code>-O</code> flag directly</p>



<a name="228380236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228380236" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228380236">(Mar 02 2021 at 09:39)</a>:</h4>
<p>Having these two dimensions works if we just think about LLVM, but breaks down with other backends like miri</p>



<a name="228380486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228380486" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228380486">(Mar 02 2021 at 09:41)</a>:</h4>
<p>Isn't <code>-Zmir-opt-level=0</code> sufficient for miri in this case? (It disables all MIR optimizations, and this is one of them).</p>



<a name="228380643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228380643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228380643">(Mar 02 2021 at 09:42)</a>:</h4>
<p><span class="user-mention" data-user-id="352985">@tm</span>  yes but we also run the Miri test suite with mir-opt-level=3</p>



<a name="228380655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228380655" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228380655">(Mar 02 2021 at 09:42)</a>:</h4>
<p>it is expected that this will mask some UB, but that's still good to know about</p>



<a name="228380697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228380697" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228380697">(Mar 02 2021 at 09:43)</a>:</h4>
<p>in this case, <em>it makes zero sense</em> that removing these storage markers would make miri fail to detect a deadlock caused by acquiring a lock twice... so something seems very wrong</p>



<a name="228380980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228380980" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228380980">(Mar 02 2021 at 09:45)</a>:</h4>
<p>Why did it fail to detect a deadlock with storage markers removed?</p>



<a name="228381093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381093" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381093">(Mar 02 2021 at 09:46)</a>:</h4>
<p><span class="user-mention" data-user-id="120791">@RalfJ</span> do you have the correct MIR diff at hand now?</p>



<a name="228381126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381126" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381126">(Mar 02 2021 at 09:46)</a>:</h4>
<p>maybe the issue is not storage markers but rather other optimizations now behaving differently</p>



<a name="228381190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381190" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381190">(Mar 02 2021 at 09:47)</a>:</h4>
<p>the correct mir diff consists only of storage markers</p>



<a name="228381198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381198" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381198">(Mar 02 2021 at 09:47)</a>:</h4>
<p>ok</p>



<a name="228381201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381201" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381201">(Mar 02 2021 at 09:47)</a>:</h4>
<p>hmm</p>



<a name="228381217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381217" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381217">(Mar 02 2021 at 09:47)</a>:</h4>
<p><a href="https://pastebin.com/pK27Mjjc">https://pastebin.com/pK27Mjjc</a></p>



<a name="228381227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381227" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381227">(Mar 02 2021 at 09:47)</a>:</h4>
<p>that's with mir-opt-level=3 on both sides</p>



<a name="228381266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381266" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381266">(Mar 02 2021 at 09:48)</a>:</h4>
<p>stacked borrows is affected by <code>StorageDead</code>, right?</p>



<a name="228381317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381317" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381317">(Mar 02 2021 at 09:48)</a>:</h4>
<p>StorageDead is basically just a <code>free</code></p>



<a name="228381333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381333" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381333">(Mar 02 2021 at 09:48)</a>:</h4>
<p>It <a href="https://github.com/rust-lang/miri/actions/runs/613205361">https://github.com/rust-lang/miri/actions/runs/613205361</a> CI failure in question?</p>



<a name="228381368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381368" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381368">(Mar 02 2021 at 09:49)</a>:</h4>
<p>yes</p>



<a name="228381407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381407" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381407">(Mar 02 2021 at 09:49)</a>:</h4>
<p><a href="https://github.com/rust-lang/miri/pull/1729">https://github.com/rust-lang/miri/pull/1729</a> is the hackfix^^</p>



<a name="228381573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381573" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381573">(Mar 02 2021 at 09:50)</a>:</h4>
<p>I'd prefer <code>-O</code> as the hackfix over setting the mir-opt-level to 0</p>



<a name="228381781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381781" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381781">(Mar 02 2021 at 09:52)</a>:</h4>
<p>Maybe I am missing something, but error is still there "unexpected error: '9:5: 12:6: deadlock: the evaluated program deadlocked", or does that mean something else?</p>



<a name="228381820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381820" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381820">(Mar 02 2021 at 09:52)</a>:</h4>
<p>oh I feel silly now^^ the UB is still detected, it's just the span is wrong / worse than before</p>



<a name="228381882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381882" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381882">(Mar 02 2021 at 09:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228381573">said</a>:</p>
<blockquote>
<p>I'd prefer <code>-O</code> as the hackfix over setting the mir-opt-level to 0</p>
</blockquote>
<p>setting mir-opt-level=0 is what we do elsewhere</p>



<a name="228381909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381909" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381909">(Mar 02 2021 at 09:53)</a>:</h4>
<p>and IMO we should have a consistent hackfix for this^^</p>



<a name="228381928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381928" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381928">(Mar 02 2021 at 09:53)</a>:</h4>
<p>ok</p>



<a name="228381980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228381980" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228381980">(Mar 02 2021 at 09:54)</a>:</h4>
<blockquote>
<p>error: tests/compile-fail/data_race/dealloc_write_race_stack.rs:41: expected error not found: Data race detected between Deallocate on Thread(id = 1) and Write on Thread(id = 2)</p>
</blockquote>
<p>this doesn't have its span changed, it's just gone</p>



<a name="228382046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382046" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382046">(Mar 02 2021 at 09:54)</a>:</h4>
<p>That one at least does make sense.</p>



<a name="228382047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382047" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382047">(Mar 02 2021 at 09:54)</a>:</h4>
<p>the span is still there:</p>
<div class="codehilite"><pre><span></span><code>error: Undefined Behavior: Data race detected between Deallocate on Thread(id = 1) and Write on Thread(id = 2), memory(alloc3269,offset=0,size=8)
(current vector clock = VClock([4, 7]), conflicting timestamp = VClock([0, 0, 7]))
   --&gt; /home/r/.rustup/toolchains/miri/lib/rustlib/src/rust/library/std/src/sys_common/backtrace.rs:125:18
    |
125 |     let result = f();
    |                  ^^^ Data race detected between Deallocate on Thread(id = 1) and Write on Thread(id = 2), memory(alloc3269,offset=0,size=8)
(current vector clock = VClock([4, 7]), conflicting timestamp = VClock([0, 0, 7]))
    |
    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior
    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information

    = note: inside `std::sys_common::backtrace::__rust_begin_short_backtrace::&lt;[closure@tests/compile-fail/data_race/dealloc_write_race_stack.rs:30:24: 42:10], ()&gt;` at /home/r/.rustup/toolchains/miri/lib/rustlib/src/rust/library/std/src/sys_common/backtrace.rs:125:18
</code></pre></div>



<a name="228382051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382051" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382051">(Mar 02 2021 at 09:54)</a>:</h4>
<p>it's a very bad span</p>



<a name="228382056"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382056" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382056">(Mar 02 2021 at 09:54)</a>:</h4>
<p>soemwhere in libstd</p>



<a name="228382061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382061" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382061">(Mar 02 2021 at 09:54)</a>:</h4>
<p>oooh</p>



<a name="228382066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382066" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382066">(Mar 02 2021 at 09:54)</a>:</h4>
<p><span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="228382115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382115" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382115">(Mar 02 2021 at 09:55)</a>:</h4>
<p>deallocation now happens when the stack frame is popped; the span for that is the call site it seems</p>



<a name="228382129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382129" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382129">(Mar 02 2021 at 09:55)</a>:</h4>
<p>which does make a tiny bit of sense I guess?</p>



<a name="228382133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382133">(Mar 02 2021 at 09:55)</a>:</h4>
<p>yes</p>



<a name="228382270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382270" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382270">(Mar 02 2021 at 09:56)</a>:</h4>
<p>so... the opt is not wrong for miri, but it is not useful either... maybe we should limit the opt to mir-opt-level=1?</p>



<a name="228382289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382289" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382289">(Mar 02 2021 at 09:56)</a>:</h4>
<p>we already do?</p>



<a name="228382299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382299" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382299">(Mar 02 2021 at 09:56)</a>:</h4>
<p>that's what I tried to explain above^^</p>



<a name="228382304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382304" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382304">(Mar 02 2021 at 09:57)</a>:</h4>
<p>no</p>



<a name="228382315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382315" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382315">(Mar 02 2021 at 09:57)</a>:</h4>
<p>I mean. ==1</p>



<a name="228382333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382333" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382333">(Mar 02 2021 at 09:57)</a>:</h4>
<p>not &gt;=1</p>



<a name="228382361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382361" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382361">(Mar 02 2021 at 09:57)</a>:</h4>
<p>no please keep this monotone</p>



<a name="228382369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382369" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382369">(Mar 02 2021 at 09:57)</a>:</h4>
<p>having <em>fewer</em> opts at 1 than at 3 is a disaster waiting to happen^^</p>



<a name="228382378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382378" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382378">(Mar 02 2021 at 09:57)</a>:</h4>
<p>it's specifically a debug-mode optimization</p>



<a name="228382439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382439" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382439">(Mar 02 2021 at 09:58)</a>:</h4>
<p>I'm not sure how else to do it</p>



<a name="228382463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382463" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382463">(Mar 02 2021 at 09:58)</a>:</h4>
<p>it makes debug mode compile faster in llvm</p>



<a name="228382493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382493" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382493">(Mar 02 2021 at 09:58)</a>:</h4>
<p>hm</p>



<a name="228382543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382543" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382543">(Mar 02 2021 at 09:59)</a>:</h4>
<p>but I dont want to have to run miri at opt-levels 0,1,2,3 in the test suite^^</p>



<a name="228382549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382549" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382549">(Mar 02 2021 at 09:59)</a>:</h4>
<p>anyway, better hackfix: <a href="https://github.com/rust-lang/miri/pull/1729">https://github.com/rust-lang/miri/pull/1729</a></p>



<a name="228382747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382747" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382747">(Mar 02 2021 at 10:00)</a>:</h4>
<p>I'd rather not pass <code>-O</code> here; there's no precedent for that in the miri test suite so it just opens an entire new axis of potential confusion</p>



<a name="228382843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382843" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382843">(Mar 02 2021 at 10:01)</a>:</h4>
<p>OTOH I guess that's what <code>cargo miri run --release</code> will do?</p>



<a name="228382913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382913" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382913">(Mar 02 2021 at 10:02)</a>:</h4>
<p>yea, and in our test suite it would happen if we used <code>cargo test --release</code> instead of just <code>cargo test</code></p>



<a name="228382997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228382997" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228382997">(Mar 02 2021 at 10:02)</a>:</h4>
<p>maybe <a href="https://github.com/rust-lang/miri/blob/46a08b72ef98a28a1e5bf205b13c8c54f891497b/ci.sh#L28">https://github.com/rust-lang/miri/blob/46a08b72ef98a28a1e5bf205b13c8c54f891497b/ci.sh#L28</a> should also add some <code>-O</code> flag (<code>-O99</code>? <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span> ). but then we won't test this combination any more that caused the problem.</p>



<a name="228383010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383010" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383010">(Mar 02 2021 at 10:02)</a>:</h4>
<p><code>-O</code> is without numbers</p>



<a name="228383017"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383017" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383017">(Mar 02 2021 at 10:02)</a>:</h4>
<p>it's just <code>-O</code> or not</p>



<a name="228383023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383023">(Mar 02 2021 at 10:02)</a>:</h4>
<p>ah</p>



<a name="228383036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383036" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383036">(Mar 02 2021 at 10:02)</a>:</h4>
<p>and it's what cargo passes?</p>



<a name="228383044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383044" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383044">(Mar 02 2021 at 10:02)</a>:</h4>
<p>yes</p>



<a name="228383069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383069" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383069">(Mar 02 2021 at 10:03)</a>:</h4>
<p>more fine-grained control via <code>-C</code> flags exist, but... let's ignore that</p>



<a name="228383105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383105" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383105">(Mar 02 2021 at 10:03)</a>:</h4>
<p>^^</p>



<a name="228383111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383111" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383111">(Mar 02 2021 at 10:03)</a>:</h4>
<p>too many variables</p>



<a name="228383159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383159" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383159">(Mar 02 2021 at 10:03)</a>:</h4>
<p>Note that debug/release can already mess up UB detection. If someone was making something critical depend on debug assertions, then miri wouldn't have picked it up</p>



<a name="228383219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383219" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383219">(Mar 02 2021 at 10:04)</a>:</h4>
<p>so technically we already had to run both with <code>-O</code> and without...</p>



<a name="228383348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383348" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383348">(Mar 02 2021 at 10:05)</a>:</h4>
<p>well yeah but that's expected</p>



<a name="228383410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228383410" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228383410">(Mar 02 2021 at 10:05)</a>:</h4>
<p>I think when I wrote that <code>ci.sh</code> I assumed that <code>mir-opt-level=3</code> would basically imply -O as far as Miri is concerned... and that probably even was true back then^^</p>



<a name="228384156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228384156" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228384156">(Mar 02 2021 at 10:11)</a>:</h4>
<p>Thanks all and sorry for the fuzz, I should have realized earlier that the span is just different, not gone^^</p>



<a name="228384225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228384225" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228384225">(Mar 02 2021 at 10:11)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> any idea why our test suite output is so horrible? it's really hard to tell which test the error belongs to. it's already not great with compiletest in rustc but somehow this seems worse.</p>



<a name="228384334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228384334" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228384334">(Mar 02 2021 at 10:12)</a>:</h4>
<p>on CI we set <code>RUST_TEST_NOCAPTURE=1</code>, not sure if that makes it better or worse^^</p>



<a name="228384480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228384480" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228384480">(Mar 02 2021 at 10:13)</a>:</h4>
<p>and of course <code>RUST_BACKTRACE=1</code>, which annoyingly also applies to compiletest itself it seems? can we somehow set that only for the miri invoked by compiletest?</p>



<a name="228384675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228384675" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228384675">(Mar 02 2021 at 10:14)</a>:</h4>
<p>it's a mix between getting results immediately and getting results at the end... in other crates I ended up just creating a custom script instead of using the not-horrible-but-not-good-for-anyone compiletest</p>



<a name="228385001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228385001" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228385001">(Mar 02 2021 at 10:17)</a>:</h4>
<p>but then we'd have to reimplement the rustc error parsing stuff^^</p>



<a name="228385138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228385138" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228385138">(Mar 02 2021 at 10:18)</a>:</h4>
<p>However, I am surprised that <code>RUST_TEST_NOCAPTURE</code> seems to make basically no difference</p>



<a name="228385148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228385148" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228385148">(Mar 02 2021 at 10:18)</a>:</h4>
<p>things look the same locally and on CI...</p>



<a name="228385512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228385512" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228385512">(Mar 02 2021 at 10:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="120791">RalfJ</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228385001">said</a>:</p>
<blockquote>
<p>but then we'd have to reimplement the rustc error parsing stuff^^</p>
</blockquote>
<p>now that is something we should just move into a separate (stable) crate in the compiler and publish</p>



<a name="228385630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228385630" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228385630">(Mar 02 2021 at 10:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="120791">RalfJ</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228385138">said</a>:</p>
<blockquote>
<p>However, I am surprised that <code>RUST_TEST_NOCAPTURE</code> seems to make basically no difference</p>
</blockquote>
<p>I've never used that before, maybe it's the wrong flag?</p>



<a name="228385990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228385990" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228385990">(Mar 02 2021 at 10:25)</a>:</h4>
<p>no grepping has a hit in compiletest</p>



<a name="228386106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228386106" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228386106">(Mar 02 2021 at 10:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228385512">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="120791">RalfJ</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure/near/228385001">said</a>:</p>
<blockquote>
<p>but then we'd have to reimplement the rustc error parsing stuff^^</p>
</blockquote>
<p>now that is something we should just move into a separate (stable) crate in the compiler and publish</p>
</blockquote>
<p>there's a "ui tests for proc macros" crate, maybe we could use that</p>



<a name="228386132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228386132" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228386132">(Mar 02 2021 at 10:26)</a>:</h4>
<p>not sure if it does error msg parsing though</p>



<a name="228389005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228389005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228389005">(Mar 02 2021 at 10:49)</a>:</h4>
<p>well... <em>do we need it</em>?</p>



<a name="228389026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228389026" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228389026">(Mar 02 2021 at 10:49)</a>:</h4>
<p>wouldn't ui dumps suffice actually?</p>



<a name="228389039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228389039" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228389039">(Mar 02 2021 at 10:50)</a>:</h4>
<p>hmm... probably not cross platform though</p>



<a name="228389042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228389042" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228389042">(Mar 02 2021 at 10:50)</a>:</h4>
<p>ugh</p>



<a name="228464124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228464124" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228464124">(Mar 02 2021 at 18:49)</a>:</h4>
<p>yeah we'd have to do heavy normalization</p>



<a name="228464162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/228464162" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#228464162">(Mar 02 2021 at 18:49)</a>:</h4>
<p>in particular when the span involves libstd code...</p>



<a name="229478625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/229478625" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hyd-dev <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#229478625">(Mar 09 2021 at 13:47)</a>:</h4>
<p>IIUC in <a href="https://github.com/rust-lang/rust/issues/82736">#82736</a>, <code>-Zmir-opt-level=3</code> was bumped to <code>-Zmir-opt-level=4</code>, and <code>-Zmir-opt-level=2</code> was bumped to <code>-Zmir-opt-level=3</code>, but the <code>ci.sh</code> is not changed after <a href="https://github.com/rust-lang/miri/issues/1735">miri#1735</a>. So, out of curiosity, are the tests now run under a lower <code>mir-opt-level</code> that is equivalents to the previous <code>2</code> (or did I misunderstand <a href="https://github.com/rust-lang/rust/issues/82736">#82736</a>)?</p>



<a name="229479003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure/near/229479003" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/269128-miri/topic/Cron.20Job.20Failure.html#229479003">(Mar 09 2021 at 13:49)</a>:</h4>
<p>ah indeed, we need to bump it in miri, too</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>