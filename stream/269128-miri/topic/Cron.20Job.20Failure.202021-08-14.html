<html>
<head><meta charset="utf-8"><title>Cron Job Failure 2021-08-14 · miri · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/index.html">miri</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html">Cron Job Failure 2021-08-14</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="249445946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure%202021-08-14/near/249445946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> miri cronjobs <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html#249445946">(Aug 14 2021 at 07:10)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="120791">@RalfJ</span> and <span class="user-mention" data-user-id="124288">@oli</span></p>
<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>
<p>Thanks in advance!<br>
Sincerely,<br>
The Miri Cronjobs Bot</p>



<a name="249455149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure%202021-08-14/near/249455149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html#249455149">(Aug 14 2021 at 11:23)</a>:</h4>
<p>I just want to say that I notice how quickly y’all fix bugs like this and I am super appreciative of it. ￼</p>



<a name="249456035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure%202021-08-14/near/249456035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hyd-dev <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html#249456035">(Aug 14 2021 at 11:47)</a>:</h4>
<div class="codehilite"><pre><span></span><code>error: tests/compile-fail/function_calls/exported_symbol_wrong_type.rs:8: unexpected error: &#39;8:14: 8:19: unsupported operation: can&#39;t call foreign function: FOO&#39;

error: tests/compile-fail/function_calls/exported_symbol_wrong_type.rs:8: expected error not found: attempt to call an exported symbol that is not defined as a function

error: 1 unexpected errors found, 1 expected errors not found
</code></pre></div>
<p>I guess I unfortunately have made a mistake <a href="https://github.com/rust-lang/rust/pull/86492/files#diff-5d09ebb3a34c2ff24072d173d202b8d24dc57fb831b430c1c1ba48f0f7942de7L214-R222">here</a> that makes <code>reachable_set</code> no longer contain any <code>static</code> item. :(<br>
(Although I'm not sure why I didn't break any existing rustc test...)<br>
Sorry about that.</p>



<a name="249458267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure%202021-08-14/near/249458267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html#249458267">(Aug 14 2021 at 12:45)</a>:</h4>
<p>seems fine for me though, why should <code>static</code> items be in there to begin with?</p>



<a name="249458338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure%202021-08-14/near/249458338" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html#249458338">(Aug 14 2021 at 12:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116155">Jake Goulding</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14/near/249455149">said</a>:</p>
<blockquote>
<p>I just want to say that I notice how quickly y’all fix bugs like this and I am super appreciative of it. ￼</p>
</blockquote>
<p>thanks. :) It's mostly for our benefit, honestly -- the longer we wait the more failures accumulate which makes it harder to fix</p>



<a name="249458433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure%202021-08-14/near/249458433" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html#249458433">(Aug 14 2021 at 12:49)</a>:</h4>
<p><span class="user-mention" data-user-id="374396">@hyd-dev</span> for now I'll just adjust the test; if you want to change the behavior here feel free to submit a PR</p>



<a name="249460615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure%202021-08-14/near/249460615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html#249460615">(Aug 14 2021 at 13:39)</a>:</h4>
<p>alternatively we can just bump the submodule now</p>



<a name="249466257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure%202021-08-14/near/249466257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hyd-dev <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html#249466257">(Aug 14 2021 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="120791">@RalfJ</span> <a href="#narrow/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14/near/249458267">said</a>:</p>
<blockquote>
<p>seems fine for me though, why should <code>static</code> items be in there to begin with?</p>
</blockquote>
<p>I'm ... not sure. I don't think I have time to dig into this today. If the current behavior is fully fine, I think it's better not to change it (so feel free to bump the submodule now).</p>



<a name="249467365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure%202021-08-14/near/249467365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hyd-dev <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html#249467365">(Aug 14 2021 at 16:23)</a>:</h4>
<blockquote>
<p>I'm ... not sure.</p>
</blockquote>
<p>Actually I think this caused a regression:<br>
<a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=6bb2c5065a9be7e40943d0541e161b5a">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=6bb2c5065a9be7e40943d0541e161b5a</a><br>
<a href="https://play.rust-lang.org/?version=beta&amp;mode=debug&amp;edition=2018&amp;gist=6bb2c5065a9be7e40943d0541e161b5a">https://play.rust-lang.org/?version=beta&amp;mode=debug&amp;edition=2018&amp;gist=6bb2c5065a9be7e40943d0541e161b5a</a></p>



<a name="249470921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/269128-miri/topic/Cron%20Job%20Failure%202021-08-14/near/249470921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hyd-dev <a href="https://zulip-archive.rust-lang.org/stream/269128-miri/topic/Cron.20Job.20Failure.202021-08-14.html#249470921">(Aug 14 2021 at 17:58)</a>:</h4>
<p>/me opened <a href="https://github.com/rust-lang/rust/pull/88032">https://github.com/rust-lang/rust/pull/88032</a> to fix it.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>