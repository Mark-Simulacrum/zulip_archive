<html>
<head><meta charset="utf-8"><title>Promote `aarch64-apple-ios-sim` to Tier 2 compiler-team#428 · t-compiler/major changes · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/index.html">t-compiler/major changes</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html">Promote `aarch64-apple-ios-sim` to Tier 2 compiler-team#428</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="237149617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237149617" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237149617">(May 03 2021 at 11:56)</a>:</h4>
<p>A new proposal has been announced: <a href="https://github.com/rust-lang/compiler-team/issues/428">Promote <code>aarch64-apple-ios-sim</code> to Tier 2 #428</a>. It will be announced at the next meeting to try and draw attention to it, but usually MCPs are not discussed during triage meetings. If you think this would benefit from discussion amongst the team, consider proposing a design meeting.</p>



<a name="237161132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237161132" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237161132">(May 03 2021 at 13:34)</a>:</h4>
<p><a href="https://github.com/badboy/">https://github.com/badboy/</a> is me, cc <span class="user-mention" data-user-id="232545">@Joshua Nelson</span></p>



<a name="237161264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237161264" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237161264">(May 03 2021 at 13:35)</a>:</h4>
<blockquote>
<p>[TODO: Where do we need to document this?]</p>
</blockquote>
<p>@<strong>jer</strong>  not sure what <span class="user-mention" data-user-id="239881">@Josh Triplett</span> was intending but personally I think as long as there's a script in src/ci that can build the target that's close enough</p>



<a name="237161568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237161568" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237161568">(May 03 2021 at 13:38)</a>:</h4>
<blockquote>
<p>The target maintainers should regularly run the testsuite for the target, and should fix any test failures in a reasonably timely fashion.</p>
</blockquote>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> that seems a little odd - do we do that for any existing tier 2 targets? I thought they were only guaranteed to build?</p>



<a name="237163369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237163369" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237163369">(May 03 2021 at 13:51)</a>:</h4>
<p>(Note: I also filed this MCP especially to test-drive the tier target policy, so if we can make the policy even easier to understand/work with, that's a big plus too)</p>



<a name="237166988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237166988" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237166988">(May 03 2021 at 14:15)</a>:</h4>
<p>Worth keeping in mind that the new guidelines in the RFC were not meant to document the _current_ state, but what we should strive towards.</p>



<a name="237167152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237167152" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237167152">(May 03 2021 at 14:16)</a>:</h4>
<p>any of the existing tier 2 targets that do not satisfy the renewed T2 requirements would become not T2. I'm sure there are some that don't have any tests run for them anywhere. There are also plenty that have tests run for them by e.g. Debian.</p>



<a name="237186302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237186302" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237186302">(May 03 2021 at 16:08)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> The intention there was that the target maintainers should be regularly trying to make the target pass tests, since presumably they use the target and would be affected by any quality issues it has. We just don't block CI on passing tests for the target.</p>



<a name="237186342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237186342" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237186342">(May 03 2021 at 16:09)</a>:</h4>
<p>Also note that it says "should", not "must".</p>



<a name="237186550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237186550" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237186550">(May 03 2021 at 16:11)</a>:</h4>
<p>"reasonably timely" is also intended to be fairly open-ended. It certainly doesn't mean "drop everything and fix immediately".</p>



<a name="237186607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237186607" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237186607">(May 03 2021 at 16:11)</a>:</h4>
<p>But, for example, I would expect most targets used by Linux distributions such as Debian to be either tier 1 or tier 2. Many architectures people regularly use will be tier 2. Keeping those architectures in good working order is important.</p>



<a name="237186932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237186932" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237186932">(May 03 2021 at 16:14)</a>:</h4>
<p>Regarding the documentation requirements, and where that documentation should live, the RFC didn't specify that, but I think it would make sense to have a "target-specific documentation" document in the rust-lang/rust source, which has a chapter for each target, and sections in each chapter for this kind of target-specific information.</p>



<a name="237186979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237186979" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237186979">(May 03 2021 at 16:14)</a>:</h4>
<p>what information do you expect to be target-specific?</p>



<a name="237186991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237186991" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237186991">(May 03 2021 at 16:14)</a>:</h4>
<p>I would expect that to just be comments in the code normally</p>



<a name="237187111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237187111" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237187111">(May 03 2021 at 16:15)</a>:</h4>
<p>I'm talking about things like "you can emulate this target using this simulator, and you'll need to pass these options to make it work, and here are some other special considerations".</p>



<a name="237187166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237187166" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237187166">(May 03 2021 at 16:16)</a>:</h4>
<p>ahhh that makes more sense</p>



<a name="237187223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237187223" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237187223">(May 03 2021 at 16:16)</a>:</h4>
<p>User level documentation of the target from a rust perspective.</p>



<a name="237188777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237188777" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237188777">(May 03 2021 at 16:28)</a>:</h4>
<p>FWIW, for existing targets being promoted, for now at least, I think it would be valuable to go through the lower tier requirements as well, just to make sure they're actually met. I wouldn't anticipate that being an issue, but we do want to hold all targets to the same standards, not just new targets.</p>



<a name="237190866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237190866" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237190866">(May 03 2021 at 16:45)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> Just to be clear on the documentation, are you thinking the <code>rustc</code> book?  If so, I think that would be great, I have long wanted to start on that. Some targets are quite confusing on how to install rust on (natively or cross-compiling).  Unfortunately that information can go out of date very quickly, but I would be happy to talk about how to organize that more and get it started.</p>



<a name="237190925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237190925" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237190925">(May 03 2021 at 16:45)</a>:</h4>
<p>If you are talking about "how to compile rustc" on that target, then I think that might go in a different place.</p>



<a name="237191068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237191068" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237191068">(May 03 2021 at 16:46)</a>:</h4>
<p>I don't know if it belongs in the rustc book or somewhere else, but for now, since the target tier policy and platform support page both live in the rustc book, putting the target-specific documentation alongside those seems like a good idea.</p>



<a name="237191091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237191091" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237191091">(May 03 2021 at 16:46)</a>:</h4>
<p>And yes, it may get out of date, but that would be a sign about the health of the corresponding target.</p>



<a name="237191140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237191140" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237191140">(May 03 2021 at 16:47)</a>:</h4>
<p>Which is also something that would be useful.  I had a PR that would have touched vxworks which has no information on how to build or test.</p>



<a name="237191210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237191210" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237191210">(May 03 2021 at 16:47)</a>:</h4>
<p>(though I suspect vxworks requires non-free stuff to test)</p>



<a name="237191840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237191840" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237191840">(May 03 2021 at 16:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428/near/237188777">said</a>:</p>
<blockquote>
<p>FWIW, for existing targets being promoted, for now at least, I think it would be valuable to go through the lower tier requirements as well, just to make sure they're actually met. I wouldn't anticipate that being an issue, but we do want to hold all targets to the same standards, not just new targets.</p>
</blockquote>
<p>I can do that for ios-sim.</p>



<a name="237192657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237192657" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237192657">(May 03 2021 at 16:57)</a>:</h4>
<p>If it is documenting "how to run rustc's testsuite for this target", I think that would go in the rustc-dev-guide. There is already some information there for running on emulators (like running tests on android).</p>



<a name="237193450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237193450" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237193450">(May 03 2021 at 17:02)</a>:</h4>
<p><span class="user-mention" data-user-id="143300">@Jan-Erik (badboy)</span> Thanks!</p>



<a name="237193554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237193554" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237193554">(May 03 2021 at 17:03)</a>:</h4>
<p><span class="user-mention" data-user-id="143300">@Jan-Erik (badboy)</span> Also, regarding the items about cross-compilation, can you document if it's possible to cross compile from something other than macos?</p>



<a name="237193574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237193574" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237193574">(May 03 2021 at 17:03)</a>:</h4>
<p>(I suspect the answer will be no, but I'd love to have that explicitly documented.)</p>



<a name="237195922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237195922" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237195922">(May 03 2021 at 17:21)</a>:</h4>
<p>uh, wait, does this target <em>require</em> m1 in any way?</p>



<a name="237198694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237198694" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237198694">(May 03 2021 at 17:38)</a>:</h4>
<p>The proposal seems to be suggesting that it may support cross-compiling from x86_64 macos.</p>



<a name="237198760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237198760" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237198760">(May 03 2021 at 17:38)</a>:</h4>
<p>Requires to run the produced code. But yeah you should be able to compile to it from x86_64 mac, just like you can compile regular aarch64 binaries from a x86_64 mac.</p>



<a name="237201353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237201353" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237201353">(May 03 2021 at 17:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428/near/237193554">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="143300">Jan-Erik (badboy)</span> Also, regarding the items about cross-compilation, can you document if it's possible to cross compile from something other than macos?</p>
</blockquote>
<p>Will do</p>



<a name="237201435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237201435" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237201435">(May 03 2021 at 17:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428/near/237198760">said</a>:</p>
<blockquote>
<p>Requires to run the produced code. But yeah you should be able to compile to it from x86_64 mac, just like you can compile regular aarch64 binaries from a x86_64 mac.</p>
</blockquote>
<p>Correct, should work just fine from x86_64 mac</p>



<a name="237218391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237218391" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237218391">(May 03 2021 at 19:50)</a>:</h4>
<p>Documentation for rust users could be added into the rustc book</p>



<a name="237218394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237218394" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237218394">(May 03 2021 at 19:50)</a>:</h4>
<p>For example: <a href="https://doc.rust-lang.org/nightly/rustc/platform-support.html">https://doc.rust-lang.org/nightly/rustc/platform-support.html</a></p>



<a name="237218456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237218456" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237218456">(May 03 2021 at 19:50)</a>:</h4>
<p>If it's specific to running rustc's test suite, then I agree with <span class="user-mention" data-user-id="120518">@Eric Huss</span> that the rustc-dev-guide is an appropriate place</p>



<a name="237361459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237361459" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237361459">(May 04 2021 at 16:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428/near/237187111">said</a>:</p>
<blockquote>
<p>I'm talking about things like "you can emulate this target using this simulator, and you'll need to pass these options to make it work, and here are some other special considerations".</p>
</blockquote>
<p>I think one thing to be aware of with target specific docs is as <span class="user-mention" data-user-id="120518">@Eric Huss</span> pointed out some targets aren't free, or belong to private companies and so their inclusion in Rust docs could be seen as endorsement or affiliation with a project. Because even though the sections are maintained by different teams, to users, it might as well be by the same author.</p>
<p>We probably want to have either "maintained by" information included, or only have Rust docs for tier 2 and up, where the expectations are higher.</p>



<a name="237362173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237362173" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237362173">(May 04 2021 at 17:03)</a>:</h4>
<p>Aren't Windows and macOS not a free target owned by a private corporations too?</p>



<a name="237362412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237362412" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237362412">(May 04 2021 at 17:04)</a>:</h4>
<p>What's the bar then for when we're comfortable with endorsing our support for a target and when we aren't?</p>



<a name="237364351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237364351" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237364351">(May 04 2021 at 17:16)</a>:</h4>
<blockquote>
<p>Aren't Windows and macOS not a free target owned by a private corporations too?</p>
</blockquote>
<p>Sure, but if they disappeared, we as a world have bigger things to deal with, the world runs on Windows. That’s not the case for some flight by night startup that supports Rust on their bespoke platform.</p>



<a name="237364945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237364945" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237364945">(May 04 2021 at 17:20)</a>:</h4>
<p>Which is why I think having it for tier 2 and above makes sense, because if you plan to satisfy all of tier 2’s requirements, you’re probably not going anywhere soon.</p>



<a name="237367387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237367387" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237367387">(May 04 2021 at 17:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="219696">XAMPPRocky</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428/near/237361459">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428/near/237187111">said</a>:</p>
<blockquote>
<p>I'm talking about things like "you can emulate this target using this simulator, and you'll need to pass these options to make it work, and here are some other special considerations".</p>
</blockquote>
<p>I think one thing to be aware of with target specific docs is as <span class="user-mention silent" data-user-id="120518">Eric Huss</span> pointed out some targets aren't free, or belong to private companies and so their inclusion in Rust docs could be seen as endorsement or affiliation with a project. Because even though the sections are maintained by different teams, to users, it might as well be by the same author.</p>
<p>We probably want to have either "maintained by" information included, or only have Rust docs for tier 2 and up, where the expectations are higher.</p>
</blockquote>
<p>I think the target-specific docs are a good place to list who the maintainers are.</p>



<a name="237367459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237367459" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237367459">(May 04 2021 at 17:37)</a>:</h4>
<p>Also, the target tier policy has some requirements regarding targets that come across as "private".</p>



<a name="237367577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/237367577" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#237367577">(May 04 2021 at 17:38)</a>:</h4>
<p>But yeah, we should be careful about tier 3 targets and making it clear they're best-effort documentation owned by the target maintainer team.</p>



<a name="239730094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/239730094" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#239730094">(May 21 2021 at 10:45)</a>:</h4>
<p>It's been a while (busy week at work), so quick update: I plan to work on the remaining questions/documentations next week.</p>



<a name="239784446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/239784446" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#239784446">(May 21 2021 at 17:17)</a>:</h4>
<p><span class="user-mention" data-user-id="143300">@Jan-Erik (badboy)</span> Thanks for working on it! Excited to see this target get promoted.</p>



<a name="240584710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240584710" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240584710">(May 28 2021 at 10:06)</a>:</h4>
<p>Tier 3 requirement answers posted: <a href="https://github.com/rust-lang/compiler-team/issues/428#issuecomment-850307216">https://github.com/rust-lang/compiler-team/issues/428#issuecomment-850307216</a></p>



<a name="240584715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240584715" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240584715">(May 28 2021 at 10:06)</a>:</h4>
<p>working on docs next</p>



<a name="240596895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240596895" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240596895">(May 28 2021 at 12:29)</a>:</h4>
<p>Posted the docs: <a href="https://github.com/rust-lang/rust/pull/85781">https://github.com/rust-lang/rust/pull/85781</a><br>
And what I think might be needed to build it: <a href="https://github.com/rust-lang/rust/pull/85782">https://github.com/rust-lang/rust/pull/85782</a> -- happy to get assistance there from infra (cc <span class="user-mention" data-user-id="121055">@Pietro Albini</span> )</p>



<a name="240597014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240597014" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240597014">(May 28 2021 at 12:30)</a>:</h4>
<p>I don't have the time in the near future to look at that unfortunately :(</p>



<a name="240597042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240597042" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240597042">(May 28 2021 at 12:31)</a>:</h4>
<p>the only surface-level comment is that the apple builders are our slowest ones</p>



<a name="240597060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240597060" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240597060">(May 28 2021 at 12:31)</a>:</h4>
<p>and I'm worried building yet another target will make it even slower</p>



<a name="240598129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240598129" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240598129">(May 28 2021 at 12:41)</a>:</h4>
<p>I feared that.</p>



<a name="240598809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240598809" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240598809">(May 28 2021 at 12:48)</a>:</h4>
<p>So even if we agree on the technical details eventually, we will first need to figure out how to get more machine power?</p>



<a name="240598851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240598851" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240598851">(May 28 2021 at 12:48)</a>:</h4>
<p>(or get build-std stable, hmmm)</p>



<a name="240598933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240598933" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240598933">(May 28 2021 at 12:48)</a>:</h4>
<p>Surely this is just building std right? I don't have time to look but I think we can afford a minute or two that std takes</p>



<a name="240599345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240599345" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240599345">(May 28 2021 at 12:52)</a>:</h4>
<p>hm, actually yeah, we would only need that</p>



<a name="240599410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240599410" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240599410">(May 28 2021 at 12:52)</a>:</h4>
<p>haha., and mingw failed -_-</p>



<a name="240599417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/240599417" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#240599417">(May 28 2021 at 12:52)</a>:</h4>
<p>(but because I did not run the right tools)</p>



<a name="241447377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/241447377" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#241447377">(Jun 03 2021 at 20:22)</a>:</h4>
<p><span class="user-mention" data-user-id="143300">@Jan-Erik (badboy)</span> I think one question I had while reading the proposal and some of the PRs -- is this intended to be a first step to proposing a bunch of -sim targets? Presumably there is a similar need for tvos-sim etc, right? It looks like this is the only -sim target we currently have, I'm wondering if there's something that makes it unique.</p>
<p>Beyond that, I think this largely looks good to me - I'll need to spend some time re-reading the relevant sections of the RFC to figure out the right next steps, but presumably someone who has some familiarity here can rustbot second on the issue. I don't feel comfortable doing that myself as I've never done any iOS development etc.</p>



<a name="241509953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/241509953" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#241509953">(Jun 04 2021 at 09:21)</a>:</h4>
<p>Actually ... I don't know. <br>
Personally I don't have use for Watch targets (yet?). Afaik the watch targets have other issues (apple requires to submit bitcode to the appstore for them), so I'm not sure how well they are supported to begin with.<br>
In theory yeah, one probably needs a -sim target per real target now</p>



<a name="241537697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/241537697" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#241537697">(Jun 04 2021 at 13:52)</a>:</h4>
<p>Just my experience as hobbyist Apple developer, there might be some “need” for these if you were shipping Rust code across all of Apple’s platforms.</p>
<p>Realistically however the demand for those targets is going to be significantly less than the iPhone, that’s the important one. Way less people have watches and even less have Apple TV, and the kind of apps you make for those devices are heavily restricted in functionality and as Badboy mentioned how you can ship. You’re also heavily encouraged to use Swift for development especially on the watch and TV. I think we can hold off on considering those until someone else has a need for them.</p>
<p>I don’t think there’s a technical problems with running Rust on those platforms though. I believe there are hobbyists making stuff targeting the watch for example. You just need to pass <code>--emit=llvm-bc</code> to the build. I don’t think Apple has any explicit toolchain requirements for bitcode, but I haven’t actually tried publishing a Rust bitcode watchOS or tvOS app to the App Store so I don’t know.</p>



<a name="241573182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/241573182" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan-Erik (badboy) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#241573182">(Jun 04 2021 at 18:07)</a>:</h4>
<p>Yeah, I think the same. If people need it we can figure it out.<br>
Re bitcode I remember a long while ago it wasn't as easy, because you sort of needed to match the LLVM that apple uses and that's always some LLVM + apple's own patches sometimes. Might be better these days. It's also not what we need to figure out here</p>



<a name="241614638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/241614638" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#241614638">(Jun 05 2021 at 04:09)</a>:</h4>
<p>Hmm, yeah that might be the case, especially for publishing Apple wants to you be on the latest OS which also means latest XCode and clang. Though that’s not the worst thing in the world. You need a custom build of the compiler, but it should just be a matter of pointing to the system llvm in the <code>config.toml</code>.</p>



<a name="245299437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Promote%20%60aarch64-apple-ios-sim%60%20to%20Tier%202%20compiler-team%23428/near/245299437" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Promote.20.60aarch64-apple-ios-sim.60.20to.20Tier.202.20compiler-team.23428.html#245299437">(Jul 08 2021 at 11:21)</a>:</h4>
<p>This proposal has been accepted: <a href="https://github.com/rust-lang/compiler-team/issues/428">#428</a>.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>