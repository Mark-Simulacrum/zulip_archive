<html>
<head><meta charset="utf-8"><title>Tier 3 target proposal: x86_64-unknown-no… compiler-team#462 · t-compiler/major changes · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/index.html">t-compiler/major changes</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html">Tier 3 target proposal: x86_64-unknown-no… compiler-team#462</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="253968048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253968048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253968048">(Sep 19 2021 at 19:59)</a>:</h4>
<p>The associated GitHub issue has been renamed. Renaming this Zulip topic.</p>



<a name="253968208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253968208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253968208">(Sep 19 2021 at 20:01)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="311727">@Harald Hoyer</span> <span class="user-mention" data-user-id="404550">@Mike Leany</span></p>



<a name="253976599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253976599" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253976599">(Sep 19 2021 at 22:34)</a>:</h4>
<p>What kind of object/executable files would be produced by x86_64-unknown-none?</p>



<a name="253977207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253977207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253977207">(Sep 19 2021 at 22:47)</a>:</h4>
<p>I was doing a build of binutils to see what it does; apparently the target isn't supported.<br>
Question, then: would x86_64-{unknown,pc}-elf be a good target name? <br>
This has existing support in GNU binutils and gcc, and is recognized as a "generic x86_64 target producing elf files" (the osdev wiki, for example, suggests using it for cross compilation until you're ready to add your own custom target). It also opens the door for other, similar, targets like x86_64-unknown-coff.<br>
This would help with compatibility between toolchains and things handling targets.</p>



<a name="253981403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253981403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253981403">(Sep 20 2021 at 00:01)</a>:</h4>
<p><code>rustc --print target-list | grep none</code> shows quite a mix already -- risc-v went with <code>unknown-none-elf</code>; arm/thumb use <code>none-eabi[hf]</code>; aarch64, bpf, and mips use <code>unknown-none</code>.</p>



<a name="253982629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253982629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253982629">(Sep 20 2021 at 00:21)</a>:</h4>
<p>I would say <code>x86_64-unknown-none-elf</code> is the best. Having ELF in the name clearly suggests the output format, and open possibility for other object file formats; on the other hand, the "none" part will clearly suggest that there are no "C library support implied".</p>



<a name="253982861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253982861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253982861">(Sep 20 2021 at 00:25)</a>:</h4>
<p>um, aren't these supposed to be triples?</p>



<a name="253982880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253982880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253982880">(Sep 20 2021 at 00:26)</a>:</h4>
<p>having three <code>-</code> in the name will break scripts et al</p>



<a name="253982955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253982955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253982955">(Sep 20 2021 at 00:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462/near/253982880">said</a>:</p>
<blockquote>
<p>having three <code>-</code> in the name will break scripts et al</p>
</blockquote>
<p>No, targets can have 3 or 4 components. x86_64-pc-linux-gnu is an example.</p>



<a name="253983329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253983329" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253983329">(Sep 20 2021 at 00:34)</a>:</h4>
<p>I'd be more worried that <code>x86_64-unknown-none-elf</code> isn't a target that's supported by existing toolchains. My personal preference is that targets should be moving towards compatibility between toolchains, which is why I mentioned x86_64-unknown-elf specifically. Not only is it a well known target name for the purpose (as mentioned, the <code>elf</code> system is suggested by the osdev wiki <a href="https://wiki.osdev.org/Target_Triplet">https://wiki.osdev.org/Target_Triplet</a>), but it also has existing support in the GNU toolchain.</p>



<a name="253984140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253984140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253984140">(Sep 20 2021 at 00:48)</a>:</h4>
<p>Well my RISC-V gcc cross compiler is prefixed with <code>riscv64-unknown-elf-</code> but Rust target is named <code>riscv64gc-unknown-none-elf</code>.</p>



<a name="253984385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253984385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253984385">(Sep 20 2021 at 00:52)</a>:</h4>
<p>Most Rust targets do not match GCC targets, so a translation is necessary already</p>



<a name="253984396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253984396" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253984396">(Sep 20 2021 at 00:52)</a>:</h4>
<p><a href="https://github.com/alexcrichton/cc-rs/blob/178fd031e74f643721605e25110ee6abce8dbe05/src/lib.rs">https://github.com/alexcrichton/cc-rs/blob/178fd031e74f643721605e25110ee6abce8dbe05/src/lib.rs</a></p>



<a name="253984458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253984458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253984458">(Sep 20 2021 at 00:53)</a>:</h4>
<p>Yes, I know about that. (I've dealt with it - I have a proposal planned to rectify that).</p>
<p>Right now, my goal here is to lessen the divergence with the instant target, hense my suggestion.</p>



<a name="253984717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253984717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253984717">(Sep 20 2021 at 00:57)</a>:</h4>
<p>My view is that we shouldn't force ourselves to align with GCC, and we should choose a name that describes the target best.</p>



<a name="253984886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253984886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253984886">(Sep 20 2021 at 01:00)</a>:</h4>
<p>I am actually curious about <span class="user-mention" data-user-id="116015">@Alex Crichton</span>'s view about this.</p>



<a name="253985232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/253985232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#253985232">(Sep 20 2021 at 01:05)</a>:</h4>
<p>Forcing translation runs into issues when there are (potentially slight) semantic differences in targets. I've mentioned this a few times in the past.<br>
Right now, using the x86_64-pc-linux-gnu target with rust forces you to step through <code>x86_64-unknown-linux-gnu</code>, but if you need to pull the gcc target out of the rust target, you can't do so losslessly (which means that if you encoded information in otherwise semantically unused components, you need to work arround that at the rustc level). It also makes handling those mappings difficult. I currently have over 100 lines of sh doing the mapping,in &lt;<a href="https://github.com/chorman0773/rust-autotools">https://github.com/chorman0773/rust-autotools</a>&gt; (<a href="https://github.com/chorman0773/rust-autotools/blob/main/m4/lcrust_prog_rustc.m4#L33..L140">https://github.com/chorman0773/rust-autotools/blob/main/m4/lcrust_prog_rustc.m4#L33..L140</a>), and I'd prefer not to have to make it longer, that makes it harder to maintain, and easier to be wrong.</p>



<a name="254006844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254006844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254006844">(Sep 20 2021 at 07:13)</a>:</h4>
<p>So, there are a few issues with using <code>x86_64-unknown-elf</code>, primarily that that target name exists in some toolchains but with a different meaning, namely including a newlib C library.</p>



<a name="254006947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254006947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254006947">(Sep 20 2021 at 07:14)</a>:</h4>
<p>I don't want to unintentionally pick up someone's C toolchain that will not actually be compatible.</p>



<a name="254007182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254007182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254007182">(Sep 20 2021 at 07:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462/near/253981403">said</a>:</p>
<blockquote>
<p><code>rustc --print target-list | grep none</code> shows quite a mix already -- risc-v went with <code>unknown-none-elf</code>; arm/thumb use <code>none-eabi[hf]</code>; aarch64, bpf, and mips use <code>unknown-none</code>.</p>
</blockquote>
<p>I think there's a little more consistency there than the naming suggests. Suffixes like <code>eabi</code>, <code>eabihf</code>, or <code>softfloat</code> are ABIs, and in these cases they're more an extension of the CPU field than they are the OS field. If you ignore those ABI suffixes, there's only two: RISC-V uses -unknown-none-elf, and <em>everything else</em> uses <code>-unknown-none</code>.</p>



<a name="254007394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254007394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254007394">(Sep 20 2021 at 07:19)</a>:</h4>
<p>The two reasons I proposed <code>-unknown-none</code>:</p>
<ul>
<li>Every freestanding/bare-metal Rust target other than RISC-V uses <code>-unknown-none</code>, and we should try to be as consistent as possible.</li>
<li>I've seen many instances of toolchains where the <code>-elf</code> suffix indicated a toolchain that wasn't actually suitable for some standalone usage, because invoking it implied a C library.</li>
</ul>



<a name="254007544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254007544" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254007544">(Sep 20 2021 at 07:20)</a>:</h4>
<p>On top of that, many embedded/freestanding/bare-metal users will need to use a linker script anyway, and linker scripts allow you to change the output format for the final object, using <code>OUTPUT_FORMAT</code>.</p>



<a name="254007573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254007573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254007573">(Sep 20 2021 at 07:21)</a>:</h4>
<p>So in a way, ELF is just the <em>default</em> object format, not the <em>only</em> object format.</p>



<a name="254008981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254008981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254008981">(Sep 20 2021 at 07:37)</a>:</h4>
<p>Using <code>OUTPUT_FOTMAT</code> isn't sufficient I think. Different object formats require the compiler to codegen certain constructs in different ways. For example TLS is handled using completely different instruction sequences between object formats. And there are different ways to import and export symbols from dylibs. I don't think a linker can fix these after compilation.</p>



<a name="254015884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254015884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254015884">(Sep 20 2021 at 08:46)</a>:</h4>
<p><span class="user-mention" data-user-id="133247">@bjorn3</span> That's true, though I don't expect people to typically use this with dylibs (since a dynamic linker would imply a great deal more OS support, or a bare-metal system that has manually implemented its own dynamic module loader).</p>



<a name="254015927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254015927" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254015927">(Sep 20 2021 at 08:47)</a>:</h4>
<p>I'm not suggesting it's perfectly convertible, just that in the cases where someone wants an alternative, it may be possible. Also, I've never seen an embedded system use PE, other than UEFI (which has its own target).</p>



<a name="254015985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254015985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254015985">(Sep 20 2021 at 08:47)</a>:</h4>
<p>(Doesn't mean there aren't any, but to the best of my knowledge it's much less common.)</p>



<a name="254026921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254026921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254026921">(Sep 20 2021 at 10:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462/near/254006947">said</a>:</p>
<blockquote>
<p>I don't want to unintentionally pick up someone's C toolchain that will not actually be compatible.</p>
</blockquote>
<p>You'd probably have this problem anyways. As mentioned, the target doesn't exist for GNU toolchains, so when picking a linker, you'd (potentially) need to convert to <code>x86_64-{pc,unknown}-elf</code> anyways, which runs into the same issue.</p>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462/near/254007544">said</a>:</p>
<blockquote>
<p>On top of that, many embedded/freestanding/bare-metal users will need to use a linker script anyway, and linker scripts allow you to change the output format for the final object, using <code>OUTPUT_FORMAT</code>.</p>
</blockquote>
<p><code>OUTPUT_FORMAT</code> won't affect the format of intermediate files. If you need coff objects for one reason or another (maybe you have coff files to link in from a different source), then this won't be an option available, and you'd need another step to convert (<code>objcopy</code> is a way to do this).</p>



<a name="254064280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254064280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254064280">(Sep 20 2021 at 15:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462/near/254007182">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462/near/253981403">said</a>:</p>
<blockquote>
<p><code>rustc --print target-list | grep none</code> shows quite a mix already -- risc-v went with <code>unknown-none-elf</code>; arm/thumb use <code>none-eabi[hf]</code>; aarch64, bpf, and mips use <code>unknown-none</code>.</p>
</blockquote>
<p>I think there's a little more consistency there than the naming suggests. Suffixes like <code>eabi</code>, <code>eabihf</code>, or <code>softfloat</code> are ABIs, and in these cases they're more an extension of the CPU field than they are the OS field. If you ignore those ABI suffixes, there's only two: RISC-V uses -unknown-none-elf, and <em>everything else</em> uses <code>-unknown-none</code>.</p>
</blockquote>
<p>Not quite -- apart from the ABI suffix, the arm/thumb targets also don't have <code>unknown</code>, e.g. <code>armv7a-none-eabi</code></p>



<a name="254065403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254065403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254065403">(Sep 20 2021 at 15:11)</a>:</h4>
<p>there's also <code>msp430-none-elf</code>, so we have all 4 variations toggling <code>unknown</code> or <code>elf</code></p>



<a name="254065419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254065419" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254065419">(Sep 20 2021 at 15:11)</a>:</h4>
<p>the only consistency is <code>none</code></p>



<a name="254065768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254065768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254065768">(Sep 20 2021 at 15:13)</a>:</h4>
<p>we can try to do better, of course -- my point is just that you can't really argue precedent here</p>



<a name="254077496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254077496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254077496">(Sep 20 2021 at 16:26)</a>:</h4>
<p>Would it be feasible to document somewhere the difference between this new target and using the existing x86_64-unknown-linux-gnu with <code>no_std</code>?</p>



<a name="254078205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254078205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254078205">(Sep 20 2021 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="404395">@Dan Gohman</span> Using <code>#[no_std]</code> still expects to run as a Linux kernel userspace process, with a main entry point and system calls.</p>



<a name="254078886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254078886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254078886">(Sep 20 2021 at 16:35)</a>:</h4>
<p>I see the point about <code>main</code>, but does <code>no_main</code> change that? Also, what system calls does <code>core</code> make? I'm not objecting; I'm just interested in learning how these parts of the toolchain work :-).</p>



<a name="254079567"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254079567" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254079567">(Sep 20 2021 at 16:40)</a>:</h4>
<p>Ah, perhaps it's that even with no_std/no_main, <code>target_os</code> is still <code>linux</code>, so existing Rust code may assume it's running on a Linux box and can make syscalls.</p>



<a name="254080464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254080464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254080464">(Sep 20 2021 at 16:46)</a>:</h4>
<p>Right, that's a big part of it as well.</p>



<a name="254080614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254080614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254080614">(Sep 20 2021 at 16:47)</a>:</h4>
<p>You'd have to use <code>#[no_main]</code>, and <code>#[no_std]</code>, and provide your own allocator or not use alloc, and then it <em>might</em> work with a lot of care, but you could very easily accidentally end up with a syscall.</p>



<a name="254080688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/254080688" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#254080688">(Sep 20 2021 at 16:48)</a>:</h4>
<p>It makes sense to have a separate freestanding target.</p>



<a name="255574493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/255574493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#255574493">(Sep 30 2021 at 13:34)</a>:</h4>
<p>Should we be having a broader discussion about the naming conventions that we use for these various targets? <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> said some related questions came up in <a href="https://github.com/rust-lang/rust/issues/88991">#88991</a>, which seems to imply that we need broader guidelines?</p>



<a name="255793389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/255793389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#255793389">(Oct 01 2021 at 19:11)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> I think we should have that broader discussion, but I would personally prefer that we pick one of the two reasonable names and move forward with it.</p>



<a name="255793425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/255793425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#255793425">(Oct 01 2021 at 19:11)</a>:</h4>
<p>We already have some targets using one name pattern and some using the other.</p>



<a name="255793833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/255793833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#255793833">(Oct 01 2021 at 19:14)</a>:</h4>
<p>So since consistency alone doesn't push us unambiguously in one direction or the other, I'd propose that we should have that conversation in parallel, but I'd propose that we could add a tier 3 target (which people have to build from source to use anyway) and have the conversation while the target works its way to tier 2.</p>



<a name="255807152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/255807152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#255807152">(Oct 01 2021 at 21:01)</a>:</h4>
<p>Okay. I agree that the broader discussion need to block progress here.</p>



<a name="257552281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/257552281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#257552281">(Oct 14 2021 at 15:14)</a>:</h4>
<p>I'm fine continuing the conversation about target naming without blocking new Tier 3 targets.</p>



<a name="257552359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/257552359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#257552359">(Oct 14 2021 at 15:15)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="492">@T-compiler</span>: Proposal <a href="https://github.com/rust-lang/compiler-team/issues/462#issuecomment-943457151">#462</a> has been seconded, and will be approved in 10 days if no objections are raised.</p>



<a name="257555099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/257555099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#257555099">(Oct 14 2021 at 15:31)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> Thank you!</p>



<a name="259352422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/259352422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#259352422">(Oct 28 2021 at 08:00)</a>:</h4>
<p>This proposal has been accepted: <a href="https://github.com/rust-lang/compiler-team/issues/462">#462</a>.</p>



<a name="265297330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/265297330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harald Hoyer <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#265297330">(Dec 17 2021 at 13:51)</a>:</h4>
<p>What does it take to promote this to Tier 2 with <code>core</code> and <code>alloc</code> built?</p>



<a name="265648446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Tier%203%20target%20proposal%3A%20x86_64-unknown-no%E2%80%A6%20compiler-team%23462/near/265648446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Leany <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462.html#265648446">(Dec 21 2021 at 05:16)</a>:</h4>
<p>As I understand, this would probably require a new MCP and a PR adding it to CI and updating the platform support documentation. For most targets, <code>std</code> would have to be implemented, but we should get an exception since it "cannot possibly be supported on the target."</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>