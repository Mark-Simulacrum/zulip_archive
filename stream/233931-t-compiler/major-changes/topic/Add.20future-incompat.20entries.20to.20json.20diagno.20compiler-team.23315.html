<html>
<head><meta charset="utf-8"><title>Add future-incompat entries to json diagno compiler-team#315 · t-compiler/major changes · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/index.html">t-compiler/major changes</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html">Add future-incompat entries to json diagno compiler-team#315</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="201408566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201408566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201408566">(Jun 19 2020 at 15:53)</a>:</h4>
<p>A new proposal has been announced <a href="https://github.com/rust-lang/compiler-team/issues/315">#315</a>. It will be brought up at the next meeting.</p>



<a name="201408853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201408853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201408853">(Jun 19 2020 at 15:56)</a>:</h4>
<p>This is arguably a public facing feature, so it may require full FCP checkoff</p>



<a name="201408881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201408881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201408881">(Jun 19 2020 at 15:56)</a>:</h4>
<p>Well, true, but we <em>did</em> <del>affect</del> approve the RFC</p>



<a name="201408900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201408900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201408900">(Jun 19 2020 at 15:56)</a>:</h4>
<p>approve it, you mean I assume</p>



<a name="201408925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201408925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201408925">(Jun 19 2020 at 15:56)</a>:</h4>
<p>there are some implementation details that are part of the public API</p>



<a name="201408940"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201408940" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201408940">(Jun 19 2020 at 15:56)</a>:</h4>
<p>speciifcally, the artifact work added a new flag</p>



<a name="201408975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201408975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201408975">(Jun 19 2020 at 15:57)</a>:</h4>
<p><code>--json</code>, I think</p>



<a name="201408998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201408998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201408998">(Jun 19 2020 at 15:57)</a>:</h4>
<p>and that <em>might</em> be a good thing to use here to opt-into receiving this output</p>



<a name="201409011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409011">(Jun 19 2020 at 15:57)</a>:</h4>
<p>rather than blindly piggy-backing it on every use of <code>--error-format json</code></p>



<a name="201409068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409068">(Jun 19 2020 at 15:58)</a>:</h4>
<p>but yeah, maybe full team checkoff is not necessary for that level of detail</p>



<a name="201409089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409089">(Jun 19 2020 at 15:58)</a>:</h4>
<p>I'm trying to think which people "own" the JSON output the most. I think <span class="user-mention" data-user-id="119031">@Esteban Küber</span> perhaps, and I could imagine maybe <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span></p>



<a name="201409128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409128">(Jun 19 2020 at 15:58)</a>:</h4>
<p>anyway I was mostly eager to get this MCP posted, and the Zulip thread created, so that I could properly respond to <span class="user-mention" data-user-id="125294">@Aaron Hill</span> 's volunteering to work on this on the tracking issue</p>



<a name="201409172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409172">(Jun 19 2020 at 15:59)</a>:</h4>
<p>(that's an example of where we might want dedicated zulip threads for each tracking issue)</p>



<a name="201409196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409196">(Jun 19 2020 at 15:59)</a>:</h4>
<p>I think it would be reasonable to make a project group around this</p>



<a name="201409210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409210">(Jun 19 2020 at 15:59)</a>:</h4>
<p>I definitely want to ask <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> some questions</p>



<a name="201409211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409211">(Jun 19 2020 at 15:59)</a>:</h4>
<p>in fact I think it's a good idea</p>



<a name="201409232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409232">(Jun 19 2020 at 15:59)</a>:</h4>
<p>There's an overdue rework of the schema for json output</p>



<a name="201409238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409238">(Jun 19 2020 at 15:59)</a>:</h4>
<p>specifically, I tried to use <code>LintId</code> as a way to build the entries of the allow-list</p>



<a name="201409250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409250">(Jun 19 2020 at 15:59)</a>:</h4>
<p>especially as a complete change involved cargo as well</p>



<a name="201409260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409260">(Jun 19 2020 at 15:59)</a>:</h4>
<p>We currently can't encode some things correctly</p>



<a name="201409274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409274">(Jun 19 2020 at 16:00)</a>:</h4>
<p>but it didn't work at all, the equivalence check didn't work, and I don't know why it failed</p>



<a name="201409339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409339">(Jun 19 2020 at 16:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119031">Esteban Küber</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315/near/201409260">said</a>:</p>
<blockquote>
<p>We currently can't encode some things correctly</p>
</blockquote>
<p>can you speak more on this?</p>



<a name="201409408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409408">(Jun 19 2020 at 16:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315/near/201409196">said</a>:</p>
<blockquote>
<p>I think it would be reasonable to make a project group around this</p>
</blockquote>
<p>a project group for the json output in general? Or for report-future-incompat support?</p>



<a name="201409494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409494" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409494">(Jun 19 2020 at 16:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315/near/201409274">said</a>:</p>
<blockquote>
<p>but it didn't work at all, the equivalence check didn't work, and I don't know why it failed</p>
</blockquote>
<p>(so I hacked it up using the lint names as the keys instead of <code>LintId</code>s. It was a total hack, though maybe an acceptable one...)</p>



<a name="201409510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409510">(Jun 19 2020 at 16:01)</a>:</h4>
<p>Multiple multi span suggestions are not representable and a single multipart suggestion  is not distinguishable from multiple suggestions</p>



<a name="201409511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409511">(Jun 19 2020 at 16:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315/near/201409408">said</a>:</p>
<blockquote>
<p>a project group for the json output in general? Or for report-future-incompat support?</p>
</blockquote>
<p>the latter</p>



<a name="201409621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409621">(Jun 19 2020 at 16:02)</a>:</h4>
<p>This has been a blocker for rustfix for a year and a half</p>



<a name="201409639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201409639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201409639">(Jun 19 2020 at 16:02)</a>:</h4>
<p>But I haven't focused on it</p>



<a name="201411519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201411519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201411519">(Jun 19 2020 at 16:17)</a>:</h4>
<p>I don't know anything about this.</p>



<a name="201411650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201411650" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201411650">(Jun 19 2020 at 16:18)</a>:</h4>
<p>I'd ask cargo or rls people because they work with this json more than anyone else.</p>



<a name="201413984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201413984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201413984">(Jun 19 2020 at 16:40)</a>:</h4>
<p><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> do yo know anything about why I might have had problems with <code>LintId</code>? I believe you were the one who added that datatype, but maybe I misremember</p>



<a name="201414044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201414044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201414044">(Jun 19 2020 at 16:41)</a>:</h4>
<p>(if you need to see a concrete example of what was going wrong, I can post a diff against my prototype branch.)</p>



<a name="201414180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201414180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201414180">(Jun 19 2020 at 16:42)</a>:</h4>
<p>(it was in <a href="https://github.com/pnkfelix/rust/commit/84b570ae1b14866e1abc9fae2d73e0c820fa6940#diff-eadaa1c9e135801995ae29eaec608049R544">this bit of the code</a>, though for now you'll have to just imagine the construction a <code>LintId</code> wrapping <code>SAFE_PACKED_BORROWS</code> rather than what its currently doing there, and then a corresponding edit two lines down to the <code>.contains</code> call)</p>



<a name="201414353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201414353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201414353">(Jun 19 2020 at 16:44)</a>:</h4>
<p>While I'm already making notes about this code, I also noted this semi-odd future-incompat lint, <a href="https://github.com/pnkfelix/rust/blob/84b570ae1b14866e1abc9fae2d73e0c820fa6940/src/librustc_session/lint/builtin.rs#L379">UNSTABLE_NAME_COLLISIONS</a>, that has been marked that it should <strong>never</strong> be removed nor changed to an error.</p>



<a name="201414380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201414380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201414380">(Jun 19 2020 at 16:44)</a>:</h4>
<p>I was sort of wondering whether the future-incompat structure is the wrong tool for that job then</p>



<a name="201415150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201415150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201415150">(Jun 19 2020 at 16:51)</a>:</h4>
<p>Here's the PR that added <code>LintId</code>s - <a href="https://github.com/rust-lang/rust/pull/15024">https://github.com/rust-lang/rust/pull/15024</a></p>



<a name="201415278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201415278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201415278">(Jun 19 2020 at 16:52)</a>:</h4>
<p>whoops not you then, sorry!</p>



<a name="201415317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201415317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201415317">(Jun 19 2020 at 16:52)</a>:</h4>
<p>I didn't work much with the lint infra in general.</p>



<a name="201415341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/201415341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#201415341">(Jun 19 2020 at 16:53)</a>:</h4>
<p>I must have had a serious <code>M-x vc-annotate</code> fail</p>



<a name="204087894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/204087894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#204087894">(Jul 16 2020 at 14:06)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="492">@T-compiler</span>: Proposal <a href="https://github.com/rust-lang/compiler-team/issues/315#issuecomment-659435834">#315</a> has been seconded, and will be approved in 10 days if no objections are raised.</p>



<a name="206829847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20future-incompat%20entries%20to%20json%20diagno%20compiler-team%23315/near/206829847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20future-incompat.20entries.20to.20json.20diagno.20compiler-team.23315.html#206829847">(Aug 13 2020 at 15:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> Now that the MCP has been accepted, what's the next step for this feature?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>