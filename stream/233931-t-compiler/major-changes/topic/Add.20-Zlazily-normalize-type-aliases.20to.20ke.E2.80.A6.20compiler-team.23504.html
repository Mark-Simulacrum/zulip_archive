<html>
<head><meta charset="utf-8"><title>Add -Zlazily-normalize-type-aliases to ke… compiler-team#504 · t-compiler/major changes · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/index.html">t-compiler/major changes</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html">Add -Zlazily-normalize-type-aliases to ke… compiler-team#504</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="277727751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277727751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277727751">(Apr 04 2022 at 13:05)</a>:</h4>
<p>A new proposal has been announced: <a href="https://github.com/rust-lang/compiler-team/issues/504">Add -Zlazily-normalize-type-aliases to keep type alias information #504</a>. It will be announced at the next meeting to try and draw attention to it, but usually MCPs are not discussed during triage meetings. If you think this would benefit from discussion amongst the team, consider proposing a design meeting.</p>



<a name="277739267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277739267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277739267">(Apr 04 2022 at 14:31)</a>:</h4>
<p>I'm not exactly sure what the proposal is here</p>



<a name="277739625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277739625" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277739625">(Apr 04 2022 at 14:34)</a>:</h4>
<p>My understanding from snooping on rustdoc discussions is this is about retaining the info across crates by encoding it in metadata</p>



<a name="277739670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277739670" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277739670">(Apr 04 2022 at 14:34)</a>:</h4>
<p><span class="user-mention" data-user-id="307537">@Noah Lev</span> or <span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> would know more</p>



<a name="277739709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277739709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277739709">(Apr 04 2022 at 14:35)</a>:</h4>
<p>don't know why they chose an unstable flag instead of just doing it unconditionally</p>



<a name="277740078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740078">(Apr 04 2022 at 14:38)</a>:</h4>
<p>It's a discussion I had with <span class="user-mention" data-user-id="124288">@oli</span> : having this information unconditionally would very likely impact compiler performance negatively and it's only useful for rustdoc and diagnostics. So <span class="user-mention" data-user-id="124288">@oli</span> suggested that the best way for this information to be available will be to make it through an option</p>



<a name="277740487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740487">(Apr 04 2022 at 14:40)</a>:</h4>
<p>I don't understand how the option helps rustdoc. Making it conditional means that either<br>
a) cargo will have to change its build model and rerun <code>rustc --emit metadata</code> before running rustdoc (unlikely to happen given the team is short on reviews lately), or<br>
b) it just won't work at all unless you pass it unconditionally in RUSTFLAGS.</p>



<a name="277740719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740719">(Apr 04 2022 at 14:42)</a>:</h4>
<p>I assumed that rustdoc was rebuilding all dependencies anyway and generating its own set of metadata. Didn't think it was reusing the existing metadata</p>



<a name="277740794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740794">(Apr 04 2022 at 14:42)</a>:</h4>
<p>correct, it reuses existing metadta. Rustdoc doesn't even have an <code>--emit=metadata</code> flag</p>



<a name="277740815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740815">(Apr 04 2022 at 14:42)</a>:</h4>
<p>(maybe you're thinking of clippy)</p>



<a name="277740847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740847">(Apr 04 2022 at 14:42)</a>:</h4>
<p>yea, I thought they were the same...</p>



<a name="277740872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740872">(Apr 04 2022 at 14:42)</a>:</h4>
<p>no, clippy uses RUSTC_WORKSPACE_WRAPPER or whatever cargo calls it</p>



<a name="277740882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740882">(Apr 04 2022 at 14:42)</a>:</h4>
<p>in that case, maybe we should rewrite rustdoc to work solely off metadata instead of being a full driver XD</p>



<a name="277740914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740914" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740914">(Apr 04 2022 at 14:43)</a>:</h4>
<p>cargo doesn't actually special-case clippy in any way, unlike rustdoc</p>



<a name="277740917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740917">(Apr 04 2022 at 14:43)</a>:</h4>
<p>anyway, back to the topic (&lt;-- that is a reminder to myself)</p>



<a name="277740963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277740963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277740963">(Apr 04 2022 at 14:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504/near/277740882">said</a>:</p>
<blockquote>
<p>in that case, maybe we should rewrite rustdoc to work solely off metadata instead of being a full driver XD</p>
</blockquote>
<p><a href="https://github.com/rust-lang/rust/issues/2206">https://github.com/rust-lang/rust/issues/2206</a></p>



<a name="277741000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741000">(Apr 04 2022 at 14:43)</a>:</h4>
<p>god is that a low issue number</p>



<a name="277741001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741001">(Apr 04 2022 at 14:43)</a>:</h4>
<p>second-oldest rustdoc issue :P</p>



<a name="277741146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741146">(Apr 04 2022 at 14:44)</a>:</h4>
<p>aaanyway. ok, this MCP then obviously won't work, so let's edit it to "enable unconditionally if we can figure it out without a perf hit"?</p>



<a name="277741258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741258">(Apr 04 2022 at 14:45)</a>:</h4>
<p>Sounds to me like maybe this is asking for type aliases to be treated somewhat like TAITs, but where the "hidden type" is always known</p>



<a name="277741274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741274">(Apr 04 2022 at 14:45)</a>:</h4>
<p>yea</p>



<a name="277741277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741277">(Apr 04 2022 at 14:45)</a>:</h4>
<p>pretty much</p>



<a name="277741301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741301">(Apr 04 2022 at 14:45)</a>:</h4>
<p>but also normalization will just reveal it</p>



<a name="277741334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741334">(Apr 04 2022 at 14:45)</a>:</h4>
<p>so it's more treating it like projections to associated types</p>



<a name="277741342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741342">(Apr 04 2022 at 14:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504/near/277740882">said</a>:</p>
<blockquote>
<p>in that case, maybe we should rewrite rustdoc to work solely off metadata instead of being a full driver XD</p>
</blockquote>
<p>btw part of the reason this hasn't been done is exactly <em>because</em> of things like this MCP are trying to fix, there is significantly more info available through the driver than through metadata. So there's a reluctance to make rustdoc on the final crate use metadata because it will regress that crate, even if it brings it into consistency with dependencies.</p>



<a name="277741388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741388">(Apr 04 2022 at 14:46)</a>:</h4>
<p>except it's not associated to anything</p>



<a name="277741457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741457" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741457">(Apr 04 2022 at 14:46)</a>:</h4>
<p>I wonder about the syntax <code>opaque type Foo: Trait;</code> and <code>opaque type Foo: Trait = Bar;</code></p>



<a name="277741477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741477">(Apr 04 2022 at 14:46)</a>:</h4>
<p>But I dont like it all that much</p>



<a name="277741523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741523" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741523">(Apr 04 2022 at 14:47)</a>:</h4>
<p>I'm confused, sorry, how is syntax related at all?</p>



<a name="277741542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741542">(Apr 04 2022 at 14:47)</a>:</h4>
<p>I would expect this to be an internal change only</p>



<a name="277741551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741551">(Apr 04 2022 at 14:47)</a>:</h4>
<p>yes</p>



<a name="277741609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741609">(Apr 04 2022 at 14:47)</a>:</h4>
<p>this is simply changing the hir -&gt; ty lowering to not peel away type aliases</p>



<a name="277741645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741645">(Apr 04 2022 at 14:47)</a>:</h4>
<p>and instead doing that during normalization</p>



<a name="277741721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741721">(Apr 04 2022 at 14:48)</a>:</h4>
<p>ah I see this is about how to print it with <code>-Zunpretty=hir</code></p>



<a name="277741761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741761">(Apr 04 2022 at 14:48)</a>:</h4>
<p>I guess, somewhat orthogonal</p>



<a name="277741874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741874">(Apr 04 2022 at 14:49)</a>:</h4>
<p>hmm... not sure if unpretty is affected, does that process anything but the HIR?</p>



<a name="277741900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741900">(Apr 04 2022 at 14:49)</a>:</h4>
<p>ok then I'm still confused how syntax is related to lazy-normalizing type aliases</p>



<a name="277741941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741941">(Apr 04 2022 at 14:49)</a>:</h4>
<p>syntax is <em>not</em> related</p>



<a name="277741996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277741996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277741996">(Apr 04 2022 at 14:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504/near/277741542">said</a>:</p>
<blockquote>
<p>I would expect this to be an internal change only</p>
</blockquote>
<p>the "yes"was to this</p>



<a name="277742098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277742098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277742098">(Apr 04 2022 at 14:50)</a>:</h4>
<p>The "problem" here somewhat intersects "I have a type alias where I want to specify the type at definition, but I want uses to use it opaquely"</p>



<a name="277742113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277742113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277742113">(Apr 04 2022 at 14:50)</a>:</h4>
<p>But yeah, mostly unrelated.</p>



<a name="277742343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277742343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277742343">(Apr 04 2022 at 14:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504/near/277741609">said</a>:</p>
<blockquote>
<p>this is simply changing the hir -&gt; ty lowering to not peel away type aliases</p>
</blockquote>
<p>reminds me a bit of chalk-ir, with the <code>Alias</code> variant</p>



<a name="277742555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277742555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277742555">(Apr 04 2022 at 14:52)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/blob/1f43e8265eb0472700286bf5c0afa30fcf4cec5a/chalk-ir/src/lib.rs#L647">https://github.com/rust-lang/chalk/blob/1f43e8265eb0472700286bf5c0afa30fcf4cec5a/chalk-ir/src/lib.rs#L647</a></p>



<a name="277742588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277742588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277742588">(Apr 04 2022 at 14:53)</a>:</h4>
<p>I think the third option is actually not implemented though</p>



<a name="277744297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277744297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277744297">(Apr 04 2022 at 15:03)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> do you have an idea for how hard this would be to implement? e.g. roughly how long it would take you to do (even if someone else ends up doing the work)?</p>



<a name="277745163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277745163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277745163">(Apr 04 2022 at 15:09)</a>:</h4>
<p>Hmm. I think the first part of creating the <code>TyKind</code> and changing the lowering of hir -&gt; ty would be pretty easy and straightforward. But then you also have to modify projection-related code to normalize <code>TyAlias</code>, which could be a bit heavy. And even once all that is in place, I'm not exactly sure if it would be "smooth" after that or not. There's almost certainly going to be places where more normalize calls are needed, for example.</p>



<a name="277745271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277745271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277745271">(Apr 04 2022 at 15:10)</a>:</h4>
<p>It's not unattainable, but it's not "trivial"</p>



<a name="277745449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277745449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277745449">(Apr 04 2022 at 15:11)</a>:</h4>
<p>what's the failure mode for a missing <code>normalize</code> call? will the compiler ICE?</p>



<a name="277745570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277745570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277745570">(Apr 04 2022 at 15:12)</a>:</h4>
<p>not necessary an ICE. Just as likely is something like a "mismatched types" error</p>



<a name="277745622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277745622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277745622">(Apr 04 2022 at 15:12)</a>:</h4>
<p>oof, gotcha. so there will likely be a long tail of bugs :( which will be harder to spot because it's unclear whether they're bugs or not</p>



<a name="277745750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277745750" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277745750">(Apr 04 2022 at 15:13)</a>:</h4>
<p>Just have type equality checks ice when finding <code>TyAlias</code>?</p>



<a name="277745944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277745944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277745944">(Apr 04 2022 at 15:14)</a>:</h4>
<p>Yeah, that's probably the right thing <em>for now</em></p>



<a name="277746001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277746001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277746001">(Apr 04 2022 at 15:14)</a>:</h4>
<p>In a lazy norm world, we probably delay normalizing <code>TyAlias</code>es too</p>



<a name="277749570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277749570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277749570">(Apr 04 2022 at 15:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504/near/277745622">said</a>:</p>
<blockquote>
<p>oof, gotcha. so there will likely be a long tail of bugs <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span> which will be harder to spot because it's unclear whether they're bugs or not</p>
</blockquote>
<p>well... this is exactly what we have with associated types today, so it should in theory not give us more bugs, just that the existing bugs will show up for type aliases now, too</p>



<a name="277751545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277751545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277751545">(Apr 04 2022 at 15:49)</a>:</h4>
<p>on the bright side, when people complain about regressions for type aliases, it will also fix things for associated types! :P</p>



<a name="277752538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277752538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277752538">(Apr 04 2022 at 15:56)</a>:</h4>
<p>Think positive!</p>



<a name="277800617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277800617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277800617">(Apr 04 2022 at 22:08)</a>:</h4>
<p>I'm glad this is being discussed! Lazy norm. of type aliases would allow removing tons of extra rustdoc code paths that I've been wanting to get rid of for a long time.</p>



<a name="277800662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/277800662" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#277800662">(Apr 04 2022 at 22:08)</a>:</h4>
<p>I wrote up some details on how rustdoc processes type aliases <a href="#narrow/stream/266220-rustdoc/topic/To.20alias.20or.20not.20to.20alias">here</a> in case it's helpful.</p>



<a name="278146898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Add%20-Zlazily-normalize-type-aliases%20to%20ke%E2%80%A6%20compiler-team%23504/near/278146898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Add.20-Zlazily-normalize-type-aliases.20to.20ke.E2.80.A6.20compiler-team.23504.html#278146898">(Apr 07 2022 at 11:08)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="492">@T-compiler</span>: Proposal <a href="https://github.com/rust-lang/compiler-team/issues/504#issuecomment-1091601628">#504</a> has been seconded, and will be approved in 10 days if no objections are raised.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>