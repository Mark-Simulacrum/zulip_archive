<html>
<head><meta charset="utf-8"><title>Remove -Zast-json compiler-team#503 · t-compiler/major changes · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/index.html">t-compiler/major changes</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Remove.20-Zast-json.20compiler-team.23503.html">Remove -Zast-json compiler-team#503</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="277292171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Remove%20-Zast-json%20compiler-team%23503/near/277292171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Remove.20-Zast-json.20compiler-team.23503.html#277292171">(Mar 31 2022 at 14:44)</a>:</h4>
<p>A new proposal has been announced: <a href="https://github.com/rust-lang/compiler-team/issues/503">Remove -Zast-json #503</a>. It will be announced at the next meeting to try and draw attention to it, but usually MCPs are not discussed during triage meetings. If you think this would benefit from discussion amongst the team, consider proposing a design meeting.</p>



<a name="277306012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Remove%20-Zast-json%20compiler-team%23503/near/277306012" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Remove.20-Zast-json.20compiler-team.23503.html#277306012">(Mar 31 2022 at 16:18)</a>:</h4>
<p>I occasionally use <code>-Zast-json</code> to better understand how rustc is parsing some code (particularly for working on the reference).  Is there some alternative that I could use?  It doesn't need to be machine-readable (human-readable is actually preferred).</p>
<p>Also, for wg-grammar, we had discussed a strategy for testing rustc's parsing by using JSON (and comparing the parsed AST across implementations).  Without this flag, I think we would need to link directly to rustc_parse. That's not a blocker, and wg-grammar is mostly defunct, but I wanted to point out that there were use cases for it.</p>



<a name="277306223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Remove%20-Zast-json%20compiler-team%23503/near/277306223" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Remove.20-Zast-json.20compiler-team.23503.html#277306223">(Mar 31 2022 at 16:20)</a>:</h4>
<p>Would <code>-Zunpretty=ast-tree</code> be a suitable replacement for <code>-Zast-json</code> for your usecase?</p>



<a name="277307136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Remove%20-Zast-json%20compiler-team%23503/near/277307136" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Remove.20-Zast-json.20compiler-team.23503.html#277307136">(Mar 31 2022 at 16:27)</a>:</h4>
<p>Ah, yes! That works well.  I had forgotten about that, I've used it before.  Thanks!</p>



<a name="277334444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Remove%20-Zast-json%20compiler-team%23503/near/277334444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Remove.20-Zast-json.20compiler-team.23503.html#277334444">(Mar 31 2022 at 20:17)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="492">@T-compiler</span>: Proposal <a href="https://github.com/rust-lang/compiler-team/issues/503#issuecomment-1085060173">#503</a> has been seconded, and will be approved in 10 days if no objections are raised.</p>



<a name="277347345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Remove%20-Zast-json%20compiler-team%23503/near/277347345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Remove.20-Zast-json.20compiler-team.23503.html#277347345">(Mar 31 2022 at 22:16)</a>:</h4>
<p>What syntax does <code>-Zunpretty=ast-tree</code> use? It looks kind of like Rust, kind of like RON (Rusty Object Notation), but I suspect it's actually just ad hoc?</p>



<a name="277347763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Remove%20-Zast-json%20compiler-team%23503/near/277347763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Remove.20-Zast-json.20compiler-team.23503.html#277347763">(Mar 31 2022 at 22:21)</a>:</h4>
<p>It's the standard library's <code>{:#?}</code> debug output.</p>



<a name="277356318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Remove%20-Zast-json%20compiler-team%23503/near/277356318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Remove.20-Zast-json.20compiler-team.23503.html#277356318">(Apr 01 2022 at 00:11)</a>:</h4>
<p>I'm guessing that's not easily parseable? (Not that it matters to me, I'm just checking my understanding.)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>