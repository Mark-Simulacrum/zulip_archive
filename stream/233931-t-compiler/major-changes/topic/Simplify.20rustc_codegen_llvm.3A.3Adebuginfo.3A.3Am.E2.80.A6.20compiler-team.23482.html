<html>
<head><meta charset="utf-8"><title>Simplify rustc_codegen_llvm::debuginfo::m… compiler-team#482 · t-compiler/major changes · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/index.html">t-compiler/major changes</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Simplify.20rustc_codegen_llvm.3A.3Adebuginfo.3A.3Am.E2.80.A6.20compiler-team.23482.html">Simplify rustc_codegen_llvm::debuginfo::m… compiler-team#482</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="271131665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Simplify%20rustc_codegen_llvm%3A%3Adebuginfo%3A%3Am%E2%80%A6%20compiler-team%23482/near/271131665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Simplify.20rustc_codegen_llvm.3A.3Adebuginfo.3A.3Am.E2.80.A6.20compiler-team.23482.html#271131665">(Feb 08 2022 at 14:05)</a>:</h4>
<p>A new proposal has been announced: <a href="https://github.com/rust-lang/compiler-team/issues/482">Simplify rustc_codegen_llvm::debuginfo::metadata #482</a>. It will be announced at the next meeting to try and draw attention to it, but usually MCPs are not discussed during triage meetings. If you think this would benefit from discussion amongst the team, consider proposing a design meeting.</p>



<a name="271132660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Simplify%20rustc_codegen_llvm%3A%3Adebuginfo%3A%3Am%E2%80%A6%20compiler-team%23482/near/271132660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Simplify.20rustc_codegen_llvm.3A.3Adebuginfo.3A.3Am.E2.80.A6.20compiler-team.23482.html#271132660">(Feb 08 2022 at 14:12)</a>:</h4>
<p>I'd also be grateful for suggestions for better names in that module. At the moment, nodes in the debuginfo graph are called <code>xyz_metadata</code> (because they are LLVM metadata nodes) but that name is a bit too generic and somewhat misleading. <code>xyz_debuginfo_node</code> might be better but is a bit too verbose. <code>xyz_di_node</code> looks a bit weird. Feel free to bikeshed :)</p>



<a name="271132825"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Simplify%20rustc_codegen_llvm%3A%3Adebuginfo%3A%3Am%E2%80%A6%20compiler-team%23482/near/271132825" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Simplify.20rustc_codegen_llvm.3A.3Adebuginfo.3A.3Am.E2.80.A6.20compiler-team.23482.html#271132825">(Feb 08 2022 at 14:13)</a>:</h4>
<p>This is the module in question: <a href="https://github.com/rust-lang/rust/blob/775e480722c7aba6ff4ff3ccec8c1f4639ae7889/compiler/rustc_codegen_llvm/src/debuginfo/metadata.rs">https://github.com/rust-lang/rust/blob/775e480722c7aba6ff4ff3ccec8c1f4639ae7889/compiler/rustc_codegen_llvm/src/debuginfo/metadata.rs</a></p>



<a name="271200944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Simplify%20rustc_codegen_llvm%3A%3Adebuginfo%3A%3Am%E2%80%A6%20compiler-team%23482/near/271200944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Simplify.20rustc_codegen_llvm.3A.3Adebuginfo.3A.3Am.E2.80.A6.20compiler-team.23482.html#271200944">(Feb 08 2022 at 22:29)</a>:</h4>
<p>My rule of thumb for names is based on Huffman encoding: high-frequency names should be short. So if it's used a lot, then xyz_di_node is reasonable</p>



<a name="271205814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Simplify%20rustc_codegen_llvm%3A%3Adebuginfo%3A%3Am%E2%80%A6%20compiler-team%23482/near/271205814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Simplify.20rustc_codegen_llvm.3A.3Adebuginfo.3A.3Am.E2.80.A6.20compiler-team.23482.html#271205814">(Feb 08 2022 at 23:12)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="492">@T-compiler</span>: Proposal <a href="https://github.com/rust-lang/compiler-team/issues/482#issuecomment-1033154144">#482</a> has been seconded, and will be approved in 10 days if no objections are raised.</p>



<a name="272846143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Simplify%20rustc_codegen_llvm%3A%3Adebuginfo%3A%3Am%E2%80%A6%20compiler-team%23482/near/272846143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Simplify.20rustc_codegen_llvm.3A.3Adebuginfo.3A.3Am.E2.80.A6.20compiler-team.23482.html#272846143">(Feb 22 2022 at 18:27)</a>:</h4>
<p>This proposal has been accepted: <a href="https://github.com/rust-lang/compiler-team/issues/482">#482</a>.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>