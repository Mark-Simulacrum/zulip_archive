<html>
<head><meta charset="utf-8"><title>Preserve `PlaceContext` through projection compiler-team#300 · t-compiler/major changes · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/index.html">t-compiler/major changes</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html">Preserve `PlaceContext` through projection compiler-team#300</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="199533761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199533761" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199533761">(Jun 02 2020 at 18:29)</a>:</h4>
<p>A new proposal has been announced <a href="https://github.com/rust-lang/compiler-team/issues/300">#300</a>. It will be brought up at the next meeting.</p>



<a name="199534122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199534122" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199534122">(Jun 02 2020 at 18:32)</a>:</h4>
<p>I was originally going to just submit a PR, but <code>PlaceContext</code> is used in quite a few places in <code>librustc_mir</code>.</p>



<a name="199534182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199534182" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199534182">(Jun 02 2020 at 18:32)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span></p>



<a name="199540565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199540565" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199540565">(Jun 02 2020 at 19:22)</a>:</h4>
<p>hey <span class="user-mention" data-user-id="211727">@Jonas Schievink</span>, unsure why did you ping me but let me read the proposal I guess :)</p>



<a name="199540667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199540667" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199540667">(Jun 02 2020 at 19:23)</a>:</h4>
<p>Because MIR Visitors seem to be something you tend to maintain :)</p>



<a name="199540753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199540753" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199540753">(Jun 02 2020 at 19:24)</a>:</h4>
<p>do I? <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="199540769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199540769" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199540769">(Jun 02 2020 at 19:24)</a>:</h4>
<p>thanks for pointing that out to me :)</p>



<a name="199541435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199541435" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199541435">(Jun 02 2020 at 19:30)</a>:</h4>
<p>so I think the proposal makes sense yeah</p>



<a name="199541479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199541479" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199541479">(Jun 02 2020 at 19:30)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> may have a better idea though</p>



<a name="199546666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199546666" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199546666">(Jun 02 2020 at 20:12)</a>:</h4>
<p>I've often wondered whether all the visitors should have a <a href="https://en.wikipedia.org/wiki/Zipper_(data_structure)">Zipper-like</a> parameter that provides such contextual info</p>



<a name="199546713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199546713" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199546713">(Jun 02 2020 at 20:12)</a>:</h4>
<p>(but that is a bigger more global revision)</p>



<a name="199546806"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199546806" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199546806">(Jun 02 2020 at 20:13)</a>:</h4>
<p>(now I'm wondering whether one automatically define a set of zippers for a given data-type via a macro)</p>



<a name="199559436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199559436" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199559436">(Jun 02 2020 at 22:00)</a>:</h4>
<p>(this looks pretty good to me)</p>



<a name="199559457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199559457" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199559457">(Jun 02 2020 at 22:00)</a>:</h4>
<p>I would happily second</p>



<a name="199562348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199562348" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199562348">(Jun 02 2020 at 22:39)</a>:</h4>
<p>FYI, the implementation is blocked on <a href="https://github.com/rust-lang/rust/issues/72931">#72931</a>.</p>



<a name="199585882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Preserve%20%60PlaceContext%60%20through%20projection%20compiler-team%23300/near/199585882" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/233931-t-compiler/major-changes/topic/Preserve.20.60PlaceContext.60.20through.20projection.20compiler-team.23300.html#199585882">(Jun 03 2020 at 07:10)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="492">@T-compiler</span>: Proposal <a href="https://github.com/rust-lang/compiler-team/issues/300#issuecomment-638003731">#300</a> has been seconded, and will be approved in 10 days if no objections are raised.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>