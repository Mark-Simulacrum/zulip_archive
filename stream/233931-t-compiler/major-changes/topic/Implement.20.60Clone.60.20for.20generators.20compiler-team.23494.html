<html>
<head><meta charset="utf-8"><title>Implement `Clone` for generators compiler-team#494 · t-compiler/major changes · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/index.html">t-compiler/major changes</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html">Implement `Clone` for generators compiler-team#494</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="274292548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/274292548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#274292548">(Mar 06 2022 at 08:10)</a>:</h4>
<p>A new proposal has been announced: <a href="https://github.com/rust-lang/compiler-team/issues/494">Implement <code>Clone</code> for generators #494</a>. It will be announced at the next meeting to try and draw attention to it, but usually MCPs are not discussed during triage meetings. If you think this would benefit from discussion amongst the team, consider proposing a design meeting.</p>



<a name="274309707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/274309707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#274309707">(Mar 06 2022 at 14:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="296833">Dante Broggi</span> has marked this topic as unresolved.</p>



<a name="274404818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/274404818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#274404818">(Mar 07 2022 at 15:10)</a>:</h4>
<blockquote>
<p>It would be nice if generators, like closures, could automatically implement Clone and Copy where possible. Is this something that the lang team would consider desirable?</p>
</blockquote>
<p>I think this should be <a href="https://lang-team.rust-lang.org/initiatives/process.html">Lang Team proposal</a> before we consider implementing this behavior in the compiler.</p>



<a name="275081400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275081400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275081400">(Mar 12 2022 at 06:50)</a>:</h4>
<p>Is a lang team proposal really necessary? I figure that we'll inevitably want this in the language in some form or another since (a) it's technically possible and has use-cases and (b) we already have clonable closures and generators are just a generalized form of closure. The question for the lang team is how to make this available to users, though since we haven't even settled on a design for generators yet it seems premature to open debates about how to extend that design. For now would it be sufficient to just keep this behind a feature gate?</p>



<a name="275083118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275083118" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275083118">(Mar 12 2022 at 07:38)</a>:</h4>
<p>Yeah, while generator syntax and semantics seems like lang, the type they generate and what traits it implements seem more like libs.</p>



<a name="275083122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275083122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275083122">(Mar 12 2022 at 07:38)</a>:</h4>
<p>I think if it's behind a gate that would suffice.</p>



<a name="275138313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275138313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275138313">(Mar 13 2022 at 07:01)</a>:</h4>
<p>I haven't had a reply to the MCP yet but I've gone ahead and implemented this. Should I make a PR with a link to the MCP?</p>



<a name="275201146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275201146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275201146">(Mar 14 2022 at 07:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494/near/275083118">said</a>:</p>
<blockquote>
<p>Yeah, while generator syntax and semantics seems like lang, the type they generate and what traits it implements seem more like libs.</p>
</blockquote>
<p>i don't think this is necessarily true, given that this would cause the return type of async functions to implement <code>Clone</code>, which seems like t-lang to me</p>



<a name="275201460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275201460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275201460">(Mar 14 2022 at 07:34)</a>:</h4>
<p>this would leak a lot more about the interior of async functions as using a non <code>Clone</code> type inside of a function changes the traits implemented by its return type. Currently this is only the case for auto traits.</p>



<a name="275201697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275201697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275201697">(Mar 14 2022 at 07:39)</a>:</h4>
<p>i also don't really see how that can be sound, given that unlike auto traits, <code>Clone</code> can have side effects:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">rc</span>::<span class="n">Rc</span><span class="p">;</span><span class="w"></span>
<span class="k">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">bar</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="k">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">foo</span><span class="p">(</span><span class="k">mut</span><span class="w"> </span><span class="n">x</span>: <span class="nc">Rc</span><span class="o">&lt;</span><span class="kt">u32</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rc</span>::<span class="n">new</span><span class="p">(</span><span class="n">Rc</span>::<span class="n">make_mut</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">x</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="n">bar</span><span class="p">().</span><span class="k">await</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"{}"</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>i would expect <code>foo</code> to implement <code>Clone</code> with your proposal, as all possible states of the underlying generator only contain types which are <code>Clone</code>. This still breaks as the generator is self referential.</p>



<a name="275201994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275201994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275201994">(Mar 14 2022 at 07:44)</a>:</h4>
<p>Even when restricting the <code>Clone</code> impls to movable generators - <em>edit: which you do</em> - this seems scary to me, as I personally wouldn't expect clone impls to run at these points. With unsafe code this can still cause hard to detect unsoundness</p>



<a name="275202170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275202170" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275202170">(Mar 14 2022 at 07:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="216206">lcnr</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494/near/275201460">said</a>:</p>
<blockquote>
<p>this would leak a lot more about the interior of async functions as using a non <code>Clone</code> type inside of a function changes the traits implemented by its return type. Currently this is only the case for auto traits.</p>
</blockquote>
<p>for closures this isn't an issue as the only way to leak closures is via <code>impl Trait</code> where the <code>Clone</code> bound has be explicitly added for it to be usable by other crates</p>



<a name="275218174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275218174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275218174">(Mar 14 2022 at 10:39)</a>:</h4>
<blockquote>
<p>for closures this isn't an issue as the only way to leak closures is via <code>impl Trait</code> where the <code>Clone</code> bound has be explicitly added for it to be usable by other crates.</p>
</blockquote>
<p>I think that's how it should work for generators too. There should be some way to make an <code>async</code> block cloneable but I'm not sure that it should happen implicitly. With the current implementation <code>async</code> blocks are never cloneable because they're always marked as <code>static</code> (ie. <code>Movability::Static</code>). The only way to access this feature is to use the unstable generator syntax explicitly, not mark the generator as <code>static</code> and to refer to its type as <code>impl Generator&lt;...&gt; + Clone</code>.</p>



<a name="275218312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275218312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275218312">(Mar 14 2022 at 10:40)</a>:</h4>
<p>ah, so by default all asnyc functions are <code>Static</code> as well?</p>



<a name="275218322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275218322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275218322">(Mar 14 2022 at 10:41)</a>:</h4>
<p>you can't have movable generators returned from <code>async fn</code>?</p>



<a name="275218502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275218502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275218502">(Mar 14 2022 at 10:42)</a>:</h4>
<p>Yeah, you can't clone the type of <code>async {}</code> with this as-implemented. Whether you should be able to do that I'll leave for other people to decide.</p>



<a name="275218769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275218769" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275218769">(Mar 14 2022 at 10:45)</a>:</h4>
<p>I have seen the idea floated of being able to put <code>#[derive(...)]</code> attributed on closures, and that could be extended to generators and async blocks to. But that's a long ways off, and I have no idea how it would work on the macro side of things.</p>



<a name="275219268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275219268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275219268">(Mar 14 2022 at 10:50)</a>:</h4>
<blockquote>
<p>you can't have movable generators returned from <code>async fn</code>?</p>
</blockquote>
<p>Yes. Movability is not the same as <code>Unpin</code>. It's stricter and is declared up-front, rather than being inferred. At least that's how things work at the moment.</p>



<a name="275220491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275220491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275220491">(Mar 14 2022 at 11:01)</a>:</h4>
<p>Even if we made async blocks implicitly be Clone if possible, that would not affect async fn. Async fn uses impl trait internally and only exposes the Future trait of the async block, nothing else (except for auto traits)</p>



<a name="275220703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275220703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275220703">(Mar 14 2022 at 11:03)</a>:</h4>
<p>I don't see a problem  in making async blocks clonable automatically beyond the fact that optimizations may cause surprising cases to work or not work. That would ve a problem in explicit cases, too, so <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="275221552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275221552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275221552">(Mar 14 2022 at 11:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494/near/275220491">said</a>:</p>
<blockquote>
<p>Even if we made async blocks implicitly be Clone if possible, that would not affect async fn. Async fn uses impl trait internally and only exposes the Future trait of the async block, nothing else (except for auto traits)</p>
</blockquote>
<p>forgot about that <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="275887910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275887910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275887910">(Mar 19 2022 at 04:05)</a>:</h4>
<p>Would anyone be willing to review my commits for this? <a href="https://github.com/canndrew/rust/commits/clone-generators">https://github.com/canndrew/rust/commits/clone-generators</a></p>



<a name="275907131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275907131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275907131">(Mar 19 2022 at 12:05)</a>:</h4>
<p>Feel free to assign to me. If there's anything I'm unsure about i'll find someone to reassign to</p>



<a name="275954227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275954227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275954227">(Mar 20 2022 at 07:58)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> I don't have a PR yet to assign a reviewer to. I don't know whether it's appropriate to open a PR for a change that hasn't had its MCP approved. Would you be willing to second <a href="https://github.com/rust-lang/compiler-team/issues/494">the MCP</a>? Or should I just go ahead and open a PR?</p>



<a name="275960095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275960095" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275960095">(Mar 20 2022 at 10:33)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="492">@T-compiler</span>: Proposal <a href="https://github.com/rust-lang/compiler-team/issues/494#issuecomment-1073220392">#494</a> has been seconded, and will be approved in 10 days if no objections are raised.</p>



<a name="275960162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275960162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275960162">(Mar 20 2022 at 10:35)</a>:</h4>
<p>Oops, yea, this seems good to me in gated form and we can talk to the lang team once we have done some experiments</p>



<a name="275960328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275960328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275960328">(Mar 20 2022 at 10:39)</a>:</h4>
<p>Cool :). Should I PR it then? Or just leave it on my own repo/branch for now?</p>



<a name="275961224"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275961224" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275961224">(Mar 20 2022 at 11:01)</a>:</h4>
<p>Open a PR, maybe in WIP mode and assign it to me</p>



<a name="275969952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/275969952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#275969952">(Mar 20 2022 at 14:30)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span>: Thanks :). I've done that here: <a href="https://github.com/rust-lang/rust/pull/95137">https://github.com/rust-lang/rust/pull/95137</a></p>



<a name="276824262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/276824262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Cann <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#276824262">(Mar 28 2022 at 03:40)</a>:</h4>
<p>As per the comments on the MCP I've created a tracking issue for this here: <a href="https://github.com/rust-lang/rust/issues/95360">https://github.com/rust-lang/rust/issues/95360</a></p>
<p>I can't add the required labels to it though (<code>F-generator_clone</code> and <code>T-lang</code> I believe) because I don't have write access to the repo. Could someone do that for me?</p>



<a name="277188516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/277188516" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#277188516">(Mar 30 2022 at 18:37)</a>:</h4>
<p>This proposal has been accepted: <a href="https://github.com/rust-lang/compiler-team/issues/494">#494</a>.</p>



<a name="277684089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/233931-t-compiler/major%20changes/topic/Implement%20%60Clone%60%20for%20generators%20compiler-team%23494/near/277684089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/233931-t-compiler/major-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494.html#277684089">(Apr 04 2022 at 05:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="257503">Andrew Cann</span>  [said]   ( <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494/near/276824262">https://rust-lang.zulipchat.com/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Implement.20.60Clone.60.20for.20generators.20compiler-team.23494/near/276824262</a> )：</p>
<blockquote>
<p>I can't add the required labels to it though (<code>F-generator_clone</code> and <code>T-lang</code> I believe) because I don't have write access to the repo. Could someone do that for me?</p>
</blockquote>
<p>Done.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>