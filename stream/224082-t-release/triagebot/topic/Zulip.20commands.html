<html>
<head><meta charset="utf-8"><title>Zulip commands · t-release/triagebot · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/index.html">t-release/triagebot</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html">Zulip commands</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="202243961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202243961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202243961">(Jun 28 2020 at 16:35)</a>:</h4>
<p>I don’t understand how Triagebot handles Zulip commands. I can see in the code that it listens for webhook events at the <code>/zulip-hook</code> endpoint, but I can’t find any part of the code that’s responsible for figuring out if there is supposed to be a command invocation in a given message.</p>
<p>So what I imagine is that the bot is subscribed to only receive messages that notify it, i.e. pings and private messages. <span class="user-mention" data-user-id="116122">@simulacrum</span> could you enlighten me on how the bot is setup? :D</p>



<a name="202244015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244015" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244015">(Jun 28 2020 at 16:36)</a>:</h4>
<p>yep, zulip by default only sends a request to the endpoint if the bot's name (triagebot in this case) is directly mentioned</p>



<a name="202244045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244045">(Jun 28 2020 at 16:37)</a>:</h4>
<p>we only support invocations that are via PM I think right now</p>



<a name="202244051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244051">(Jun 28 2020 at 16:37)</a>:</h4>
<p>so we don't actually look for the name of the bot or anything, just assume that the message in its entirety is the command</p>



<a name="202244054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244054">(Jun 28 2020 at 16:37)</a>:</h4>
<p><span class="user-mention" data-user-id="261224">@triagebot</span> test</p>



<a name="202244055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244055">(Jun 28 2020 at 16:37)</a>:</h4>
<p>Unknown command.</p>



<a name="202244723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244723" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244723">(Jun 28 2020 at 16:55)</a>:</h4>
<p>It responds in streams but fails to parse commands</p>



<a name="202244726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244726">(Jun 28 2020 at 16:55)</a>:</h4>
<p>For example</p>



<a name="202244729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244729">(Jun 28 2020 at 16:55)</a>:</h4>
<p><span class="user-mention" data-user-id="261224">@triagebot</span> ack</p>



<a name="202244730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244730" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244730">(Jun 28 2020 at 16:55)</a>:</h4>
<p>Unknown command.</p>



<a name="202244873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244873">(Jun 28 2020 at 16:59)</a>:</h4>
<p>right yeah because it's seeing "@triagebot" as the command which isn't a command</p>



<a name="202244878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244878">(Jun 28 2020 at 16:59)</a>:</h4>
<p>I suppose...</p>



<a name="202244881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244881">(Jun 28 2020 at 16:59)</a>:</h4>
<p>ack <span class="user-mention" data-user-id="261224">@triagebot</span></p>



<a name="202244882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244882">(Jun 28 2020 at 16:59)</a>:</h4>
<p>Failed to acknowledge <span class="user-mention" data-user-id="261224">@triagebot</span>: Did not delete any notifications.</p>



<a name="202244884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202244884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202244884">(Jun 28 2020 at 16:59)</a>:</h4>
<p>yeah, see</p>



<a name="202246723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202246723" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202246723">(Jun 28 2020 at 17:47)</a>:</h4>
<p>I have a few ideas in mind</p>



<a name="202246736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-t-release/triagebot/topic/Zulip%20commands/near/202246736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/224082-t-release/triagebot/topic/Zulip.20commands.html#202246736">(Jun 28 2020 at 17:48)</a>:</h4>
<p>I’ll experiment a bit and see how it goes</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>