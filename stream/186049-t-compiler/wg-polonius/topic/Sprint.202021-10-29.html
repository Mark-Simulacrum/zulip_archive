<html>
<head><meta charset="utf-8"><title>Sprint 2021-10-29 · t-compiler/wg-polonius · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/index.html">t-compiler/wg-polonius</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html">Sprint 2021-10-29</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="259527357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259527357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259527357">(Oct 29 2021 at 13:55)</a>:</h4>
<p>Hey everyone <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="259527462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259527462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259527462">(Oct 29 2021 at 13:56)</a>:</h4>
<p>Are y'all alright?</p>



<a name="259527621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259527621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259527621">(Oct 29 2021 at 13:57)</a>:</h4>
<p>I think so. Was there DST in Germany?</p>



<a name="259527631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259527631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259527631">(Oct 29 2021 at 13:57)</a>:</h4>
<p>For me, it's starting to get a bit busy organizing everything for the new job and moving, but I at least managed to clean up the liveness-based version of 47680-fix rules a bit before just now</p>



<a name="259527819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259527819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259527819">(Oct 29 2021 at 13:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="118594">Dylan MacKenzie (ecstatic-morse)</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259527621">said</a>:</p>
<blockquote>
<p>I think so. Was there DST in Germany?</p>
</blockquote>
<p>We're switching this week-end</p>



<a name="259527990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259527990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259527990">(Oct 29 2021 at 13:59)</a>:</h4>
<p>actually, I hadn't thought about that at all 'cause it's normal for me, but are our regularly scheduled not moving with that? <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="259528166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259528166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259528166">(Oct 29 2021 at 14:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="337115">Domenic Quirl</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259527631">said</a>:</p>
<blockquote>
<p>For me, it's starting to get a bit busy organizing everything for the new job and moving, but I at least managed to clean up the liveness-based version of 47680-fix rules a bit before just now</p>
</blockquote>
<p>The latest ones are here, right? <a href="https://github.com/domenicquirl/polonius.next/blob/liveness-subsets/src/polonius.dl">https://github.com/domenicquirl/polonius.next/blob/liveness-subsets/src/polonius.dl</a></p>



<a name="259528226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259528226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259528226">(Oct 29 2021 at 14:00)</a>:</h4>
<p>Looks good, yeah <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="259528345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259528345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259528345">(Oct 29 2021 at 14:01)</a>:</h4>
<p>In case you looked before, there were no logical changes regarding how it works. Just removing some redundant rules</p>



<a name="259528366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259528366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259528366">(Oct 29 2021 at 14:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="337115">Domenic Quirl</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259527990">said</a>:</p>
<blockquote>
<p>actually, I hadn't thought about that at all 'cause it's normal for me, but are our regularly scheduled not moving with that? <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>
</blockquote>
<p>I'm not sure. It's whatever works best for people I think.</p>



<a name="259528440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259528440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259528440">(Oct 29 2021 at 14:02)</a>:</h4>
<p>Anyways, things to do for today</p>



<a name="259528485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259528485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259528485">(Oct 29 2021 at 14:02)</a>:</h4>
<ul>
<li>PRs (not me). We've accumulated quite some of em</li>
<li>I'd like to discuss what (amount of) liveness info, if any, could be a reasonable addition and maybe also what we would <em>not</em> want to need</li>
<li>Then we can talk about our ideas for 47680 (I'd expect Niko to have thought about that some more as well, maybe, and have their own ideas)</li>
<li>Fact generation? (tbh I don't have that much of an idea where this is at right now, especially with lqd missing today)</li>
</ul>



<a name="259528776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259528776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259528776">(Oct 29 2021 at 14:04)</a>:</h4>
<p>hey folks</p>



<a name="259529044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529044">(Oct 29 2021 at 14:06)</a>:</h4>
<p>So, I am not able to join a chat at this time</p>



<a name="259529048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529048">(Oct 29 2021 at 14:06)</a>:</h4>
<p>But</p>



<a name="259529058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529058">(Oct 29 2021 at 14:06)</a>:</h4>
<p>I wanted to review <span class="user-mention" data-user-id="116113">@lqd</span>'s PR</p>



<a name="259529073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529073">(Oct 29 2021 at 14:06)</a>:</h4>
<p>I also have been thinking about the problem we were discussing lsat time</p>



<a name="259529115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529115">(Oct 29 2021 at 14:06)</a>:</h4>
<p>I've roughly come to the conclusion that -- at least for now -- the right thing is to add some notion of liveness into the system.</p>



<a name="259529188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529188">(Oct 29 2021 at 14:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259529044">said</a>:</p>
<blockquote>
<p>So, I am not able to join a chat at this time</p>
</blockquote>
<p>I could a bit later prob</p>



<a name="259529430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529430">(Oct 29 2021 at 14:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259529115">said</a>:</p>
<blockquote>
<p>I've roughly come to the conclusion that -- at least for now -- the right thing is to add some notion of liveness into the system.</p>
</blockquote>
<p><span class="user-mention" data-user-id="118594">@Dylan MacKenzie (ecstatic-morse)</span> what is your current opinion on liveness vs. the remembering of invalidation origins you investigated? I know lqd and I were both leaning in favour of liveness, so I'm quite happy with this ^^</p>



<a name="259529444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529444">(Oct 29 2021 at 14:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116113">lqd</span>'s PR isn't usable quite yet. It doesn't correctly generate invalidations. I could try to fix it up today. Most of the PRs I opened were intended to help fact-gen get completed.</p>



<a name="259529474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529474">(Oct 29 2021 at 14:09)</a>:</h4>
<p>well</p>



<a name="259529490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529490">(Oct 29 2021 at 14:09)</a>:</h4>
<p>maybe a good start is that iI should just look at the PRs that exist?</p>



<a name="259529496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529496">(Oct 29 2021 at 14:09)</a>:</h4>
<p>I have no idea :)</p>



<a name="259529507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529507">(Oct 29 2021 at 14:09)</a>:</h4>
<p>I'm way behind on notifications and the like</p>



<a name="259529522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529522">(Oct 29 2021 at 14:09)</a>:</h4>
<p>probably</p>



<a name="259529670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529670" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529670">(Oct 29 2021 at 14:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="337115">Domenic Quirl</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259529430">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259529115">said</a>:</p>
<blockquote>
<p>I've roughly come to the conclusion that -- at least for now -- the right thing is to add some notion of liveness into the system.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="118594">Dylan MacKenzie (ecstatic-morse)</span> what is your current opinion on liveness vs. the remembering of invalidation origins you investigated? I know lqd and I were both leaning in favour of liveness, so I'm quite happy with this ^^</p>
</blockquote>
<p>I'll say a bit more about this, since I was pretty brusque.</p>



<a name="259529686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529686" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529686">(Oct 29 2021 at 14:10)</a>:</h4>
<p>most of Dylan's should be ready? And my rules one is just things we discussed on call last spring</p>



<a name="259529822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529822">(Oct 29 2021 at 14:11)</a>:</h4>
<p>ok looking now</p>



<a name="259529884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529884">(Oct 29 2021 at 14:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259529115">said</a>:</p>
<blockquote>
<p>I've roughly come to the conclusion that -- at least for now -- the right thing is to add some notion of liveness into the system.</p>
</blockquote>
<p>also <span class="user-mention" data-user-id="116009">@nikomatsakis</span> I assume you also haven't seen <a href="https://github.com/domenicquirl/polonius.next/blob/liveness-subsets/src/polonius.dl">https://github.com/domenicquirl/polonius.next/blob/liveness-subsets/src/polonius.dl</a> then?</p>



<a name="259529995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259529995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259529995">(Oct 29 2021 at 14:12)</a>:</h4>
<p>no:)</p>



<a name="259530085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530085">(Oct 29 2021 at 14:12)</a>:</h4>
<p>what is it?</p>



<a name="259530089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530089">(Oct 29 2021 at 14:13)</a>:</h4>
<p>All I described was a way to make certain invalidations not interact with certain origins. When I started this, I thought there was something fundamental about the invalidation of a reborrow <code>&amp;mut *temp</code> not interacting with the access of <code>temp</code>.</p>



<a name="259530267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530267">(Oct 29 2021 at 14:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259530085">said</a>:</p>
<blockquote>
<p>what is it?</p>
</blockquote>
<p>it's my attempt to solve our issue-47860 problem with some liveness instead of tracking derivation paths for subsets. It re-introduces the notion of killing variables and their associated origins when they stop being live</p>



<a name="259530402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530402">(Oct 29 2021 at 14:15)</a>:</h4>
<p>But that seems pretty suspect to me. I think it's unsound, although I don't have a counterexample yet.</p>



<a name="259530530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530530">(Oct 29 2021 at 14:16)</a>:</h4>
<p>I love how we all seem to have this uncanny feeling about it, all while not actually being able to pinpoint an issue <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="259530581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530581">(Oct 29 2021 at 14:16)</a>:</h4>
<p>to be clear, the feeling is about liveness, or about whatever Dylan was proposing?</p>



<a name="259530582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530582">(Oct 29 2021 at 14:16)</a>:</h4>
<p>well, with the exception of reliance on rustc, maybe, which was a very valid point by <span class="user-mention" data-user-id="116113">@lqd</span></p>



<a name="259530584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530584">(Oct 29 2021 at 14:16)</a>:</h4>
<p>Or something else :)</p>



<a name="259530651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530651">(Oct 29 2021 at 14:17)</a>:</h4>
<p>About my thing.</p>



<a name="259530719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530719">(Oct 29 2021 at 14:17)</a>:</h4>
<p>ok</p>



<a name="259530731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530731">(Oct 29 2021 at 14:17)</a>:</h4>
<p>I've been thinking about the liveness a bit</p>



<a name="259530742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530742">(Oct 29 2021 at 14:17)</a>:</h4>
<p>one way that I thought about it was:</p>



<a name="259530743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530743" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530743">(Oct 29 2021 at 14:17)</a>:</h4>
<p>(idk if it's fair to call that a proposal, my intention was not to imply that anyone wants to do something stupid here. or indeed that this even was stupid)</p>



<a name="259530820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530820">(Oct 29 2021 at 14:18)</a>:</h4>
<p>We should talk about Domenic's though. I think with fact-gen we'll be able to prove my idea unsound pretty easily.</p>



<a name="259530937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530937" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530937">(Oct 29 2021 at 14:19)</a>:</h4>
<p>let me talk a look at Domenic's branch</p>



<a name="259530947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259530947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259530947">(Oct 29 2021 at 14:19)</a>:</h4>
<p>I just merged a few PRs that seemed good</p>



<a name="259531029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531029">(Oct 29 2021 at 14:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="337115">Domenic Quirl</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259529884">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259529115">said</a>:</p>
<blockquote>
<p>I've roughly come to the conclusion that -- at least for now -- the right thing is to add some notion of liveness into the system.</p>
</blockquote>
<p>also <span class="user-mention silent" data-user-id="116009">nikomatsakis</span> I assume you also haven't seen <a href="https://github.com/domenicquirl/polonius.next/blob/liveness-subsets/src/polonius.dl">https://github.com/domenicquirl/polonius.next/blob/liveness-subsets/src/polonius.dl</a> then?</p>
</blockquote>
<p>is this the right link? I don't see liveness in ehre?</p>



<a name="259531170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531170" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531170">(Oct 29 2021 at 14:20)</a>:</h4>
<p>it is. The liveness is in the <code>kill_origin</code> input facts</p>



<a name="259531215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531215">(Oct 29 2021 at 14:21)</a>:</h4>
<p>I see</p>



<a name="259531263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531263">(Oct 29 2021 at 14:21)</a>:</h4>
<p>That is, I assumed that we were given it for this experiment, there are no liveness logic rules like main Polonius has</p>



<a name="259531417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531417">(Oct 29 2021 at 14:22)</a>:</h4>
<p>but I don't think there's a limitation in there that we <em>couldn't</em> do that if we wanted to</p>



<a name="259531480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531480">(Oct 29 2021 at 14:23)</a>:</h4>
<p>in the tests, <code>kill_origin</code> is issued when a variable is moved or goes out of scope</p>



<a name="259531551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531551">(Oct 29 2021 at 14:23)</a>:</h4>
<p>I see.</p>



<a name="259531568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531568">(Oct 29 2021 at 14:23)</a>:</h4>
<p>is it distinct from <code>clear_origin</code></p>



<a name="259531576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531576" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531576">(Oct 29 2021 at 14:23)</a>:</h4>
<p>yes</p>



<a name="259531629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531629">(Oct 29 2021 at 14:24)</a>:</h4>
<p>in particular, <a href="https://github.com/domenicquirl/polonius.next/blob/0d3c7a099fcf222d6ae942b4fd88e3525b433061/src/polonius.dl#L110-L111">https://github.com/domenicquirl/polonius.next/blob/0d3c7a099fcf222d6ae942b4fd88e3525b433061/src/polonius.dl#L110-L111</a></p>



<a name="259531707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531707">(Oct 29 2021 at 14:24)</a>:</h4>
<p>it occurs at a different point in time?</p>



<a name="259531710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531710">(Oct 29 2021 at 14:24)</a>:</h4>
<p>so clears don't affect new subsets (because the clear happens first), but killing does</p>



<a name="259531767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531767">(Oct 29 2021 at 14:25)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// ## Assumptions about ordering</span>
<span class="c1">//</span>
<span class="c1">// For a given node `N`...</span>
<span class="c1">//</span>
<span class="c1">// * First we perform any accesses `access_origin(O, N)`</span>
<span class="c1">// * Then we invalidate any origins `invalidate_origin(L, N)`</span>
<span class="c1">// * Then we clear any origins `clear_origin`</span>
<span class="c1">// * Then we introduce any subsets `introduce_subset`</span>
</code></pre></div>



<a name="259531787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531787">(Oct 29 2021 at 14:25)</a>:</h4>
<p>should become</p>



<a name="259531817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531817">(Oct 29 2021 at 14:25)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// ## Assumptions about ordering</span>
<span class="c1">//</span>
<span class="c1">// For a given node `N`...</span>
<span class="c1">//</span>
<span class="c1">// * First we perform any accesses `access_origin(O, N)`</span>
<span class="c1">// * Then we invalidate any origins `invalidate_origin(L, N)`</span>
<span class="c1">// * Then we clear any origins `clear_origin`</span>
<span class="c1">// * Then we introduce any subsets `introduce_subset`</span>
<span class="c1">// * Then we kill any origins `kill_origin`</span>
</code></pre></div>
<p>?</p>



<a name="259531848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531848">(Oct 29 2021 at 14:25)</a>:</h4>
<p>I guess, yeah</p>



<a name="259531957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531957">(Oct 29 2021 at 14:26)</a>:</h4>
<p>the thing is that subset relations for killed variables are still considered insofar as that they can influence the transitive closure of subsets</p>



<a name="259531982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259531982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259531982">(Oct 29 2021 at 14:26)</a>:</h4>
<p>I was debating about this approach. I don't think I would call it liveness, though.</p>



<a name="259532001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532001">(Oct 29 2021 at 14:26)</a>:</h4>
<p>(Which isn't a problem)</p>



<a name="259532058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532058">(Oct 29 2021 at 14:27)</a>:</h4>
<p>But in particular the facts are not generated based on the value being <em>live</em>, right? But more like a response to actions -- moves, storage-dead</p>



<a name="259532082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532082" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532082">(Oct 29 2021 at 14:27)</a>:</h4>
<p>so the order is <code>introduce_subset</code>, then use these for transitive closure, then <code>kill</code> if they die</p>



<a name="259532226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532226">(Oct 29 2021 at 14:28)</a>:</h4>
<p>side note: I haven't thought at all about this, but I could imagine us wanting to "collapse" the effects of statements within basic blocks. Have we thought about how possible that is? :)</p>



<a name="259532236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532236">(Oct 29 2021 at 14:28)</a>:</h4>
<p>I imagine it <em>probably</em> is</p>



<a name="259532244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532244">(Oct 29 2021 at 14:28)</a>:</h4>
<p>seems related</p>



<a name="259532285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532285">(Oct 29 2021 at 14:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259532058">said</a>:</p>
<blockquote>
<p>But in particular the facts are not generated based on the value being <em>live</em>, right? But more like a response to actions -- moves, storage-dead</p>
</blockquote>
<p>idk about storage-dead (the thing itself, not whether I agree). But for the rest I'd say that<br>
 a) yes, but<br>
 b) this still essentially corresponds to the end of the variables lifetime?</p>



<a name="259532331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532331">(Oct 29 2021 at 14:29)</a>:</h4>
<p>It corresponds to the end of the variable's lifetime, but not the point where it "goes dead"</p>



<a name="259532344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532344" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532344">(Oct 29 2021 at 14:29)</a>:</h4>
<p>I want to try and construct an example of where this might matter</p>



<a name="259532358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532358">(Oct 29 2021 at 14:29)</a>:</h4>
<p>ok, yeah please do</p>



<a name="259532363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532363">(Oct 29 2021 at 14:29)</a>:</h4>
<p>going dead meaning --&gt; won't be used again without being overwritten</p>



<a name="259532380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532380">(Oct 29 2021 at 14:29)</a>:</h4>
<p>i.e., "current value won't be used"</p>



<a name="259532381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532381">(Oct 29 2021 at 14:29)</a>:</h4>
<p>I'm not sure I understand what you're saying rn</p>



<a name="259532389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532389">(Oct 29 2021 at 14:29)</a>:</h4>
<p>yeah</p>



<a name="259532392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532392" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532392">(Oct 29 2021 at 14:29)</a>:</h4>
<p>understandable :)</p>



<a name="259532443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532443">(Oct 29 2021 at 14:30)</a>:</h4>
<p>I will try to make an example</p>



<a name="259532452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532452">(Oct 29 2021 at 14:30)</a>:</h4>
<p>but I will also say that I find this approach appealing in that</p>



<a name="259532480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532480">(Oct 29 2021 at 14:30)</a>:</h4>
<p>it preserves that property of "input facts that can be easily deduced from the mir"</p>



<a name="259532500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532500" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532500">(Oct 29 2021 at 14:30)</a>:</h4>
<p>(although bringing the liveness into the rules does too)</p>



<a name="259532604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532604">(Oct 29 2021 at 14:31)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// #![feature(nll)]</span>
<span class="c1">//</span>
<span class="c1">// struct Thing;</span>
<span class="c1">//</span>
<span class="c1">// impl Thing {</span>
<span class="c1">//     fn maybe_next(&amp;mut self) -&gt; Option&lt;&amp;mut Self&gt; { None }</span>
<span class="c1">// }</span>
<span class="c1">//</span>
<span class="c1">// fn main() {</span>
<span class="c1">//     let mut temp = &amp;mut Thing;</span>
<span class="c1">//</span>
<span class="c1">//    loop {</span>
<span class="c1">//        match temp.maybe_next() {</span>
<span class="c1">//            Some(v) =&gt; { temp = v; }</span>
<span class="c1">//            None =&gt; { }</span>
<span class="c1">//        }</span>
<span class="c1">//    }</span>
<span class="c1">// }</span>
</code></pre></div>



<a name="259532610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532610">(Oct 29 2021 at 14:31)</a>:</h4>
<p>that's our example, right?</p>



<a name="259532818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532818">(Oct 29 2021 at 14:32)</a>:</h4>
<p>oh I think I'm starting to see what you mean</p>



<a name="259532831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532831" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532831">(Oct 29 2021 at 14:33)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#![feature(nll)]</span><span class="w"></span>

<span class="k">struct</span> <span class="nc">Thing</span><span class="p">;</span><span class="w"></span>

<span class="k">impl</span><span class="w"> </span><span class="n">Thing</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">maybe_next</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Option</span><span class="o">&lt;&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">Self</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">None</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">Thing</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">loop</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="k">match</span><span class="w"> </span><span class="n">temp</span><span class="p">.</span><span class="n">maybe_next</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">           </span><span class="nb">Some</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">           </span><span class="nb">None</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">       </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="259532850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532850">(Oct 29 2021 at 14:33)</a>:</h4>
<p>I was confused for a bit because NLL doesn't accept this</p>



<a name="259532855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532855">(Oct 29 2021 at 14:33)</a>:</h4>
<p>but of course it doesn't :)</p>



<a name="259532875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532875">(Oct 29 2021 at 14:33)</a>:</h4>
<p>anyway, I think this is the kind of case that might behave differently?</p>



<a name="259532885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532885">(Oct 29 2021 at 14:33)</a>:</h4>
<p>it seems "clearly equivalent"</p>



<a name="259532888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532888">(Oct 29 2021 at 14:33)</a>:</h4>
<p>is it that a variable can remain unused until the end of a scope, and you distinguish the "point of last use" and the scoping/drop?</p>



<a name="259532914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532914" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532914">(Oct 29 2021 at 14:33)</a>:</h4>
<p>but <code>v1</code> doesn't go out of scope until we return from the fn</p>



<a name="259532979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259532979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259532979">(Oct 29 2021 at 14:34)</a>:</h4>
<p>even though it is dead at the end of each loop iteration</p>



<a name="259533026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533026">(Oct 29 2021 at 14:34)</a>:</h4>
<p><em>actually</em></p>



<a name="259533037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533037">(Oct 29 2021 at 14:34)</a>:</h4>
<p>we have the <code>access_origin</code> facts already</p>



<a name="259533057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533057">(Oct 29 2021 at 14:34)</a>:</h4>
<p>we have all the facts we need to compute liveness, don't we?</p>



<a name="259533188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533188">(Oct 29 2021 at 14:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="337115">Domenic Quirl</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259532888">said</a>:</p>
<blockquote>
<p>is it that a variable can remain unused until the end of a scope, and you distinguish the "point of last use" and the scoping/drop?</p>
</blockquote>
<p>I <em>think</em> this is what I was trying to show?</p>



<a name="259533192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533192">(Oct 29 2021 at 14:35)</a>:</h4>
<p>except that liveness would be backwards again (<code>is_live_at</code> == exists reachable <code>N</code> where <code>access_origin</code>)</p>



<a name="259533265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533265" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533265">(Oct 29 2021 at 14:36)</a>:</h4>
<p>yes. but having some backwards things doesn't seem like a problem per <em>se</em></p>



<a name="259533320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533320">(Oct 29 2021 at 14:36)</a>:</h4>
<p>no, just worth a mention</p>



<a name="259533406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533406">(Oct 29 2021 at 14:37)</a>:</h4>
<p>it is a bit disappointing, no doubt</p>



<a name="259533410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533410">(Oct 29 2021 at 14:37)</a>:</h4>
<p>though maybe it's not actually quite this easy?</p>



<a name="259533487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533487">(Oct 29 2021 at 14:37)</a>:</h4>
<p>if there is a loop, then there will be reachability of "the same" origin by name, even if the variable is moved/re-created in between, no?</p>



<a name="259533488"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533488" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533488">(Oct 29 2021 at 14:37)</a>:</h4>
<p>Are we literally doing the same liveness (like live variable analysis) as the old version?</p>



<a name="259533504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533504" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533504">(Oct 29 2021 at 14:37)</a>:</h4>
<p>well</p>



<a name="259533552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533552">(Oct 29 2021 at 14:38)</a>:</h4>
<p>if we did liveness on the "Accessed regions", then no</p>



<a name="259533587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533587">(Oct 29 2021 at 14:38)</a>:</h4>
<p>it's actually smarter I think</p>



<a name="259533607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533607">(Oct 29 2021 at 14:38)</a>:</h4>
<p>Yes, it might be more precise.</p>



<a name="259533643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533643">(Oct 29 2021 at 14:38)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span><span class="p">;</span><span class="w"></span>
<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">44</span><span class="p">;</span><span class="w"></span>
<span class="kd">let</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">y</span><span class="p">);</span><span class="w"></span>
<span class="n">x</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="nb">drop</span><span class="p">(</span><span class="o">*</span><span class="n">t</span><span class="p">.</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
</code></pre></div>



<a name="259533655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533655" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533655">(Oct 29 2021 at 14:38)</a>:</h4>
<p>something like that, I believe, is not accepted by rustc today</p>



<a name="259533666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533666">(Oct 29 2021 at 14:39)</a>:</h4>
<p>but probably would be by the analysis I'm talking about</p>



<a name="259533690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533690">(Oct 29 2021 at 14:39)</a>:</h4>
<p>I was a bit surprised that we did a traditional live variable analysis and then just made all regions live that were in the type of a live variable.</p>



<a name="259533726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533726">(Oct 29 2021 at 14:39)</a>:</h4>
<p>I'm...trying to remember why we do that</p>



<a name="259533752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533752">(Oct 29 2021 at 14:39)</a>:</h4>
<p>But we could also use "live origins" as an input to the old framework, no?</p>



<a name="259533756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533756" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533756">(Oct 29 2021 at 14:39)</a>:</h4>
<p>it may be that I just didn't realize how easily we could not do it</p>



<a name="259533833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533833">(Oct 29 2021 at 14:40)</a>:</h4>
<p>I do remember stressing some about how "predictable" it would be if we just looked at the liveness of things that were accessed</p>



<a name="259533841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533841">(Oct 29 2021 at 14:40)</a>:</h4>
<p>but .. I feel like that seems wrong now</p>



<a name="259533865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533865">(Oct 29 2021 at 14:40)</a>:</h4>
<p>I don't think there's any funny cases; e.g. if a struct has a dtor, we'll see the reads from the dtor</p>



<a name="259533881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533881">(Oct 29 2021 at 14:40)</a>:</h4>
<p>/me thinks</p>



<a name="259533907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533907">(Oct 29 2021 at 14:40)</a>:</h4>
<p>(maybe it has to do with knowing when a dtor is a no-op?)</p>



<a name="259533916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533916">(Oct 29 2021 at 14:40)</a>:</h4>
<p>that is just a straightforward initialization analysis though</p>



<a name="259533964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259533964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259533964">(Oct 29 2021 at 14:41)</a>:</h4>
<p>I can't see any good reason right now</p>



<a name="259534019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534019">(Oct 29 2021 at 14:41)</a>:</h4>
<p>anyway, another way to think of liveness -- but it's kind of silly -- is that we are inferring the "kills"</p>



<a name="259534027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534027">(Oct 29 2021 at 14:41)</a>:</h4>
<p>on behalf of the user</p>



<a name="259534085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534085">(Oct 29 2021 at 14:42)</a>:</h4>
<p>it still makes me feel a bit grumpy</p>



<a name="259534086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534086" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534086">(Oct 29 2021 at 14:42)</a>:</h4>
<p>I'm still wary that this at least isn't <em>the same</em> as what <code>kill</code> is in the example (i.e., moves and such)</p>



<a name="259534108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534108">(Oct 29 2021 at 14:42)</a>:</h4>
<p>"wary"?</p>



<a name="259534129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534129" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534129">(Oct 29 2021 at 14:42)</a>:</h4>
<p>can you explain a bit more?</p>



<a name="259534142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534142">(Oct 29 2021 at 14:42)</a>:</h4>
<p>yes</p>



<a name="259534151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534151">(Oct 29 2021 at 14:42)</a>:</h4>
<p>to both <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="259534239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534239">(Oct 29 2021 at 14:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="337115">Domenic Quirl</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259533487">said</a>:</p>
<blockquote>
<p>if there is a loop, then there will be reachability of "the same" origin by name, even if the variable is moved/re-created in between, no?</p>
</blockquote>
<p>because of this, I think there are situations where "kill by move" would trigger, but "kill if not accessed again" won't</p>



<a name="259534240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534240">(Oct 29 2021 at 14:43)</a>:</h4>
<p>Live variables propagates backwards, what you have propagates forwards, so I don't think it's the same.</p>



<a name="259534294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534294">(Oct 29 2021 at 14:44)</a>:</h4>
<p>I don't think so</p>



<a name="259534340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534340">(Oct 29 2021 at 14:44)</a>:</h4>
<p>well</p>



<a name="259534358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534358">(Oct 29 2021 at 14:44)</a>:</h4>
<p>there might be cases if we have .. what's that term people use .. not enough edges in the graph :)</p>



<a name="259534360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534360">(Oct 29 2021 at 14:44)</a>:</h4>
<p>there's a term for that</p>



<a name="259534366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534366">(Oct 29 2021 at 14:44)</a>:</h4>
<p>i.e. a graph like</p>



<a name="259534390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534390">(Oct 29 2021 at 14:44)</a>:</h4>
<div class="codehilite"><pre><span></span><code>A -&gt; B
A -&gt; C
B -&gt; C
</code></pre></div>



<a name="259534395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534395" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534395">(Oct 29 2021 at 14:44)</a>:</h4>
<p>instead of</p>



<a name="259534410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534410">(Oct 29 2021 at 14:44)</a>:</h4>
<p>(Ah, right, <em>critical edges</em>)</p>



<a name="259534453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534453">(Oct 29 2021 at 14:45)</a>:</h4>
<div class="codehilite"><pre><span></span><code>A -&gt; B
A -&gt; B1
B -&gt; C
B1 -&gt; C
</code></pre></div>



<a name="259534468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534468">(Oct 29 2021 at 14:45)</a>:</h4>
<p>i.e., maybe if there is not a "node" to recognize that something is dead</p>



<a name="259534486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534486">(Oct 29 2021 at 14:45)</a>:</h4>
<p>this is usually resolved by "splitting" critical edges</p>



<a name="259534499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534499">(Oct 29 2021 at 14:45)</a>:</h4>
<p>(transforming the first graph to the second)</p>



<a name="259534587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534587">(Oct 29 2021 at 14:46)</a>:</h4>
<p>maybe I'm misunderstanding how you intend to obtain <code>kill</code> from <code>access</code></p>



<a name="259534601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534601">(Oct 29 2021 at 14:46)</a>:</h4>
<p>otherwise, I think that the concern you're describing shouldn't happen because:</p>
<div class="codehilite"><pre><span></span><code>drop(foo);
// foo MUST be dead here or you&#39;ll get a &quot;use when not initialized&quot; error
</code></pre></div>



<a name="259534680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534680" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534680">(Oct 29 2021 at 14:46)</a>:</h4>
<p>are we talking about more than propagating accesses backwards?</p>



<a name="259534784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534784">(Oct 29 2021 at 14:47)</a>:</h4>
<p>what I'm imagining is that we are computing "will this origin be accessed without having been cleared"</p>



<a name="259534895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534895" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534895">(Oct 29 2021 at 14:48)</a>:</h4>
<p>if so, the origin is <em>live</em></p>



<a name="259534904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534904">(Oct 29 2021 at 14:48)</a>:</h4>
<p>ah</p>



<a name="259534937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259534937" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259534937">(Oct 29 2021 at 14:48)</a>:</h4>
<p>the origin is "killed" at the point where it transitions from live to dead, roughly</p>



<a name="259535375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259535375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259535375">(Oct 29 2021 at 14:51)</a>:</h4>
<p>So in Domenic's framework, we use moves (and maybe <code>StorageDead</code>) to indicate that an origin will not first be accessed without being cleared first</p>



<a name="259535507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259535507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259535507">(Oct 29 2021 at 14:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259534937">said</a>:</p>
<blockquote>
<p>the origin is "killed" at the point where it transitions from live to dead, roughly</p>
</blockquote>
<p>that sounds like it could work</p>



<a name="259535615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259535615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259535615">(Oct 29 2021 at 14:53)</a>:</h4>
<p>and you think that this is worth a whole other transitive closure (reachability)?</p>



<a name="259536029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536029">(Oct 29 2021 at 14:56)</a>:</h4>
<p>well, I'd like the analysis to be as precise as possible</p>



<a name="259536032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536032">(Oct 29 2021 at 14:56)</a>:</h4>
<p>To clarify: I've been very much with Dylan that it is generally a good idea with regard to using Polonius as a spec to have as much as possible of what happens be happening as part of the logical rules. <em>But</em> in this case, it feels like the "from MIR" kill facts are not really something to worry about regarding understandability/complexity and spec (if they stay as simple as now).</p>



<a name="259536043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536043">(Oct 29 2021 at 14:56)</a>:</h4>
<p>of cousre it may come at some cost</p>



<a name="259536049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536049">(Oct 29 2021 at 14:56)</a>:</h4>
<p>but I'm not convinced yet :)</p>



<a name="259536059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536059">(Oct 29 2021 at 14:56)</a>:</h4>
<p>and I'd rather address that by doing a successive series of approximations</p>



<a name="259536112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536112">(Oct 29 2021 at 14:56)</a>:</h4>
<p>in any case I would definitely move the liveness analysis into polonius</p>



<a name="259536132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536132" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536132">(Oct 29 2021 at 14:57)</a>:</h4>
<p>if we can</p>



<a name="259536844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536844">(Oct 29 2021 at 15:01)</a>:</h4>
<p>Continuing this thought:</p>
<p>In Domenic's framework, we use moves (and maybe StorageDead) to indicate that an origin will not be accessed without first being cleared. This information propagates forward. In some sense, this is an approximation of a traditional live variables analysis, which <em>actually</em> computes which variables will be accessed in the future without first being redefined. The downside is that it has to remember this information at all points.</p>



<a name="259536924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536924" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536924">(Oct 29 2021 at 15:02)</a>:</h4>
<p>Does this reflect the current thinking?</p>



<a name="259536975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536975">(Oct 29 2021 at 15:02)</a>:</h4>
<p>That sounds about right to me</p>



<a name="259536984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536984">(Oct 29 2021 at 15:02)</a>:</h4>
<p>I'm inclined to try implementing the liveness analysis</p>



<a name="259536999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259536999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259536999">(Oct 29 2021 at 15:02)</a>:</h4>
<p>if folks wanted, I could join a video chat now</p>



<a name="259537007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259537007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259537007">(Oct 29 2021 at 15:02)</a>:</h4>
<p>we could "pair" it</p>



<a name="259537059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259537059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259537059">(Oct 29 2021 at 15:03)</a>:</h4>
<p>I <em>may</em> already be kinda on it :D</p>



<a name="259537070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259537070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259537070">(Oct 29 2021 at 15:03)</a>:</h4>
<p>alternatively I am skimming <span class="user-mention" data-user-id="116113">@lqd</span>'s PR now</p>



<a name="259537097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259537097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259537097">(Oct 29 2021 at 15:03)</a>:</h4>
<p>so I'm happy to just wait <span class="user-mention" data-user-id="337115">@Domenic Quirl</span> and let you poke at it and we can discuss after</p>



<a name="259537099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259537099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259537099">(Oct 29 2021 at 15:03)</a>:</h4>
<p>wanted to see if I can replace <code>kill</code></p>



<a name="259537123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259537123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259537123">(Oct 29 2021 at 15:03)</a>:</h4>
<p>however you prefer</p>



<a name="259537127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259537127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259537127">(Oct 29 2021 at 15:03)</a>:</h4>
<p>I'm happy to get in a call. Lemme get some coffee first though</p>



<a name="259537156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259537156" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259537156">(Oct 29 2021 at 15:03)</a>:</h4>
<p>we've got some time left ^^</p>



<a name="259537264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259537264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259537264">(Oct 29 2021 at 15:04)</a>:</h4>
<p>I'll want more coffee too</p>



<a name="259537273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259537273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259537273">(Oct 29 2021 at 15:04)</a>:</h4>
<p>I'm going to skim lqd's pr for 15 minutes or so</p>



<a name="259539663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259539663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259539663">(Oct 29 2021 at 15:21)</a>:</h4>
<p><a href="https://meet.jit.si/462181374227594">Click to join video call</a></p>



<a name="259539677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259539677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259539677">(Oct 29 2021 at 15:21)</a>:</h4>
<p>should we try chatting here <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span> ?</p>



<a name="259539687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259539687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259539687">(Oct 29 2021 at 15:21)</a>:</h4>
<p>except I never did get more coffee</p>



<a name="259539690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259539690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259539690">(Oct 29 2021 at 15:21)</a>:</h4>
<p>let me do that!</p>



<a name="259540802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259540802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259540802">(Oct 29 2021 at 15:28)</a>:</h4>
<p>ok so the straightforward thing doesn't work</p>



<a name="259540810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259540810" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259540810">(Oct 29 2021 at 15:29)</a>:</h4>
<p>and I think I know why that is</p>



<a name="259540862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259540862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259540862">(Oct 29 2021 at 15:29)</a>:</h4>
<p>but not necessarily what to do about it right now <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="259541010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259541010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259541010">(Oct 29 2021 at 15:30)</a>:</h4>
<p>(I'll wait for when Niko is back)</p>



<a name="259542503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259542503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259542503">(Oct 29 2021 at 15:40)</a>:</h4>
<p>back!</p>



<a name="259543713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259543713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259543713">(Oct 29 2021 at 15:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Sprint.202021-10-29/near/259532831">said</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#![feature(nll)]</span><span class="w"></span>

<span class="k">struct</span> <span class="nc">Thing</span><span class="p">;</span><span class="w"></span>

<span class="k">impl</span><span class="w"> </span><span class="n">Thing</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">maybe_next</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Option</span><span class="o">&lt;&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">Self</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">None</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">Thing</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">loop</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="k">match</span><span class="w"> </span><span class="n">temp</span><span class="p">.</span><span class="n">maybe_next</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">           </span><span class="nb">Some</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">           </span><span class="nb">None</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">       </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="259544666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259544666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259544666">(Oct 29 2021 at 15:56)</a>:</h4>
<p>( I got dropped from the meeting and can't seem to rejoin)</p>



<a name="259552307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259552307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259552307">(Oct 29 2021 at 16:49)</a>:</h4>
<p>gimme a few more minutes :)</p>



<a name="259553337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259553337" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259553337">(Oct 29 2021 at 16:57)</a>:</h4>
<p>ok, ready to chat a bit</p>



<a name="259553346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259553346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259553346">(Oct 29 2021 at 16:57)</a>:</h4>
<p>I think :)</p>



<a name="259553510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259553510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259553510">(Oct 29 2021 at 16:58)</a>:</h4>
<p>come over and join us again :)</p>



<a name="259557629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259557629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259557629">(Oct 29 2021 at 17:31)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span><span class="p">;</span><span class="w"> </span><span class="cm">/* a */</span><span class="w"></span>
<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">vec!</span><span class="p">[];</span><span class="w"> </span><span class="cm">/* b */</span><span class="w"></span>
<span class="kd">let</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="cm">/* c */</span><span class="w"></span>
<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w"> </span><span class="cm">/* d */</span><span class="w"></span>
<span class="nb">Vec</span>::<span class="n">push</span><span class="p">(</span><span class="n">tmp</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">);</span><span class="w"> </span><span class="cm">/* e */</span><span class="w"></span>
</code></pre></div>



<a name="259557672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259557672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259557672">(Oct 29 2021 at 17:31)</a>:</h4>
<p>Relevant conversation: <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/purely.20forward.20propagation/near/254713241">https://rust-lang.zulipchat.com/#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/purely.20forward.20propagation/near/254713241</a></p>



<a name="259560398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259560398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domenic Quirl <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259560398">(Oct 29 2021 at 17:52)</a>:</h4>
<p><a href="https://github.com/nikomatsakis/polonius.next/pull/12">https://github.com/nikomatsakis/polonius.next/pull/12</a></p>



<a name="259561827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259561827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259561827">(Oct 29 2021 at 18:00)</a>:</h4>
<p><a href="https://github.com/nikomatsakis/polonius.next/pull/6">https://github.com/nikomatsakis/polonius.next/pull/6</a></p>



<a name="259569409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259569409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259569409">(Oct 29 2021 at 19:03)</a>:</h4>
<p>(fyi, I have a version with loans mostly working)</p>



<a name="259569416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Sprint%202021-10-29/near/259569416" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Sprint.202021-10-29.html#259569416">(Oct 29 2021 at 19:03)</a>:</h4>
<p>fixing a few tests</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>