<html>
<head><meta charset="utf-8"><title>Reviewing Datafrog PRs ¬∑ t-compiler/wg-polonius ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/index.html">t-compiler/wg-polonius</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html">Reviewing Datafrog PRs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="247870699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/247870699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#247870699">(Aug 01 2021 at 18:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116113">lqd</span> pointed my to a series of PRs opened against <code>datafrog</code> by a new contributor. 3/4 seem like pretty straightforward cleanup, and <a href="https://github.com/rust-lang/datafrog/issues/34">rust-lang/datafrog#34</a> seems great, although I haven't checked the quality of the implementation.</p>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> Can I review these? I don't think any of the cleanup is controversial (although the fact that <code>datafrog</code> uses long names for type parameters bums me out a bit), and I can do a first-pass on <a href="https://github.com/rust-lang/rust/issues/34">#34</a> that should make it easier for you to give a final sign-off.</p>



<a name="247875377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/247875377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#247875377">(Aug 01 2021 at 20:18)</a>:</h4>
<p>I'm pretty sure you can review these and that it would be very appreciated :)</p>



<a name="247880312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/247880312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#247880312">(Aug 01 2021 at 22:30)</a>:</h4>
<p>Will do. I guess my broader question is whether we should wait for Niko to sign off on smaller PRs, or if <span class="user-mention silent" data-user-id="116113">lqd</span>  and/or me is enough. I would feel uncomfortable merging any big architectural changes without Niko's approval, but making him review everything seems like overkill</p>



<a name="248411333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411333" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411333">(Aug 04 2021 at 21:27)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/34">#34</a> isn't going to work as-is unfortunately (see my comment on the PR). It was a little more broad than I was expecting.</p>
<p>My point about r+ rights still stands, however. <span class="user-mention" data-user-id="116009">@nikomatsakis</span>, would you be comfortable giving me and/or <span class="user-mention silent" data-user-id="116113">lqd</span> (if they don't already have it) permission to approve <code>datafrog</code> PRs?</p>



<a name="248411643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411643">(Aug 04 2021 at 21:30)</a>:</h4>
<p>(niko is on vacation) doesn't all of t-compiler including us t-compiler contributors already have r+ rights on datafrog (much like the other crates) ?</p>



<a name="248411693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411693">(Aug 04 2021 at 21:31)</a>:</h4>
<p>I see "Only those with write access to this repository can merge pull requests." on <code>datafrog</code> PRs</p>



<a name="248411726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411726">(Aug 04 2021 at 21:31)</a>:</h4>
<p>But I use an internal GitLab for work, so maybe I'm interpreting that wrong?</p>



<a name="248411802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411802">(Aug 04 2021 at 21:32)</a>:</h4>
<p>Is <code>bors</code> enabled for <code>datafrog</code>?</p>



<a name="248411819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411819">(Aug 04 2021 at 21:32)</a>:</h4>
<p>I don't think it is enabled, unfortunately, like for polonius</p>



<a name="248411846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411846">(Aug 04 2021 at 21:32)</a>:</h4>
<p>we asked for it to be enabled before, and it seems it didn't work</p>



<a name="248411871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411871">(Aug 04 2021 at 21:33)</a>:</h4>
<p>(I looked and saw that Niko was merging everything manually in the past)</p>



<a name="248411878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411878">(Aug 04 2021 at 21:33)</a>:</h4>
<p>weird. I seem to remember a "crate policy" that rust-lang repositories must adhere to, but maybe this one is old enough. we'll need to fix at some point (probably only admins can do that)</p>



<a name="248411897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411897">(Aug 04 2021 at 21:33)</a>:</h4>
<p>however in the meantime I think just adding you to the wg would fix that</p>



<a name="248411926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411926" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411926">(Aug 04 2021 at 21:33)</a>:</h4>
<p>I'll open a PR on <code>teams</code></p>



<a name="248411931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411931">(Aug 04 2021 at 21:34)</a>:</h4>
<p>sweet</p>



<a name="248411988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248411988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248411988">(Aug 04 2021 at 21:34)</a>:</h4>
<p><a href="https://crates.io/crates/datafrog">https://crates.io/crates/datafrog</a> only has niko as an owner so we couldn't publish releases</p>



<a name="248412020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248412020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248412020">(Aug 04 2021 at 21:34)</a>:</h4>
<p>we did fix that on the main polonius crate however <a href="https://crates.io/crates/polonius-engine">https://crates.io/crates/polonius-engine</a></p>



<a name="248412189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248412189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248412189">(Aug 04 2021 at 21:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="118594">Dylan MacKenzie (ecstatic-morse)</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Reviewing.20Datafrog.20PRs/near/248411926">said</a>:</p>
<blockquote>
<p>I'll open a PR on <code>teams</code></p>
</blockquote>
<p>ping me on that so I can approve it</p>



<a name="248412204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248412204" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248412204">(Aug 04 2021 at 21:36)</a>:</h4>
<p>(I won't be able to merge it)</p>



<a name="248412466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248412466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248412466">(Aug 04 2021 at 21:39)</a>:</h4>
<p>I could merge <a href="https://github.com/rust-lang/datafrog/pull/32">https://github.com/rust-lang/datafrog/pull/32</a> but we should use this as an opportunity to test that only being in the wg will be enough for you to do so :)</p>



<a name="248412969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248412969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248412969">(Aug 04 2021 at 21:44)</a>:</h4>
<p><span class="user-mention" data-user-id="118594">@Dylan MacKenzie (ecstatic-morse)</span> just to check, you have merge rights on chalk eg <a href="https://github.com/rust-lang/chalk/pull/709">https://github.com/rust-lang/chalk/pull/709</a> right ?</p>



<a name="248413101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248413101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248413101">(Aug 04 2021 at 21:45)</a>:</h4>
<p>UI looks the same, so I think not unless that repo is managed by bors</p>



<a name="248413189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248413189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248413189">(Aug 04 2021 at 21:46)</a>:</h4>
<p>wtf</p>



<a name="248413269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248413269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248413269">(Aug 04 2021 at 21:47)</a>:</h4>
<p>ok let's then hope the teams PR will suffice for datafrog, otherwise I'll be your merge-button-as-a-service</p>



<a name="248413272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248413272" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248413272">(Aug 04 2021 at 21:47)</a>:</h4>
<p>Yeah, looks like they're using bors over there, so a bit different than for <code>datafrog</code>.</p>



<a name="248413427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248413427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248413427">(Aug 04 2021 at 21:49)</a>:</h4>
<p>I must have remnants of prior rights that I probably shouldn't have anymore</p>



<a name="248413706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248413706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248413706">(Aug 04 2021 at 21:52)</a>:</h4>
<p>(great work on the leaper caching PR btw)</p>



<a name="248418110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248418110" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248418110">(Aug 04 2021 at 22:40)</a>:</h4>
<p>(for the other <code>TC :- TC, TC</code> topic we've noted this as well with frank, right at the beginning of the project. We had quickly tried a similar solution and it didn't immediately produce the exact same <code>subset</code> tuples for some reason -- like, maybe a mistake was made -- and since it was the naive variant where performance wasn't as important, we didn't try to understand the difference or possible subtleties involved or try it on the rustc tests. That difference likely doesn't matter to produce the facts about live loans we're interested in, e.g. the subset relation is also different between naive and opt and it doesn't matter there either. In any case it should be more efficient indeed, maybe we'll get Naive fast enough to achieve niko's dream of deleting Opt :)</p>



<a name="248418507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248418507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248418507">(Aug 04 2021 at 22:46)</a>:</h4>
<p>Yep, I figured it was something like that. Mostly I want to write things down so a) I don't forget and b) others can see when something is a good idea that just hasn't been implemented yet.</p>



<a name="248418605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248418605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248418605">(Aug 04 2021 at 22:48)</a>:</h4>
<p>Interesting that the tuple counts were different, though. I'm pretty sure my formulation is accurate.</p>



<a name="248418653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248418653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248418653">(Aug 04 2021 at 22:48)</a>:</h4>
<p>I think it is a good idea, and we should definitely try it again :)</p>



<a name="248418709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248418709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248418709">(Aug 04 2021 at 22:49)</a>:</h4>
<p>mistakes were probably made</p>



<a name="248418989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248418989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248418989">(Aug 04 2021 at 22:53)</a>:</h4>
<p><span class="user-mention" data-user-id="118594">@Dylan MacKenzie (ecstatic-morse)</span> does GH allow you to merge datafrog PRs now ?</p>



<a name="248419242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248419242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248419242">(Aug 04 2021 at 22:56)</a>:</h4>
<p>It does! Can we approve the README one and the module splitting?</p>



<a name="248419313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248419313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248419313">(Aug 04 2021 at 22:56)</a>:</h4>
<p>I'd say so yes</p>



<a name="248419378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248419378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248419378">(Aug 04 2021 at 22:57)</a>:</h4>
<p>Alright, I'll check out the modules one real quick to make sure everything's working</p>



<a name="248419385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248419385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248419385">(Aug 04 2021 at 22:58)</a>:</h4>
<p>esp because of:<br>
<span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/datafrog.20PRs/near/247723084">said</a>:</p>
<blockquote>
<p><a href="https://github.com/rust-lang/datafrog/pull/32/">https://github.com/rust-lang/datafrog/pull/32/</a> seems like a no-brainer</p>
</blockquote>



<a name="248419457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248419457" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248419457">(Aug 04 2021 at 22:58)</a>:</h4>
<p>sweet, thank you</p>



<a name="248420772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248420772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248420772">(Aug 04 2021 at 23:14)</a>:</h4>
<p><a href="https://github.com/rust-lang/datafrog/issues/32">rust-lang/datafrog#32</a> works on my machine, although I left a small nit (not sure if I should just commit on top and merge?). I merged the README one as well</p>



<a name="248421070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248421070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248421070">(Aug 04 2021 at 23:17)</a>:</h4>
<p>I'm not crazy about <a href="https://github.com/rust-lang/datafrog/issues/33">rust-lang/datafrog#33</a>, since it leads to really long parameter lists and makes it hard to differentiate between types vs. type parameters at a glance. I would prefer to keep things short, maybe like:</p>
<p><code>T, Tuple</code> -&gt; <code>T</code><br>
<code>K, Key</code> -&gt; <code>Key</code><br>
<code>V, Val, Value</code> -&gt; <code>Val</code><br>
<code>Result</code> -&gt; <code>Out</code></p>
<p>etc.</p>
<p>I'm new here, though so whatever fits your mental model.</p>



<a name="248422230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248422230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248422230">(Aug 04 2021 at 23:32)</a>:</h4>
<p>agreed, such shorter names seem more idiomatic but I don't have too strong of an opinion about this, I don't particularly mind the current state of things either</p>



<a name="248743089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248743089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248743089">(Aug 08 2021 at 00:23)</a>:</h4>
<blockquote>
<p>not sure if I should just commit on top and merge</p>
</blockquote>
<p>As a passing-through comment, for small enough changes to <em>my own repositories</em>, I make changes to the commit itself during a git rebase and force push to the contributor's fork, which updates the PR. I don't see a reason to have an extra commit or to involve the contributor in another cycle to satiate my own (peculiar) reviewing requirements. Just saying that as a possible alternative.</p>



<a name="248744810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248744810" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248744810">(Aug 08 2021 at 01:04)</a>:</h4>
<p>That's a good tip <span class="user-mention" data-user-id="116155">@Jake Goulding</span> . I would take the same approach if I did any open-source maintenance; it feels wrong to put 100% of the cost of nitpicking on the submitter vs. the reviewer. I wasn't actually aware you could push to PR branches on GitHub, since I haven't seen any Rust org repos do it. I think I'll wait a few days and then do just that, since I have some minor changes that will conflict.</p>



<a name="248746709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/248746709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#248746709">(Aug 08 2021 at 02:02)</a>:</h4>
<p>That‚Äôs what the little checkmark box ‚Äúallow maintainers to make changes to this PR‚Äù does when is, I believe.</p>



<a name="253162020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/253162020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> regexident <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#253162020">(Sep 13 2021 at 21:18)</a>:</h4>
<p>Hi, it's me "new contributor". <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span>üèª</p>
<p>Since my only goal with <a href="https://github.com/rust-lang/datafrog/pull/33">https://github.com/rust-lang/datafrog/pull/33</a> was the unification of naming schemes for generics I just wanted to say that I'd be just as happy to update the PR to make it go the other way: from <code>Value1</code> to <code>V1</code>, etc (or whatever else scheme would preferable). Assuming the team deems it a worthwhile change, of course.<br>
I for one just found that having generic types that "play the same role" in different functions/types made it easier to see their similarities/differences, while getting familiar with the codebase, by reducing the additional cognitive load of "what's called Val1 in function x is actually conceptionally the same as V1 in function y, as well as Value1 in function z" and figured such a change might help others, too.</p>



<a name="253453287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/253453287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#253453287">(Sep 15 2021 at 17:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116113">lqd</span> <a href="#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/Reviewing.20Datafrog.20PRs/near/248422230">said</a>:</p>
<blockquote>
<p>agreed, such shorter names seem more idiomatic but I don't have too strong of an opinion about this, I don't particularly mind the current state of things either</p>
</blockquote>
<p>I'd prefer to leave things as they are. The length of the type parameter names is a personal preference, and it's better to let the author use the convention that makes sense to them rather than try to pick a standard one. With more experience, we may find a convention that everyone can agree is clearly better, but I haven't spent enough time in the codebase yet.</p>



<a name="253453499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/Reviewing%20Datafrog%20PRs/near/253453499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/Reviewing.20Datafrog.20PRs.html#253453499">(Sep 15 2021 at 17:18)</a>:</h4>
<p>So if you're writing PRs, don't worry too much about being globally consistent: just use what makes sense in context.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>