<html>
<head><meta charset="utf-8"><title>meeting 2019.11.18 · t-compiler/wg-polonius · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/index.html">t-compiler/wg-polonius</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html">meeting 2019.11.18</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="181022604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181022604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181022604">(Nov 18 2019 at 15:00)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="116113">@lqd</span> <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> -- you around?</p>



<a name="181022621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181022621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181022621">(Nov 18 2019 at 15:01)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="181022668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181022668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181022668">(Nov 18 2019 at 15:01)</a>:</h4>
<p>how is it going ? :) did you want to do the meeting over zoom or something similar ?</p>



<a name="181022857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181022857" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181022857">(Nov 18 2019 at 15:03)</a>:</h4>
<p>wrapping up something but maybe we start with a zoom call?</p>



<a name="181022888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181022888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181022888">(Nov 18 2019 at 15:03)</a>:</h4>
<p><span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="181023062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023062" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023062">(Nov 18 2019 at 15:05)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> (and whomever else is lurking ;) <a href="https://mozilla.zoom.us/j/332990221" target="_blank" title="https://mozilla.zoom.us/j/332990221">https://mozilla.zoom.us/j/332990221</a></p>



<a name="181023148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023148">(Nov 18 2019 at 15:06)</a>:</h4>
<p>omw</p>



<a name="181023310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023310" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023310">(Nov 18 2019 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> I heard you</p>



<a name="181023315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023315">(Nov 18 2019 at 15:08)</a>:</h4>
<p>but only a bit :)</p>



<a name="181023399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023399" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023399">(Nov 18 2019 at 15:09)</a>:</h4>
<p>Do you hear me? :)</p>



<a name="181023418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023418">(Nov 18 2019 at 15:09)</a>:</h4>
<p>Seems like maybe no</p>



<a name="181023420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023420" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023420">(Nov 18 2019 at 15:09)</a>:</h4>
<p>not any more, zoom is behaving weirdly rn :/</p>



<a name="181023440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023440">(Nov 18 2019 at 15:09)</a>:</h4>
<p>Maybe we just try zulip then :)</p>



<a name="181023463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023463">(Nov 18 2019 at 15:09)</a>:</h4>
<p>I'm looking at <a href="https://github.com/rust-lang/polonius/pull/137" target="_blank" title="https://github.com/rust-lang/polonius/pull/137">https://github.com/rust-lang/polonius/pull/137</a></p>



<a name="181023521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023521" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023521">(Nov 18 2019 at 15:10)</a>:</h4>
<p>actually why don't we create a better named topic</p>



<a name="181023537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181023537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181023537">(Nov 18 2019 at 15:10)</a>:</h4>
<p>(I think I can try again with the zoom if that's better for you)</p>



<a name="181033663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181033663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanda Stjerna <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181033663">(Nov 18 2019 at 16:57)</a>:</h4>
<p>Is there anything really important for me in the gigantonormous placeholder loans thread?</p>



<a name="181033723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181033723" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanda Stjerna <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181033723">(Nov 18 2019 at 16:58)</a>:</h4>
<p>I've applied for vacation tomorrow by the way :)</p>



<a name="181033727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181033727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181033727">(Nov 18 2019 at 16:58)</a>:</h4>
<p><span class="user-mention" data-user-id="204115">@Albin Stjerna</span> not really, but we've created a <a href="https://hackmd.io/CGMNjt1hR_qYtsR9hgdGmw?edit" target="_blank" title="https://hackmd.io/CGMNjt1hR_qYtsR9hgdGmw?edit">hackmd</a> that contains the "canonical rules"</p>



<a name="181033735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181033735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181033735">(Nov 18 2019 at 16:58)</a>:</h4>
<p>it is extended with placeholder loans</p>



<a name="181033740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181033740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanda Stjerna <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181033740">(Nov 18 2019 at 16:58)</a>:</h4>
<p>Excellent, thanks!</p>



<a name="181033742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181033742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181033742">(Nov 18 2019 at 16:58)</a>:</h4>
<p>it is... <em>mostly</em> using the new names :)</p>



<a name="181033756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181033756" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181033756">(Nov 18 2019 at 16:58)</a>:</h4>
<p>I would like to clean it up just a bit more</p>



<a name="181033769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181033769" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181033769">(Nov 18 2019 at 16:58)</a>:</h4>
<p>and I'd like to integrate the move/init stuff into that</p>



<a name="181033962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181033962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanda Stjerna <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181033962">(Nov 18 2019 at 17:00)</a>:</h4>
<p>My plan is to spend tomorrow working on move analysis, including doing the same thing for that, and then save my 8 overtime hours for point-wise work during the week</p>



<a name="181034037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181034037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanda Stjerna <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181034037">(Nov 18 2019 at 17:01)</a>:</h4>
<p>"the same" means "updating the rules to use the right names and document them in the hackmd"</p>



<a name="181034789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181034789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181034789">(Nov 18 2019 at 17:08)</a>:</h4>
<blockquote>
<p>I've applied for vacation tomorrow by the way :)</p>
</blockquote>
<p>geez y'all you humble me btw</p>



<a name="181035143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035143">(Nov 18 2019 at 17:12)</a>:</h4>
<p>says the person waking up at 5AM to work on things they otherwise wouldn't have time to do so</p>



<a name="181035173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035173" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035173">(Nov 18 2019 at 17:12)</a>:</h4>
<p>I'm super excited to see polonius get unblocked though</p>



<a name="181035188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035188">(Nov 18 2019 at 17:12)</a>:</h4>
<p>every time we take enough time for me to get it back in my head, it's so fun to play with :)</p>



<a name="181035212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035212">(Nov 18 2019 at 17:13)</a>:</h4>
<p>the rest of the time I'm just like "aaaah I can't remember enough"</p>



<a name="181035220"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035220" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035220">(Nov 18 2019 at 17:13)</a>:</h4>
<p>:P</p>



<a name="181035230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035230">(Nov 18 2019 at 17:13)</a>:</h4>
<p>:D</p>



<a name="181035334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035334">(Nov 18 2019 at 17:14)</a>:</h4>
<p>(hopefully we can get it to a point where we also have good data about usage, perf, etc about datafrog, for possible usage in rustc's dataflow, or moving some of this from rustc to polonius)</p>



<a name="181035862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanda Stjerna <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035862">(Nov 18 2019 at 17:20)</a>:</h4>
<p>Right, on the off chance that I have more time to spare tomorrow, is there anywhere I can read about how to generate profiling events using measureme? I've tried googling, but there isn't even a "use this to get started" example anywhere? Can I talk to someone on here?</p>



<a name="181035950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035950">(Nov 18 2019 at 17:20)</a>:</h4>
<p>yeah <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> is the person to talk to</p>



<a name="181035977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035977">(Nov 18 2019 at 17:20)</a>:</h4>
<p>/me <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="181035981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181035981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181035981">(Nov 18 2019 at 17:20)</a>:</h4>
<p>(or mw in an european TZ)</p>



<a name="181036070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181036070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanda Stjerna <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181036070">(Nov 18 2019 at 17:21)</a>:</h4>
<p>I'll engage whomever is awake lazily :)</p>



<a name="181036116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181036116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanda Stjerna <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181036116">(Nov 18 2019 at 17:22)</a>:</h4>
<p>No need to take up anyone's attention if I don't have time to consume it</p>



<a name="181036342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181036342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181036342">(Nov 18 2019 at 17:24)</a>:</h4>
<p>as rustc is already using measureme, there are a lot of usage examples there</p>



<a name="181036393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181036393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181036393">(Nov 18 2019 at 17:25)</a>:</h4>
<p>and the API seemed easy to use, but I do wonder if you wanted to measure only polonius, or integrate polonius in rustc's measurements</p>



<a name="181036473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181036473" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181036473">(Nov 18 2019 at 17:26)</a>:</h4>
<p>both are useful, but I'm not exactly sure how/whether we can do both at the same time ?</p>



<a name="181036739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181036739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181036739">(Nov 18 2019 at 17:29)</a>:</h4>
<p>ps integrating with measureme seems awesome</p>



<a name="181036754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181036754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181036754">(Nov 18 2019 at 17:29)</a>:</h4>
<blockquote>
<p>and the API seemed easy to use, but I do wonder if you wanted to measure only polonius, or integrate polonius in rustc's measurements</p>
</blockquote>
<p>yes, I wonder about this too! it'd be cool if both of them "just worked", seems plausible</p>



<a name="181036925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181036925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181036925">(Nov 18 2019 at 17:30)</a>:</h4>
<p>I'll try to describe the idea here and whenever Wesley has the time to give us a bit of guidance, it'll be much appreciated :)</p>



<a name="181038370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181038370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181038370">(Nov 18 2019 at 17:47)</a>:</h4>
<p>The context is: polonius is in a separate library that rustc calls whenever some flags are passed, it sets up a big database, and calls a polonius function on it. Our goal would be to measure a few things (the first 2 seem straightforward usage of measureme inside rustc, I think):<br>
- the time it takes rustc to set up this data (this is done in multiple functions)<br>
- the time polonius takes globally to do its job over this data (probably just a start/end activity here)<br>
- inside polonius itself, the computation is made of multiple steps, and we'd like to measure those individually as well. </p>
<p>we wouldn't necessarily need the measurements of polonius' steps inside the <code>-Z self-profile</code> but if that worked it would be lovely :) it might require to pass the sess profiler to polonius I'm not sure ?  maybe such a measureme/self-profile integration has already been done in a similar external-library context ?</p>
<p>otherwise, measuring only rustc should IIUC only be a couple of start/end activity calls to the profiler.</p>
<p>if we can't/won't have the polonius' steps in the rustc profile, we'd just need a bit of guidance on how to set-up the profiler and push events to it, but it seems like it'd just be creating a new profiler passing it the folder it should output the 3 files into, and recording events to  it</p>



<a name="181039343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181039343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181039343">(Nov 18 2019 at 17:58)</a>:</h4>
<p>Yes, the first two things are pretty straightforward. Usually, the easiest thing to do is to use the RAII help methods on <code>SelfProfilerRef</code>. You can probably do something like <code>let _guard = tcx.sess.prof.generic_activity("building polonius db");</code>. That will record the time between when you call <code>generic_activity()</code> and when the guard is dropped.</p>



<a name="181039520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181039520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181039520">(Nov 18 2019 at 18:00)</a>:</h4>
<p>For the third thing, we haven't yet tried integrating measurme with a rustc dependency like that. If you just want to be able to have stuff show up in the self profile data dump, then I'd recomend doing what <span class="user-mention" data-user-id="116113">@lqd</span> mentioned and pass in a <code>&amp;measurme::Profiler</code> reference to the entry point for polonius.</p>



<a name="181039649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181039649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181039649">(Nov 18 2019 at 18:02)</a>:</h4>
<p>just to check, we can call <code>generic_activity</code> multiple times with the same id and it'll add up the different times right ? (as the whole "building db" activity is distributed all around the NLL constraint gathering)</p>



<a name="181039660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181039660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181039660">(Nov 18 2019 at 18:02)</a>:</h4>
<p>There's some basic docs with info on using measureme directly <a href="https://docs.rs/measureme/0.4.0/measureme/#writing-event-trace-files" target="_blank" title="https://docs.rs/measureme/0.4.0/measureme/#writing-event-trace-files">https://docs.rs/measureme/0.4.0/measureme/#writing-event-trace-files</a></p>



<a name="181039801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181039801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181039801">(Nov 18 2019 at 18:04)</a>:</h4>
<blockquote>
<p>just to check, we can call <code>generic_activity</code> multiple times with the same id and it'll add up the different times right ? (as the whole "building db" activity is distributed all around the NLL constraint gathering)</p>
</blockquote>
<p>If you call it with the same id, it's considered to be the same thing. Different tools will do different things with that data. For example, the summarization stuff will group it all together so if you want to see individual things from that, I'd recommend formatting some kind of useful id into the <code>id</code> arg like a <code>DefId</code> or something.</p>



<a name="181039830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181039830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181039830">(Nov 18 2019 at 18:04)</a>:</h4>
<p>The graphical tools like flamegraph and crox don't collapse events like that so you'll see them individually</p>



<a name="181039867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181039867" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181039867">(Nov 18 2019 at 18:05)</a>:</h4>
<p>thanks a lot <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> :)</p>



<a name="181039895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181039895" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181039895">(Nov 18 2019 at 18:05)</a>:</h4>
<p>Feel free to hop into #t-compiler/wg-self-profile with any questions or ping me directly here!</p>



<a name="181039952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181039952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181039952">(Nov 18 2019 at 18:06)</a>:</h4>
<p>I'm also happy to review any PRs or whatever</p>



<a name="181039971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/186049-t-compiler/wg-polonius/topic/meeting%202019.11.18/near/181039971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/186049-t-compiler/wg-polonius/topic/meeting.202019.2E11.2E18.html#181039971">(Nov 18 2019 at 18:06)</a>:</h4>
<p><span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>