<html>
<head><meta charset="utf-8"><title>I-prioritize #72470 LLVM error: &quot;Instruction does not domina · t-compiler/wg-prioritization · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/index.html">t-compiler/wg-prioritization</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html">I-prioritize #72470 LLVM error: &quot;Instruction does not domina</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="198466080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198466080" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198466080">(May 22 2020 at 16:54)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2403">@WG-prioritization</span> issue <a href="https://github.com/rust-lang/rust/issues/72470">#72470</a> has been requested for prioritization.</p>



<a name="198502193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198502193" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198502193">(May 22 2020 at 22:29)</a>:</h4>
<p><code>P-high</code>? This may indicate a miscompilation or at the very least incorrect MIR.</p>



<a name="198545610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198545610" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198545610">(May 23 2020 at 18:04)</a>:</h4>
<p>We should probably ping the LLVM-ICE-breakers?</p>



<a name="198545629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198545629" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198545629">(May 23 2020 at 18:05)</a>:</h4>
<p>Incorrect MIR seems unlikely to me if this bug only happens on Windows</p>



<a name="198545759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198545759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198545759">(May 23 2020 at 18:08)</a>:</h4>
<p>Also, as the code required for this doesn't seem unlikely to apprear in a "real" projet</p>



<a name="198545765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198545765" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198545765">(May 23 2020 at 18:08)</a>:</h4>
<p>IMO this would have been <code>P-critical</code> if it wasn't Windows-only</p>



<a name="198545950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198545950" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198545950">(May 23 2020 at 18:15)</a>:</h4>
<p>True. It might be related to the exception handling differences on Windows.</p>



<a name="198727980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198727980" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> o0Ignition0o - Jeremy Lempereur <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198727980">(May 26 2020 at 07:28)</a>:</h4>
<p>LeSeulArtichaut: IMO this would have been P-critical if it wasn't Windows-only</p>
<p>I suppose it can be marked as P-Critical, or would it have to affect everyone ? Windows probably represent a big chunk now ?</p>



<a name="198746209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198746209" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198746209">(May 26 2020 at 11:01)</a>:</h4>
<p>I think it could be marked as <code>P-critical</code></p>



<a name="198746260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198746260" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198746260">(May 26 2020 at 11:01)</a>:</h4>
<p>IMO miscompilations are always scary</p>



<a name="198746435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198746435" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198746435">(May 26 2020 at 11:04)</a>:</h4>
<p>And if that’s system-dependent, it can be particularly sneaky, and if it ever hits stable it could lead to hard to debug problems</p>



<a name="198756625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198756625" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DPC <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198756625">(May 26 2020 at 12:52)</a>:</h4>
<p>i agree on p-critical and yeah you can ping that group</p>



<a name="198757110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/198757110" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#198757110">(May 26 2020 at 12:56)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/72470">#72470</a>'s prioritization request has been removed.</p>



<a name="200477716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/200477716" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#200477716">(Jun 10 2020 at 21:14)</a>:</h4>
<p>Given that <span class="user-mention" data-user-id="116083">@pnkfelix</span> has reverted this I think this issue should not be <code>P-critical</code> anymore, I guess it was left open to find a better fix but we should remove <code>P-critical</code> IMO</p>



<a name="201192019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/201192019" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#201192019">(Jun 17 2020 at 19:55)</a>:</h4>
<p>This has already been fixed and backported. I think this is still something we need to look out for, so do we want to change this to <code>P-high</code> for now?</p>



<a name="201192361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2372470%20LLVM%20error%3A%20%22Instruction%20does%20not%20domina/near/201192361" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2372470.20LLVM.20error.3A.20.22Instruction.20does.20not.20domina.html#201192361">(Jun 17 2020 at 19:58)</a>:</h4>
<p>yeah, I was going over all this kind of stuff now</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>