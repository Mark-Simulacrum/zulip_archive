<html>
<head><meta charset="utf-8"><title>I-prioritize #71709 Internal Compiler Error · t-compiler/wg-prioritization · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/index.html">t-compiler/wg-prioritization</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html">I-prioritize #71709 Internal Compiler Error</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="195845097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195845097" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195845097">(Apr 30 2020 at 14:17)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2403">@WG-prioritization</span> issue <a href="https://github.com/rust-lang/rust/issues/71709" title="https://github.com/rust-lang/rust/issues/71709">#71709</a> has been requested for prioritization.</p>



<a name="195904235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195904235" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195904235">(Apr 30 2020 at 21:29)</a>:</h4>
<p>Seems quite bad</p>



<a name="195904248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195904248" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195904248">(Apr 30 2020 at 21:29)</a>:</h4>
<p>Regressed 2 days ago</p>



<a name="195904368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195904368" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195904368">(Apr 30 2020 at 21:30)</a>:</h4>
<p>Concerns mutable statics, pattern matching and MIR-opts, apparently</p>



<a name="195904379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195904379" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195904379">(Apr 30 2020 at 21:30)</a>:</h4>
<p>And ICE's on valid code</p>



<a name="195906009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195906009" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195906009">(Apr 30 2020 at 21:45)</a>:</h4>
<p>seems very bad</p>



<a name="195906038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195906038" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195906038">(Apr 30 2020 at 21:45)</a>:</h4>
<p><code>P-critical</code>, presumably?</p>



<a name="195906058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195906058" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195906058">(Apr 30 2020 at 21:45)</a>:</h4>
<p>hm well if you need a mutable static...</p>



<a name="195906074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195906074" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195906074">(Apr 30 2020 at 21:46)</a>:</h4>
<p>(MCVE + bisection is done)</p>



<a name="195906148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195906148" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195906148">(Apr 30 2020 at 21:46)</a>:</h4>
<p>if you need a mutable static I'd be inclined to p-high at most</p>



<a name="195906161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195906161" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195906161">(Apr 30 2020 at 21:46)</a>:</h4>
<p>those are incredibly rare and realistically shouldn't be used</p>



<a name="195906239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195906239" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195906239">(Apr 30 2020 at 21:47)</a>:</h4>
<p>but if replacing it with e.g. static FOO: ReallyIPromiseSync&lt;Foo&gt; = ...; where that's just a thin wrapper around UnsafeCell and implements Send/Sync doesn't help then yeah p-critical seems good</p>



<a name="195965376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize%20%2371709%20Internal%20Compiler%20Error/near/195965376" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/227806-t-compiler/wg-prioritization/topic/I-prioritize.20.2371709.20Internal.20Compiler.20Error.html#195965376">(May 01 2020 at 14:22)</a>:</h4>
<p>It does not seem to ICE in that case, assuming I have encoded your modification correctly: <a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=97e6580ccb092c5543d212f27cc095af" title="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=97e6580ccb092c5543d212f27cc095af">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=97e6580ccb092c5543d212f27cc095af</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>