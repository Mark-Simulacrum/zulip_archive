<html>
<head><meta charset="utf-8"><title>unstable build-std · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/unstable.20build-std.html">unstable build-std</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="224062920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/unstable%20build-std/near/224062920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> joey <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/unstable.20build-std.html#224062920">(Jan 26 2021 at 16:17)</a>:</h4>
<p>Hi,</p>
<p>I added <code>[unstable] build-std = ["core"]</code> to my .cargo/config.toml, is there a way to enable that only for certain targets?<br>
I want to add a cargo-xtask thing to my workspace, but that should run for my host and not use build-std</p>



<a name="224063551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/unstable%20build-std/near/224063551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> joey <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/unstable.20build-std.html#224063551">(Jan 26 2021 at 16:21)</a>:</h4>
<p>Seems like I can't add [target.] rustflags = ["-Z", "build-std=core"], that gives me "error: failed to run <code>rustc</code> to learn about target-specific information"</p>



<a name="224063806"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/unstable%20build-std/near/224063806" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> joey <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/unstable.20build-std.html#224063806">(Jan 26 2021 at 16:22)</a>:</h4>
<p>(Oh right, it's a cargo flag, not a rustc one)</p>



<a name="224075302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/unstable%20build-std/near/224075302" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/unstable.20build-std.html#224075302">(Jan 26 2021 at 17:42)</a>:</h4>
<p>I don't think that can be done via config.</p>



<a name="224075778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/unstable%20build-std/near/224075778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> joey <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/unstable.20build-std.html#224075778">(Jan 26 2021 at 17:45)</a>:</h4>
<p>Hopefully these features will be able to be used from cargo.toml in the future</p>



<a name="224076517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/unstable%20build-std/near/224076517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> joey <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/unstable.20build-std.html#224076517">(Jan 26 2021 at 17:50)</a>:</h4>
<p>But it turns out I don't need it, cargo-xtask seems like a lot of code compared to a Makefile for my use case :/</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>