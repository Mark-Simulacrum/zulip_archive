<html>
<head><meta charset="utf-8"><title>[profile.release] works in 1.34 but not 1.40 · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html">[profile.release] works in 1.34 but not 1.40</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="222187849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222187849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222187849">(Jan 09 2021 at 20:26)</a>:</h4>
<p>:(</p>
<div class="codehilite"><pre><span></span><code>&gt; cargo +1.40 build
error: failed to parse manifest at `/home/joshua/src/yottadb/YDBRust/Cargo.toml`

Caused by:
  feature `profile-overrides` is required

this Cargo does not support nightly features, but if you
switch to nightly channel you can add
`cargo-features = [&quot;profile-overrides&quot;]` to enable this feature
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&gt; cargo +1.34 build
warning: unused manifest key: profile.release.package
</code></pre></div>
<p>It's fine for it not to do anything, but I wish it would at least compile. Is there any way to say "apply this feature if it's supported"? It's since been stabilized.</p>



<a name="222187983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222187983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222187983">(Jan 09 2021 at 20:28)</a>:</h4>
<p>I tried</p>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="k">[target.'cfg(not(debug_assertions))']</span>
<span class="n">opt-level</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></div>
<p>which gives</p>
<div class="codehilite"><pre><span></span><code>warning: Found `debug_assertions` in `target.&#39;cfg(...)&#39;.dependencies`. This value is not supported for selecting dependencies and will not work as expected. To learn more visit https://doc.rust-lang.org/cargo/reference/specifying-dependencies.html#platform-specific-dependencies
</code></pre></div>



<a name="222188117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222188117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222188117">(Jan 09 2021 at 20:31)</a>:</h4>
<p>hmm, <code>CARGO_PROFILE_RELEASE_BUILD_OVERRIDE_OPT_LEVEL=0</code> might work</p>



<a name="222188160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222188160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222188160">(Jan 09 2021 at 20:32)</a>:</h4>
<p>how can I tell if that variable is actually being used?</p>



<a name="222190297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222190297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222190297">(Jan 09 2021 at 21:17)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> If you mean how to determine if the environment variable is being used, the usual way to run <code>cargo build -v</code> and inspect the flags being passed are what you expect.</p>



<a name="222190365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222190365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222190365">(Jan 09 2021 at 21:19)</a>:</h4>
<p>FWIW, opt-level=0 is the default for build dependencies.</p>



<a name="222190374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222190374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222190374">(Jan 09 2021 at 21:20)</a>:</h4>
<p><a href="https://doc.rust-lang.org/cargo/reference/profiles.html#build-dependencies">https://doc.rust-lang.org/cargo/reference/profiles.html#build-dependencies</a></p>



<a name="222190951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222190951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222190951">(Jan 09 2021 at 21:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="120518">Eric Huss</span> <a href="#narrow/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40/near/222190365">said</a>:</p>
<blockquote>
<p>FWIW, opt-level=0 is the default for build dependencies.</p>
</blockquote>
<p>since 1.49, right, but we use older toolchains at work</p>



<a name="222191000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191000">(Jan 09 2021 at 21:38)</a>:</h4>
<p>and neither 'just update' nor 'let it go for older toolchains' is very attractive, because these are raspberry pis and it can mean almost an hour of difference with <code>opt-level=3</code></p>



<a name="222191291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191291">(Jan 09 2021 at 21:47)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> Then the environment variable is your best bet.</p>



<a name="222191310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191310" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191310">(Jan 09 2021 at 21:47)</a>:</h4>
<p>But also, this is an instance of a problem we've had various times, where "doesn't exist" is a more forgiving state than "exists and is known to be nightly only".</p>



<a name="222191369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191369" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191369">(Jan 09 2021 at 21:48)</a>:</h4>
<p>I would much prefer for nightly-only features to give a warning and be ignored, yeah</p>



<a name="222191371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191371">(Jan 09 2021 at 21:48)</a>:</h4>
<p>unlike language features, it's usually feasible to just ignore the option and have the build work</p>



<a name="222191373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191373">(Jan 09 2021 at 21:49)</a>:</h4>
<p>I don't think that's <em>always</em> the right behavior. Some things cannot safely be silently ignored.</p>



<a name="222191376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191376">(Jan 09 2021 at 21:49)</a>:</h4>
<p>But in this particular case, they can.</p>



<a name="222191380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191380">(Jan 09 2021 at 21:49)</a>:</h4>
<p>(New dependency syntax, for instance, needs to fail noisily if not available.)</p>



<a name="222191384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191384">(Jan 09 2021 at 21:49)</a>:</h4>
<p>Also, if you want something you can write directly in the manifest for now, though it's more verbose, you could individually address dependencies by crate name.</p>



<a name="222191390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191390">(Jan 09 2021 at 21:49)</a>:</h4>
<p>well, there's 42 dependencies so I would prefer not to <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="222191441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191441">(Jan 09 2021 at 21:50)</a>:</h4>
<p>42 build-dependencies, or 42 dependencies total?</p>



<a name="222191448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191448">(Jan 09 2021 at 21:50)</a>:</h4>
<p>In any case, just offering an alternative, if you needed something you could list in the profile.</p>



<a name="222191449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191449">(Jan 09 2021 at 21:50)</a>:</h4>
<p>this crate has no runtime dependencies</p>



<a name="222191454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191454">(Jan 09 2021 at 21:51)</a>:</h4>
<p>which is why this feels so frustrating, conceptually it's very simple</p>



<a name="222191460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191460">(Jan 09 2021 at 21:51)</a>:</h4>
<p>"just make everything -O0 except my crate"</p>



<a name="222191465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191465">(Jan 09 2021 at 21:51)</a>:</h4>
<p>Hrm. I just realized, I think per-package overrides might also not have been stable until around the same time as <code>build-override</code>...</p>



<a name="222191472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191472">(Jan 09 2021 at 21:51)</a>:</h4>
<p>Not sure whether there was a point where the former was stable and not the latter.</p>



<a name="222191513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191513">(Jan 09 2021 at 21:52)</a>:</h4>
<p>yeah that's the one that's giving an error right now, <code>profile.release.package."*"</code></p>



<a name="222191533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191533">(Jan 09 2021 at 21:52)</a>:</h4>
<p>Did <code>-v</code> show that the environment variable was working?</p>



<a name="222191537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191537">(Jan 09 2021 at 21:53)</a>:</h4>
<p>I haven't tried it yet</p>



<a name="222191538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191538">(Jan 09 2021 at 21:53)</a>:</h4>
<p>What toolchain version do you use at work?</p>



<a name="222191543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191543">(Jan 09 2021 at 21:53)</a>:</h4>
<p>many <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="222191547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191547" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191547">(Jan 09 2021 at 21:53)</a>:</h4>
<p>"the latest thing available from package repositories", but across many different operating systems</p>



<a name="222191601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191601">(Jan 09 2021 at 21:54)</a>:</h4>
<p>I'm curious, and I think I may have asked this before, but why is "available from package repositories" a selection criteria in this context? Is a vendored toolchain not an option at all?</p>



<a name="222191608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191608">(Jan 09 2021 at 21:55)</a>:</h4>
<p>I'm not sure what you mean by a vendored toolchain. Rustup isn't an option because it's per-user</p>



<a name="222191616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191616" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191616">(Jan 09 2021 at 21:55)</a>:</h4>
<p>I wasn't asking about rustup, because I know there are often reasons why that isn't an option.</p>



<a name="222191659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191659">(Jan 09 2021 at 21:56)</a>:</h4>
<p>By a vendored toolchain, I mean storing a compiled toolchain in a repository people obtain when they obtain the source code to be compiled, and arranging to use that toolchain rather than whatever they might have installed.</p>



<a name="222191662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191662" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191662">(Jan 09 2021 at 21:56)</a>:</h4>
<p>You can then update the vendored toolchain when you wish.</p>



<a name="222191667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191667" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191667">(Jan 09 2021 at 21:57)</a>:</h4>
<p>that's basically a package manager, but with your own registry, right?</p>



<a name="222191671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191671">(Jan 09 2021 at 21:57)</a>:</h4>
<p>that sounds like a lot of work to set up <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="222191675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191675" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191675">(Jan 09 2021 at 21:57)</a>:</h4>
<p>plus we'd have to pre-compile the toolchain for a bunch of different platforms which will be a god awful pain because rustc takes so long to compile</p>



<a name="222191678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191678">(Jan 09 2021 at 21:57)</a>:</h4>
<p>Not especially, and no, you wouldn't necessarily have to compile it yourself.</p>



<a name="222191726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191726">(Jan 09 2021 at 21:58)</a>:</h4>
<p>well, anyway I think I've used up my new technology budget at work <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="222191736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191736">(Jan 09 2021 at 21:58)</a>:</h4>
<p>What I'm suggesting is that you could download the same compiled stable toolchain that rustup would have downloaded, take the resulting tarball, check it in somewhere, and have your build scripts unpack it and use it.</p>



<a name="222191740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191740">(Jan 09 2021 at 21:58)</a>:</h4>
<p>It's a little annoying, but less annoying than having to run on older Rust/Cargo. ;)</p>



<a name="222191808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191808">(Jan 09 2021 at 22:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40/near/222191736">said</a>:</p>
<blockquote>
<p>What I'm suggesting is that you could download the same compiled stable toolchain that rustup would have downloaded, take the resulting tarball, check it in somewhere, and have your build scripts unpack it and use it.</p>
</blockquote>
<p>the difference is that this requires maintaining the scripts in perpetuity</p>



<a name="222191810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191810" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191810">(Jan 09 2021 at 22:00)</a>:</h4>
<p>making things work with 1.40 only has to be done once</p>



<a name="222191821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191821">(Jan 09 2021 at 22:01)</a>:</h4>
<p>Fair.</p>



<a name="222191832"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191832" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191832">(Jan 09 2021 at 22:01)</a>:</h4>
<p>(Though "making things continue to work with 1.40" is a continuous maintenance burden.)</p>



<a name="222191835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191835" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191835">(Jan 09 2021 at 22:01)</a>:</h4>
<p>(Assuming, at least, that you actively develop the code in question.)</p>



<a name="222191885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191885">(Jan 09 2021 at 22:02)</a>:</h4>
<p>it's more passively maintained, yeah</p>



<a name="222191886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191886">(Jan 09 2021 at 22:02)</a>:</h4>
<p>In any case, I hope that the environment solution works for you, so that you can get the performance benefit you're hoping for.</p>



<a name="222191891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222191891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222191891">(Jan 09 2021 at 22:02)</a>:</h4>
<p>and also, there isn't <em>so</em> much being stabilized that 1.40 is a burden</p>



<a name="222193604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222193604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222193604">(Jan 09 2021 at 22:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="120518">Eric Huss</span> <a href="#narrow/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40/near/222190297">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> If you mean how to determine if the environment variable is being used, the usual way to run <code>cargo build -v</code> and inspect the flags being passed are what you expect.</p>
</blockquote>
<p>this worked, thanks :)</p>



<a name="222195880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222195880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222195880">(Jan 09 2021 at 23:56)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> Why are on 1.40 by the way? Not asking as a solution to your issue, but I’m generally interested in knowing why people are on one version over another?</p>



<a name="222195897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222195897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222195897">(Jan 09 2021 at 23:57)</a>:</h4>
<p><span class="user-mention" data-user-id="219696">@XAMPPRocky</span> that's the lowest version bindgen will build on. We were on 1.34 until recently when bindgen bumped their MSRV.</p>



<a name="222196157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222196157" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222196157">(Jan 09 2021 at 23:58)</a>:</h4>
<p>(and would have been on 1.34 a lot longer if I hadn't decided it was better to get this over with)</p>



<a name="222196233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222196233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222196233">(Jan 10 2021 at 00:00)</a>:</h4>
<p>Interesting, I also saw you mentioned not using rustup, is there a specific reason or limitation for that and being pinned to a specific version?</p>



<a name="222196601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222196601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222196601">(Jan 10 2021 at 00:13)</a>:</h4>
<p>We don't use rustup because it installs per user, there's no way to set up a toolchain for everyone on the same machine. We're not pinned to a <em>specific</em> version, but the lower the version the better. If our crate needs a version that's above the latest packaged, we just don't run tests on that host, which isn't ideal. I had to do that for the Debian 9 Pi's, nothing remotely modern compiles with 1.22</p>



<a name="222196655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222196655" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222196655">(Jan 10 2021 at 00:14)</a>:</h4>
<p>And the speed is a major issue too, I've spent at least as much time debugging rustc segfaults as actually working on the crate. I think the segfaults are related to OOM but they're non deterministic and I haven't gotten a stack trace yet.</p>



<a name="222196666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222196666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222196666">(Jan 10 2021 at 00:15)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/72894">https://github.com/rust-lang/rust/issues/72894</a></p>



<a name="222196834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222196834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222196834">(Jan 10 2021 at 00:20)</a>:</h4>
<p>Some changes I've had to make because of compile times:</p>
<ul>
<li><a href="https://gitlab.com/YottaDB/Lang/YDBRust/-/merge_requests/81">https://gitlab.com/YottaDB/Lang/YDBRust/-/merge_requests/81</a></li>
<li><a href="https://gitlab.com/YottaDB/DB/YDBTest/-/merge_requests/1098">https://gitlab.com/YottaDB/DB/YDBTest/-/merge_requests/1098</a></li>
<li><a href="https://gitlab.com/YottaDB/DB/YDBTest/-/merge_requests/1039">https://gitlab.com/YottaDB/DB/YDBTest/-/merge_requests/1039</a></li>
<li><a href="https://gitlab.com/YottaDB/DB/YDBTest/-/merge_requests/969">https://gitlab.com/YottaDB/DB/YDBTest/-/merge_requests/969</a><br>
-</li>
</ul>



<a name="222196843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222196843" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222196843">(Jan 10 2021 at 00:20)</a>:</h4>
<p>For a sense of scale, it uses to take several hours to compile on the PIs, I think it's down to ~45 minutes now</p>



<a name="222196846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222196846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222196846">(Jan 10 2021 at 00:21)</a>:</h4>
<p>(the same project is about 3 seconds on x86_64)</p>



<a name="222197427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222197427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222197427">(Jan 10 2021 at 00:36)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> When you say it installs per user, can you not have <code>$RUSTUP_HOME</code> point to a shared system directory and have it work?</p>



<a name="222197493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222197493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222197493">(Jan 10 2021 at 00:38)</a>:</h4>
<p><a href="https://github.com/rust-lang/rustup/issues/313#issuecomment-627179644">https://github.com/rust-lang/rustup/issues/313#issuecomment-627179644</a></p>



<a name="222197510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222197510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222197510">(Jan 10 2021 at 00:39)</a>:</h4>
<p>That <em>may</em> work but it's a lot more fragile than just using a package manager</p>



<a name="222197601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/%5Bprofile.release%5D%20works%20in%201.34%20but%20not%201.40/near/222197601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.5Bprofile.2Erelease.5D.20works.20in.201.2E34.20but.20not.201.2E40.html#222197601">(Jan 10 2021 at 00:41)</a>:</h4>
<p>And while I'm willing to pioneer bleeding edge things for side projects, I am not willing to do that at my job</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>