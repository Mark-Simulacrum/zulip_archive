<html>
<head><meta charset="utf-8"><title>openssl 3 · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html">openssl 3</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="259923966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259923966" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259923966">(Nov 01 2021 at 21:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span> I don't suppose you've had a chance to investigate why openssl 3 is failing with a certificate problem?</p>



<a name="259924071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924071">(Nov 01 2021 at 21:29)</a>:</h4>
<p>oh I did, I thought I posted a comment...</p>



<a name="259924183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924183">(Nov 01 2021 at 21:30)</a>:</h4>
<p>oh I remember now, I was under the assumption that it was a misconfigured openssl that couldn't find the cert stores, and then other bugs means that cargo didn't use openssl-probe correctly</p>



<a name="259924228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924228">(Nov 01 2021 at 21:30)</a>:</h4>
<p>to test my hypothesis we'd need a distro with an openssl3 package, of which I am not aware of any</p>



<a name="259924252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924252">(Nov 01 2021 at 21:30)</a>:</h4>
<p>Ah <a href="https://github.com/rust-lang/cargo/issues/10013#issuecomment-952348940">https://github.com/rust-lang/cargo/issues/10013#issuecomment-952348940</a></p>
<p>i've been offline for a bit and am catching up</p>



<a name="259924348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924348">(Nov 01 2021 at 21:31)</a>:</h4>
<p>I guess I'm confused why CI was working as recently as Friday, and is now not working.</p>



<a name="259924524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924524">(Nov 01 2021 at 21:33)</a>:</h4>
<p>oh dear</p>



<a name="259924530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924530">(Nov 01 2021 at 21:33)</a>:</h4>
<p>got a link?</p>



<a name="259924542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924542">(Nov 01 2021 at 21:33)</a>:</h4>
<p>It seems to have switched to openssl-src v300</p>



<a name="259924549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924549">(Nov 01 2021 at 21:33)</a>:</h4>
<p><a href="https://github.com/rust-lang/cargo/runs/4064166071?check_suite_focus=true#step:19:43">https://github.com/rust-lang/cargo/runs/4064166071?check_suite_focus=true#step:19:43</a></p>



<a name="259924571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924571">(Nov 01 2021 at 21:34)</a>:</h4>
<p>60] SSL peer certificate or SSH remote key was not OK (SSL certificate problem: unable to get local issuer certificate)</p>



<a name="259924620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924620" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924620">(Nov 01 2021 at 21:34)</a>:</h4>
<p>oh ok yeah that's a bug we can fix in two locations</p>



<a name="259924626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924626">(Nov 01 2021 at 21:34)</a>:</h4>
<p>I can send some prs</p>



<a name="259924628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924628">(Nov 01 2021 at 21:34)</a>:</h4>
<p>A CI build on Friday used openssl-src v111.16.0+1.1.1l</p>



<a name="259924725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924725">(Nov 01 2021 at 21:35)</a>:</h4>
<p>Oh, I see, openssl-sys was published a few days ago bumping to v300</p>



<a name="259924904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259924904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259924904">(Nov 01 2021 at 21:37)</a>:</h4>
<p><a href="https://github.com/sfackler/rust-openssl/pull/1548">https://github.com/sfackler/rust-openssl/pull/1548</a> is one way to fix this, I'll go fix curl now</p>



<a name="259925124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925124">(Nov 01 2021 at 21:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116015">Alex Crichton</span> <a href="#narrow/stream/246057-t-cargo/topic/openssl.203/near/259924228">said</a>:</p>
<blockquote>
<p>to test my hypothesis we'd need a distro with an openssl3 package, of which I am not aware of any</p>
</blockquote>
<p>Fedora rawhide has <code>openssl-3.0.0-1.fc36</code></p>



<a name="259925166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925166">(Nov 01 2021 at 21:39)</a>:</h4>
<p>you could use that in a container for a quick test -- pull <code>registry.fedoraproject.org/fedora:rawhide</code></p>



<a name="259925314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925314">(Nov 01 2021 at 21:41)</a>:</h4>
<p><a href="https://github.com/alexcrichton/curl-rust/pull/418">https://github.com/alexcrichton/curl-rust/pull/418</a> is the other way to fix this. Either fix should work and I think we should probably land both</p>



<a name="259925438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925438">(Nov 01 2021 at 21:42)</a>:</h4>
<p><span class="user-mention" data-user-id="138448">@cuviper</span> can I take advantage of your presence to ask how to install <code>curl</code> in that image?</p>



<a name="259925470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925470">(Nov 01 2021 at 21:42)</a>:</h4>
<p>I think I need the <code>sudo apt-get update</code> equivalent to get <code>yum install curl</code> working</p>



<a name="259925529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925529">(Nov 01 2021 at 21:43)</a>:</h4>
<p>there's no such equivalent, it syncs by default</p>



<a name="259925530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925530">(Nov 01 2021 at 21:43)</a>:</h4>
<p>or rather I'm stuck at </p>
<div class="codehilite"><pre><span></span><code>[root@63dcf924e3d2 /]# yum update
Fedora rawhide openh264 (From Cisco) - x86_64                                                                                                                                                                                                                                                   0.0  B/s |   0  B     00:00
Errors during downloading metadata for repository &#39;fedora-cisco-openh264&#39;:
  - Curl error (6): Couldn&#39;t resolve host name for https://mirrors.fedoraproject.org/metalink?repo=fedora-cisco-openh264-rawhide&amp;arch=x86_64 [getaddrinfo() thread failed to start]
Error: Failed to download metadata for repo &#39;fedora-cisco-openh264&#39;: Cannot prepare internal mirrorlist: Curl error (6): Couldn&#39;t resolve host name for https://mirrors.fedoraproject.org/metalink?repo=fedora-cisco-openh264-rawhide&amp;arch=x86_64 [getaddrinfo() thread failed to start]
Fedora - Rawhide - Developmental packages for the next Fedora release                                                                                                                                                                                                                           0.0  B/s |   0  B     00:00
Errors during downloading metadata for repository &#39;rawhide&#39;:
  - Curl error (6): Couldn&#39;t resolve host name for https://mirrors.fedoraproject.org/metalink?repo=rawhide&amp;arch=x86_64 [getaddrinfo() thread failed to start]
Error: Failed to download metadata for repo &#39;rawhide&#39;: Cannot prepare internal mirrorlist: Curl error (6): Couldn&#39;t resolve host name for https://mirrors.fedoraproject.org/metalink?repo=rawhide&amp;arch=x86_64 [getaddrinfo() thread failed to start]
</code></pre></div>



<a name="259925573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925573">(Nov 01 2021 at 21:43)</a>:</h4>
<p>weird</p>



<a name="259925634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925634" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925634">(Nov 01 2021 at 21:44)</a>:</h4>
<p>fwiw, the image already has <code>/usr/bin/curl</code></p>



<a name="259925657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925657">(Nov 01 2021 at 21:44)</a>:</h4>
<p>but I imagine you'll want other stuff from the network too</p>



<a name="259925692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925692" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925692">(Nov 01 2021 at 21:45)</a>:</h4>
<p>heh indeed</p>
<div class="codehilite"><pre><span></span><code>[root@63dcf924e3d2 /]# curl https://sh.rustup.rs | sh
curl: (6) getaddrinfo() thread failed to start
</code></pre></div>



<a name="259925754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925754">(Nov 01 2021 at 21:45)</a>:</h4>
<p>I'm also using <code>podman</code> rather than <code>docker</code>, but the container ought to work for either</p>



<a name="259925867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925867" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925867">(Nov 01 2021 at 21:46)</a>:</h4>
<p>just tried it with <code>docker</code> too, no problem</p>



<a name="259925925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925925">(Nov 01 2021 at 21:47)</a>:</h4>
<p>ah well, perhaps I will test some other time</p>



<a name="259925965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259925965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259925965">(Nov 01 2021 at 21:47)</a>:</h4>
<p>too bad, but this isn't your yak</p>



<a name="259926112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259926112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259926112">(Nov 01 2021 at 21:49)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> would you be up for reviewing <a href="https://github.com/alexcrichton/curl-rust/pull/418">https://github.com/alexcrichton/curl-rust/pull/418</a> and/or <a href="https://github.com/alexcrichton/curl-rust/pull/419">https://github.com/alexcrichton/curl-rust/pull/419</a>?</p>



<a name="259926296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259926296" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259926296">(Nov 01 2021 at 21:51)</a>:</h4>
<p>Hm, I just tried 418 locally and it still got the certificate error.</p>



<a name="259926307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259926307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259926307">(Nov 01 2021 at 21:51)</a>:</h4>
<p>lemme try 419</p>



<a name="259926396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259926396" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259926396">(Nov 01 2021 at 21:52)</a>:</h4>
<p>oh right this is easier to test with openssl-sys updated now</p>



<a name="259926536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259926536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259926536">(Nov 01 2021 at 21:53)</a>:</h4>
<p>419 seems to work</p>



<a name="259926684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259926684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259926684">(Nov 01 2021 at 21:55)</a>:</h4>
<p>yeah can confirm 419 works, lemme dig more into 418</p>



<a name="259927419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259927419" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259927419">(Nov 01 2021 at 22:02)</a>:</h4>
<p>hm I'll have to continue tomorrow, I'm finishing up for today</p>



<a name="259927440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259927440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259927440">(Nov 01 2021 at 22:02)</a>:</h4>
<p>no worries, thanks for taking a look!</p>



<a name="259928486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/259928486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#259928486">(Nov 01 2021 at 22:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116015">Alex Crichton</span> <a href="#narrow/stream/246057-t-cargo/topic/openssl.203/near/259924228">said</a>:</p>
<blockquote>
<p>to test my hypothesis we'd need a distro with an openssl3 package, of which I am not aware of any</p>
</blockquote>
<p>Debian experimental has it (though it looks like from later in the thread you're already using Fedora).</p>



<a name="260003094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/260003094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#260003094">(Nov 02 2021 at 14:31)</a>:</h4>
<p>ok I know now why <a href="https://github.com/alexcrichton/curl-rust/pull/418">https://github.com/alexcrichton/curl-rust/pull/418</a> didn't work, it's because that PR still doesn't actually detect openssl in use (due to a bug in the build script). With a lack of openssl detected then openssl-probe isn't used at all. This means that the env vars weren't set b/c openssl-probe wasn't used. On the other hand 419 works because openssl is now actually detected so it's used. I'm actually gonna merge these both now since I think it's best to have both</p>



<a name="260006319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/openssl%203/near/260006319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/openssl.203.html#260006319">(Nov 02 2021 at 14:54)</a>:</h4>
<p>Sounds good, thanks Alex!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>