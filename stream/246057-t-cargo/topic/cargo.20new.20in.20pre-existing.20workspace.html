<html>
<head><meta charset="utf-8"><title>cargo new in pre-existing workspace · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/cargo.20new.20in.20pre-existing.20workspace.html">cargo new in pre-existing workspace</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261928880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/cargo%20new%20in%20pre-existing%20workspace/near/261928880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> krtab <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/cargo.20new.20in.20pre-existing.20workspace.html#261928880">(Nov 18 2021 at 13:48)</a>:</h4>
<p>Hi!</p>
<p>As mentioned on <a class="stream" data-stream-id="122651" href="/#narrow/stream/122651-general">#general</a> I wanted to tackle <a href="https://github.com/rust-lang/cargo/issues/6378">https://github.com/rust-lang/cargo/issues/6378</a> but found that the main blocking point is the code structure. I'd love to have the opinion of cargo developers. I made a comment on the issues highlighting the difficulties I'm perceiving:<br>
<a href="https://github.com/rust-lang/cargo/issues/6378#issuecomment-972879170">https://github.com/rust-lang/cargo/issues/6378#issuecomment-972879170</a></p>



<a name="261928925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/cargo%20new%20in%20pre-existing%20workspace/near/261928925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> krtab <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/cargo.20new.20in.20pre-existing.20workspace.html#261928925">(Nov 18 2021 at 13:48)</a>:</h4>
<p>Feel free to discuss it here as well in a less "formal" setting than github</p>



<a name="261942809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/cargo%20new%20in%20pre-existing%20workspace/near/261942809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/cargo.20new.20in.20pre-existing.20workspace.html#261942809">(Nov 18 2021 at 15:31)</a>:</h4>
<p>I think one of the problems is that cargo doesn't have the ability to edit <code>Cargo.toml</code> to add the package to the workspace members.  Someone has been working on getting that working, see <a href="https://github.com/rust-lang/cargo/issues/5586">https://github.com/rust-lang/cargo/issues/5586</a> for more information.</p>
<p>I would also think that editing the <code>[workspace]</code> might be tricky if it has excludes or globs.  That is something to think about how to resolve.</p>



<a name="262019233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/cargo%20new%20in%20pre-existing%20workspace/near/262019233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/cargo.20new.20in.20pre-existing.20workspace.html#262019233">(Nov 19 2021 at 02:10)</a>:</h4>
<p>I'd welcome help in <a href="https://github.com/ordian/toml_edit/labels/cargo">closing the gap</a> so we can <a href="https://github.com/rust-lang/cargo/pull/10086">merge toml_edit support</a>!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>