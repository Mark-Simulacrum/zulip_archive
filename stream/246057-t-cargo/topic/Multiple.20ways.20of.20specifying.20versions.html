<html>
<head><meta charset="utf-8"><title>Multiple ways of specifying versions · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html">Multiple ways of specifying versions</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269784034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269784034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269784034">(Jan 28 2022 at 18:51)</a>:</h4>
<p>In <a href="https://internals.rust-lang.org/t/feedback-on-cargo-add-before-its-merged/16024">polishing up cargo-add for inclusion</a>, a couple things came up in the conversation</p>
<ul>
<li>If we have an explicit version flag, what to name it.  <code>cargo yank</code> uses <code>--vers</code> while <code>cargo install</code> uses <code>--version</code> (with a hidden alias for <code>--vers</code>)<ul>
<li>Note: <code>cargo install --vers &lt;version&gt;</code> does accept a version-req, the help just doesn't say so</li>
</ul>
</li>
<li>While <code>cargo check</code> and friends support an inline version syntax (<code>name:version</code>), <code>cargo install</code> and others do not</li>
<li>Whether the precedence for <code>:</code> in PKGIDs outweighs the precedence for <code>@</code> outside of Rust</li>
</ul>
<p>So my questions are:</p>
<ul>
<li>Should we accept <code>name:version</code> in more places?</li>
<li>Should we re-evaluate using <code>@</code> instead of <code>:</code>?<ul>
<li>Only thought to bring this change up because of <a href="https://internals.rust-lang.org/t/feedback-on-cargo-add-before-its-merged/16024/29">a comment</a> from <span class="user-mention" data-user-id="239881">@Josh Triplett</span> </li>
<li>Of course, backwards compatibility applies.  We'd still accept <code>:</code>, just focus documentation on <code>@</code>.</li>
</ul>
</li>
<li>Should we make <code>cargo install</code> and <code>cargo yank</code> consistent?</li>
</ul>
<p><em>Note: I do not consider making cargo consistent a blocker for <code>cargo add</code> but deciding on a direction would be.</em></p>



<a name="269784418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269784418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269784418">(Jan 28 2022 at 18:54)</a>:</h4>
<p><span class="user-mention" data-user-id="424212">@Ed Page</span> So, FWIW, I don't necessarily consider the use of <code>:</code> in PKGID precedent for using <code>:</code> for version <em>constraints</em>. You can write <code>name@=1.2.3</code> or <code>name@1.2</code> or <code>name@1</code>, even though none of those are version numbers.</p>



<a name="269784682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269784682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269784682">(Jan 28 2022 at 18:56)</a>:</h4>
<p>So your thought is <code>:</code> for <code>name:version</code> and <code>@</code> for <code>name:version-req</code>?</p>



<a name="269785498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269785498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eh2406 <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269785498">(Jan 28 2022 at 19:01)</a>:</h4>
<p>I like that</p>



<a name="269785758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269785758" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269785758">(Jan 28 2022 at 19:02)</a>:</h4>
<p>I feel like the roles are similar enough (e.g. <code>cargo install</code> conflating them) that having a consistent separator would help in jumping between commands rather than having to think "this is only a version, so I have to use <code>:</code>".</p>



<a name="269785856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269785856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269785856">(Jan 28 2022 at 19:03)</a>:</h4>
<p>And <code>@</code> meaning "This package, at this version" applies even more for versions than version reqs.</p>



<a name="269786187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269786187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eh2406 <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269786187">(Jan 28 2022 at 19:05)</a>:</h4>
<p>We will have switching costs somewhere:</p>
<ul>
<li>between cargo and npm</li>
<li>between add and update</li>
<li>between old cargo and newer cargo</li>
</ul>
<p>We have to pick one. I don't see how to avoid it.</p>



<a name="269786407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269786407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269786407">(Jan 28 2022 at 19:06)</a>:</h4>
<p><span class="user-mention" data-user-id="120179">@Eh2406</span> I think we can pick the last one, and then eliminate the switching cost by accepting both for compatibility.</p>



<a name="269786511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269786511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269786511">(Jan 28 2022 at 19:07)</a>:</h4>
<p>I'm suggesting that we use <code>@</code> everywhere, and also accept <code>:</code> everywhere that currently accepts <code>:</code>.</p>



<a name="269786721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269786721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269786721">(Jan 28 2022 at 19:08)</a>:</h4>
<p>Yes, no matter what, there is a cost.</p>
<p>Maybe I'm biased from my own workflow but I'm barely aware of <code>:</code> because of having to do <code>cargo test -p clap:3.0.13</code> because we also depend on criterion which is on clap2.   So I feel like if we transitioned from <code>:</code> now is a good time before adding it or <code>@</code>s use to other commands.</p>



<a name="269786960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269786960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269786960">(Jan 28 2022 at 19:09)</a>:</h4>
<p>(on the thread, it sounds like some others weren't aware <code>:</code> also)</p>



<a name="269787151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269787151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269787151">(Jan 28 2022 at 19:10)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> I guess I misunderstood your earlier comment's intent.  Thanks for clarifying.</p>



<a name="269788607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269788607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269788607">(Jan 28 2022 at 19:22)</a>:</h4>
<p>Yeah, I don't want anyone having to think about "what kind of version is this".</p>



<a name="269792282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269792282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269792282">(Jan 28 2022 at 19:51)</a>:</h4>
<p>The historical context of <code>cargo yank --vers xxx</code> is that we couldn't use <code>--version</code> since that's the same as <code>cargo --version</code>. I think though that this may be fixed with clap? It looks like clap prints an unknown argument error with <code>cargo install --version</code> where I think with docopt historically it printed the version. That means we could probably rename <code>--vers</code> to <code>--version</code> everywhere (since that's what everyone expects)</p>



<a name="269792297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269792297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269792297">(Jan 28 2022 at 19:51)</a>:</h4>
<p>(keeping <code>--vers</code> of course for backcompat)</p>



<a name="269792342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269792342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269792342">(Jan 28 2022 at 19:51)</a>:</h4>
<p>where is <code>@</code> supported in Cargo though? (I must have forgotten?)</p>



<a name="269792517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269792517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269792517">(Jan 28 2022 at 19:52)</a>:</h4>
<p>It's worth pointing out that <code>cargo test -p foo:1.2.3</code> is only really relevant if you have multiple versions of <code>foo</code> in your crate graph, and given that <code>-p</code> for things like <code>test</code> and <code>build</code> is only for local crates that doesn't matter anyway since your local crates can only have one version. This is mostly useful for <code>cargo update -p foo:1.2.3</code> when you only want to update one version and not the other</p>



<a name="269794590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269794590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269794590">(Jan 28 2022 at 20:07)</a>:</h4>
<blockquote>
<p>where is @ supported in Cargo though? (I must have forgotten?)</p>
</blockquote>
<p>It isn't yet. <code>cargo add</code> was using it and I changed it to <code>:</code> but am getting feedback that we should instead look into changing cargo.</p>



<a name="269794763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269794763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269794763">(Jan 28 2022 at 20:08)</a>:</h4>
<blockquote>
<p>It's worth pointing out that cargo test -p foo:1.2.3 is only really relevant if you have multiple versions of foo in your crate graph, and given that -p for things like test and build is only for local crates that doesn't matter anyway since your local crates can only have one version. This is mostly useful for cargo update -p foo:1.2.3 when you only want to update one version and not the other</p>
</blockquote>
<p>They still complain about non-local crates</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">clap $ cargo test -p clap</span>
<span class="go">error: There are multiple `clap` packages in your project, and the specification `clap` is ambiguous.</span>
<span class="go">Please re-run this command with `-p &lt;spec&gt;` where `&lt;spec&gt;` is one of the following:</span>
<span class="go">  clap:2.33.3</span>
<span class="go">  clap:3.0.13</span>
</code></pre></div>



<a name="269794912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269794912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269794912">(Jan 28 2022 at 20:09)</a>:</h4>
<p>(only know about this because clap's CI used to test <code>clap</code> with a custom set of feature flags to avoid feature unification)</p>



<a name="269795435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269795435" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269795435">(Jan 28 2022 at 20:13)</a>:</h4>
<p>it's true yeah that you still get complaints if the local crate shows up multiple times in the crate graph by name, it's sort of a mistake we made I think where <code>-p</code> is pkgid-specs but you really only want that on <code>cargo update</code> and nothing else I think</p>



<a name="269795472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269795472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269795472">(Jan 28 2022 at 20:13)</a>:</h4>
<p>otherwise <code>cargo build -p</code>, while it once supported and probably still does, supports building random crates in your graph it probably doesn't make sense to do that</p>



<a name="269795497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269795497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269795497">(Jan 28 2022 at 20:13)</a>:</h4>
<p>in any case changing the pkgid syntax is pretty easy to do</p>



<a name="269795601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269795601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269795601">(Jan 28 2022 at 20:14)</a>:</h4>
<p>I actually really like the idea of <code>cargo install foo@1.2.3</code> instead of <code>cargo install --version 1.2.3 foo</code></p>



<a name="269797759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269797759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269797759">(Jan 28 2022 at 20:27)</a>:</h4>
<p>So it sounds like there is some leaning towards</p>
<ul>
<li>Add <code>--version</code> to <code>cargo yank</code>, with an alias for <code>--vers</code> for compatibility</li>
<li>Add <code>@</code> support for the PKDID parser</li>
<li>Support <code>name@version</code> in various commands with <code>--version</code> flags</li>
</ul>
<p>What kind of decision process is needed for me to plan <code>cargo add</code> around this?</p>
<p>When we decide to move forward, I'll create issues and work on them in the background with the assumption that they'll probably be implemented after <code>cargo add</code> is done.</p>



<a name="269797819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269797819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269797819">(Jan 28 2022 at 20:28)</a>:</h4>
<p><span class="user-mention" data-user-id="424212">@Ed Page</span> I think adding <code>--version</code> to <code>cargo yank</code> is orthogonal and not a blocker.</p>



<a name="269797849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269797849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269797849">(Jan 28 2022 at 20:28)</a>:</h4>
<p>I think for the purposes of adding <code>cargo add</code>, it'd suffice to support <code>@</code>.</p>



<a name="269797855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269797855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269797855">(Jan 28 2022 at 20:28)</a>:</h4>
<p>Yes, that one specifically isn't a blocker since I've removed <code>--vers</code> for now.</p>



<a name="269797927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269797927" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269797927">(Jan 28 2022 at 20:29)</a>:</h4>
<p>So the question then becomes, is it a blocker to make other parts of cargo support <code>@</code> in addition to <code>:</code> and have the documentation use <code>@</code> as the preferred alternative, or can we go ahead and add <code>cargo add</code> with <code>@</code> and handle consistency in a followup PR?</p>



<a name="269799091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269799091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269799091">(Jan 28 2022 at 20:38)</a>:</h4>
<p>I'd separate it out</p>
<ul>
<li>Is a decision on <code>@</code> in other parts of cargo a blocker?</li>
<li>Is an implementation a blocker?</li>
</ul>



<a name="269799144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269799144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269799144">(Jan 28 2022 at 20:39)</a>:</h4>
<p>Ah, good call.</p>



<a name="269799167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269799167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269799167">(Jan 28 2022 at 20:39)</a>:</h4>
<p>I would propose that the first is, and the second isn't.</p>



<a name="269799181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269799181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269799181">(Jan 28 2022 at 20:39)</a>:</h4>
<p>Agreed.</p>



<a name="269799295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269799295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269799295">(Jan 28 2022 at 20:40)</a>:</h4>
<p>So, proposal: I'd suggest reverting the switch from <code>@</code> to <code>:</code> in cargo-add, and then when we do the FCP for cargo-add, one of the things we're deciding is "we're comfortable with <code>@</code> here".</p>



<a name="269799352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269799352" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269799352">(Jan 28 2022 at 20:40)</a>:</h4>
<p>Sounds good.</p>



<a name="269881430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Multiple%20ways%20of%20specifying%20versions/near/269881430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon Gjengset <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Multiple.20ways.20of.20specifying.20versions.html#269881430">(Jan 29 2022 at 18:50)</a>:</h4>
<p>I'm excited for this! This came up for me a while back in the form of wanting <code>cargo update -p</code> to accept partial versions/reqs: <a href="#narrow/stream/246057-t-cargo/topic/-p.20specs">https://rust-lang.zulipchat.com/#narrow/stream/246057-t-cargo/topic/-p.20specs</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>