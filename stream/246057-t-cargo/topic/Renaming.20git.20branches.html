<html>
<head><meta charset="utf-8"><title>Renaming git branches · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Renaming.20git.20branches.html">Renaming git branches</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="223703192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Renaming%20git%20branches/near/223703192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Renaming.20git.20branches.html#223703192">(Jan 22 2021 at 21:31)</a>:</h4>
<p>GitHub now has all the facilities in place for branch renaming: <a href="https://github.com/github/renaming">https://github.com/github/renaming</a></p>



<a name="223703251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Renaming%20git%20branches/near/223703251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Renaming.20git.20branches.html#223703251">(Jan 22 2021 at 21:31)</a>:</h4>
<p>Given this, is there any further blocker for us renaming cargo's primary development branch to <code>main</code>?</p>



<a name="223703319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Renaming%20git%20branches/near/223703319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Renaming.20git.20branches.html#223703319">(Jan 22 2021 at 21:31)</a>:</h4>
<p>I know there was some work in Cargo to handle git branch names for git dependencies in general.</p>



<a name="223703375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Renaming%20git%20branches/near/223703375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Renaming.20git.20branches.html#223703375">(Jan 22 2021 at 21:32)</a>:</h4>
<p>Does any of that block renaming cargo's own branch?</p>



<a name="223703412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Renaming%20git%20branches/near/223703412" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Renaming.20git.20branches.html#223703412">(Jan 22 2021 at 21:32)</a>:</h4>
<p>Cargo itself doesn't support it.  We have to wait for the new <code>Cargo.lock</code> format, so I would not expect it till towards the end of the year.</p>



<a name="223703543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Renaming%20git%20branches/near/223703543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Renaming.20git.20branches.html#223703543">(Jan 22 2021 at 21:33)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> I'm assuming that github's redirect support won't help here, since cargo clones the repo locally and then resolves the branch name in the local repo?</p>



<a name="223710899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Renaming%20git%20branches/near/223710899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Renaming.20git.20branches.html#223710899">(Jan 22 2021 at 22:35)</a>:</h4>
<p>I believe so.</p>



<a name="223743174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Renaming%20git%20branches/near/223743174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Silverstone <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Renaming.20git.20branches.html#223743174">(Jan 23 2021 at 10:40)</a>:</h4>
<p>Does cargo pay attention to the HEAD symref information when cloning the repository locally?</p>



<a name="223755900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Renaming%20git%20branches/near/223755900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eh2406 <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Renaming.20git.20branches.html#223755900">(Jan 23 2021 at 15:51)</a>:</h4>
<p>If I understand correctly. It did not used to. It is being transitioned to, but it involves a braking change to the lock file format. So it needs to be done slowly. See Erics comment.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>