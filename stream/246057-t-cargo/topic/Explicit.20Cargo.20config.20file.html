<html>
<head><meta charset="utf-8"><title>Explicit Cargo config file · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html">Explicit Cargo config file</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="251497744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251497744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> UebelAndre <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251497744">(Sep 01 2021 at 04:17)</a>:</h4>
<p>Is there a way to explicitly set a <a href="https://doc.rust-lang.org/cargo/reference/config.html">config file</a> for a build? Some <code>--config</code> flag I'm maybe overlooking?</p>



<a name="251498163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251498163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251498163">(Sep 01 2021 at 04:22)</a>:</h4>
<p>It is documented here: <a href="https://doc.rust-lang.org/nightly/cargo/reference/unstable.html#config-include">https://doc.rust-lang.org/nightly/cargo/reference/unstable.html#config-include</a></p>



<a name="251501500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251501500" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> UebelAndre <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251501500">(Sep 01 2021 at 05:01)</a>:</h4>
<div class="codehilite"><pre><span></span><code>cargo +nightly -Zunstable-options -Zconfig-include --config somefile.toml build
</code></pre></div>



<a name="251501502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251501502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> UebelAndre <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251501502">(Sep 01 2021 at 05:01)</a>:</h4>
<p>nice!</p>



<a name="251501528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251501528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> UebelAndre <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251501528">(Sep 01 2021 at 05:01)</a>:</h4>
<p>Is there a crate for parsing these configs outside of <code>cargo</code>?</p>



<a name="251501725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251501725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251501725">(Sep 01 2021 at 05:03)</a>:</h4>
<p>I'm not sure I understand the question.  Config files are just TOML, so any TOML parser should work.</p>



<a name="251501978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251501978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> UebelAndre <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251501978">(Sep 01 2021 at 05:06)</a>:</h4>
<p>but there's a hierarchy to them, right? This is related to another question I had of how to get config information from cargo (<code>cargo config get --help</code>) but I'm looking for something which is usable on the stable channel</p>



<a name="251502052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251502052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251502052">(Sep 01 2021 at 05:07)</a>:</h4>
<p>Ah, I'm not aware of anything that will do that.</p>



<a name="251502072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251502072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> UebelAndre <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251502072">(Sep 01 2021 at 05:07)</a>:</h4>
<p>My plan was just to parse the toml but I didn't know if there was a <a href="https://crates.io/crates/cargo_metadata">cargo-metadata</a> equivalent for configs</p>



<a name="251502089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251502089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> UebelAndre <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251502089">(Sep 01 2021 at 05:07)</a>:</h4>
<p>(where the entire schema is already defined)</p>



<a name="251502164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Explicit%20Cargo%20config%20file/near/251502164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> UebelAndre <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Explicit.20Cargo.20config.20file.html#251502164">(Sep 01 2021 at 05:08)</a>:</h4>
<p>(and ideally come with a built in method to generate the data)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>