<html>
<head><meta charset="utf-8"><title>registry repo hash changed due to cargo update · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/registry.20repo.20hash.20changed.20due.20to.20cargo.20update.html">registry repo hash changed due to cargo update</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="205580782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/registry%20repo%20hash%20changed%20due%20to%20cargo%20update/near/205580782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/registry.20repo.20hash.20changed.20due.20to.20cargo.20update.html#205580782">(Jul 31 2020 at 11:26)</a>:</h4>
<p>Did the latest cargo update in the rustc repo introduce some changes to the ${CARGO_HOME}?<br>
I'm getting a sudden test failure when trying to create a file in <code>$CARGO_HOME/registry/cache/github.com-1ecc6299db9ec823/file7</code>(no such file or directory) this did not happen 3 days ago</p>
<p>I can't repro locally yet because I'm on an older nightly and rustfmt is currently broken</p>



<a name="205581423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/registry%20repo%20hash%20changed%20due%20to%20cargo%20update/near/205581423" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/registry.20repo.20hash.20changed.20due.20to.20cargo.20update.html#205581423">(Jul 31 2020 at 11:37)</a>:</h4>
<p>looks like there have been some changes on how git repos (this includes the registry index?) are stored ...?</p>



<a name="205581904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/registry%20repo%20hash%20changed%20due%20to%20cargo%20update/near/205581904" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/registry.20repo.20hash.20changed.20due.20to.20cargo.20update.html#205581904">(Jul 31 2020 at 11:45)</a>:</h4>
<p>Ok, it looks like the hash for the index repo simply changed, I guess that's not really a breaking change to cargo then..?</p>



<a name="205596005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/registry%20repo%20hash%20changed%20due%20to%20cargo%20update/near/205596005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/registry.20repo.20hash.20changed.20due.20to.20cargo.20update.html#205596005">(Jul 31 2020 at 14:24)</a>:</h4>
<p>I don't think we really anticipated that. I have filed an issue <a href="https://github.com/rust-lang/cargo/issues/8572">https://github.com/rust-lang/cargo/issues/8572</a></p>



<a name="205596427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/registry%20repo%20hash%20changed%20due%20to%20cargo%20update/near/205596427" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eh2406 <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/registry.20repo.20hash.20changed.20due.20to.20cargo.20update.html#205596427">(Jul 31 2020 at 14:27)</a>:</h4>
<p>I'd prefer to keep the same file location if it is straightforward to save. I think we used to have a test that it was the same string. But If it will be hard we may just have to eat it. I.E. I don't like it but don't consider it a breaking change.</p>



<a name="205603912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/registry%20repo%20hash%20changed%20due%20to%20cargo%20update/near/205603912" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/registry.20repo.20hash.20changed.20due.20to.20cargo.20update.html#205603912">(Jul 31 2020 at 15:22)</a>:</h4>
<p>It would be the second hash change since around the 1.0 timeframe</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>