<html>
<head><meta charset="utf-8"><title>What is &quot;inferred path&quot; in `Cargo.toml`? · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/What.20is.20.22inferred.20path.22.20in.20.60Cargo.2Etoml.60.3F.html">What is &quot;inferred path&quot; in `Cargo.toml`?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261360682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/What%20is%20%22inferred%20path%22%20in%20%60Cargo.toml%60%3F/near/261360682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tonalidade Hidrica <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/What.20is.20.22inferred.20path.22.20in.20.60Cargo.2Etoml.60.3F.html#261360682">(Nov 13 2021 at 13:35)</a>:</h4>
<p>I'm not sure if this is the right place to ask a question, but let me first write it down:<br>
<a href="https://doc.rust-lang.org/cargo/reference/cargo-targets.html#the-path-field">The Cargo Book</a> says that if the <code>path</code> field is missing, then the inferred path is used.  But I couldn't find an explanation on "inferred path."  The link in the book leads me to "Target auto-discovery" section, which explains rather how <em>targets</em> are inferred from <em>layout of files</em>, than how <em>paths</em> are inferred from <em>target specs</em>.  Could somebody teach me?</p>



<a name="261367645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/What%20is%20%22inferred%20path%22%20in%20%60Cargo.toml%60%3F/near/261367645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/What.20is.20.22inferred.20path.22.20in.20.60Cargo.2Etoml.60.3F.html#261367645">(Nov 13 2021 at 16:09)</a>:</h4>
<p>The path is inferred from the target name and type.</p>
<p>For example, the default lib path is <code>src/lib.rs</code></p>
<p>The default path for a test is either <code>tests/TESTNAME.rs</code> or <code>tests/TESTNAME/main.rs</code></p>
<p>The <a href="https://doc.rust-lang.org/cargo/guide/project-layout.html">project layout</a> page has the list of these inferred paths.</p>



<a name="261415720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/What%20is%20%22inferred%20path%22%20in%20%60Cargo.toml%60%3F/near/261415720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tonalidade Hidrica <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/What.20is.20.22inferred.20path.22.20in.20.60Cargo.2Etoml.60.3F.html#261415720">(Nov 14 2021 at 12:51)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> Thank you, I understood.<br>
The [edition guide] says:</p>
<blockquote>
<p>Target paths of the form <code>src/{target_name}.rs</code> are no longer inferred for targets where the path field is not set.</p>
</blockquote>
<p>What was <code>src/{target_name}.rs</code> path used for?</p>



<a name="261418840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/What%20is%20%22inferred%20path%22%20in%20%60Cargo.toml%60%3F/near/261418840" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/What.20is.20.22inferred.20path.22.20in.20.60Cargo.2Etoml.60.3F.html#261418840">(Nov 14 2021 at 14:10)</a>:</h4>
<p>You used to be able to specify something like:</p>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="k">[lib]</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">"abc"</span>
</code></pre></div>
<p>and then implicitly have a file named <code>src/abc.rs</code>. Libraries are now inferred to always be <code>src/lib.rs</code> instead.</p>



<a name="261448811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/What%20is%20%22inferred%20path%22%20in%20%60Cargo.toml%60%3F/near/261448811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tonalidade Hidrica <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/What.20is.20.22inferred.20path.22.20in.20.60Cargo.2Etoml.60.3F.html#261448811">(Nov 15 2021 at 01:19)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> Got it, thanks a alot.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>