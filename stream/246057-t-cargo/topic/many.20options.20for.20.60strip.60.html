<html>
<head><meta charset="utf-8"><title>many options for `strip` · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html">many options for `strip`</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="271340244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271340244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271340244">(Feb 09 2022 at 20:09)</a>:</h4>
<blockquote>
<p>...<br>
<code>strip = "debuginfo"</code></p>
<p>Other possible string values of <code>strip</code> are <code>none</code>, <code>symbols</code>, and <code>off</code>. The<br>
default is <code>none</code>.</p>
<p>You can also configure this option with the two absolute boolean values<br>
<code>true</code> and <code>false</code>. The former enables <code>strip</code> at its higher level, <code>symbols</code>,<br>
while the latter disables <code>strip</code> completely.</p>
</blockquote>
<p>(<a href="https://doc.rust-lang.org/nightly/cargo/reference/profiles.html#strip">source</a>)</p>
<p>The range of possible values is high and there seem to be multiple ways to spell the same thing (what's the difference between <code>"none"</code>, <code>"off"</code>, and <code>false</code>?). It's also significantly more complicated than the <a href="https://doc.rust-lang.org/nightly/rustc/codegen-options/index.html#strip">corresponding <code>rustc</code> option</a>. Is it possible we should simplify things a bit before stabilizing?</p>



<a name="271347188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271347188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271347188">(Feb 09 2022 at 21:04)</a>:</h4>
<p>No objections to a patch removing <code>off</code>.</p>



<a name="271347228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271347228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271347228">(Feb 09 2022 at 21:05)</a>:</h4>
<p>I do think we may want the distinction between "none" and unspecified.</p>



<a name="271347251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271347251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271347251">(Feb 09 2022 at 21:05)</a>:</h4>
<p>And I think a simple <code>strip = true</code> is nice for usability reasons.</p>



<a name="271350098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271350098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271350098">(Feb 09 2022 at 21:29)</a>:</h4>
<p>That all seems reasonable to me</p>



<a name="271350235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271350235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271350235">(Feb 09 2022 at 21:30)</a>:</h4>
<p>Just a quick reminder that I believe this'll hit stable in ~2 weeks so moving fast is necessary if we want to drop things</p>



<a name="271351557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271351557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271351557">(Feb 09 2022 at 21:43)</a>:</h4>
<p>/me preps a patch.</p>



<a name="271352518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271352518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271352518">(Feb 09 2022 at 21:51)</a>:</h4>
<p><span class="user-mention" data-user-id="116883">@tmandry</span> <a href="https://github.com/rust-lang/cargo/pull/10376">https://github.com/rust-lang/cargo/pull/10376</a></p>



<a name="271356247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271356247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eh2406 <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271356247">(Feb 09 2022 at 22:20)</a>:</h4>
<p>Do we need a beta backport?</p>



<a name="271356487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271356487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271356487">(Feb 09 2022 at 22:22)</a>:</h4>
<p>I thought we just needed a fresh sync of cargo into rust-lang/rust.</p>



<a name="271356767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271356767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271356767">(Feb 09 2022 at 22:25)</a>:</h4>
<p>You should need a beta backport, because it's stable in 1.59 -- which is beta branch of rust-lang/rust.</p>



<a name="271356813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271356813" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271356813">(Feb 09 2022 at 22:25)</a>:</h4>
<p>Ah, oops.</p>



<a name="271356897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271356897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271356897">(Feb 09 2022 at 22:26)</a>:</h4>
<p>I nominated the PR for beta for that reason</p>



<a name="271356927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271356927" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271356927">(Feb 09 2022 at 22:26)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I'm guessing that waiting until next week's cargo meeting would push things a little too close to the wire?</p>



<a name="271356990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271356990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271356990">(Feb 09 2022 at 22:27)</a>:</h4>
<p>ah, well, I mean it's probably fine -- typically Eric does the beta-backport on the Cargo side and opens a PR on the rust-lang/rust side, but as long as it gets accepted by ~Wednesday next week should be OK</p>



<a name="271357038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271357038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271357038">(Feb 09 2022 at 22:27)</a>:</h4>
<p>It's a pretty obvious beta-accept imo though.</p>



<a name="271357137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271357137" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271357137">(Feb 09 2022 at 22:28)</a>:</h4>
<p>Might as well make it  little easier.</p>



<a name="271357142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271357142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271357142">(Feb 09 2022 at 22:28)</a>:</h4>
<p>cc <span class="user-group-mention" data-user-group-id="3139">@T-cargo</span> Any objections to a beta backport of <a href="https://github.com/rust-lang/cargo/pull/10376">https://github.com/rust-lang/cargo/pull/10376</a> ?</p>



<a name="271357831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271357831" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271357831">(Feb 09 2022 at 22:34)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="239881">@Josh Triplett</span> and everyone else who responded so quickly!</p>



<a name="271361244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271361244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271361244">(Feb 09 2022 at 23:06)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> Beta sounds good, can you submit a PR to the rust-1.59.0 branch?  I can take it from there.</p>



<a name="271371831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271371831" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271371831">(Feb 10 2022 at 00:53)</a>:</h4>
<p>Yeah, I can do that.</p>



<a name="271372140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/many%20options%20for%20%60strip%60/near/271372140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/many.20options.20for.20.60strip.60.html#271372140">(Feb 10 2022 at 00:57)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> <a href="https://github.com/rust-lang/cargo/pull/10377">https://github.com/rust-lang/cargo/pull/10377</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>