<html>
<head><meta charset="utf-8"><title>Custum outputs · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Custum.20outputs.html">Custum outputs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="278744096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Custum%20outputs/near/278744096" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Custum.20outputs.html#278744096">(Apr 12 2022 at 19:47)</a>:</h4>
<p>So, a quick question, and its entirely reasonable to tell me this can't be supported, but: </p>
<p>Is it possible to inform cargo of custom build artifacts that it should copy / link in <code>target/build-mode</code>?</p>



<a name="278744307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Custum%20outputs/near/278744307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Custum.20outputs.html#278744307">(Apr 12 2022 at 19:49)</a>:</h4>
<p>I have a cargo plugin which calls cargo using a <code>RUSTC_WRAPPER</code> and generates <code>target/debug/deps/crate_name-hash.blah</code></p>



<a name="278744344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Custum%20outputs/near/278744344" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Custum.20outputs.html#278744344">(Apr 12 2022 at 19:49)</a>:</h4>
<p>I was wondering if there was any way i could trick / inform cargo to link it to <code>target/debug/crate_name.blah</code></p>



<a name="278744659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Custum%20outputs/near/278744659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pachi <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Custum.20outputs.html#278744659">(Apr 12 2022 at 19:52)</a>:</h4>
<p>Iirc there was a proposal by <span class="user-mention" data-user-id="120054">@Jon Gjengset</span> and <span class="user-mention" data-user-id="239881">@Josh Triplett</span> to handle custom build artifacts...</p>



<a name="278744862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Custum%20outputs/near/278744862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Custum.20outputs.html#278744862">(Apr 12 2022 at 19:54)</a>:</h4>
<p>There are a few different things in this space.</p>



<a name="278744907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Custum%20outputs/near/278744907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Custum.20outputs.html#278744907">(Apr 12 2022 at 19:54)</a>:</h4>
<p>There's the artifact dependencies work, which lets you build a separate binary and link it in.</p>



<a name="278744999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Custum%20outputs/near/278744999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Custum.20outputs.html#278744999">(Apr 12 2022 at 19:55)</a>:</h4>
<p>There's <a href="https://github.com/rust-lang/rfcs/pull/3035">https://github.com/rust-lang/rfcs/pull/3035</a> , which hasn't been accepted, though I hope it will be.</p>



<a name="278745388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Custum%20outputs/near/278745388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pachi <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Custum.20outputs.html#278745388">(Apr 12 2022 at 19:58)</a>:</h4>
<p>Yep, I remembered the first one. I think it is <a href="https://github.com/rust-lang/rfcs/blob/HEAD/text/3028-cargo-binary-dependencies.md">https://github.com/rust-lang/rfcs/blob/HEAD/text/3028-cargo-binary-dependencies.md</a></p>



<a name="278745507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Custum%20outputs/near/278745507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pachi <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Custum.20outputs.html#278745507">(Apr 12 2022 at 19:59)</a>:</h4>
<p>But it's probably not targeted to <span class="user-mention" data-user-id="312719">@Xavier Denis</span> usecase afaict.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>