<html>
<head><meta charset="utf-8"><title>values must be emitted before tables · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/values.20must.20be.20emitted.20before.20tables.html">values must be emitted before tables</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="232659901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/values%20must%20be%20emitted%20before%20tables/near/232659901" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hyd-dev <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/values.20must.20be.20emitted.20before.20tables.html#232659901">(Mar 31 2021 at 20:29)</a>:</h4>
<p><code>resolver = "2"</code> arrived stable recently and I tried it out in a crate with <code>metadata.docs.rs.targets</code> setting. However, when I tried <code>cargo package --no-verify</code>, I got this error:</p>
<div class="codehilite"><pre><span></span><code>error: failed to prepare local package for uploading

Caused by:
  values must be emitted before tables
</code></pre></div>
<p>What was going wrong?</p>



<a name="232660433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/values%20must%20be%20emitted%20before%20tables/near/232660433" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/values.20must.20be.20emitted.20before.20tables.html#232660433">(Mar 31 2021 at 20:32)</a>:</h4>
<p>It's a bug, the fix should be on the latest nightly.</p>



<a name="232661197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/values%20must%20be%20emitted%20before%20tables/near/232661197" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/values.20must.20be.20emitted.20before.20tables.html#232661197">(Mar 31 2021 at 20:37)</a>:</h4>
<p>I'm not sure if you were asking why it was broken.  TOML is sensitive to the order that fields are defined in a struct.  <a href="https://github.com/rust-lang/cargo/pull/9300">https://github.com/rust-lang/cargo/pull/9300</a> is the fix.</p>



<a name="232661973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/values%20must%20be%20emitted%20before%20tables/near/232661973" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hyd-dev <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/values.20must.20be.20emitted.20before.20tables.html#232661973">(Mar 31 2021 at 20:43)</a>:</h4>
<p>Thanks! I was asking what the problem is. I haven't found <a href="https://github.com/rust-lang/cargo/issues/9300">cargo#9300</a> through searching.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>