<html>
<head><meta charset="utf-8"><title>artifact dependencies · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/artifact.20dependencies.html">artifact dependencies</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="218492698"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/artifact%20dependencies/near/218492698" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/artifact.20dependencies.html#218492698">(Dec 01 2020 at 22:42)</a>:</h4>
<p>Since we didn't get to it in today's meeting, I wanted to raise it on Zulip: could folks take a look at <a href="https://github.com/rust-lang/rfcs/pull/3028/">https://github.com/rust-lang/rfcs/pull/3028/</a> and see if that seems like a reasonable specification for the binary dependencies proposal we talked about in previous meetings?</p>



<a name="218496661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/artifact%20dependencies/near/218496661" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eh2406 <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/artifact.20dependencies.html#218496661">(Dec 01 2020 at 23:25)</a>:</h4>
<p>Read it over and it looks good.</p>



<a name="218585467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/artifact%20dependencies/near/218585467" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/artifact.20dependencies.html#218585467">(Dec 02 2020 at 16:54)</a>:</h4>
<p>I've left some thoughts on the RFC</p>



<a name="218587058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/artifact%20dependencies/near/218587058" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/artifact.20dependencies.html#218587058">(Dec 02 2020 at 17:05)</a>:</h4>
<p>left some responses, if I didn't answer it's becuase I think <span class="user-mention" data-user-id="239881">@Josh Triplett</span> could give a better explanation</p>



<a name="218587526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/artifact%20dependencies/near/218587526" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/artifact.20dependencies.html#218587526">(Dec 02 2020 at 17:07)</a>:</h4>
<blockquote>
<p>It would be nice to be able to use compiletest in-tree without having to come up with a whole API no one will use but rustdoc.</p>
</blockquote>
<p>This is of course undermined a little since I'm now planning to switch to using x.py, which is a build system on top of cargo ... I don't feel as strongly about this as I do about the rustc-perf case.</p>



<a name="218598819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/artifact%20dependencies/near/218598819" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/artifact.20dependencies.html#218598819">(Dec 02 2020 at 18:27)</a>:</h4>
<p>FWIW for the rustc-perf use case it's basically the same problem rustbuild has where even if you do have a cargo locally you can't "run" it directly, because <code>cargo run --bin foo</code> won't build <code>--bin bar</code> which foo needs</p>



<a name="218598928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/artifact%20dependencies/near/218598928" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/artifact.20dependencies.html#218598928">(Dec 02 2020 at 18:28)</a>:</h4>
<p>(<span class="user-mention" data-user-id="116015">@Alex Crichton</span> you might recall my hacky "let's invoke cargo build mid-run" workaround to that, though it didn't land)</p>



<a name="219803065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/artifact%20dependencies/near/219803065" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/artifact.20dependencies.html#219803065">(Dec 14 2020 at 05:55)</a>:</h4>
<p>I just submitted an RFC for "manual targets", which extends artifact dependencies to cover the case <span class="user-mention" data-user-id="116015">@Alex Crichton</span> mentioned of supplying artifacts via one of your dependencies or building via <code>build.rs</code> or similar: <a href="https://github.com/rust-lang/rfcs/pull/3035">https://github.com/rust-lang/rfcs/pull/3035</a></p>



<a name="219803071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/artifact%20dependencies/near/219803071" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/artifact.20dependencies.html#219803071">(Dec 14 2020 at 05:55)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="232545">@Joshua Nelson</span></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>