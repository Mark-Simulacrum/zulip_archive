<html>
<head><meta charset="utf-8"><title>Building some workspace members static and some dynamic? · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Building.20some.20workspace.20members.20static.20and.20some.20dynamic.3F.html">Building some workspace members static and some dynamic?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="235028730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Building%20some%20workspace%20members%20static%20and%20some%20dynamic%3F/near/235028730" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Building.20some.20workspace.20members.20static.20and.20some.20dynamic.3F.html#235028730">(Apr 18 2021 at 00:03)</a>:</h4>
<p>Is it possible to pass <code>-C target-feature=+crt-static</code> when building one member of a workspace, but not when building others?</p>



<a name="235028836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Building%20some%20workspace%20members%20static%20and%20some%20dynamic%3F/near/235028836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Building.20some.20workspace.20members.20static.20and.20some.20dynamic.3F.html#235028836">(Apr 18 2021 at 00:05)</a>:</h4>
<p>If we had a way to set static from the <code>[profile]</code> section, that applies to specific crates, so I'm hoping that would work.</p>



<a name="235028850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Building%20some%20workspace%20members%20static%20and%20some%20dynamic%3F/near/235028850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Building.20some.20workspace.20members.20static.20and.20some.20dynamic.3F.html#235028850">(Apr 18 2021 at 00:05)</a>:</h4>
<p>I'm wondering if there's any way to do so in the absence of such support.</p>



<a name="235033731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Building%20some%20workspace%20members%20static%20and%20some%20dynamic%3F/near/235033731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Building.20some.20workspace.20members.20static.20and.20some.20dynamic.3F.html#235033731">(Apr 18 2021 at 01:35)</a>:</h4>
<p>Not in an automated way, it has to be done manually such as <code>cargo rustc -p some_member -- -C target-feature=+crt-static</code></p>



<a name="235048149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Building%20some%20workspace%20members%20static%20and%20some%20dynamic%3F/near/235048149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Building.20some.20workspace.20members.20static.20and.20some.20dynamic.3F.html#235048149">(Apr 18 2021 at 06:20)</a>:</h4>
<p>Ah. :(</p>



<a name="235048167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/Building%20some%20workspace%20members%20static%20and%20some%20dynamic%3F/near/235048167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/Building.20some.20workspace.20members.20static.20and.20some.20dynamic.3F.html#235048167">(Apr 18 2021 at 06:20)</a>:</h4>
<p>I may have to either refactor my workspace or debug some code, then.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>