<html>
<head><meta charset="utf-8"><title>dep-info (.d) files don&#x27;t contain entries for .gcno/gcda · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/dep-info.20(.2Ed).20files.20don&#x27;t.20contain.20entries.20for.20.2Egcno.2Fgcda.html">dep-info (.d) files don&#x27;t contain entries for .gcno/gcda</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="206160201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/dep-info%20%28.d%29%20files%20don%27t%20contain%20entries%20for%20.gcno/gcda/near/206160201" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/dep-info.20(.2Ed).20files.20don&#x27;t.20contain.20entries.20for.20.2Egcno.2Fgcda.html#206160201">(Aug 06 2020 at 15:52)</a>:</h4>
<p>I'd like to integrate rust's code coverage support (e.g. the gcov files emitted when -Zprofile is in RUSTFLAGS) with a separate build system. I think I've actually mostly succeeded for this, but I don't have any dependency info for the gcno/gcda files, so I end up having to clean and rebuild/run everything to ensure they're up to date each time.</p>
<p>This kind of sucks, and is because the .gcno and .gcda files are not listed in the dep info files (or whatever the <code>target/*/*.d</code> files  are called) when -Z profile is produced the way .rlib and such are. It would be nice if entries for these were present...</p>
<p>... That said, I... am only like 50% sure this request makes any sense / is possible, I'm still sort of understanding of the problem space and how the gcno/gcda files work and such, which is why I'm asking here as opposed to starting by filing a <code>cargo</code> issue. (That said, if this is just an oversight I'd be willing to implement the fix for it).</p>
<p>Sorry for the possibly vague/confusing question, and thanks for any insight.</p>



<a name="206225243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/dep-info%20%28.d%29%20files%20don%27t%20contain%20entries%20for%20.gcno/gcda/near/206225243" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/dep-info.20(.2Ed).20files.20don&#x27;t.20contain.20entries.20for.20.2Egcno.2Fgcda.html#206225243">(Aug 07 2020 at 05:26)</a>:</h4>
<p>It's a reasonable question.</p>



<a name="206225251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/dep-info%20%28.d%29%20files%20don%27t%20contain%20entries%20for%20.gcno/gcda/near/206225251" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/dep-info.20(.2Ed).20files.20don&#x27;t.20contain.20entries.20for.20.2Egcno.2Fgcda.html#206225251">(Aug 07 2020 at 05:27)</a>:</h4>
<p>If you're interested in using a separate build system, you're probably looking for "build plans".</p>



<a name="206225254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/dep-info%20%28.d%29%20files%20don%27t%20contain%20entries%20for%20.gcno/gcda/near/206225254" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/dep-info.20(.2Ed).20files.20don&#x27;t.20contain.20entries.20for.20.2Egcno.2Fgcda.html#206225254">(Aug 07 2020 at 05:27)</a>:</h4>
<p>You might take a look at those.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>