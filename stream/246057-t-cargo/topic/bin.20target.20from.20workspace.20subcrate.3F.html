<html>
<head><meta charset="utf-8"><title>bin target from workspace subcrate? · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/bin.20target.20from.20workspace.20subcrate.3F.html">bin target from workspace subcrate?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="272325644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/bin%20target%20from%20workspace%20subcrate%3F/near/272325644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/bin.20target.20from.20workspace.20subcrate.3F.html#272325644">(Feb 17 2022 at 21:31)</a>:</h4>
<p>If I have a top-level workspace crate, and one of the crates within it has <code>src/main.rs</code>, how do I specify that subcrate as a bin target within the <code>Cargo.toml</code> for the top-level crate?</p>



<a name="272326098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/bin%20target%20from%20workspace%20subcrate%3F/near/272326098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/bin.20target.20from.20workspace.20subcrate.3F.html#272326098">(Feb 17 2022 at 21:33)</a>:</h4>
<p>I think you want default-members and default-run</p>



<a name="272326197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/bin%20target%20from%20workspace%20subcrate%3F/near/272326197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/bin.20target.20from.20workspace.20subcrate.3F.html#272326197">(Feb 17 2022 at 21:34)</a>:</h4>
<ul>
<li><a href="https://doc.rust-lang.org/cargo/reference/workspaces.html#package-selection">https://doc.rust-lang.org/cargo/reference/workspaces.html#package-selection</a></li>
<li><a href="https://doc.rust-lang.org/cargo/reference/manifest.html#the-default-run-field">https://doc.rust-lang.org/cargo/reference/manifest.html#the-default-run-field</a></li>
</ul>



<a name="272326278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/bin%20target%20from%20workspace%20subcrate%3F/near/272326278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/bin.20target.20from.20workspace.20subcrate.3F.html#272326278">(Feb 17 2022 at 21:34)</a>:</h4>
<p>(or at least, that's likely the closest you can get today, afaik)</p>



<a name="272326360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/bin%20target%20from%20workspace%20subcrate%3F/near/272326360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/bin.20target.20from.20workspace.20subcrate.3F.html#272326360">(Feb 17 2022 at 21:35)</a>:</h4>
<p>hmm, there's no way to specify that its one of many <code>[[bin]]</code> that you might choose from the workspace?</p>



<a name="272326441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/bin%20target%20from%20workspace%20subcrate%3F/near/272326441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/bin.20target.20from.20workspace.20subcrate.3F.html#272326441">(Feb 17 2022 at 21:35)</a>:</h4>
<p>or will <code>default-members</code> get that effect in the end ... hmm...</p>



<a name="272326654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/bin%20target%20from%20workspace%20subcrate%3F/near/272326654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/bin.20target.20from.20workspace.20subcrate.3F.html#272326654">(Feb 17 2022 at 21:36)</a>:</h4>
<p>is it legal to point <code>default-run</code> at a source file <em>inside</em> one of my workspace subcrates...?</p>



<a name="272326687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/bin%20target%20from%20workspace%20subcrate%3F/near/272326687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/bin.20target.20from.20workspace.20subcrate.3F.html#272326687">(Feb 17 2022 at 21:36)</a>:</h4>
<p>I doubt that's going to do what I expect here...</p>



<a name="272326776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/bin%20target%20from%20workspace%20subcrate%3F/near/272326776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/bin.20target.20from.20workspace.20subcrate.3F.html#272326776">(Feb 17 2022 at 21:37)</a>:</h4>
<p>oh, the format of that ... hmm. it doesn't point at a source file. okay.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>