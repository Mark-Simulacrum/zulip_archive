<html>
<head><meta charset="utf-8"><title>doc profile · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html">doc profile</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="217927199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217927199" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217927199">(Nov 25 2020 at 19:16)</a>:</h4>
<p>Hello, I just tried to use <code>[profile.doc]</code> and I got the following message:</p>
<div class="codehilite"><pre><span></span><code>warning: /home/imperio/rust/gtk-rs/cairo/sys/Cargo.toml: profile `doc` is deprecated and has no effect
</code></pre></div>
<p>If it's deprecated, how can I set features when rustdoc is running?</p>



<a name="217927223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217927223" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217927223">(Nov 25 2020 at 19:16)</a>:</h4>
<p>Also, why was it deprecated?</p>



<a name="217927272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217927272" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217927272">(Nov 25 2020 at 19:17)</a>:</h4>
<p>ping <span class="user-mention" data-user-id="120518">@Eric Huss</span></p>



<a name="217927762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217927762" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217927762">(Nov 25 2020 at 19:21)</a>:</h4>
<p>It never worked, and there wasn't much of a motivation to support it.  Particularly, in the past, rustdoc did not support any of the <code>-C</code> flags, and considering that it doesn't do codegen anyways, they aren't usually needed.</p>



<a name="217928457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217928457" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217928457">(Nov 25 2020 at 19:27)</a>:</h4>
<p>Makes sens I guess</p>



<a name="217928488"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217928488" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217928488">(Nov 25 2020 at 19:27)</a>:</h4>
<p>but then, how do I set features to be given when running rustdoc?</p>



<a name="217928587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217928587" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217928587">(Nov 25 2020 at 19:28)</a>:</h4>
<p>I supposed that this would work:</p>
<div class="codehilite"><pre><span></span><code>[build]
rustdocflags = [&quot;--features&quot;, &quot;x11&quot;]
</code></pre></div>
<p>but it doesn't either:</p>
<div class="codehilite"><pre><span></span><code>warning: /home/imperio/rust/gtk-rs/cairo/sys/Cargo.toml: unused manifest key: build
</code></pre></div>



<a name="217928636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217928636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217928636">(Nov 25 2020 at 19:28)</a>:</h4>
<p>should I add a new <code>[rustdoc]</code> entry which would allow that?</p>



<a name="217930186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217930186" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217930186">(Nov 25 2020 at 19:43)</a>:</h4>
<p>I'm not sure I understand what you are trying to do.  There isn't a way to change the default features per-subcommand.  You can create an alias in a config file like this:</p>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="k">[alias]</span>
<span class="n">xdoc</span> <span class="o">=</span> <span class="s">"doc --features x11"</span>
</code></pre></div>



<a name="217930630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217930630" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217930630">(Nov 25 2020 at 19:46)</a>:</h4>
<p>Well, you can have default features for rustc, so why not for rustdoc after all?</p>



<a name="217930671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217930671" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217930671">(Nov 25 2020 at 19:47)</a>:</h4>
<p>and in my case, it's because we want all the features to be enabled when running <code>cargo doc</code> on gtk-rs</p>



<a name="217930710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217930710" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217930710">(Nov 25 2020 at 19:47)</a>:</h4>
<p>we can't "by default" because it's very unlikely for you to have the last version installed, but since docs don't care about that, they can still document them</p>



<a name="217930723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217930723" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217930723">(Nov 25 2020 at 19:48)</a>:</h4>
<p>before that, we had a "dox" feature that enabled everything</p>



<a name="217930824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217930824" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217930824">(Nov 25 2020 at 19:48)</a>:</h4>
<p>we removed it to replace it with <code>cfg(doc)</code>, to realize afterwards that there was no way to have default features for rustdoc</p>



<a name="217930874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217930874" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217930874">(Nov 25 2020 at 19:48)</a>:</h4>
<p>so, would it be possible to add that back? I'm even willing to write the PR to do so :)</p>



<a name="217930906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217930906" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217930906">(Nov 25 2020 at 19:49)</a>:</h4>
<p>I just don't really know what is the "best way" to allow it</p>



<a name="217930958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217930958" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217930958">(Nov 25 2020 at 19:49)</a>:</h4>
<p>having a <code>[rustdoc]</code> section which only allows <code>features</code> maybe? So that we can add more things afterwards</p>



<a name="217930972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217930972" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217930972">(Nov 25 2020 at 19:50)</a>:</h4>
<p>or to re-enable <code>target.doc</code>?</p>



<a name="217931020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217931020" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217931020">(Nov 25 2020 at 19:50)</a>:</h4>
<p>what do you think?</p>



<a name="217931841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217931841" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217931841">(Nov 25 2020 at 19:57)</a>:</h4>
<p>Does <code>cfg(doc)</code> not work because of dependencies?  Why doesn't <code>#[cfg(any(doc, feature="x11"))]</code> work?</p>



<a name="217932187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217932187" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217932187">(Nov 25 2020 at 20:00)</a>:</h4>
<p>it doesn't because it requires you to activate the x11 feature to have the dependency</p>



<a name="217932215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217932215" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217932215">(Nov 25 2020 at 20:00)</a>:</h4>
<p>(which is the x11 crate)</p>



<a name="217932303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217932303" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217932303">(Nov 25 2020 at 20:01)</a>:</h4>
<p>meaning that when we run rustdoc, we want to have the x11 dependency too</p>



<a name="217932981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217932981" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217932981">(Nov 25 2020 at 20:07)</a>:</h4>
<p>(and not pass "--features x11" by hand every time)</p>



<a name="217935007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217935007" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217935007">(Nov 25 2020 at 20:25)</a>:</h4>
<p>or maybe just create a <code>rustdoc-features</code> field? :3</p>



<a name="217938634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217938634" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217938634">(Nov 25 2020 at 20:59)</a>:</h4>
<p>I don't really know what a good design would be here.  There have been a few requests for making the default feature set a little more dynamic (whether running <code>cargo doc</code>, or <code>cargo test</code>, or based on the profile, or specific <code>--target</code> flags, or specific Cargo targets like <code>--bin</code>), but I don't really know what that would look like or what problems that could cause.  I think for now, an alias is probably the best option, or  drive Cargo from another build tool where you can define different tasks.</p>



<a name="217939310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217939310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217939310">(Nov 25 2020 at 21:05)</a>:</h4>
<p>sorry but I can't accept that as an answer :-/</p>



<a name="217939342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217939342" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217939342">(Nov 25 2020 at 21:05)</a>:</h4>
<p>what do you think of the <code>[rustdoc]</code> section?</p>



<a name="217939357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217939357" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217939357">(Nov 25 2020 at 21:05)</a>:</h4>
<p>we can enable it only on nightly if you want</p>



<a name="217939641"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217939641" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217939641">(Nov 25 2020 at 21:08)</a>:</h4>
<p>(well, actually only enabling it on nightly would be a good idea until we're sure it's the way to go)</p>



<a name="217939652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217939652" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217939652">(Nov 25 2020 at 21:08)</a>:</h4>
<p>but we need a way to do that in any case</p>



<a name="217939682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217939682" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217939682">(Nov 25 2020 at 21:08)</a>:</h4>
<p>that actually would even allow to remove the <a href="http://docs.rs">docs.rs</a> specific setting too</p>



<a name="217981005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217981005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217981005">(Nov 26 2020 at 09:36)</a>:</h4>
<p>ping <span class="user-mention" data-user-id="120518">@Eric Huss</span> </p>
<p>It's blocking all development on gtk-rs so any (even temporary) solution would be very appreciated. :)</p>



<a name="217997350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/217997350" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#217997350">(Nov 26 2020 at 12:47)</a>:</h4>
<p>ping <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> too :)</p>



<a name="218002736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218002736" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218002736">(Nov 26 2020 at 13:42)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> I'm confused - this feature never existed, right? Why is it suddenly blocking all development?</p>



<a name="218002931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218002931" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218002931">(Nov 26 2020 at 13:44)</a>:</h4>
<p>Because we realized that we could rely on <code>doc(cfg)</code> to render all items instead of having an extra feature to handle it</p>



<a name="218002934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218002934" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218002934">(Nov 26 2020 at 13:45)</a>:</h4>
<p>looking like this:</p>



<a name="218002969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218002969" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218002969">(Nov 26 2020 at 13:45)</a>:</h4>
<div class="codehilite"><pre><span></span><code>#[cfg(any(feature = &quot;v3_16&quot;, all(not(doctest), doc)))]
</code></pre></div>



<a name="218003009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218003009" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218003009">(Nov 26 2020 at 13:45)</a>:</h4>
<p>but then we realized for one of the crate that there was no way to specify dependencies for rustdoc runs specifically, which is problematic for optional crates</p>



<a name="218003066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218003066" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218003066">(Nov 26 2020 at 13:46)</a>:</h4>
<p>and at this point, I think it's normal to have this in cargo</p>



<a name="218003274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218003274" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218003274">(Nov 26 2020 at 13:48)</a>:</h4>
<p>Well, I do think it would be nice feature, but I'm not sure it makes sense to block a gtk-rs release on designing and implementing a new part of cargo <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="218003574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218003574" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218003574">(Nov 26 2020 at 13:50)</a>:</h4>
<p>It is quite a big switch and we're not very happy about spending so much time on it to suddenly revert. And it's not blocking the release (well, not directly), just all developments :)</p>



<a name="218003879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218003879" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218003879">(Nov 26 2020 at 13:53)</a>:</h4>
<p>you could put it in a separate branch so you can come back to it maybe</p>



<a name="218003902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218003902" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218003902">(Nov 26 2020 at 13:53)</a>:</h4>
<p>I don't think it's fair to the cargo team to say 'we suddenly ran into a problem and we need sweeping changes to cargo'</p>



<a name="218003921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218003921" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218003921">(Nov 26 2020 at 13:54)</a>:</h4>
<p>Unfortunately no. Don't forget gtk-rs is mostly automatically generated. We made the switch in the generator. :)</p>



<a name="218004004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218004004" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218004004">(Nov 26 2020 at 13:54)</a>:</h4>
<p>Well, I proposed to them to implement myself a temporary fix so gtk-rs could move on and at least we could have a base to discuss on</p>



<a name="218004025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218004025" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218004025">(Nov 26 2020 at 13:54)</a>:</h4>
<p>and it would remain nightly-only until everyone agrees</p>



<a name="218004045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/doc%20profile/near/218004045" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/246057-t-cargo/topic/doc.20profile.html#218004045">(Nov 26 2020 at 13:55)</a>:</h4>
<p>I don't it's unfair? But maybe I'm wrong here</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>