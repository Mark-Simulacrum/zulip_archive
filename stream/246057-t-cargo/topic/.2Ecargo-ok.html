<html>
<head><meta charset="utf-8"><title>.cargo-ok · t-cargo · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/index.html">t-cargo</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.2Ecargo-ok.html">.cargo-ok</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="265603241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/.cargo-ok/near/265603241" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.2Ecargo-ok.html#265603241">(Dec 20 2021 at 18:57)</a>:</h4>
<p>Hi, I a working on crate-source verification for <code>cargo-cache</code> (i want to be able to find if something accidentally modified crate sources / when they differ from whats in the gz <code>.crate</code> archive,<br>
I found that there is <code>.cargo-ok</code> file present in the extracted sources that is not in the original archive.<br>
<a href="https://github.com/rust-lang/cargo/blob/master/src/cargo/sources/registry/mod.rs#L587">https://github.com/rust-lang/cargo/blob/master/src/cargo/sources/registry/mod.rs#L587</a><br>
Do I understand it correctly that this is just some sort of verification for cargo "I have completely extracted this archive (and did not die in the middle of it" ?</p>



<a name="265603312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/.cargo-ok/near/265603312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.2Ecargo-ok.html#265603312">(Dec 20 2021 at 18:58)</a>:</h4>
<p>.cargo-ok is only generated by very old versions of cargo I think</p>



<a name="265603325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/.cargo-ok/near/265603325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.2Ecargo-ok.html#265603325">(Dec 20 2021 at 18:58)</a>:</h4>
<p><a href="http://Docs.rs">Docs.rs</a> had some bug related to it ages ago, I don't remember exactly what</p>



<a name="265603465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/.cargo-ok/near/265603465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.2Ecargo-ok.html#265603465">(Dec 20 2021 at 19:00)</a>:</h4>
<p>Looking at my cache it seems it's still generated up to this day</p>



<a name="265603555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/.cargo-ok/near/265603555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.2Ecargo-ok.html#265603555">(Dec 20 2021 at 19:00)</a>:</h4>
<p><code>cargo 1.59.0-nightly (fcef61230 2021-12-17)</code></p>



<a name="265607167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/.cargo-ok/near/265607167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.2Ecargo-ok.html#265607167">(Dec 20 2021 at 19:38)</a>:</h4>
<p>Yes, <code>.cargo-ok</code> means it has finished extracting the entire archive (to detect if cargo was interrupted while it was being extracted).</p>



<a name="265618742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/246057-t-cargo/topic/.cargo-ok/near/265618742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/246057-t-cargo/topic/.2Ecargo-ok.html#265618742">(Dec 20 2021 at 21:39)</a>:</h4>
<p>Ok, thanks :)<br>
Guess i can just ignore it then :)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>