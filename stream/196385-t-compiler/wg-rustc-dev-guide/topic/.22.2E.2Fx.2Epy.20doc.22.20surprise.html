<html>
<head><meta charset="utf-8"><title>&quot;./x.py doc&quot; surprise · t-compiler/wg-rustc-dev-guide · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/index.html">t-compiler/wg-rustc-dev-guide</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html">&quot;./x.py doc&quot; surprise</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="175272236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175272236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tshepang Lekhonkhobe <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175272236">(Sep 09 2019 at 18:59)</a>:</h4>
<p>just found <code>./x.py doc</code> also builds compiler and libstd (as if you also ran <code>./x.py build</code>)</p>



<a name="175272286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175272286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175272286">(Sep 09 2019 at 18:59)</a>:</h4>
<p>Indeed, as we build rustdoc which depends on both</p>



<a name="175272347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175272347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175272347">(Sep 09 2019 at 19:00)</a>:</h4>
<p>doc --stage 0 might work, but I'm not too sure</p>



<a name="175272589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175272589" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tshepang Lekhonkhobe <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175272589">(Sep 09 2019 at 19:03)</a>:</h4>
<p>I used to do <code>./x.py build &amp;&amp; ./x.py doc</code>, which I've now found was not needed</p>



<a name="175272721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175272721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tshepang Lekhonkhobe <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175272721">(Sep 09 2019 at 19:04)</a>:</h4>
<p>also found that <code>x.py</code> subcommands are mirrors to <code>cargo</code>subcommands</p>



<a name="175273138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175273138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175273138">(Sep 09 2019 at 19:09)</a>:</h4>
<p>ah, yes, that's the intent, and over time they should become more similar</p>



<a name="175273152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175273152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175273152">(Sep 09 2019 at 19:09)</a>:</h4>
<p>today they're a bit different though they try to largely "match" as much as possible</p>



<a name="175273165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175273165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175273165">(Sep 09 2019 at 19:09)</a>:</h4>
<p>(in particular, you pass paths to things vs. 'pieces' or <code>--manifest-path</code>)</p>



<a name="175273551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175273551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tshepang Lekhonkhobe <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175273551">(Sep 09 2019 at 19:13)</a>:</h4>
<p>interestingly <code>doc --stage 0</code> fails with <a href="https://gist.github.com/tshepang/8ea90950fb2e7164e6fe650ad373921b" target="_blank" title="https://gist.github.com/tshepang/8ea90950fb2e7164e6fe650ad373921b">https://gist.github.com/tshepang/8ea90950fb2e7164e6fe650ad373921b</a></p>



<a name="175273701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175273701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175273701">(Sep 09 2019 at 19:15)</a>:</h4>
<p>Hm, that's a bit odd as I'd expect us to pass --cfg bootstrap for x.py doc</p>



<a name="175273776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/%22./x.py%20doc%22%20surprise/near/175273776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/196385-t-compiler/wg-rustc-dev-guide/topic/.22.2E.2Fx.2Epy.20doc.22.20surprise.html#175273776">(Sep 09 2019 at 19:16)</a>:</h4>
<p>it's probably because rustdoc doesn't understand the rustc_diagnostic_item attribute though</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>