<html>
<head><meta charset="utf-8"><title>What possible downsides of using nighly as stage0 compiler · t-compiler/wg-rustc-dev-guide · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/index.html">t-compiler/wg-rustc-dev-guide</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html">What possible downsides of using nighly as stage0 compiler</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="205472813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205472813" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lzutao <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205472813">(Jul 30 2020 at 12:39)</a>:</h4>
<p>There is an interest in using nighly as stage0 compiler: <a href="https://users.rust-lang.org/t/question-build-the-rustc/46596">https://users.rust-lang.org/t/question-build-the-rustc/46596</a><br>
I try to help there but don't know what consequence it may have? </p>
<p>cc <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> as you may know more about bootstraping</p>



<a name="205473145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205473145" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205473145">(Jul 30 2020 at 12:42)</a>:</h4>
<p>I have done it several times. Set <code>rustc</code> and <code>cargo</code> to the respective paths and <code>local-rebuild</code> to true and it should work.</p>



<a name="205473294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205473294" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lzutao <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205473294">(Jul 30 2020 at 12:44)</a>:</h4>
<p>wow, nice tips. Has it ever broken?</p>



<a name="205473914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205473914" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205473914">(Jul 30 2020 at 12:51)</a>:</h4>
<p>Yes, when <code>type_name</code> got stabilized I think.</p>



<a name="205474030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205474030" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205474030">(Jul 30 2020 at 12:52)</a>:</h4>
<p>Bootstrap uses <code>type_name</code>.</p>



<a name="205474113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205474113" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205474113">(Jul 30 2020 at 12:53)</a>:</h4>
<p>That breakage has been over a year ago now I think.</p>



<a name="205477280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205477280" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lzutao <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205477280">(Jul 30 2020 at 13:20)</a>:</h4>
<p>I set <code>local-rebuild=true</code> but ./x.py still build stage0 compiler.<br>
Do I infer what it does wrong?</p>



<a name="205477775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205477775" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205477775">(Jul 30 2020 at 13:25)</a>:</h4>
<p>It just disabled <code>cfg(bootstrap)</code> I think.</p>



<a name="205477831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205477831" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205477831">(Jul 30 2020 at 13:25)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/blob/7b3a7819371cef92a187e9bac8f7810ccde15216/src/bootstrap/builder.rs#L841-L846">https://github.com/rust-lang/rust/blob/7b3a7819371cef92a187e9bac8f7810ccde15216/src/bootstrap/builder.rs#L841-L846</a></p>
<blockquote>
<p>Assume the local-rebuild rustc already has stage1 features.</p>
</blockquote>



<a name="205478095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205478095" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lzutao <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205478095">(Jul 30 2020 at 13:28)</a>:</h4>
<p>Thank you. Was expected x.py skips stage0 compiler entirely.</p>



<a name="205478169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What%20possible%20downsides%20of%20using%20nighly%20as%20stage0%20compiler/near/205478169" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/196385-t-compiler/wg-rustc-dev-guide/topic/What.20possible.20downsides.20of.20using.20nighly.20as.20stage0.20compiler.html#205478169">(Jul 30 2020 at 13:28)</a>:</h4>
<p>That would have been nice.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>