<html>
<head><meta charset="utf-8"><title>cg_clif ar · t-core/licensing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/231349-t-core/licensing/index.html">t-core/licensing</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/231349-t-core/licensing/topic/cg_clif.20ar.html">cg_clif ar</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="272592276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/231349-t-core/licensing/topic/cg_clif%20ar/near/272592276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/231349-t-core/licensing/topic/cg_clif.20ar.html#272592276">(Feb 20 2022 at 13:26)</a>:</h4>
<p>Cg_clif currently uses a personal fork of rust-ar for writing archive files. This fork is necessary to allow generating the symbol table without using <code>ranlib</code>. This is currently broken on macOS though. In addition because of my fork not being published on <a href="http://crates.io">crates.io</a> <code>./x.py check</code> on the rust repo doesn't work without network access even when vendoring. I would like to replace rust-ar with a rust rewrite of llvm's archive builder. Would it be ok wrt to llvm's license to included it as part of cg_clif's source or should I publish a separate crate on <a href="http://crates.io">crates.io</a>? And if the later should the repo be moved to rust-lang with rust-lang-owner as owner of the crate?</p>



<a name="272601130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/231349-t-core/licensing/topic/cg_clif%20ar/near/272601130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/231349-t-core/licensing/topic/cg_clif.20ar.html#272601130">(Feb 20 2022 at 16:12)</a>:</h4>
<p>From a licensing perspective, you could do either, as long as you preserve LLVM's license. I can see other reasons why Rust might prefer one path over the other, but not for licensing reasons.</p>



<a name="272601175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/231349-t-core/licensing/topic/cg_clif%20ar/near/272601175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/231349-t-core/licensing/topic/cg_clif.20ar.html#272601175">(Feb 20 2022 at 16:13)</a>:</h4>
<blockquote>
<p>From a licensing perspective, you could do either, as long as you preserve LLVM's license.</p>
</blockquote>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>
<blockquote>
<p>I can see other reasons why Rust might prefer one path over the other</p>
</blockquote>
<p>Which option do you think is better?</p>



<a name="272601465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/231349-t-core/licensing/topic/cg_clif%20ar/near/272601465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/231349-t-core/licensing/topic/cg_clif.20ar.html#272601465">(Feb 20 2022 at 16:18)</a>:</h4>
<p>I personally think a separate crate would be better.</p>



<a name="272602218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/231349-t-core/licensing/topic/cg_clif%20ar/near/272602218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/231349-t-core/licensing/topic/cg_clif.20ar.html#272602218">(Feb 20 2022 at 16:32)</a>:</h4>
<p>First, because then you don't have to reflect two different licenses in the crate metadata.</p>



<a name="272602328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/231349-t-core/licensing/topic/cg_clif%20ar/near/272602328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/231349-t-core/licensing/topic/cg_clif.20ar.html#272602328">(Feb 20 2022 at 16:34)</a>:</h4>
<p>And second, because that sounds like a logically separate module, and one that might end up being useful elsewhere as well.</p>



<a name="272602358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/231349-t-core/licensing/topic/cg_clif%20ar/near/272602358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/231349-t-core/licensing/topic/cg_clif.20ar.html#272602358">(Feb 20 2022 at 16:35)</a>:</h4>
<p>So to answer your <em>other</em> question, yes, if it's a separate crate I think it should go under rust-lang, and have rust-lang-owner as a backup maintainer.</p>



<a name="272603685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/231349-t-core/licensing/topic/cg_clif%20ar/near/272603685" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/231349-t-core/licensing/topic/cg_clif.20ar.html#272603685">(Feb 20 2022 at 16:58)</a>:</h4>
<p>Thanks</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>