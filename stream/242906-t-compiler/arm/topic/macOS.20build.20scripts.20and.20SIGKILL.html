<html>
<head><meta charset="utf-8"><title>macOS build scripts and SIGKILL · t-compiler/arm · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/index.html">t-compiler/arm</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html">macOS build scripts and SIGKILL</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="218453006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218453006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cadey A. Ratio <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218453006">(Dec 01 2020 at 17:15)</a>:</h4>
<p>Is it normal for <a href="http://build.rs">build.rs</a> and proc macros to fail and be SIGKILL'd without any real errors in any logs like this? <a href="https://github.com/BurntSushi/rust-memchr/issues/78">https://github.com/BurntSushi/rust-memchr/issues/78</a></p>



<a name="218461426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218461426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218461426">(Dec 01 2020 at 18:21)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/73908">https://github.com/rust-lang/rust/issues/73908</a></p>
<p>--&gt;</p>
<p><a href="https://github.com/shepmaster/rust/blob/silicon/silicon/README.md#porting-notes">https://github.com/shepmaster/rust/blob/silicon/silicon/README.md#porting-notes</a></p>
<p>--&gt;</p>
<p><a href="https://stackoverflow.com/q/64830671/155423">Why does my native arm64 application built using an x86_64 build system fail to be code signed unless I remove the previous executable?</a></p>



<a name="218461558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218461558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218461558">(Dec 01 2020 at 18:22)</a>:</h4>
<p>TL;DR — sounds like you are building using the x86_64 tools on arm64, cross-compiling to arm64</p>



<a name="218461689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218461689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218461689">(Dec 01 2020 at 18:23)</a>:</h4>
<p>If you would file an Apple Feedback Assistant issue and reference <code>FB8897639</code>, that would be useful.</p>



<a name="218461799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218461799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218461799">(Dec 01 2020 at 18:24)</a>:</h4>
<p>As a workaround, you should be able to ensure you only use arm64 / arm64e processes. The mostly likely problem is that your rustup install isn't 1.23 or newer.</p>



<a name="218461856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218461856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218461856">(Dec 01 2020 at 18:24)</a>:</h4>
<p><span class="user-mention" data-user-id="368743">@Cadey A. Ratio</span></p>



<a name="218462271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cadey A. Ratio <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462271">(Dec 01 2020 at 18:28)</a>:</h4>
<div class="codehilite"><pre><span></span><code>cadey@spalo ~ % rustup --version
rustup 1.23.1 (3df2264a9 2020-11-30)
info: This is the version for the rustup toolchain manager, not the rustc compiler.
info: The currently active `rustc` version is `rustc 1.50.0-nightly (b7ebc6b0c 2020-11-30)`
</code></pre></div>



<a name="218462374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cadey A. Ratio <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462374">(Dec 01 2020 at 18:28)</a>:</h4>
<div class="codehilite"><pre><span></span><code>cadey@spalo ~ % rustup toolchain list
stable-x86_64-apple-darwin
nightly-aarch64-apple-darwin (default)
</code></pre></div>



<a name="218462385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462385">(Dec 01 2020 at 18:28)</a>:</h4>
<p>And <code>file $(which rustup)</code>?</p>



<a name="218462460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cadey A. Ratio <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462460">(Dec 01 2020 at 18:29)</a>:</h4>
<div class="codehilite"><pre><span></span><code>cadey@spalo ~ % file $(which rustup)
/Users/cadey/.cargo/bin/rustup: Mach-O 64-bit executable x86_64
</code></pre></div>



<a name="218462479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cadey A. Ratio <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462479">(Dec 01 2020 at 18:29)</a>:</h4>
<p>oh</p>



<a name="218462504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462504" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462504">(Dec 01 2020 at 18:29)</a>:</h4>
<p>You probably need to reinstall it. I assume that <code>self update</code> keeps it as x86_64.</p>



<a name="218462506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462506" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cadey A. Ratio <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462506">(Dec 01 2020 at 18:29)</a>:</h4>
<p>do I need to install aarch64 rustup?</p>



<a name="218462531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462531">(Dec 01 2020 at 18:30)</a>:</h4>
<p>that would probably be easiest for now, yes.</p>



<a name="218462607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462607">(Dec 01 2020 at 18:30)</a>:</h4>
<p>then the whole process chain should be <code>aarch64</code></p>



<a name="218462630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462630">(Dec 01 2020 at 18:30)</a>:</h4>
<p>Run the <code>curl</code> command and it should keep all your existing settings and toolchains</p>



<a name="218462741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cadey A. Ratio <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462741">(Dec 01 2020 at 18:31)</a>:</h4>
<p>that seemed to fix it, thanks!</p>



<a name="218462817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462817">(Dec 01 2020 at 18:32)</a>:</h4>
<p>You might want to do a <code>cargo clean</code> just to make sure there's nothing left over that is in a bad state, but good to hear!</p>



<a name="218462880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/218462880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cadey A. Ratio <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#218462880">(Dec 01 2020 at 18:33)</a>:</h4>
<p>I did, and now my Mac mini beats my ryzen tower in build times!</p>



<a name="219141388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219141388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Farwell <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219141388">(Dec 07 2020 at 21:33)</a>:</h4>
<p>hey there! I'm also running into this. my rustup is <code>/Users/coreyf/.cargo/bin/rustup: Mach-O 64-bit executable arm64</code></p>



<a name="219141626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219141626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Farwell <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219141626">(Dec 07 2020 at 21:35)</a>:</h4>
<div class="codehilite"><pre><span></span><code>/Users/coreyf/.cargo/bin/rustc: Mach-O 64-bit executable arm64
coreyf@Coreys-MacBook-Air rgis % file $(which rustc)
/Users/coreyf/.cargo/bin/rustc: Mach-O 64-bit executable arm64
coreyf@Coreys-MacBook-Air rgis % file $(which cargo)
/Users/coreyf/.cargo/bin/cargo: Mach-O 64-bit executable arm64
coreyf@Coreys-MacBook-Air rgis % file $(which rustup)
/Users/coreyf/.cargo/bin/rustup: Mach-O 64-bit executable arm64
coreyf@Coreys-MacBook-Air rgis % rustc --version
rustc 1.50.0-nightly (0f6f2d681 2020-12-06)
</code></pre></div>



<a name="219144701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219144701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Farwell <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219144701">(Dec 07 2020 at 22:02)</a>:</h4>
<p>new discovery is that it's happening for every binary. not just build script binaries</p>



<a name="219145830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219145830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Farwell <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219145830">(Dec 07 2020 at 22:11)</a>:</h4>
<p>nvm. the issue was i had <a href="http://terminal.app">terminal.app</a> running with rosetta</p>



<a name="219612762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219612762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Triscuit <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219612762">(Dec 11 2020 at 14:37)</a>:</h4>
<p>Strange... even after running cargo clean in my project, its still having issues compiling projects</p>



<a name="219638014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219638014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219638014">(Dec 11 2020 at 17:49)</a>:</h4>
<p>See other comments. Your rustup, terminal, cargo, rustc, etc. all must be aarch64.</p>



<a name="219638038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219638038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219638038">(Dec 11 2020 at 17:49)</a>:</h4>
<p>any of them running in rosetta can cause issues.</p>



<a name="219676744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219676744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Triscuit <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219676744">(Dec 12 2020 at 00:01)</a>:</h4>
<p>i compiled rustup from source and it says its "Mach-O 64-bit executable arm64" and it still has an issue compiling. Cargo and Rustup are both supposed to be nightly right?</p>



<a name="219683446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219683446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219683446">(Dec 12 2020 at 02:10)</a>:</h4>
<p>The easiest is to make sure that _everything_ is native. You compiled rustup <em>and installed it</em>?</p>



<a name="219683463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219683463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219683463">(Dec 12 2020 at 02:11)</a>:</h4>
<ul>
<li><code>file $(which rustup)</code></li>
<li><code>file $(which cargo)</code> </li>
<li><code>file $(which rustc)</code> </li>
<li><code>file $(rustup which cargo)</code> </li>
<li><code>file $(rustup which rustc)</code></li>
</ul>



<a name="219683522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219683522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219683522">(Dec 12 2020 at 02:13)</a>:</h4>
<p>Also, your shell (e.g. bash / zsh), terminal (e.g. iTerm2, Alacritty), terminal multiplexer (screen, tmux)</p>



<a name="219683534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219683534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219683534">(Dec 12 2020 at 02:13)</a>:</h4>
<p>If you run things from inside an editor (emacs, emacs, maybe emacs)</p>



<a name="219683540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219683540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219683540">(Dec 12 2020 at 02:13)</a>:</h4>
<p>I guess there might be other "editors"</p>



<a name="219683587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219683587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219683587">(Dec 12 2020 at 02:14)</a>:</h4>
<p>Also, does "having issues" mean "build scripts are being killed" or something else?</p>



<a name="219683618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219683618" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219683618">(Dec 12 2020 at 02:15)</a>:</h4>
<p><span class="user-mention" data-user-id="371226">@Triscuit</span> ^</p>



<a name="219683821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219683821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Triscuit <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219683821">(Dec 12 2020 at 02:21)</a>:</h4>
<p><code>file $(which rustup)</code>: Mach-O 64-bit executable arm64<br>
<code>file $(which cargo)</code> :  Mach-O 64-bit executable arm64<br>
<code>file $(which rustc)</code>: Mach-O 64-bit executable arm64<br>
<code>file $(rustup which cargo)</code>: .rustup/toolchains/nightly-aarch64-apple-darwin/bin/rustc: Mach-O 64-bit executable arm64<br>
<code>file $(rustup which rustc)</code>: .rustup/toolchains/nightly-aarch64-apple-darwin/bin/rustc: Mach-O 64-bit executable arm64</p>
<p>I am running it with zsh currently. I have yet to try it in emacs ( since I have to import my init file from my other computer), but CLion doesnt when compiled.</p>



<a name="219684067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219684067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219684067">(Dec 12 2020 at 02:27)</a>:</h4>
<blockquote>
<p>Also, does "having issues" mean "build scripts are being killed" or something else?</p>
</blockquote>



<a name="219684106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219684106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219684106">(Dec 12 2020 at 02:28)</a>:</h4>
<p>Is the project in question public?</p>



<a name="219684344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219684344" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Triscuit <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219684344">(Dec 12 2020 at 02:34)</a>:</h4>
<p>theres two projects that fail to compile (not yet posted on github):<br>
one error is with ring: <code>error: failed to run custom build command for ring v0.16.15</code><br>
the other error is with: <code>error: failed to run custom build command for coreaudio-sys v0.2.4</code>but thats probably something to do with my llvm config</p>



<a name="219685155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219685155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219685155">(Dec 12 2020 at 02:53)</a>:</h4>
<blockquote>
<p>ring (use 0.16.17 or above)</p>
</blockquote>



<a name="219685161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219685161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219685161">(Dec 12 2020 at 02:53)</a>:</h4>
<p><a href="https://github.com/shepmaster/rust/blob/silicon/silicon/README.md#porting-notes">https://github.com/shepmaster/rust/blob/silicon/silicon/README.md#porting-notes</a></p>



<a name="219685170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219685170" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219685170">(Dec 12 2020 at 02:53)</a>:</h4>
<p>so maybe just <code>cargo update</code> for that one.</p>



<a name="219685801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219685801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Triscuit <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219685801">(Dec 12 2020 at 03:09)</a>:</h4>
<p>I was compiling this as a test as well and it was throwing an error: <a href="https://github.com/AndreaCatania/amethyst_physics_test">https://github.com/AndreaCatania/amethyst_physics_test</a></p>



<a name="219693844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/219693844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Triscuit <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#219693844">(Dec 12 2020 at 06:40)</a>:</h4>
<p>the other github link was just a test to try and determine the FPS, but this library is having issues compiling winit on M1: <a href="https://github.com/hecrj/iced">https://github.com/hecrj/iced</a> </p>
<p>is this just an issue with my configuration or are you guys able to compile the examples with winit?</p>



<a name="220226055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/220226055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Hommey <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#220226055">(Dec 17 2020 at 10:19)</a>:</h4>
<p>Note that rebooting can fix some of those issues if they stay after you get rid of the x86_64 rustup (there's some caching going on around codesigning that could still contain bad state and is reset on reboot).</p>



<a name="220295469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20build%20scripts%20and%20SIGKILL/near/220295469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Hommey <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20build.20scripts.20and.20SIGKILL.html#220295469">(Dec 17 2020 at 20:10)</a>:</h4>
<p>Something else to look out: if your terminal or your shell are not arm64, that can cause problems too. Check the activity monitor to see if you have Intel processes.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>