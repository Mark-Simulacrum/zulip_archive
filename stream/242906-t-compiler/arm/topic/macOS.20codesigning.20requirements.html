<html>
<head><meta charset="utf-8"><title>macOS codesigning requirements · t-compiler/arm · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/index.html">t-compiler/arm</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html">macOS codesigning requirements</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="217281791"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217281791" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217281791">(Nov 19 2020 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> hmm, any clue if <a href="https://github.com/golang/go/issues/42684">https://github.com/golang/go/issues/42684</a> affects us too?</p>



<a name="217281884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217281884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217281884">(Nov 19 2020 at 15:09)</a>:</h4>
<p>Yes/no.</p>



<a name="217281955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217281955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217281955">(Nov 19 2020 at 15:09)</a>:</h4>
<p>Cc will code sign things automatically with an adhoc signature.</p>



<a name="217282081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217282081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217282081">(Nov 19 2020 at 15:10)</a>:</h4>
<p>See also the SO question linked in <a href="https://github.com/shepmaster/rust/blob/silicon/silicon/README.md">https://github.com/shepmaster/rust/blob/silicon/silicon/README.md</a></p>



<a name="217282103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217282103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217282103">(Nov 19 2020 at 15:10)</a>:</h4>
<p>Under porting</p>



<a name="217282154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217282154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217282154">(Nov 19 2020 at 15:10)</a>:</h4>
<p>Since we use cc as the linker everything is working.</p>



<a name="217282400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217282400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217282400">(Nov 19 2020 at 15:12)</a>:</h4>
<p>hmm ok</p>



<a name="217282659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217282659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217282659">(Nov 19 2020 at 15:14)</a>:</h4>
<p>The DTK is running released macOS 11 and Xcode 12 and things are fine</p>



<a name="217282810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217282810" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217282810">(Nov 19 2020 at 15:15)</a>:</h4>
<p>It’s possible that the production hardware has some difference</p>



<a name="217282936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217282936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217282936">(Nov 19 2020 at 15:16)</a>:</h4>
<p>But I’ve seen people on Twitter using it on production hardware.</p>



<a name="217287434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217287434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217287434">(Nov 19 2020 at 15:45)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> do we have an issue tracking using lld instead? If so, we might want to mention this there.</p>



<a name="217287495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217287495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217287495">(Nov 19 2020 at 15:46)</a>:</h4>
<p>uh, dunno</p>



<a name="217287524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217287524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217287524">(Nov 19 2020 at 15:46)</a>:</h4>
<p>I just saw that link on twitter and wanted to bring it to your attention :)</p>



<a name="217288000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217288000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217288000">(Nov 19 2020 at 15:49)</a>:</h4>
<p>I switched to using zld on my laptop, I should check to see if they have an issue.</p>



<a name="217314228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217314228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217314228">(Nov 19 2020 at 18:55)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> to hopefully ease any concerns:</p>
<div class="codehilite"><pre><span></span><code>% cargo new hello-world
     Created binary (application) `hello-world` package

% cd hello-world

% cargo build
   Compiling hello-world v0.1.0 (/private/tmp/hello-world)
    Finished dev [unoptimized + debuginfo] target(s) in 5.03s

% codesign -dvvv target/debug/hello-world
Executable=/private/tmp/hello-world/target/debug/hello-world
Identifier=hello_world
Format=Mach-O thin (arm64)
CodeDirectory v=20400 size=3140 flags=0x20002(adhoc,linker-signed) hashes=95+0 location=embedded
Hash type=sha256 size=32
CandidateCDHash sha256=2fd59b9215be8cfaa04c619323546803bd8ee109
CandidateCDHashFull sha256=2fd59b9215be8cfaa04c619323546803bd8ee1091eab723ddedc127abacd9e6b
Hash choices=sha256
CMSDigest=2fd59b9215be8cfaa04c619323546803bd8ee1091eab723ddedc127abacd9e6b
CMSDigestType=2
CDHash=2fd59b9215be8cfaa04c619323546803bd8ee109
Signature=adhoc
Info.plist=not bound
TeamIdentifier=not set
Sealed Resources=none
Internal requirements=none
</code></pre></div>



<a name="217314519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217314519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217314519">(Nov 19 2020 at 18:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="217448020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20codesigning%20requirements/near/217448020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20codesigning.20requirements.html#217448020">(Nov 20 2020 at 19:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116155">Jake Goulding</span> <a href="#narrow/stream/242906-t-compiler.2Farm/topic/macOS.20codesigning.20requirements/near/217287434">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> do we have an issue tracking using lld instead? If so, we might want to mention this there.</p>
</blockquote>
<p><a href="https://github.com/rust-lang/rust/issues/39915#issuecomment-731365268">https://github.com/rust-lang/rust/issues/39915#issuecomment-731365268</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>