<html>
<head><meta charset="utf-8"><title>macOS + cranelift · t-compiler/arm · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242906-t-compiler/arm/index.html">t-compiler/arm</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242906-t-compiler/arm/topic/macOS.20.2B.20cranelift.html">macOS + cranelift</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="202985247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20%2B%20cranelift/near/202985247" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/242906-t-compiler/arm/topic/macOS.20.2B.20cranelift.html#202985247">(Jul 06 2020 at 13:02)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="133247">@bjorn3</span> — Is there anything special you think we'd need to do to support cg_clif?</p>



<a name="202985655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20%2B%20cranelift/near/202985655" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/242906-t-compiler/arm/topic/macOS.20.2B.20cranelift.html#202985655">(Jul 06 2020 at 13:06)</a>:</h4>
<p>The aarch64 backend of Cranelift is still missing some features necessary for cg_clif, like 128bit ints and TLS. Once those are implemented it should work fine. I have already tested a raytracer in qemu with patches to work around those missing features.</p>



<a name="202985751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20%2B%20cranelift/near/202985751" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/242906-t-compiler/arm/topic/macOS.20.2B.20cranelift.html#202985751">(Jul 06 2020 at 13:07)</a>:</h4>
<p>As for macOS support on x86_64 it is fully functioning.</p>



<a name="203821647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20%2B%20cranelift/near/203821647" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/242906-t-compiler/arm/topic/macOS.20.2B.20cranelift.html#203821647">(Jul 14 2020 at 11:20)</a>:</h4>
<p><span class="user-mention" data-user-id="133247">@bjorn3</span> I don’t think I conveyed the information you gave me correctly:</p>
<p><a href="https://twitter.com/tschneidereit/status/1282986568907661312?s=21">https://twitter.com/tschneidereit/status/1282986568907661312?s=21</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/tschneidereit/status/1282986568907661312?s=21"><img class="twitter-avatar" src="https://pbs.twimg.com/profile_images/1837005520/me_normal.jpg"></a><p><a href="https://twitter.com/JakeGoulding">@JakeGoulding</a> <a href="https://twitter.com/sluongng">@sluongng</a> <a href="https://twitter.com/flovilmart">@flovilmart</a> Do you mean specifically as a rustc backend, or in general? Cranelift by now has a reasonably mature aarch64 backend, and we do releases of Wasmtime using that: <a href="https://t.co/5lwCZerVdO">https://github.com/bytecodealliance/wasmtime/releases/tag/dev</a></p><span>- Till Schneidereit (@tschneidereit)</span></div></div>



<a name="203821890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20%2B%20cranelift/near/203821890" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/242906-t-compiler/arm/topic/macOS.20.2B.20cranelift.html#203821890">(Jul 14 2020 at 11:23)</a>:</h4>
<p>For WASM compilation the AArch64 backend is fine, but for cg_clif there are still a few things missing, like 128bit ints and TLS.</p>



<a name="203822619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20%2B%20cranelift/near/203822619" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/242906-t-compiler/arm/topic/macOS.20.2B.20cranelift.html#203822619">(Jul 14 2020 at 11:33)</a>:</h4>
<p>Do you care to reply on Twitter or shall I?</p>



<a name="203822817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20%2B%20cranelift/near/203822817" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/242906-t-compiler/arm/topic/macOS.20.2B.20cranelift.html#203822817">(Jul 14 2020 at 11:36)</a>:</h4>
<p>I don't have a Twitter account.</p>



<a name="203822983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20%2B%20cranelift/near/203822983" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/242906-t-compiler/arm/topic/macOS.20.2B.20cranelift.html#203822983">(Jul 14 2020 at 11:39)</a>:</h4>
<p>Sounds like a good deciding factor <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>