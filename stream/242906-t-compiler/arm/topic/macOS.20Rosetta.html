<html>
<head><meta charset="utf-8"><title>macOS Rosetta · t-compiler/arm · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/index.html">t-compiler/arm</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20Rosetta.html">macOS Rosetta</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="202574907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20Rosetta/near/202574907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20Rosetta.html#202574907">(Jul 01 2020 at 14:25)</a>:</h4>
<p>We've heard that the x86_64 <code>rustc --version</code> works on the DTK; but what about a compiled program? That is, can we <code>rustc hello_world.rs &amp;&amp; ./hello_world</code>?</p>
<p>/cc <span class="user-mention" data-user-id="317220">@André Arko</span>  (the only one I know with a DTK so far <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span>)</p>



<a name="202596612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20Rosetta/near/202596612" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> André Arko <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20Rosetta.html#202596612">(Jul 01 2020 at 17:13)</a>:</h4>
<p>Yeah, Rosetta works astonishingly well! I've been using x86_64 builds of rustc _on the DTK_ as I try to bootstrap a build for aarch64-apple-darwin :)</p>



<a name="202596626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20Rosetta/near/202596626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> André Arko <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20Rosetta.html#202596626">(Jul 01 2020 at 17:13)</a>:</h4>
<div class="codehilite"><pre><span></span><code>❯ rustc hello_world.rs &amp;&amp; ./hello_world
&lt;jemalloc&gt;: Unsupported system page size
Hello World!
❯ lipo -info hello_world
Non-fat file: hello_world is architecture: x86_64
</code></pre></div>



<a name="202599836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20Rosetta/near/202599836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20Rosetta.html#202599836">(Jul 01 2020 at 17:40)</a>:</h4>
<p>it'd be kinda interesting to see if the test suite passes on x86_64</p>



<a name="202599919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20Rosetta/near/202599919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20Rosetta.html#202599919">(Jul 01 2020 at 17:41)</a>:</h4>
<p>cross-compilation terminology is complicated.</p>



<a name="202599921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20Rosetta/near/202599921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20Rosetta.html#202599921">(Jul 01 2020 at 17:41)</a>:</h4>
<p>like, doing a full <code>/x.py test</code> targeting x86_64</p>



<a name="202600029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242906-t-compiler/arm/topic/macOS%20Rosetta/near/202600029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> André Arko <a href="https://zulip-archive.rust-lang.org/stream/242906-t-compiler/arm/topic/macOS.20Rosetta.html#202600029">(Jul 01 2020 at 17:42)</a>:</h4>
<p>I haven't been able to figure out how to target x86_64 while compiling yet, even though any existing x86_64 binaries run just fine</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>