<html>
<head><meta charset="utf-8"><title>Idea: More weak keywords? · t-lang · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/index.html">t-lang</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html">Idea: More weak keywords?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="264105419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264105419" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264105419">(Dec 08 2021 at 02:59)</a>:</h4>
<p>It seems "union" will be a weak keyword forever, methods and names can be named <code>union</code>, and it can still be used to define unions. This seems a good thing to me. I wonder if "type", "struct", "enum" can also be converted weak keywords? Especially "type", i've seem make code bases workaround the limitation by naming it to something non-intuitive.</p>



<a name="264109929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264109929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264109929">(Dec 08 2021 at 04:12)</a>:</h4>
<p>o_O</p>



<a name="264109935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264109935" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264109935">(Dec 08 2021 at 04:12)</a>:</h4>
<p>That's...not a bad idea.</p>



<a name="264109963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264109963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khionu Sybiern <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264109963">(Dec 08 2021 at 04:13)</a>:</h4>
<p>I am a huge fan of this. The whole <code>r#type</code> syntax actually bothers me because it doesn't enable writing out <code>type</code> anywhere, so you may as well just name it something different.</p>



<a name="264110579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264110579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264110579">(Dec 08 2021 at 04:26)</a>:</h4>
<p>TBH, I generally prefer seeing code use a different word anyway (like <code>kind</code>) since it helps saying things out loud when "type" means "actually a type", not "sometimes an enum".</p>
<p>I'm not convinced it has enough value to bother -- keywords for confident reparse points are, afaik, rather handy for incomplete code handling.</p>



<a name="264111863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264111863" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264111863">(Dec 08 2021 at 04:49)</a>:</h4>
<p>When interacting with foreign code, or serialization, other non-Rust users uses "type" really a lot ...  This is not something critical, it's just i'm a little bit tired of all the <code>rename</code>s or <code>r#type</code>s...</p>



<a name="264111928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264111928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264111928">(Dec 08 2021 at 04:50)</a>:</h4>
<p>I'm not totally convinced we <em>should</em> do it, but it doesn't seem like a bad idea to me, and I can easily see the benefits to doing so.</p>



<a name="264112350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264112350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fee1-dead <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264112350">(Dec 08 2021 at 04:58)</a>:</h4>
<p>As for procedural macros using names of fields (e.g. serde) I think there could be a "global rename" attribute that renames all fields with the name to another. That way you can write <code>ty</code> and it will be treated as if it was <code>r#type</code>.</p>



<a name="264143591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264143591" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264143591">(Dec 08 2021 at 11:43)</a>:</h4>
<p>tbh, the fact that <code>type</code> is a keyword is annoying, especially when writing binary structure layouts, or the rust code representing them. <code>ty</code> is  the closest, but not necessarily immediately intuitive. Neither is <code>kind</code> (especially when <code>kind</code> is actually used as a control field in the layout).</p>



<a name="264143899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264143899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264143899">(Dec 08 2021 at 11:47)</a>:</h4>
<p>I fear this might make code easier to write but harder to read. Take into account that syntax highlighting won’t get this right, and it will be a rarely used feature (outside of compilers, etc), so I think this would be very surprising to find when reading unfamiliar code</p>



<a name="264145421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264145421" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264145421">(Dec 08 2021 at 12:05)</a>:</h4>
<p>In the situtations I've really wanted <code>type</code> because that's what expresses the intent, as I said, I found aliases such as <code>ty</code> or <code>kind</code> uninituitive in determining the meaning of the field (which is important for understanding the kinds of formats I'm writing, if none of the fields express the basic intent, no amount of prose can fix that). I would, imo, call that harder to read or, at least, harder to understand.</p>



<a name="264145955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264145955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264145955">(Dec 08 2021 at 12:12)</a>:</h4>
<p>An example of syntax highlighting confusion:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">union</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">union</span> <span class="nc">union</span><span class="o">&lt;'</span><span class="na">union</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">union</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">union</span> <span class="nc">union</span><span class="o">&lt;'</span><span class="na">union</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">fn</span> <span class="nf">onion</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">union</span> <span class="nc">onion</span><span class="o">&lt;'</span><span class="na">onion</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">onion</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">onion</span> <span class="nc">onion</span><span class="o">&lt;'</span><span class="na">onion</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="264146020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264146020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264146020">(Dec 08 2021 at 12:13)</a>:</h4>
<p>This is a structure I have, expressed in rust syntax (and, in theory, implementable by copying the definition from the document to rust source code):</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#[repr(C,align(64))]</span><span class="w"></span>
<span class="k">pub</span><span class="w"> </span><span class="k">struct</span> <span class="nc">Object</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">strong_ref</span>: <span class="kt">u32</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">weak_ref</span>: <span class="kt">u32</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">streams_size</span>: <span class="kt">u64</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">streams_ref</span>: <span class="kt">u128</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">streams_indirection</span>: <span class="kt">u8</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">reserved33</span>: <span class="p">[</span><span class="kt">u8</span><span class="p">;</span><span class="w"> </span><span class="mi">5</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="n">ty</span>: <span class="kt">u16</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">flags</span>: <span class="kt">u32</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">reserved44</span>: <span class="p">[</span><span class="kt">u8</span><span class="p">;</span><span class="w"> </span><span class="mi">20</span><span class="p">],</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>When I'm quickly scanning this definition, I don't immediately connect <code>ty</code>=<code>type</code> (less so with <code>kind</code>, though I haven't found any definitions that use it. Possibly for this exact reason), with the benefit of having written the definition.</p>



<a name="264146233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264146233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264146233">(Dec 08 2021 at 12:15)</a>:</h4>
<p>(and the alternative is <code>type_</code>, which even though I personally prefer it (I use <code>name_</code> a lot in proc-macro code), is not great either (and the worst of all: <code>r#type</code>))</p>



<a name="264422151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264422151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264422151">(Dec 10 2021 at 09:36)</a>:</h4>
<p>Also, I could see wanting to use <code>struct { x: 10 }</code> for anonymous structs or inferred literals or something, so I wouldn't want to un-reserve it (or <code>enum</code>, for similar reasons).</p>



<a name="264444272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264444272" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264444272">(Dec 10 2021 at 13:11)</a>:</h4>
<p>Fair, but will that introduce grammar ambiguousity with field and method names?</p>



<a name="264448449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264448449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264448449">(Dec 10 2021 at 13:43)</a>:</h4>
<p>It can with identifier patterns and also destructuring patterns</p>



<a name="264500593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264500593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264500593">(Dec 10 2021 at 20:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116458">Charles Lew</span> <a href="#narrow/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F/near/264444272">said</a>:</p>
<blockquote>
<p>Fair, but will that introduce grammar ambiguousity with field and method names?</p>
</blockquote>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">struct</span> <span class="nc">struct</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span>: <span class="kt">i32</span> <span class="p">};</span><span class="w"></span>
<span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"></span>
<span class="kd">let</span><span class="w"> </span><span class="k">struct</span>: <span class="nc">struct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">struct</span> <span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>Related: <a href="https://github.com/rust-lang/rust/blob/master/src/test/ui/weird-exprs.rs#L115">https://github.com/rust-lang/rust/blob/master/src/test/ui/weird-exprs.rs#L115</a></p>



<a name="264507268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264507268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264507268">(Dec 10 2021 at 20:59)</a>:</h4>
<p>One could just (contextually) make <code>struct</code> (and <code>enum</code>) also be a keyword in the context of a <em><a href="https://doc.rust-lang.org/stable/reference/expressions/struct-expr.html">StructExprStruct</a></em> or <em><a href="https://doc.rust-lang.org/stable/reference/patterns.html#struct-patterns">StructPattern</a></em> though, right? This would keep <code>struct { … }</code> and <code>enum { … }</code> reserved in expressions and patterns. I.e. if you want to construct your struct named <code>struct</code>, you’ll have to write <code>r#struct { x }</code>. Lower-case names for structs are discouraged anyways, so making <code>struct</code> as a struct-name annoying to use is not really a bad thing.</p>



<a name="264550973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/264550973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#264550973">(Dec 11 2021 at 08:54)</a>:</h4>
<p>Thanks!  I remembered union was introduced before <code>r#</code> become a thing.</p>
<blockquote>
<p><code>
fn union() {
    union union&lt;'union&gt; { union: &amp;'union union&lt;'union&gt;, }
}
</code></p>
</blockquote>
<p>From my personal opinion, i think it's just better to only permit people to write:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">union</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">union</span> <span class="nc">r</span>#<span class="k">union</span><span class="o">&lt;'</span><span class="na">r</span>#<span class="k">union</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">union</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">r</span>#<span class="k">union</span> <span class="nc">r</span>#<span class="k">union</span><span class="o">&lt;'</span><span class="na">r</span>#<span class="k">union</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>In that example... On the other hand, <code>'r#union</code> is currently not allowed and i really wish this syntax be allow though...</p>



<a name="265413991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/265413991" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes Dahlström <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#265413991">(Dec 18 2021 at 11:42)</a>:</h4>
<p>What about <code>in</code>? It's useful especially as a function parameter name, as an abbreviation of "input" (eg. input stream) and complementary of "out" for "output".</p>



<a name="265431268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/265431268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#265431268">(Dec 18 2021 at 17:57)</a>:</h4>
<p>There is a potential use case for <code>'in</code> as a special lifetime that outlives all input lifetimes:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">foo</span><span class="p">(</span><span class="n">x</span>: <span class="kp">&amp;</span><span class="kt">str</span><span class="p">,</span><span class="w"> </span><span class="n">y</span>: <span class="kp">&amp;</span><span class="kt">str</span><span class="p">,</span><span class="w"> </span><span class="n">z</span>: <span class="kt">bool</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kp">&amp;</span><span class="o">'</span><span class="na">in</span> <span class="kt">str</span> <span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">bar</span><span class="p">(</span><span class="n">x</span>: <span class="kp">&amp;</span><span class="kt">str</span><span class="p">,</span><span class="w"> </span><span class="n">y</span>: <span class="kp">&amp;</span><span class="kt">str</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">impl</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">'</span><span class="na">in</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">..</span><span class="p">.</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="265435667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/265435667" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#265435667">(Dec 18 2021 at 18:51)</a>:</h4>
<p><code>in</code> is actually used by <code>asm!</code>, though morally a macro just accepts a pile of tokens so you could argue it's still not a positional keyword.</p>



<a name="265445171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Idea%3A%20More%20weak%20keywords%3F/near/265445171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Idea.3A.20More.20weak.20keywords.3F.html#265445171">(Dec 18 2021 at 21:41)</a>:</h4>
<p>Yeah, you can pass <code>struct</code> as an <code>ident</code> to a <code>macro_rules</code> macro, so at token level things are all weird.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>