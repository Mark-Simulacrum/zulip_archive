<html>
<head><meta charset="utf-8"><title>Elided lifetimes lint · t-lang · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/index.html">t-lang</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Elided.20lifetimes.20lint.html">Elided lifetimes lint</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="264085193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Elided%20lifetimes%20lint/near/264085193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Elided.20lifetimes.20lint.html#264085193">(Dec 07 2021 at 22:50)</a>:</h4>
<p>I opened the distinct issue for the <code>elided_lifetimes_in_paths</code> lint: <a href="https://github.com/rust-lang/rust/issues/91639">https://github.com/rust-lang/rust/issues/91639</a></p>
<p>If anyone remembers where the notes are from one of our lang conversations about it, please link them.</p>



<a name="264111981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Elided%20lifetimes%20lint/near/264111981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Elided.20lifetimes.20lint.html#264111981">(Dec 08 2021 at 04:51)</a>:</h4>
<p>Petrochenkov brought up <code>'..</code> in that, which seems like it'd be worth having in a couple places.</p>
<p>For example, I spotted this today:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">impl</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fmt</span>::<span class="n">Debug</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Elaborator</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</code></pre></div>
<p>And that can be simplified to</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">impl</span><span class="w"> </span><span class="n">fmt</span>::<span class="n">Debug</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Elaborator</span><span class="o">&lt;'</span><span class="nb">_</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="nb">_</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="nb">_</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</code></pre></div>
<p>But it would make sense to me to have it be able to be</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">impl</span><span class="w"> </span><span class="n">fmt</span>::<span class="n">Debug</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Elaborator</span><span class="o">&lt;'..&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</code></pre></div>
<p>As a way to acknowledge the lifetimes, but to say that you really don't care.  (As one never seems to care about the lifetimes on your type when implementing <code>Debug</code> for it.)</p>
<p>It doesn't have the disadvantage of allowing people to write</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">impl</span><span class="w"> </span><span class="n">MyTrait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">String</span><span class="o">&lt;'..&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</code></pre></div>
<p>but we could lint that, and it's not all that much worse than people doing <code>String&lt;&gt;</code>.</p>



<a name="264112295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Elided%20lifetimes%20lint/near/264112295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Elided.20lifetimes.20lint.html#264112295">(Dec 08 2021 at 04:57)</a>:</h4>
<p>Looks like it could also be nice to allow things like</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">impl</span><span class="o">&lt;'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="w"> </span><span class="n">MutVisitor</span><span class="o">&lt;'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">ConstPropagator</span><span class="o">&lt;'</span><span class="na">tcx</span><span class="p">,</span><span class="w"> </span><span class="o">'..&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</code></pre></div>
<p>since many of the visitor structs contain references, but the lifetime of those references basically never seems to matter in the implementations of the visitor traits.</p>



<a name="264140939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Elided%20lifetimes%20lint/near/264140939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Elided.20lifetimes.20lint.html#264140939">(Dec 08 2021 at 11:14)</a>:</h4>
<p>It could also incidentally help alleviate the syntax for the "named function types": <a href="#narrow/stream/213817-t-lang/topic/named.20function.20types/near/264083388">https://rust-lang.zulipchat.com/#narrow/stream/213817-t-lang/topic/named.20function.20types/near/264083388</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>