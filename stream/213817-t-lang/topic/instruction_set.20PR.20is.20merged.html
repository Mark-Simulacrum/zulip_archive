<html>
<head><meta charset="utf-8"><title>instruction_set PR is merged · t-lang · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/index.html">t-lang</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/instruction_set.20PR.20is.20merged.html">instruction_set PR is merged</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="212779379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/instruction_set%20PR%20is%20merged/near/212779379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/instruction_set.20PR.20is.20merged.html#212779379">(Oct 09 2020 at 03:17)</a>:</h4>
<p>For those who follow Zulip but not the github tracking issues (a small group probably), the PR for the <code>instruction_set</code> RFC has merged.</p>



<a name="212779395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/instruction_set%20PR%20is%20merged/near/212779395" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/instruction_set.20PR.20is.20merged.html#212779395">(Oct 09 2020 at 03:17)</a>:</h4>
<p>PR: <a href="https://github.com/rust-lang/rust/pull/76260">https://github.com/rust-lang/rust/pull/76260</a></p>



<a name="212779401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/instruction_set%20PR%20is%20merged/near/212779401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/instruction_set.20PR.20is.20merged.html#212779401">(Oct 09 2020 at 03:18)</a>:</h4>
<p>tracking issue: <a href="https://github.com/rust-lang/rust/issues/74727">https://github.com/rust-lang/rust/issues/74727</a></p>



<a name="212897676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/instruction_set%20PR%20is%20merged/near/212897676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/instruction_set.20PR.20is.20merged.html#212897676">(Oct 10 2020 at 03:59)</a>:</h4>
<p>Tested it out, built a test rom, it works and all that.</p>
<p>but there's some unfortunate side effects of cross-isa calls. Generic code in the main crate doesn't get inlined into the ARM function, which is sorta what we expected after all, but it means even "small" functions (like abstracting mmio) become real function calls.</p>
<p>this can be worked around in many cases by simply immediately diverting the call back to the common isa, but it's unfortunate, and maybe we can improve things in this area.</p>
<p><em>other than</em> inline asm it'd be nice to have proper inlining allowing for the normal "zero cost" situations to keep working.</p>



<a name="213319377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/instruction_set%20PR%20is%20merged/near/213319377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/instruction_set.20PR.20is.20merged.html#213319377">(Oct 14 2020 at 16:51)</a>:</h4>
<p><span class="user-mention" data-user-id="224471">@Lokathor</span> nice!</p>



<a name="213319470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/instruction_set%20PR%20is%20merged/near/213319470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/instruction_set.20PR.20is.20merged.html#213319470">(Oct 14 2020 at 16:51)</a>:</h4>
<p>I should probably bump that then on our project board</p>



<a name="213319540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/instruction_set%20PR%20is%20merged/near/213319540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/instruction_set.20PR.20is.20merged.html#213319540">(Oct 14 2020 at 16:52)</a>:</h4>
<p>I think it's now in the "awaiting feedback" stage, more or less?</p>



<a name="213321901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/instruction_set%20PR%20is%20merged/near/213321901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/instruction_set.20PR.20is.20merged.html#213321901">(Oct 14 2020 at 17:08)</a>:</h4>
<p>yeah. i think the feedback is going to take a while, there's basically two people using it</p>



<a name="213331481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/instruction_set%20PR%20is%20merged/near/213331481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/instruction_set.20PR.20is.20merged.html#213331481">(Oct 14 2020 at 18:18)</a>:</h4>
<p><span class="user-mention" data-user-id="224471">@Lokathor</span> I moved it :)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>