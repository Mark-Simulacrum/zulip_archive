<html>
<head><meta charset="utf-8"><title>Generic const fn calling trait methods · t-lang · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/index.html">t-lang</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Generic.20const.20fn.20calling.20trait.20methods.html">Generic const fn calling trait methods</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="249227679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Generic%20const%20fn%20calling%20trait%20methods/near/249227679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Sapin <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Generic.20const.20fn.20calling.20trait.20methods.html#249227679">(Aug 12 2021 at 12:27)</a>:</h4>
<p>Has there been discussion of what calling trait methods in <code>const fn</code> could look like? When reading <a href="https://www.reddit.com/r/rust/comments/p2w3xu/sorting_slices_at_compile_time/">https://www.reddit.com/r/rust/comments/p2w3xu/sorting_slices_at_compile_time/</a> I looked at why <code>[T]::sort_unstable</code> is not const. It’s because sorting needs to call <code>&lt;T as Ord&gt;::cmp</code>. If we want to eventually lift that restriction eventually we’d need some way to annotate a particular <code>impl</code> as <code>const</code> (or maybe each trait method in a given impl can be individually <code>const</code> or not?) but also annotate <code>sort_unstable</code> as <code>const</code> <em>if and only if</em> this particular impl of <code>cmp</code> is <code>const</code>.</p>



<a name="249227820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Generic%20const%20fn%20calling%20trait%20methods/near/249227820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Sapin <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Generic.20const.20fn.20calling.20trait.20methods.html#249227820">(Aug 12 2021 at 12:29)</a>:</h4>
<p>I suspect there’s quite a bit of design work there and I understand it might not be the current focus of the lang team, I’m just idly wondering if some ideas are already around</p>



<a name="249244078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Generic%20const%20fn%20calling%20trait%20methods/near/249244078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Generic.20const.20fn.20calling.20trait.20methods.html#249244078">(Aug 12 2021 at 14:45)</a>:</h4>
<p>That's <a href="https://github.com/rust-lang/rust/issues/67792">https://github.com/rust-lang/rust/issues/67792</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>