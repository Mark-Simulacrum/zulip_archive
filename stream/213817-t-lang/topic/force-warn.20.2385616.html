<html>
<head><meta charset="utf-8"><title>force-warn #85616 · t-lang · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/index.html">t-lang</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html">force-warn #85616</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="249225367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249225367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249225367">(Aug 12 2021 at 12:02)</a>:</h4>
<p>Hey all! The edition working group has noted that <a href="https://github.com/rust-lang/rust/issues/86516">https://github.com/rust-lang/rust/issues/86516</a> is a blocker to stabilizing the edition infrastructure, and hasn't yet been discussed by the lang team. I've nominated for lang next week, but wanted to post here in case we can get some early async feedback to streamline the meeting. (Or, perhaps, folks agree with things as-is, though I have some potential blockers in my latest comment).</p>
<p>cc <span class="user-mention" data-user-id="310399">@Mara</span> <span class="user-mention" data-user-id="224872">@rylev</span></p>



<a name="249316757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249316757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249316757">(Aug 13 2021 at 02:58)</a>:</h4>
<p><em>waves</em></p>



<a name="249317138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249317138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249317138">(Aug 13 2021 at 03:05)</a>:</h4>
<p>I've helped out with some of the implementation work on this (a bugfix and the draft stabilization PR).</p>



<a name="249317146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249317146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249317146">(Aug 13 2021 at 03:05)</a>:</h4>
<p><code>--force-lint-level</code> seems like more work to implement, but it's probably cleaner than the current layout.</p>



<a name="249317335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249317335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249317335">(Aug 13 2021 at 03:07)</a>:</h4>
<p>I'm concerned over the current divergence between <code>force-warn</code> and <code>forbid</code>. It's not great from a teachability perspective, since <code>force-warn</code> just seems to have a bunch of weird exceptions.</p>



<a name="249317481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249317481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249317481">(Aug 13 2021 at 03:10)</a>:</h4>
<p>It seems to me that the problem here is that this was designed mainly to fulfill the needs of the edition migration, rather than with general use in mind. It seems like we've ended up with something that fulfills the needs of this specific use-case without being coherent with the rest of the lint design.</p>



<a name="249317501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249317501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249317501">(Aug 13 2021 at 03:10)</a>:</h4>
<p>In that sense, I think it's good that this has made its way to t-lang.</p>



<a name="249317529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249317529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249317529">(Aug 13 2021 at 03:11)</a>:</h4>
<p>I know the edition is coming up, but we shouldn't be stabilizing something for general usage if it's going to be a mess for future generations.</p>



<a name="249317543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249317543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249317543">(Aug 13 2021 at 03:11)</a>:</h4>
<p>Y'all are pretty experienced at making sure additions are coherent.</p>



<a name="249317749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249317749" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249317749">(Aug 13 2021 at 03:15)</a>:</h4>
<p>IMO it would be better to make it an internal use only thing than stabilizing something that's not really ready yet.</p>



<a name="249318525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249318525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249318525">(Aug 13 2021 at 03:28)</a>:</h4>
<p>That said, these are just my thoughts, and I'm happy to go along with whatever ends up being decided.</p>



<a name="249853974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249853974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249853974">(Aug 18 2021 at 14:05)</a>:</h4>
<blockquote>
<p>That's not ideal; the semantics I'd expect are "at least a warning", not downgrading deny to warn.</p>
</blockquote>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> following up to your comment on github, I'm curious if you agree that the behavior you suggest should also mean renaming the option to <code>--min-lint-level lint=warn</code> or something like that. Otherwise, it seems like <code>--force-warn</code> specifically indicates <em>both sides</em> capping (see my comment - <a href="https://github.com/rust-lang/rust/issues/86516#issuecomment-900502233">https://github.com/rust-lang/rust/issues/86516#issuecomment-900502233</a>).</p>



<a name="249854019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249854019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249854019">(Aug 18 2021 at 14:05)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="224872">@rylev</span> since it'll matter for your PR as well, though as mentioned I can invest in this too</p>



<a name="249888615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249888615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249888615">(Aug 18 2021 at 18:02)</a>:</h4>
<p>I don't want to bikeshed naming until we figure out if those are the semantics we want. Personally, I feel like either name would be fine.</p>



<a name="249888758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249888758" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249888758">(Aug 18 2021 at 18:03)</a>:</h4>
<p>(btw the topic links to the wrong issue)</p>



<a name="249890630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249890630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249890630">(Aug 18 2021 at 18:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="417924">inquisitivecrystal</span> <a href="#narrow/stream/213817-t-lang/topic/force-warn.20.2385616/near/249317481">said</a>:</p>
<blockquote>
<p>It seems to me that the problem here is that this was designed mainly to fulfill the needs of the edition migration, rather than with general use in mind. It seems like we've ended up with something that fulfills the needs of this specific use-case without being coherent with the rest of the lint design.</p>
</blockquote>
<p>This is definitely true: I'm not sure why we should try to design something more general here</p>



<a name="249890696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249890696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249890696">(Aug 18 2021 at 18:17)</a>:</h4>
<p>I don't feel like there's a desire to "force warn" in other contexts</p>



<a name="249890744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249890744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249890744">(Aug 18 2021 at 18:17)</a>:</h4>
<p>I guess I don't really expect to ever <em>teach</em> anyone about force-warn</p>



<a name="249896980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249896980" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249896980">(Aug 18 2021 at 19:01)</a>:</h4>
<p>Edition migration and forward-compatibility warnings, and similar. I can think of cases where I want to get specific warnings even in my dependencies, by asking for them.</p>



<a name="249903546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249903546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249903546">(Aug 18 2021 at 19:56)</a>:</h4>
<p>That seems fine, but that seems like a separable thing</p>



<a name="249906280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249906280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249906280">(Aug 18 2021 at 20:19)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I agree we may not want a general design, but then it feels like it might be good to rename the option to something edition specific (or otherwise obscure), rather than using potentially valuable namespace. But maybe that's not a big concern.</p>



<a name="249906472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249906472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249906472">(Aug 18 2021 at 20:21)</a>:</h4>
<p>Certainly we should decide which, because if it's just for the edition, we can likely stabilize exactly what we have now even though it doesn't match (potentially) expected behavior in a number of cases, such as what Josh noted earlier... it works for edition and maybe that's enough.</p>
<p>But if we want something more general, it feels like there's some design space to work out and maybe (more) sync discussion time necessary.</p>



<a name="249906715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249906715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249906715">(Aug 18 2021 at 20:23)</a>:</h4>
<p>It definitely feels like we have different goals in mind for this feature across different people, and no shared document with those goals enumerated, so it'll be quite difficult to design a solution in that space :)</p>



<a name="249908729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249908729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249908729">(Aug 18 2021 at 20:41)</a>:</h4>
<p>this doesn't seem edition specific</p>



<a name="249908738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249908738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249908738">(Aug 18 2021 at 20:41)</a>:</h4>
<p>it does just what it says, it makes the lint warn</p>



<a name="249908763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249908763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249908763">(Aug 18 2021 at 20:41)</a>:</h4>
<p>maybe I'm missing where it doesn't match expectations</p>



<a name="249908930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249908930" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249908930">(Aug 18 2021 at 20:43)</a>:</h4>
<p>The design doc + motivation was here <a href="https://github.com/rust-lang/compiler-team/issues/434">https://github.com/rust-lang/compiler-team/issues/434</a></p>



<a name="249908945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249908945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249908945">(Aug 18 2021 at 20:43)</a>:</h4>
<p>note that it's an MCP, because I didn't thnk of this as a language thing, but like a "tooling interop" feature</p>



<a name="249908982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249908982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249908982">(Aug 18 2021 at 20:43)</a>:</h4>
<p>along those lines, I think it's fine to rename it, I wouldn't expect any users to use it</p>



<a name="249909005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909005">(Aug 18 2021 at 20:44)</a>:</h4>
<p>but I <em>slightly</em> object to a naming that ties it to the edition -- I think it's tied to cargo fix, perhaps?</p>



<a name="249909098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909098">(Aug 18 2021 at 20:44)</a>:</h4>
<p>(I was actually surprised to discuss this in the lang team, I would have thought it's more a compiler team thing)</p>



<a name="249909111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909111">(Aug 18 2021 at 20:44)</a>:</h4>
<p>(But it seemed harmless enough)</p>



<a name="249909317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909317">(Aug 18 2021 at 20:46)</a>:</h4>
<p>"make the lint warn" is not what <span class="user-mention" data-user-id="239881">@Josh Triplett</span> wanted - <a href="https://github.com/rust-lang/rust/issues/86516#issuecomment-901046511">https://github.com/rust-lang/rust/issues/86516#issuecomment-901046511</a></p>



<a name="249909326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909326">(Aug 18 2021 at 20:46)</a>:</h4>
<p>(I'm reading <a href="https://github.com/rust-lang/rust/issues/86516">#86516</a> now)</p>



<a name="249909347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909347">(Aug 18 2021 at 20:46)</a>:</h4>
<p>Yeah, I think Josh doesn't want what Josh wants</p>



<a name="249909373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909373">(Aug 18 2021 at 20:47)</a>:</h4>
<p>But regardless, the name seems accurate to its semantics to me</p>



<a name="249909380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909380">(Aug 18 2021 at 20:47)</a>:</h4>
<p>That is: <em>it forces a warning</em></p>



<a name="249909393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909393">(Aug 18 2021 at 20:47)</a>:</h4>
<p>(it's not a "min lint level")</p>



<a name="249909407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909407">(Aug 18 2021 at 20:47)</a>:</h4>
<p>I don't think a min lint level is necessarily useful</p>



<a name="249909414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909414">(Aug 18 2021 at 20:47)</a>:</h4>
<p>but if we do want that, we could add it later</p>



<a name="249909444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909444">(Aug 18 2021 at 20:47)</a>:</h4>
<p>I see that Ryan misspoke in the meeting, which is good, because  I was mildly surprised</p>



<a name="249909456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909456" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909456">(Aug 18 2021 at 20:47)</a>:</h4>
<p>Right, in which case the current behavior is fine as-implemented, and we can move ahead. But the FCP was based on a somewhat flawed understanding (since the discussion in-meeting, was min lint level).</p>



<a name="249909486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909486">(Aug 18 2021 at 20:48)</a>:</h4>
<p>I do think that forcing a warning has various uses for cargo fix though</p>



<a name="249909533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909533">(Aug 18 2021 at 20:48)</a>:</h4>
<p>I see</p>



<a name="249909575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909575">(Aug 18 2021 at 20:48)</a>:</h4>
<p>It seems like <span class="user-mention" data-user-id="239881">@Josh Triplett</span> should speak to whether that changes his opinion</p>



<a name="249909624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909624" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909624">(Aug 18 2021 at 20:49)</a>:</h4>
<p>I'm reading the last few comments more closely</p>



<a name="249909689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909689">(Aug 18 2021 at 20:49)</a>:</h4>
<p>I would like to better understand why a min lint level is useful</p>



<a name="249909705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909705">(Aug 18 2021 at 20:50)</a>:</h4>
<p>(we have it, in some sense, with forbid, but only for the "deny" level)</p>



<a name="249909819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909819">(Aug 18 2021 at 20:50)</a>:</h4>
<p>The main use case I know is having tooling that wants to get access to all the warnings and things -- this would be useful for forwards-compatibilit warnings in general, so that we can warn about them.</p>



<a name="249909871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909871">(Aug 18 2021 at 20:51)</a>:</h4>
<p>(This is desirable for forwards-compatibility warnings in the original sense of the term: things which will stop compiling or change semantics. Not the expanded definition it has come to mean, which covers opt-in things like editions)</p>



<a name="249909892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249909892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249909892">(Aug 18 2021 at 20:51)</a>:</h4>
<p>But for that, force-warn seems exactly right, since cargo wants to collect the warnings and print them out</p>



<a name="249910031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910031">(Aug 18 2021 at 20:52)</a>:</h4>
<p>For example, force-warn is not useful if you want to fail your build on those lints, right? So if we think the more general --force-$level is useful, then --force-$level might be a bad name for it, and --force-warn will look awkward</p>



<a name="249910213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910213" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910213">(Aug 18 2021 at 20:54)</a>:</h4>
<p>Why would you want to fail your build on those lints?</p>



<a name="249910271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910271">(Aug 18 2021 at 20:54)</a>:</h4>
<p>Regardless, I don't think we would want to use the name "force" for that</p>



<a name="249910319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910319">(Aug 18 2021 at 20:55)</a>:</h4>
<p>if we wanted to generalize "forbid(lint)" to be short for "set-min-level lint=deny", I wouldn't call it "force"</p>



<a name="249910344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910344" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910344">(Aug 18 2021 at 20:55)</a>:</h4>
<p>I could imagine deny-unsafe folks wanting this</p>



<a name="249910356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910356">(Aug 18 2021 at 20:55)</a>:</h4>
<p>they have forbid for that</p>



<a name="249910359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910359">(Aug 18 2021 at 20:55)</a>:</h4>
<p>sure, though note that forbid and set-min-level differ in that one of these is affected by cap-lints and the other is not</p>



<a name="249910438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910438">(Aug 18 2021 at 20:56)</a>:</h4>
<p>it sounds like what people might want is the ability to control cap-lints in cargo</p>



<a name="249910460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910460">(Aug 18 2021 at 20:56)</a>:</h4>
<p>though I kind of think they are wrong to want that :)</p>



<a name="249910497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910497">(Aug 18 2021 at 20:56)</a>:</h4>
<p>but I can see a use case for it</p>



<a name="249910545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910545">(Aug 18 2021 at 20:57)</a>:</h4>
<p>(certainly being able to override it doesn't seem <em>too</em> terrible, but it starts to really mess with our composition system and semver rules)</p>



<a name="249910571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910571">(Aug 18 2021 at 20:57)</a>:</h4>
<p>(but if you're the application, and you bring it on yourself, that seems ok)</p>



<a name="249910590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910590">(Aug 18 2021 at 20:57)</a>:</h4>
<p>I wouldn't want to let arbitrary libraries set those policies</p>



<a name="249910753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910753">(Aug 18 2021 at 20:59)</a>:</h4>
<p>I think generally there are many use cases and not all of them are solvable with the tools we have today nicely (e.g., maybe -Dwarnings is bad, you actually want to tell <em>Cargo</em> to fail the build; rustc doesn't need to know in some sense, so that Cargo could keep going for example through all your crates).</p>
<p>But ultimately it seems like the more holistic design shouldn't block this particular feature; we likely want to hear back from <span class="user-mention" data-user-id="239881">@Josh Triplett</span> at least and then proceed with stabilization as-is if we just want to hit the edition timeline. I don't think we can achieve a more holistic review of the design space for "what can you do with lints and how to fix problems we have today"; that also doesn't seem terribly important.</p>



<a name="249910817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910817">(Aug 18 2021 at 20:59)</a>:</h4>
<p>I agree with that</p>



<a name="249910842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910842">(Aug 18 2021 at 20:59)</a>:</h4>
<p>I'd be ok with a less obvious name, too</p>



<a name="249910949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910949">(Aug 18 2021 at 21:00)</a>:</h4>
<p>I also suspect we could tweak the semantics of this feature and ... nobody would notice :)</p>



<a name="249910989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249910989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249910989">(Aug 18 2021 at 21:00)</a>:</h4>
<p>but that's dangerous :)</p>



<a name="249911040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911040">(Aug 18 2021 at 21:00)</a>:</h4>
<p>I think CLI options are sufficiently obscure that nobody really cares too much about naming; I originally only objected because I thought it didn't actually force warnings, but given that's what it does seems OK.</p>



<a name="249911054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911054">(Aug 18 2021 at 21:00)</a>:</h4>
<p>I'm trying to remember why we even thought we needed this</p>



<a name="249911162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911162">(Aug 18 2021 at 21:01)</a>:</h4>
<p>is it <code>#![allow(warnings)]</code></p>



<a name="249911172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911172">(Aug 18 2021 at 21:01)</a>:</h4>
<blockquote>
<p>The problem is that these warnings, if they already exist, may be marked a #[allow] in various code bases</p>
</blockquote>
<p>This is the suggested motivation</p>



<a name="249911189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911189">(Aug 18 2021 at 21:01)</a>:</h4>
<p>or I guess that there were also some existing warnings that "gained" migrations</p>



<a name="249911196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911196">(Aug 18 2021 at 21:01)</a>:</h4>
<p>that people might have silenced</p>



<a name="249911324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911324">(Aug 18 2021 at 21:02)</a>:</h4>
<p>It's not clear to me that we shouldn't be passing --give-me-suggestions=&lt;lint group&gt; or something to rustc, so that the warnings are emitted in fix mode (potentially w/o cargo rendering them)</p>



<a name="249911371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911371">(Aug 18 2021 at 21:03)</a>:</h4>
<p>e.g., kinda like the rust-analyzer 'helps' work where it'll ask you to edit stuff inline, but you may never want to see it as a warning on the CLI</p>



<a name="249911398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911398">(Aug 18 2021 at 21:03)</a>:</h4>
<p>that kind of sounds like an alternate name for this feature?</p>



<a name="249911405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911405">(Aug 18 2021 at 21:03)</a>:</h4>
<p>I'm not sure what's the difference</p>



<a name="249911432"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911432" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911432">(Aug 18 2021 at 21:04)</a>:</h4>
<p>or is that a real thing :)</p>



<a name="249911498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911498">(Aug 18 2021 at 21:04)</a>:</h4>
<p>No, slightly different behavior: it would, for example, only emit the lints as json-lines, so you don't get them rendered in normal usage</p>



<a name="249911503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911503">(Aug 18 2021 at 21:04)</a>:</h4>
<p>in any case, I agree that the goal of this was to kind of <em>circumvent</em> the lint level system</p>



<a name="249911515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911515">(Aug 18 2021 at 21:04)</a>:</h4>
<p>which is why I mildly object to trying to integrate it into that system :)</p>



<a name="249911550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911550">(Aug 18 2021 at 21:05)</a>:</h4>
<p>yes, but this option is only meant to be used by tooling -- I assume <code>cargo fix</code> takes json output too</p>



<a name="249911568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911568">(Aug 18 2021 at 21:05)</a>:</h4>
<p>Right, cargo always puts rustc in json mode</p>



<a name="249911592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911592">(Aug 18 2021 at 21:05)</a>:</h4>
<p>I just mean that what we kinda want it feels like is <code>--you-are-cargo-fix</code></p>



<a name="249911615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911615">(Aug 18 2021 at 21:05)</a>:</h4>
<p>and basically 'only stable for cargo', in some sense</p>



<a name="249911666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911666">(Aug 18 2021 at 21:06)</a>:</h4>
<p>that would be fine, but we don't have a way to do that</p>



<a name="249911704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911704">(Aug 18 2021 at 21:06)</a>:</h4>
<p>I guess I would be happy with a "stable option" that is documented as "doing what cargo fix needs it to do"</p>



<a name="249911751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911751">(Aug 18 2021 at 21:06)</a>:</h4>
<p>Sure, I mean, ultimately, maybe the question is moot and force-warn as-is seems good enough</p>



<a name="249911802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911802">(Aug 18 2021 at 21:07)</a>:</h4>
<p>I'm going to stop responding because I guess that at the end of the day I don't care too much, I just don't want to hold up the edition on this basis</p>



<a name="249911818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911818">(Aug 18 2021 at 21:07)</a>:</h4>
<p>So I'm ok with other people putting in effort so long as it gets done :P</p>



<a name="249911844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249911844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249911844">(Aug 18 2021 at 21:08)</a>:</h4>
<p>I'm happy with status quo getting stabilized too.</p>



<a name="249922755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249922755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249922755">(Aug 18 2021 at 23:08)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> Why do you think I don't want what I think I want? ;)</p>



<a name="249922780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249922780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249922780">(Aug 18 2021 at 23:09)</a>:</h4>
<p>hehe</p>



<a name="249922788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249922788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249922788">(Aug 18 2021 at 23:09)</a>:</h4>
<p>I want to hear why you think you want it</p>



<a name="249922863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249922863" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249922863">(Aug 18 2021 at 23:10)</a>:</h4>
<p>For clarification: are you saying I don't actually want that because of some unforseen consequence, or just that it doesn't seem needed and we have something that'll do for the edition?</p>



<a name="249923123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249923123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249923123">(Aug 18 2021 at 23:15)</a>:</h4>
<p>The former, probably. I think you are trying to determine whether dependencies may have "future incompatibility" problems, right?</p>



<a name="249923139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249923139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249923139">(Aug 18 2021 at 23:15)</a>:</h4>
<p>But also: I think that I'd rather just discuss more extended use cases separately and not necessarily make this flag try to serve them, unless we think we can resolve that discussion quite quickly.</p>



<a name="249925441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249925441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249925441">(Aug 18 2021 at 23:47)</a>:</h4>
<p>Future incompatibility or other kinds of warnings, yes.</p>



<a name="249925504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249925504" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249925504">(Aug 18 2021 at 23:48)</a>:</h4>
<p>What do you think is the undesirable effect of making it an "at least warn"?</p>



<a name="249925914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249925914" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249925914">(Aug 18 2021 at 23:54)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> I think what you <em>really want</em> is something more like what <span class="user-mention" data-user-id="116083">@pnkfelix</span>'s RFC described: to have cargo collect those warnings for you and present a "tidy report" that indicates which of your dependencies have unfixed future compatibility warnings, along with suggestions when you could perhaps do an upgrade</p>



<a name="249925923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249925923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249925923">(Aug 18 2021 at 23:54)</a>:</h4>
<p>(and perhaps with the option to see the details)</p>



<a name="249925944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249925944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249925944">(Aug 18 2021 at 23:55)</a>:</h4>
<p>for that purpose, force-warn as designed is probably pretty decent, actually</p>



<a name="249926055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249926055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249926055">(Aug 18 2021 at 23:56)</a>:</h4>
<p>just FYI, as I mentioned in the issue, I tried to transition the future-incompatibility stuff to use force-warn, and it didn't work out. It ended up having some difficult edge cases, and ended up with more complexity than the current system.  I wouldn't consider that as a use case here, as I don't think it is a good approach.</p>



<a name="249930888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249930888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249930888">(Aug 19 2021 at 01:18)</a>:</h4>
<p>Alright. I do still think demoting a deny to a warn isn't ideal behavior of the new option, and I think that "at least warn" is still the behavior I would prefer, but I also don't want a last minute monkey wrench in the edition development.</p>



<a name="249931233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249931233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249931233">(Aug 19 2021 at 01:25)</a>:</h4>
<p>OK -- I think the next step then is to land the stabilization. Given the unclear state prior to the meeting, do we think it makes sense to restart FCP? I know Niko + Josh are aware of the new state, but I think <span class="user-mention" data-user-id="125270">@scottmcm</span> also checked their box with the old understanding that it was a cap on one side, not both, as is accurate.</p>



<a name="249938557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249938557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249938557">(Aug 19 2021 at 03:45)</a>:</h4>
<p>I'm fine with the "exactly warn" semantics, though it might make sense to rename it to something longer if this is mostly just for cargo fix and might not have exactly the semantics we'd prefer.</p>



<a name="249938622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/249938622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#249938622">(Aug 19 2021 at 03:46)</a>:</h4>
<p>(Honestly since it's a compiler flag, not something in code, I'm kinda in the "whatever compiler/cargo/etc wants to maintain is fine by me" camp.)</p>



<a name="250005433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250005433" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250005433">(Aug 19 2021 at 15:48)</a>:</h4>
<p>maybe <code>--force-warn-for-cargo-fix</code>  :)</p>



<a name="250027653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250027653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250027653">(Aug 19 2021 at 18:30)</a>:</h4>
<p>Yeah.  Anything that's not taking up space that people might want to use for something else.  Then it's at worst just clutter.</p>



<a name="250030092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250030092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250030092">(Aug 19 2021 at 18:49)</a>:</h4>
<p>(to be honest I’m with <span class="user-mention" data-user-id="239881">@Josh Triplett</span> here: I am surprised to hear that this will demote a deny to a warn; from the discussion, I had interpreted the proposal to be about min-lint levels. So from what I’m hearing here, I guess its both a min-lint-level and a cap-lints at the same time.)</p>



<a name="250030155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250030155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250030155">(Aug 19 2021 at 18:49)</a>:</h4>
<p>but I also do not think my surprise at this is a reason to hold things up. I trust you all to select the semantics that makes sense for this.</p>



<a name="250030258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250030258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250030258">(Aug 19 2021 at 18:50)</a>:</h4>
<p>Is it logistically <em>hard</em> to make it a minimum and not a maximum?</p>



<a name="250030815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250030815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250030815">(Aug 19 2021 at 18:54)</a>:</h4>
<p>Ryan says it is, I haven't looked too much</p>



<a name="250030839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250030839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250030839">(Aug 19 2021 at 18:54)</a>:</h4>
<p>but the code is pretty messy around this area, so I can definitely believe it</p>



<a name="250034131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250034131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250034131">(Aug 19 2021 at 19:11)</a>:</h4>
<p>It feels like something that needs a motivated individual to look at the overall situation and try to find a model that people can understand better.  Right now it seems like it's grown a bunch of useful features, but with non-obvious interactions -- like what would cap-lints allow but force-warn something even mean?</p>



<a name="250034771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250034771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250034771">(Aug 19 2021 at 19:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125270">scottmcm</span> <a href="#narrow/stream/213817-t-lang/topic/force-warn.20.2385616/near/250034131">said</a>:</p>
<blockquote>
<p>It feels like something that needs a motivated individual to look at the overall situation and try to find a model that people can understand better.  Right now it seems like it's grown a bunch of useful features, but with non-obvious interactions -- like what would cap-lints allow but force-warn something even mean?</p>
</blockquote>
<p>I think this is an option, but I don't think we currently have time for that if we want to hit the 17 day timeline -- it seems like a larger task: design work, consensus, implementation</p>



<a name="250034911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250034911" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250034911">(Aug 19 2021 at 19:15)</a>:</h4>
<p>And the lint system is already sufficiently edge-case-y that I'm not sure a coherent small edit is possible without some pretty extensive thinking; it's why adding force-warn as-is without deltas is not really terrible.</p>



<a name="250044017"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250044017" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250044017">(Aug 19 2021 at 20:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/213817-t-lang/topic/force-warn.20.2385616/near/250034771">said</a>:</p>
<blockquote>
<p>it seems like a larger task: design work, consensus, implementation</p>
</blockquote>
<p>Completely agreed.  I didn't mean to suggest that that should in any way block the important "this is what we need for cargo fix" work.</p>



<a name="250159818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/force-warn%20%2385616/near/250159818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/force-warn.20.2385616.html#250159818">(Aug 20 2021 at 19:08)</a>:</h4>
<p>definitely the motivation for this feature was like "uhh, this problem is complicated, let's do something that lets cargo fix work and which is an easy layer atop other rules"</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>