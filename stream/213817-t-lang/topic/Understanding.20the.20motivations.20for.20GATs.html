<html>
<head><meta charset="utf-8"><title>Understanding the motivations for GATs · t-lang · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/index.html">t-lang</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html">Understanding the motivations for GATs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269113751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269113751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269113751">(Jan 24 2022 at 14:35)</a>:</h4>
<p>So, processing the annual survey, there are a lot of people eager for GATs to be stabilised. Unfortunately there is not much context there (people literally talk about "GATs", not what they want to use them for). I would like to understand why some people are so excited for the feature. The motivations I know about are lending iterators (which I think is a strong motivation, but which I did not expect to be so well known), usage implementing impl Trait and async functions in traits (but this is an implementation detail and I would expect people excited about these things to mention them explicitly), and resolving some difficult and subtle lifetime issues in library design (again not what I would expect to be broad appeal). What are other reasons GATs are desired?</p>



<a name="269114446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269114446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269114446">(Jan 24 2022 at 14:40)</a>:</h4>
<p>The <code>Rebind</code> pattern may be useful for some collections/smart pointers (or even dumb pointers), and needs GATs.<br>
I can imagine the f ollowing trait being useful, including in the definition of DerefMove (which could be in terms of this for some sentinel type).</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">pub</span><span class="w"> </span><span class="k">trait</span><span class="w"> </span><span class="n">RebindPointer</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>: <span class="nc">Deref</span><span class="o">&lt;</span><span class="n">Target</span><span class="o">=</span><span class="n">T</span><span class="o">&gt;</span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="k">type</span> <span class="nc">Rebind</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span>: <span class="nc">RebindPointer</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">impl</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">RebindPointer</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&amp;</span><span class="n">T</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Rebind</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">a</span> <span class="nc">U</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="c1">// etc.</span>
</code></pre></div>



<a name="269116316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269116316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269116316">(Jan 24 2022 at 14:53)</a>:</h4>
<p>Since, at the end of the day, GATs are mainly <code>for&lt;…&gt;</code> quantifications in disguise, I find it useful to also distinguish LGATs from TGATs (lifetime-generic <em>vs.</em> type-generic (and, FWIW, in the latter <code>const</code>-generic would be included as well)).</p>
<ul>
<li>
<p>The former can already be perfectly polyfilled in stable Rust, AFAIK, since we already have <code>for&lt;'lt&gt; …</code> quantifications (I even started wondering about writing a proc-macro for that <code>#[autogatic]</code>, in charge of making the necessary conversions to feature GAT sugar but implementing it with stable non-GAT semantics — the "GATs will be featured soon" completely stopped me in those tracks, since properly implementing such a proc-macro was gonna require a non-negligible amount of code, and the thus few months of usefulness were not gonna make up for it).</p>
</li>
<li>
<p>The latter, on the other hand, is technically enabling <code>for&lt;T&gt;</code> (and <code>for&lt;const …&gt;</code>) quantifications, that is, the ability to polyfill HKTs, which is otherwise not possible (<em>c.f.</em> the <code>RebindPointer</code> example of <span class="user-mention" data-user-id="257758">@Connor Horman</span>).</p>
</li>
</ul>
<p>So, in a way, <span class="user-mention" data-user-id="256841">@Nick Cameron</span>, your question becomes: what are the motivations behind HTKs, and there can be a few; as well as not needing a <code>#[autogatic]</code> proc-macro for <code>for&lt;'_&gt;</code> lifetime quantifications (<em>e.g.</em>, for <code>LendingIterator</code>).</p>
<p>Regarding <code>LendingIterator</code>, btw, I'll rehearse my skepticism towards actually implementing it, with proper GATs or some <code>#[autogatic]</code> equivalence, without Polonius: one currently cannot write adapters such as <code>.filter()</code> without Polonius</p>



<a name="269118049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269118049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269118049">(Jan 24 2022 at 15:04)</a>:</h4>
<p>I'm not familiar with Polonius so forgive me if this is a dumb question, aiui Polonius is a re-implementation of the borrow checker, so you mean some feature/improved flexiblity enabled by Polonius rather than the project itself?</p>



<a name="269118161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269118161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269118161">(Jan 24 2022 at 15:05)</a>:</h4>
<p><span class="user-mention" data-user-id="257758">@Connor Horman</span> I'm not familiar with the Rebind pattern, could you explain what is going on here please?</p>



<a name="269118765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269118765" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269118765">(Jan 24 2022 at 15:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256841">Nick Cameron</span> <a href="#narrow/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs/near/269118161">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="257758">Connor Horman</span> I'm not familiar with the Rebind pattern, could you explain what is going on here please?</p>
</blockquote>
<p>The rebind pattern is a pattern (used significantly in the C++ standard library, but I can imagine some uses in rust, <code>DerefMove</code> being one) which allows you to take a concrete instantiation of a generic type and "rebind it" to a similar type but for a different instantiation. For example, the above <code>RebindPointer</code> allows you to take a smart (or dumb) pointer that implements the trait, and rebind the pointer type to a new pointee without changing the kind of pointer. There could then be some mechanism for converting between the two, and that mechanism could be generic.</p>



<a name="269119336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269119336" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269119336">(Jan 24 2022 at 15:12)</a>:</h4>
<p>In C++, it's used for the allocator api, and the pointer api together. The default definition of <code>std::allocator_traits&lt;A&gt;::void_pointer</code> is <code>std::pointer_traits&lt;std::allocator_traits&lt;A&gt;::pointer&gt;::rebind&lt;void&gt;</code> (use of <code>typename</code> elided for readability), which would be analogous to <code>&lt;&lt;A as AllocatorTraits&gt;::Pointer as RebindPointer&gt;::Rebind&lt;()&gt;</code> in rust (using the above definition).</p>



<a name="269122744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269122744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269122744">(Jan 24 2022 at 15:34)</a>:</h4>
<p>So it is a utility type for making it easier to abstract over the concept of a pointer to a thing?</p>



<a name="269124120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269124120" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269124120">(Jan 24 2022 at 15:43)</a>:</h4>
<p>Sorry, that was vague. I mean that it helps you write code for P&lt;T&gt; -&gt; P&lt;U&gt; and constrain P to 'pointer's</p>



<a name="269124499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269124499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269124499">(Jan 24 2022 at 15:46)</a>:</h4>
<p>I'd like to give another view of this (not very t-lang related): <br>
One cause is this: Many Rust textbooks mentioned GAT as high priority Rust unfinished feature, and there's misunderstanding around readers that Rust is kind of "incomplete" without GAT. So when some people talk about GATs, they're really talking about making Rust "language design finished".<br>
Another cause is this: I think a few major framework-style projects have expressed their opinion that, if GATs is there, they can have nicer APIs. So people believe the completion of GAT will improve their ergonomics. So they want to wait for this feature to land before seriously investigating into Rust.</p>



<a name="269125220"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269125220" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269125220">(Jan 24 2022 at 15:51)</a>:</h4>
<p>I've also heard this about libraries/frameworks, but I've not seen it myself. Do you know where library authors have said this (I'm keen to see what APIs they have in mind)</p>



<a name="269126771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269126771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269126771">(Jan 24 2022 at 16:00)</a>:</h4>
<p>I've definitely heard a lot about "Q:Why do i need <code>async_trait</code> crate here? A: Because GAT is missing :)." style talk at random places (Yes, We know that other things are needed here too). I'll try to collect some from the Internet with some seaerch.</p>



<a name="269126829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269126829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269126829">(Jan 24 2022 at 16:01)</a>:</h4>
<p>Thanks!</p>



<a name="269126920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269126920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269126920">(Jan 24 2022 at 16:01)</a>:</h4>
<p>I guess that is an indirect way for people to become excited about GATs as an implementation mechanism for async in traits!</p>



<a name="269127700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269127700" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pachi <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269127700">(Jan 24 2022 at 16:06)</a>:</h4>
<p><span class="user-mention" data-user-id="256841">@Nick Cameron</span> Here's an example: <a href="https://github.com/rust-ndarray/ndarray/issues/519">https://github.com/rust-ndarray/ndarray/issues/519</a></p>



<a name="269127935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269127935" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pachi <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269127935">(Jan 24 2022 at 16:08)</a>:</h4>
<p>And another one: <a href="https://docs.rs/ndarray/0.15.2/ndarray/trait.MultiSliceArg.html">https://docs.rs/ndarray/0.15.2/ndarray/trait.MultiSliceArg.html</a></p>



<a name="269128566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269128566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pachi <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269128566">(Jan 24 2022 at 16:12)</a>:</h4>
<p>IIRC it was also useful for generic number types  as they could have the identity values: Zero and One, as associated values, though I'm not sure whether associated items (consts) are enough.</p>



<a name="269128746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269128746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pachi <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269128746">(Jan 24 2022 at 16:13)</a>:</h4>
<p>In my case, as I'm interested in numerical computing, as far as I know, GATS, const generics and specialization are needed for much more ergonomic libraries.</p>



<a name="269131091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269131091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269131091">(Jan 24 2022 at 16:28)</a>:</h4>
<p>A few from the web area:<br>
<a href="https://github.com/launchbadge/sqlx/issues/419#issue-641044125">https://github.com/launchbadge/sqlx/issues/419#issue-641044125</a><br>
<a href="https://github.com/diesel-rs/diesel/issues/2922">https://github.com/diesel-rs/diesel/issues/2922</a><br>
<a href="https://docs.rs/galemu/latest/galemu/">https://docs.rs/galemu/latest/galemu/</a>   (this crate itself is not that popular but the documentation is representative)<br>
<a href="https://github.com/hyperium/hyper/issues/2144#issuecomment-592758059">https://github.com/hyperium/hyper/issues/2144#issuecomment-592758059</a><br>
<a href="https://github.com/actix/actix/issues/438#issuecomment-711109357">https://github.com/actix/actix/issues/438#issuecomment-711109357</a></p>
<p>And a few random blogs.</p>
<p><a href="https://smallcultfollowing.com/babysteps/blog/2019/10/26/async-fn-in-traits-are-hard/">https://smallcultfollowing.com/babysteps/blog/2019/10/26/async-fn-in-traits-are-hard/</a>  (this is linked from async-trait 's crate-level documentation)<br>
<a href="https://boats.gitlab.io/blog/post/async-methods-i">https://boats.gitlab.io/blog/post/async-methods-i</a><br>
<a href="https://varkor.github.io/blog/2019/03/28/idiomatic-monads-in-rust.html">https://varkor.github.io/blog/2019/03/28/idiomatic-monads-in-rust.html</a><br>
<a href="https://stackoverflow.com/questions/58092746/is-there-an-intrinsic-reason-explaining-why-rust-does-not-have-higher-kinded-typ">https://stackoverflow.com/questions/58092746/is-there-an-intrinsic-reason-explaining-why-rust-does-not-have-higher-kinded-typ</a></p>



<a name="269140093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269140093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269140093">(Jan 24 2022 at 17:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256841">Nick Cameron</span> <a href="#narrow/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs/near/269118049">said</a>:</p>
<blockquote>
<p>I'm not familiar with Polonius so forgive me if this is a dumb question, aiui Polonius is a re-implementation of the borrow checker, so you mean some feature/improved flexiblity enabled by Polonius rather than the project itself?</p>
</blockquote>
<p>yes, here is the post I was implicitly alluding to: <a href="#narrow/stream/219381-t-libs/topic/APIs.20with.20GATs/near/268182714">https://rust-lang.zulipchat.com/#narrow/stream/219381-t-libs/topic/APIs.20with.20GATs/near/268182714</a></p>



<a name="269141747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269141747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269141747">(Jan 24 2022 at 17:41)</a>:</h4>
<p>Love this thread, but don't have time right now to read through it. Will take a look later!</p>



<a name="269144316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269144316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269144316">(Jan 24 2022 at 18:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256841">Nick Cameron</span> <a href="#narrow/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs/near/269124120">said</a>:</p>
<blockquote>
<p>Sorry, that was vague. I mean that it helps you write code for P&lt;T&gt; -&gt; P&lt;U&gt; and constrain P to 'pointer's</p>
</blockquote>
<p>Yeah, I'd say so. A real-life example is the following crate, and especially the linked to section: <a href="https://docs.rs/archery/0.4.0/archery/index.html#alternative-approaches">https://docs.rs/archery/0.4.0/archery/index.html#alternative-approaches</a>, which, in turn, mentions this short blog post: <a href="https://joshlf.com/post/2018/10/18/rust-higher-kinded-types-already">https://joshlf.com/post/2018/10/18/rust-higher-kinded-types-already</a>.</p>
<p>Right now there are <code>ArcK</code> and <code>RcK</code> "pointer families", with methods that are all generic over a type parameter, and the whole thing relies on <code>unsafe</code> type-erasure to avoid the cumbersome aspect of otherwise having to say</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Ptr_</span><span class="w"> </span>: <span class="nc">GenericPointer</span><span class="o">&lt;</span><span class="kt">u8</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">GenericPointer</span><span class="o">&lt;</span><span class="kt">u16</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">GenericPointer</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="w"></span>
</code></pre></div>
<p>which often end up bubbling all the way up and exposing implementation details, with all the APi stability concerns that leads to.</p>
<p>If we could write:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Ptr_</span><span class="w"> </span>: <span class="nc">for</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">GenericPointer</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="c1">// or even better:</span>
<span class="n">Ptr_</span><span class="w"> </span>: <span class="nc">GenericPointer</span><span class="w"> </span><span class="c1">// with a GAT assoc ty</span>
</code></pre></div>
<p>then that would be quite convenient, and could thus greatly reduce the <code>unsafe</code> of crates such as <code>::archery</code></p>



<a name="269150039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269150039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269150039">(Jan 24 2022 at 18:40)</a>:</h4>
<p>Btw, is there any more clarity <em>w.r.t</em> the timeline of GAT's stabilization? I'd be willing to do tackle this <code>#[autogatic]</code> polyfill idea, especially if it could relieve a bit the pressure on the real language feature, much like <code>#[async_trait]</code> has been doing all this time</p>



<a name="269153575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269153575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269153575">(Jan 24 2022 at 19:01)</a>:</h4>
<p>Stabilization: <em>soon™</em></p>



<a name="269153722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269153722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269153722">(Jan 24 2022 at 19:02)</a>:</h4>
<p>In all honesty, I'd love to see more experimentation <em>with</em> GATs than <em>workarounds</em></p>



<a name="269164322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269164322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269164322">(Jan 24 2022 at 19:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs/near/269153575">said</a>:</p>
<blockquote>
<p>Stabilization: <em>soon™</em></p>
</blockquote>
<p>The only remaining blocker is <code>where</code> syntax, right?</p>



<a name="269164522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269164522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269164522">(Jan 24 2022 at 19:59)</a>:</h4>
<p>That's "resolved" - just need to update the PR for implementation.</p>



<a name="269164612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269164612" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269164612">(Jan 24 2022 at 20:00)</a>:</h4>
<p>Would like to get the few PRs I have open for GATs landed.</p>



<a name="269164671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269164671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269164671">(Jan 24 2022 at 20:00)</a>:</h4>
<p>Need to go through issues that aren't triaged.</p>



<a name="269164715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269164715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269164715">(Jan 24 2022 at 20:00)</a>:</h4>
<p>And want to think through a little bit about GATs in std and what that will look like.</p>



<a name="269164744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269164744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269164744">(Jan 24 2022 at 20:01)</a>:</h4>
<p>Then stabilization report</p>



<a name="269164963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269164963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269164963">(Jan 24 2022 at 20:02)</a>:</h4>
<p>The only two PRs that <em>must</em> land before stabilization are <a href="https://github.com/rust-lang/rust/issues/92917">#92917</a> and <a href="https://github.com/rust-lang/rust/issues/90076">#90076</a> though.</p>



<a name="269165180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165180">(Jan 24 2022 at 20:04)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> did you decide what to do about the self bounds on lifetimes ?</p>



<a name="269165228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165228">(Jan 24 2022 at 20:04)</a>:</h4>
<p>What do you mean? You mean <code>Self: 'a</code> bounds?</p>



<a name="269165258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165258">(Jan 24 2022 at 20:05)</a>:</h4>
<p>Yes, that's the one!</p>



<a name="269165301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165301">(Jan 24 2022 at 20:05)</a>:</h4>
<p>Yeah, that's resolved. We now error if it's missing when it "should" be there</p>



<a name="269165346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165346">(Jan 24 2022 at 20:05)</a>:</h4>
<p><a href="https://rust-lang.github.io/generic-associated-types-initiative/explainer/required_bounds.html#required-bounds">https://rust-lang.github.io/generic-associated-types-initiative/explainer/required_bounds.html#required-bounds</a></p>



<a name="269165399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165399" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165399">(Jan 24 2022 at 20:06)</a>:</h4>
<p>i.e., if you can prove that bound to hold for all instances where the GAT is created in the trait</p>



<a name="269165548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165548">(Jan 24 2022 at 20:07)</a>:</h4>
<p>Err, actually. There is one bit that is unresolved.</p>



<a name="269165671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165671">(Jan 24 2022 at 20:08)</a>:</h4>
<p>So you decided not to make the bounds there by default?</p>



<a name="269165709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165709">(Jan 24 2022 at 20:08)</a>:</h4>
<p>Or that still might happen later?</p>



<a name="269165770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165770">(Jan 24 2022 at 20:09)</a>:</h4>
<p>This should error: <a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=5dfa889a16a936338aa5d346ced567d5">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=5dfa889a16a936338aa5d346ced567d5</a></p>



<a name="269165813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165813" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165813">(Jan 24 2022 at 20:09)</a>:</h4>
<p>There are no implicit bounds; you are in fact <em>required</em> to write them.</p>



<a name="269165984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269165984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269165984">(Jan 24 2022 at 20:10)</a>:</h4>
<p>This test should be updated with a FIXME so it doesn't get missed: <a href="https://github.com/rust-lang/rust/blob/51126be1b260216b41143469086e6e6ee567647e/src/test/ui/generic-associated-types/self-outlives-lint.rs#L141">https://github.com/rust-lang/rust/blob/51126be1b260216b41143469086e6e6ee567647e/src/test/ui/generic-associated-types/self-outlives-lint.rs#L141</a></p>



<a name="269167620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269167620" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269167620">(Jan 24 2022 at 20:24)</a>:</h4>
<blockquote>
<p>lending iterators (which I think is a strong motivation, but which I did not expect to be so well known)</p>
</blockquote>
<p>I think it's relatively common when you try to do some parsing things, which feels like a common area for people to use Rust for.</p>
<p>Concretely: I have a local buffer that I write into for scratch space. I want to give out references to that and then reuse the buffer on the next call.</p>
<p>I have an XML parser that does exactly this and I have to rewrite it as an iterator that returns <code>usizes</code> and then have an "exchange" function to get the string slices back. Quite annoying. I agree with the concerns about Polonius though (see my thread at <a class="stream-topic" data-stream-id="144729" href="/#narrow/stream/144729-wg-traits/topic/GAT.20.C3.97.20Polonius">#wg-traits &gt; GAT × Polonius</a>)</p>



<a name="269168197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269168197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269168197">(Jan 24 2022 at 20:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256841">Nick Cameron</span> <a href="#narrow/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs/near/269165709">said</a>:</p>
<blockquote>
<p>Or that still might happen later?</p>
</blockquote>
<p>My understanding is that by requiring that they be present, we're still allowing for the possibility of relaxing that in the future, once we have practical experience about what does and doesn't require it and if there are exceptions.</p>



<a name="269168311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269168311" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269168311">(Jan 24 2022 at 20:30)</a>:</h4>
<p>When last we discussed that issue in the lang team, I remember us saying roughly that, that we might change the default in the future if that seemed like the right answer, and that we should be able to do so compatibly.</p>



<a name="269173309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269173309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269173309">(Jan 24 2022 at 21:10)</a>:</h4>
<p>Yes, exactly</p>



<a name="269261602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269261602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269261602">(Jan 25 2022 at 14:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs/near/269153722">said</a>:</p>
<blockquote>
<p>In all honesty, I'd love to see more experimentation <em>with</em> GATs than <em>workarounds</em></p>
</blockquote>
<p>Yeah, this, a lot :-) Not that I get a vote on stabilisation, but for me personally I think the biggest blocker to stabilising GATs is actually having folk using them and proving them be both useful, and workable in the details. People seem to be holding off on using GATs as if they weren't real yet, but they are on nightly now and I would want  to see real life usage to justify stabilisation, rather than considering stabilisation as a blocker to real life usage</p>



<a name="269293332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269293332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269293332">(Jan 25 2022 at 17:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs/near/269153722">said</a>:</p>
<blockquote>
<p>In all honesty, I'd love to see more experimentation <em>with</em> GATs than <em>workarounds</em></p>
</blockquote>
<p>Having workarounds is one of the main ways to get experimentation going, though.</p>
<p>Making <code>nightly</code>-only libraries can sometimes be nice, but it's way less rewarding than being able to feature support for stable Rust.</p>
<p>So, <em>imho</em>, if GATs are waiting for more experimentation before getting stabilized, then it seems to make sense to write a tool that would very ergonomically tackle the to-workarounds-translation, precisely to let people not be encumbered with that, and directly experiment on stable with a feel of what is to come.</p>
<p>To illustrate: it would be possible to implement the following on stable rust, I believe.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#[autogatic]</span><span class="w"></span>
<span class="k">trait</span><span class="w"> </span><span class="n">LendingIterator</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Item</span><span class="o">&lt;'</span><span class="na">next</span><span class="o">&gt;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="bp">Self</span><span class="w"> </span>: <span class="o">'</span><span class="na">next</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="k">fn</span> <span class="nf">next</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Option</span><span class="o">&lt;</span><span class="bp">Self</span>::<span class="n">Item</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;&gt;</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="cp">#[autogatic]</span><span class="w"></span>
<span class="k">impl</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">LendingIterator</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">WindowsMut</span><span class="o">&lt;'</span><span class="nb">_</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">T</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Item</span><span class="o">&lt;'</span><span class="na">next</span><span class="o">&gt;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="bp">Self</span><span class="w"> </span>: <span class="o">'</span><span class="na">next</span> <span class="o">=</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">next</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="p">[</span><span class="n">T</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="k">fn</span> <span class="nf">next</span><span class="w"> </span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="269293459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269293459" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269293459">(Jan 25 2022 at 17:37)</a>:</h4>
<p>How would that work on stable?</p>



<a name="269297460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269297460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269297460">(Jan 25 2022 at 18:02)</a>:</h4>
<p>I haven't looked into all the details, especially <em>w.r.t</em> <code>dyn</code> safety, but it would be something like:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">trait</span><span class="w"> </span><span class="n">LendingIterator_</span><span class="o">&lt;'</span><span class="na">next</span><span class="p">,</span><span class="w"> </span><span class="n">_where_Self_outlives_next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">next</span><span class="w"> </span><span class="bp">Self</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Item</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="k">fn</span> <span class="nf">next</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Option</span><span class="o">&lt;</span><span class="w"> </span><span class="o">&lt;</span><span class="bp">Self</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">LendingIterator_</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;&gt;</span>::<span class="n">Item</span><span class="w"> </span><span class="o">&gt;</span><span class="w"></span>
<span class="w">    </span><span class="k">where</span><span class="w"></span>
<span class="w">        </span><span class="bp">Self</span><span class="w"> </span>: <span class="nc">LendingIterator</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">trait</span><span class="w"> </span><span class="n">LendingIterator</span><span class="w"> </span>: <span class="nc">for</span><span class="o">&lt;'</span><span class="na">gat</span><span class="o">&gt;</span><span class="w"> </span><span class="n">LendingIterator</span><span class="o">&lt;'</span><span class="na">gat</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="k">impl</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span>: <span class="o">?</span><span class="nb">Sized</span><span class="o">&gt;</span><span class="w"> </span><span class="n">LendingIterator</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">T</span><span class="w"></span>
<span class="k">where</span><span class="w"></span>
<span class="w">    </span><span class="bp">Self</span><span class="w"> </span>: <span class="nc">for</span><span class="o">&lt;'</span><span class="na">gat</span><span class="o">&gt;</span><span class="w"> </span><span class="n">LendingIterator</span><span class="o">&lt;'</span><span class="na">gat</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="p">{}</span><span class="w"></span>
</code></pre></div>
<p>for the trait def, and:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">impl</span><span class="o">&lt;'</span><span class="na">next</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">LendingIterator_</span><span class="o">&lt;'</span><span class="na">next</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">WindowsMut</span><span class="o">&lt;'</span><span class="nb">_</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">T</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">next</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="p">[</span><span class="n">T</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="err">…</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>for the impl; something along those lines.</p>



<a name="269300478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269300478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269300478">(Jan 25 2022 at 18:22)</a>:</h4>
<p>That way, when GATs become stable, <em>ideally</em>, users would just have to remove the <code>#[gat_attr]</code>s and the <code>gat!( … )</code> macros.</p>



<a name="269361223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269361223" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> T0mstone <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269361223">(Jan 26 2022 at 04:20)</a>:</h4>
<p>I was told it could be worthwile to drop my usecase for GATs in here, so here goes:<br>
I would use it to remove code duplication for value types of an interpreted programming language. Specifically the following:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">pub</span><span class="w"> </span><span class="k">trait</span><span class="w"> </span><span class="n">MaybeValue</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">type</span> <span class="nc">Output</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">pub</span><span class="w"> </span><span class="k">struct</span> <span class="nc">WithValue</span><span class="p">;</span><span class="w"></span>
<span class="k">pub</span><span class="w"> </span><span class="k">struct</span> <span class="nc">WithoutValue</span><span class="p">;</span><span class="w"></span>
<span class="k">impl</span><span class="w"> </span><span class="n">MaybeValue</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">WithValue</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">type</span> <span class="nc">Output</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">impl</span><span class="w"> </span><span class="n">MaybeValue</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">WithoutValue</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">type</span> <span class="nc">Output</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">pub</span><span class="w"> </span><span class="k">enum</span> <span class="nc">ValueOrType</span><span class="o">&lt;</span><span class="n">T</span>: <span class="nc">MaybeValue</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">Bool</span><span class="p">(</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MaybeValue</span><span class="o">&gt;</span>::<span class="n">Output</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">),</span><span class="w"></span>
<span class="w"> </span><span class="c1">// ...</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="269362625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269362625" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269362625">(Jan 26 2022 at 04:36)</a>:</h4>
<p>In rusqlite I'd like to use it to change the FromSql trait to allow returning borrowed values (I'd also like it for lending iterators). I haven't mocked this up yet, but will try to play around with it next week when I have more time.</p>
<p>I think this might qualify as "resolving some difficult and subtle lifetime issues in library design" though.</p>



<a name="269863728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269863728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269863728">(Jan 29 2022 at 13:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125294">Aaron Hill</span> <a href="#narrow/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs/near/269293459">said</a>:</p>
<blockquote>
<p>How would that work on stable?</p>
</blockquote>
<p>Heh, I've actually just stumbled with a situation where the workaround yields smarter code than the GAT version (that is, the GAT version doesn't compile since it requires that for a <code>for&lt;'next&gt; LendingIterator&lt;Item = &amp;'next mut F&gt;</code>, <code>F</code> be <code>: 'static</code>, even when <code>F</code> is part of <code>Self</code>, whereas with my workaround it doesn't:</p>
<ul>
<li>The GAT version: <a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=997e8eab76b4781579ac1ae00fb403c4">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=997e8eab76b4781579ac1ae00fb403c4</a></li>
<li>The "autogatic" stable-workaround version: <a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=f8ba65e13b2fad1166a9b68d3c2ace88">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=f8ba65e13b2fad1166a9b68d3c2ace88</a></li>
<li>The motivation for this situation (making an iterator out of an middle-layer iterator of a <code>FnMut</code> closure: <a href="https://discord.com/channels/273534239310479360/936478838177796178/936957952512888852">https://discord.com/channels/273534239310479360/936478838177796178/936957952512888852</a></li>
</ul>



<a name="269877065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269877065" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jannis Harder <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269877065">(Jan 29 2022 at 17:27)</a>:</h4>
<p>A friend pointed me here while discussing stable rust GAT workarounds. One use case I have for GATs is a type that can store an owned StableDeref combined with an owned value that borrows from that value (i.e. something like ouroboros/rental/owning_ref/...) that is sound, doesn't generate unsafe-using code from macros, and has fewer limitations with respect to the supported types than the existing implementations I found. The idea roughly is to use a lifetime GAT to specify the type of the borrowing value, substituting the self lifetime for the parameter on all accessor functions. This should allow writing the required unsafe parts once as generic code, making it easier to spot potential soundness issues.</p>



<a name="269877227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269877227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jannis Harder <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269877227">(Jan 29 2022 at 17:30)</a>:</h4>
<p>I also came up with <a href="https://gist.github.com/jix/42d0e4a36ace4c618a59f0ba03be5bf5">this technique for emulating lifetime GATs on stable rust (gist link)</a>, which I haven't seen before, but to me it seems to avoid some downsides of other workarounds I've seen.</p>



<a name="269877402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269877402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jannis Harder <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269877402">(Jan 29 2022 at 17:34)</a>:</h4>
<p>It might even be the case that this technique has some advantages over actual GATs for me here. It allows to specify a lifetime generic type as type parameter, which gives some potentially useful API design options for this specific use case, but I haven't fully worked that out yet.</p>



<a name="269888370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269888370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269888370">(Jan 29 2022 at 20:59)</a>:</h4>
<p>That <code>for dyn</code> hack is a nice find, I even suspect you can get rid of <code>?Sized</code> by using <code>fn()</code> pointers and a helper trait to extract the return type. And it even generalizes better to arbitrary lifetime arities:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">type</span> <span class="nc">Context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">for</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">Context</span><span class="o">&lt;'</span><span class="na">b</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kp">&amp;</span><span class="o">'</span><span class="na">a</span> <span class="nc">mut</span><span class="w"> </span><span class="n">Context</span><span class="o">&lt;'</span><span class="na">b</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>

<span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span>-&gt; <span class="o">&lt;</span><span class="bp">Self</span>::<span class="n">Context</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyFnOnce</span><span class="o">&lt;&amp;'</span><span class="na">a</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">Context</span><span class="o">&lt;'</span><span class="na">b</span><span class="o">&gt;&gt;&gt;</span>::<span class="n">Output</span><span class="w"></span>
</code></pre></div>



<a name="269889947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269889947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jannis Harder <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269889947">(Jan 29 2022 at 21:27)</a>:</h4>
<p>Right the <code>?Sized</code> on the helper associated type isn't needed for the second variant in that gist that uses <code>fn</code> pointers, but if the emulated generic associated type is <code>?Sized</code>, with the first variant you can add <code>?Sized</code> to the helper trait's associated type, while the return type of <code>fn</code> pointers is always sized, so that wouldn't work. To work around that you can always wrap the <code>fn</code> return type in a <code>PhantomData</code>and adjust the helper trait impl accordingly though. I don't think one of these variations is strictly better than any other of them, though. They mostly shift around the places that need a bit more boilerplate.</p>



<a name="269890158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/269890158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jannis Harder <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#269890158">(Jan 29 2022 at 21:31)</a>:</h4>
<p>I haven't looked at higher lifetime arities though. I couldn't come up with use case for those on the spot and for this kind of thing I find it hard to make sure it's actually working and usable without realistic usage examples to test against.</p>



<a name="273017289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273017289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273017289">(Feb 23 2022 at 22:01)</a>:</h4>
<p>Motivated by seeing this discussion and some frustrations as I realized the edge cases we have been hitting in std::simd, I discovered an interesting use-case where GATs allow expressing const generic associated type constructors which may greatly simplify the library's implementation.</p>



<a name="273033933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273033933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273033933">(Feb 24 2022 at 00:55)</a>:</h4>
<p>please share :)</p>



<a name="273361246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273361246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273361246">(Feb 26 2022 at 20:29)</a>:</h4>
<p>... no information sharing for you <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="273371689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273371689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273371689">(Feb 27 2022 at 00:21)</a>:</h4>
<p><span aria-label="exhausted" class="emoji emoji-1f625" role="img" title="exhausted">:exhausted:</span></p>



<a name="273372926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273372926" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273372926">(Feb 27 2022 at 00:50)</a>:</h4>
<p>sorryyyyy! I had been still experimenting with it so I didn't want to provide thoughts prematurely.</p>



<a name="273373483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273373483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273373483">(Feb 27 2022 at 01:02)</a>:</h4>
<p>So I would like to be able to write a trait that can do something like</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">trait</span><span class="w"> </span><span class="n">Splat</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Vector</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">L</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">blah</span><span class="w"> </span><span class="n">blah</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">splat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span>::<span class="n">Vector</span><span class="o">&lt;</span><span class="n">L</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">impl</span><span class="w"> </span><span class="n">Splat</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Vector</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">L</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">blah</span><span class="w"> </span><span class="n">blah</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Simd</span><span class="o">&lt;</span><span class="kt">f32</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">splat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span>::<span class="n">Vector</span><span class="o">&lt;</span><span class="n">L</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">Simd</span>::<span class="n">from_array</span><span class="p">([</span><span class="bp">self</span><span class="p">;</span><span class="w"> </span><span class="n">L</span><span class="p">])</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="273373759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273373759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273373759">(Feb 27 2022 at 01:10)</a>:</h4>
<p>possibly with a few more annotations.</p>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> however, I find that while I can get that very simple example to compile, for anything else higher than that, rustc has not been informed that this could actually work. Most notably, if Splat::Vector requires some bounds, it seems I have to repeat all the other bounds.</p>



<a name="273373819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273373819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273373819">(Feb 27 2022 at 01:12)</a>:</h4>
<p>Any way I can convince you to write an experience report <a href="https://github.com/rust-lang/generic-associated-types-initiative/issues/new/choose">here</a>, specifically covering things that are less than ideal?</p>



<a name="273374331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374331">(Feb 27 2022 at 01:28)</a>:</h4>
<p>mm. that's kind of it.</p>
<p>everything else was essentially due to the fact that the way GATs work they apparently aren't actually considered as constraining const generics even if they would, so while I hoped they would just naturally emergently interact with each other, rustc doesn't handle them correctly.</p>



<a name="273374506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374506" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374506">(Feb 27 2022 at 01:31)</a>:</h4>
<p>I unfortunately somewhat foolishly tapped out my brain trying to puzzle out all the different ways I could attack it and try to make it work syntactically so I don't have the energy to write an experience report and by the time I recover that I will have forgotten most things.</p>



<a name="273374558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374558">(Feb 27 2022 at 01:33)</a>:</h4>
<p>oh okay</p>



<a name="273374568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374568">(Feb 27 2022 at 01:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281757">Jubilee</span> <a href="#narrow/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs/near/273374331">said</a>:</p>
<blockquote>
<p>while I hoped they would just naturally emergently interact with each other, rustc doesn't handle them correctly.</p>
</blockquote>
<p>this is what I'm curious about: is this just a bug or some missing design</p>



<a name="273374614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374614">(Feb 27 2022 at 01:34)</a>:</h4>
<p>when you say constrain im assuming you mean in an impl block?</p>



<a name="273374658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374658">(Feb 27 2022 at 01:36)</a>:</h4>
<p>yeah</p>



<a name="273374699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374699">(Feb 27 2022 at 01:36)</a>:</h4>
<p>I think thats not specific to const generics then</p>



<a name="273374702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374702" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374702">(Feb 27 2022 at 01:36)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#![feature(generic_associated_types)]</span><span class="w"></span>

<span class="k">trait</span><span class="w"> </span><span class="n">Trait</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Assoc1</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Assoc2</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">N</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">impl</span><span class="w"> </span><span class="n">Trait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Assoc1</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">T</span><span class="p">;</span><span class="w"> </span><span class="mi">0</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Assoc2</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">N</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[();</span><span class="w"> </span><span class="n">N</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">trait</span><span class="w"> </span><span class="n">Trait2</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="c1">// both of these impls error</span>
<span class="k">impl</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">N</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Trait2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&lt;</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Trait</span><span class="o">&gt;</span>::<span class="n">Assoc2</span><span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="k">impl</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Trait2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&lt;</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Trait</span><span class="o">&gt;</span>::<span class="n">Assoc1</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
</code></pre></div>



<a name="273374715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374715">(Feb 27 2022 at 01:37)</a>:</h4>
<p>hmmmm</p>



<a name="273374764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374764">(Feb 27 2022 at 01:38)</a>:</h4>
<p>seems consistent with how assoc types normally work since this errors too:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">trait</span><span class="w"> </span><span class="n">Trait</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Assoc</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">impl</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Trait</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Assoc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">trait</span><span class="w"> </span><span class="n">Trait2</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="k">impl</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Trait2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&lt;</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Trait</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span>::<span class="n">Assoc</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
</code></pre></div>



<a name="273374790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374790" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374790">(Feb 27 2022 at 01:39)</a>:</h4>
<p>I don't think that's correct since the variable should have been multiply constrained by being on both sides of an impl block.</p>



<a name="273374834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273374834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273374834">(Feb 27 2022 at 01:40)</a>:</h4>
<p>or at least, "I don't care if that's correct, it <strong>should</strong> work the way I was trying to use it, damnit."</p>



<a name="273376075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/273376075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#273376075">(Feb 27 2022 at 02:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="326176">Boxy [she/her]</span> <a href="#narrow/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs/near/273374764">said</a>:</p>
<blockquote>
<p>seems consistent with how assoc types normally work since this errors too:</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// stuff</span>
<span class="k">impl</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Trait2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&lt;</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Trait</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span>::<span class="n">Assoc</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>
<p>specifically, I wasn't trying to do <code>impl&lt;T&gt; Trait2 for &lt;() as Trait&lt;T&gt;&gt;::Assoc {}</code><br>
I was trying to use an associated type to constrain and thus permit a blanket impl over a binary type relationship.<br>
there were... several predicates that should have served as sufficient constraint.</p>



<a name="276905860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/276905860" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pachi <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#276905860">(Mar 28 2022 at 17:23)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> <span class="user-mention" data-user-id="137587">@Gankra</span> mentioned an interesting use case for GATs here <a href="https://twitter.com/Gankra_/status/1508204419019587587?t=iBRDFXUlsFV1lkCyNn6F4g&amp;s=19">https://twitter.com/Gankra_/status/1508204419019587587?t=iBRDFXUlsFV1lkCyNn6F4g&amp;s=19</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/Gankra_/status/1508204419019587587?t=iBRDFXUlsFV1lkCyNn6F4g&amp;s=19"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/37663fd2872232bfa24553d81b8b079cdd79fc11/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313233373135353532323631343336363230382f6c68686b554158395f6e6f726d616c2e6a7067"></a><p>oh my god i just remembered "internal iterators" were a thing pre-1.0 and that for a while i *REALLY* wanted to add them back to std because they did *something* better and i just found the post where i pitched it and took infinite psychic damage <a href="https://t.co/goMYmGTk4R">https://internals.rust-lang.org/t/traversable-traits/258</a> <a href="https://t.co/7xZDzoWn8Z">https://twitter.com/Gankra_/status/1508204419019587587/photo/1</a></p><span>- Aria the Cat (@Gankra_)</span><div class="twitter-image"><a href="https://t.co/7xZDzoWn8Z"><img src="https://uploads.zulipusercontent.net/67d7f50ecc6fd23b71cd29db7a57ec6844df81d6/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f464f343364517157594155314676682e6a70673a7468756d62"></a></div></div></div>



<a name="276906045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/276906045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gankra <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#276906045">(Mar 28 2022 at 17:24)</a>:</h4>
<p>IntoIterator exists? This was literally a post from 2014 from before <em>ANY</em> associated types.</p>



<a name="276917971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/213817-t-lang/topic/Understanding%20the%20motivations%20for%20GATs/near/276917971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pachi <a href="https://zulip-archive.rust-lang.org/stream/213817-t-lang/topic/Understanding.20the.20motivations.20for.20GATs.html#276917971">(Mar 28 2022 at 19:08)</a>:</h4>
<p>They're having a look to interesting use cases for GATs in this topic, and you probably have great uses for them! Just saw the tweet and thought it could be relevant here.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>