<html>
<head><meta charset="utf-8"><title>Testing the THIR unsafety checker · project-thir-unsafeck · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/index.html">project-thir-unsafeck</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html">Testing the THIR unsafety checker</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="250298879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250298879" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250298879">(Aug 22 2021 at 23:38)</a>:</h4>
<p>There currently aren't any THIR-unsafeck-specific bug tracked on the repo. What can we do to try to find some more?</p>
<ul>
<li>Is it too early to do any sort of crater run?<ul>
<li>IIRC there is an option to do smaller crater runs that don't run on every crate in <a href="http://crates.io">crates.io</a>?</li>
<li>The lang team might also be interested in some of the results regarding <a href="https://github.com/rust-lang/rust/issues/80059">#80059</a> (<code>let _ = *ptr;</code>) and <a href="https://github.com/rust-lang/rust/issues/87520">#87520</a> (safe and unsafe union patterns)</li>
</ul>
</li>
<li>The <code>-Z thir-unsafeck</code> flag is still described as unsound. Should this still be the case now that the implementation is complete?</li>
<li>Should we ask people to test <code>-Z thir-unsafeck</code> on their code?<ul>
<li>Could start here on Zulip, maybe IRLO</li>
<li>Maybe this is a bad time to do it with the 2021 edition coming up</li>
</ul>
</li>
</ul>
<p><span class="user-mention" data-user-id="124288">@oli</span> <span class="user-mention" data-user-id="116009">@nikomatsakis</span> any opinion or advice?</p>



<a name="250338260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250338260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250338260">(Aug 23 2021 at 11:28)</a>:</h4>
<blockquote>
<p>The -Z thir-unsafeck flag is still described as unsound. Should this still be the case now that the implementation is complete?</p>
</blockquote>
<p>yea, we should not emit the incomplete warning anymore.</p>



<a name="250338297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250338297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250338297">(Aug 23 2021 at 11:28)</a>:</h4>
<p>wrt your other questions, I think the right way forward is to do a full <code>check</code> crater run, then people don't have to try it out themselves and we get some good data</p>



<a name="250347558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250347558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250347558">(Aug 23 2021 at 12:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker/near/250338260">said</a>:</p>
<blockquote>
<blockquote>
<p>The -Z thir-unsafeck flag is still described as unsound. Should this still be the case now that the implementation is complete?</p>
</blockquote>
<p>yea, we should not emit the incomplete warning anymore.</p>
</blockquote>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> filed <a href="https://github.com/rust-lang/rust/issues/88259">#88259</a>.<br>
(It's not an incomplete feature so there was no warnings, but the description for the flag wrote "this is unsound")</p>



<a name="250353532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250353532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250353532">(Aug 23 2021 at 13:46)</a>:</h4>
<p>right... so... if you want we can start a crater run, just open a PR that enables the feature unconditionally and we can use that PR to do a crater run.</p>



<a name="250353619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250353619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250353619">(Aug 23 2021 at 13:47)</a>:</h4>
<p>We can use <a href="https://github.com/rust-lang/rust/issues/87710">#87710</a> if I rebase it on master</p>



<a name="250353807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250353807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250353807">(Aug 23 2021 at 13:48)</a>:</h4>
<p>Rebased</p>



<a name="250357094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250357094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250357094">(Aug 23 2021 at 14:12)</a>:</h4>
<p>CI failure is intriguing though, looks like this doesn't emit a warning with MIR unsafeck:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">pub</span><span class="w"> </span><span class="k">unsafe</span><span class="w"> </span><span class="k">fn</span> <span class="nf">unsf</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="k">pub</span><span class="w"> </span><span class="k">unsafe</span><span class="w"> </span><span class="k">fn</span> <span class="nf">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">unsf</span><span class="p">()</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Even though this compiles:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">pub</span><span class="w"> </span><span class="k">unsafe</span><span class="w"> </span><span class="k">fn</span> <span class="nf">unsf</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="k">pub</span><span class="w"> </span><span class="k">unsafe</span><span class="w"> </span><span class="k">fn</span> <span class="nf">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">unsf</span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="250359794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250359794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250359794">(Aug 23 2021 at 14:31)</a>:</h4>
<p>I wanted to find bugs in the THIR unsafeck, not the MIR one! <a href="https://github.com/rust-lang/rust/issues/88260">#88260</a></p>



<a name="250359979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250359979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250359979">(Aug 23 2021 at 14:32)</a>:</h4>
<p>Makes me want to have a <code>fixed-by-thir-unsafeck</code> label <span aria-label="innocent" class="emoji emoji-1f607" role="img" title="innocent">:innocent:</span></p>



<a name="250369844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250369844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250369844">(Aug 23 2021 at 15:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="255061">Léo Lanteri Thauvin</span> <a href="#narrow/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker/near/250359979">said</a>:</p>
<blockquote>
<p>Makes me want to have a <code>fixed-by-thir-unsafeck</code> label <span aria-label="innocent" class="emoji emoji-1f607" role="img" title="innocent">:innocent:</span></p>
</blockquote>
<p>added ^^</p>



<a name="250390652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250390652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Smittyvb <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250390652">(Aug 23 2021 at 18:20)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/79735">#79735</a> should get tagged with that</p>



<a name="250634288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250634288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250634288">(Aug 25 2021 at 15:16)</a>:</h4>
<p><span class="user-mention" data-user-id="255061">@Léo Lanteri Thauvin</span> my impression is that there are still sound outstanding "questions" for lang team, right?</p>



<a name="250634304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250634304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250634304">(Aug 25 2021 at 15:16)</a>:</h4>
<p>I'd like to work with you on preparing a PR that amends the Rust reference here</p>



<a name="250634312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250634312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250634312">(Aug 25 2021 at 15:16)</a>:</h4>
<p>and settling some of those rules</p>



<a name="250634348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250634348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250634348">(Aug 25 2021 at 15:17)</a>:</h4>
<p>My impression was that the lang team would like to have more data</p>



<a name="250634412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250634412" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250634412">(Aug 25 2021 at 15:17)</a>:</h4>
<p>Especially for <a href="https://github.com/rust-lang/rust/issues/87520">#87520</a></p>



<a name="250635332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250635332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250635332">(Aug 25 2021 at 15:24)</a>:</h4>
<p>(<a href="#narrow/stream/213817-t-lang/topic/union.20field.20semantics.20and.20safety/near/248264702">https://rust-lang.zulipchat.com/#narrow/stream/213817-t-lang/topic/union.20field.20semantics.20and.20safety/near/248264702</a>)</p>



<a name="250841800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250841800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250841800">(Aug 26 2021 at 21:18)</a>:</h4>
<p>Results for the crater run are out</p>



<a name="250841843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250841843" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250841843">(Aug 26 2021 at 21:18)</a>:</h4>
<p>But it hasn't produced any genuine results which makes me suspicious</p>



<a name="250842226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250842226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250842226">(Aug 26 2021 at 21:21)</a>:</h4>
<p>Actually no build failed due to E0133 (<code>rg E0133</code> yields no results in the <code>error</code> logs from crater)</p>



<a name="250854803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250854803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250854803">(Aug 26 2021 at 23:06)</a>:</h4>
<p>Oh wait "error" is test errors, isn't it?</p>



<a name="250854856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250854856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250854856">(Aug 26 2021 at 23:07)</a>:</h4>
<p>Yeah I need "build-fail" <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="250855318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250855318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250855318">(Aug 26 2021 at 23:12)</a>:</h4>
<p>Every failed build has the same number of <code>E0133</code>s except <code>germanespinosa/rustafaridb</code> going from 14 to 10</p>



<a name="250855715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/Testing%20the%20THIR%20unsafety%20checker/near/250855715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/Testing.20the.20THIR.20unsafety.20checker.html#250855715">(Aug 26 2021 at 23:16)</a>:</h4>
<p>We get from</p>
<div class="codehilite"><pre><span></span><code>[INFO] [stdout] error[E0133]: use of mutable static is unsafe and requires unsafe function or block
[INFO] [stdout]   --&gt; src/log.rs:16:26
[INFO] [stdout]    |
[INFO] [stdout] 16 |         if let Some(s) = log_sender
[INFO] [stdout]    |                          ^^^^^^^^^^ use of mutable static
[INFO] [stdout]    |
[INFO] [stdout]    = note: mutable statics can be mutated by multiple threads: aliasing violations or data races will cause undefined behavior
[INFO] [stdout]
[INFO] [stdout]
[INFO] [stdout] error[E0133]: use of mutable static is unsafe and requires unsafe function or block
[INFO] [stdout]   --&gt; src/log.rs:16:16
[INFO] [stdout]    |
[INFO] [stdout] 16 |         if let Some(s) = log_sender
[INFO] [stdout]    |                ^^^^^^^ use of mutable static
[INFO] [stdout]    |
[INFO] [stdout]    = note: mutable statics can be mutated by multiple threads: aliasing violations or data races will cause undefined behavior
[INFO] [stdout]
[INFO] [stdout]
[INFO] [stdout] error[E0133]: use of mutable static is unsafe and requires unsafe function or block
[INFO] [stdout]   --&gt; src/log.rs:16:21
[INFO] [stdout]    |
[INFO] [stdout] 16 |         if let Some(s) = log_sender
[INFO] [stdout]    |                     ^ use of mutable static
[INFO] [stdout]    |
[INFO] [stdout]    = note: mutable statics can be mutated by multiple threads: aliasing violations or data races will cause undefined behavior
</code></pre></div>
<p>to just a single error</p>
<div class="codehilite"><pre><span></span><code>[INFO] [stdout] error[E0133]: use of mutable static is unsafe and requires unsafe function or block
[INFO] [stdout]   --&gt; src/log.rs:16:26
[INFO] [stdout]    |
[INFO] [stdout] 16 |         if let Some(s) = log_sender
[INFO] [stdout]    |                          ^^^^^^^^^^ use of mutable static
[INFO] [stdout]    |
[INFO] [stdout]    = note: mutable statics can be mutated by multiple threads: aliasing violations or data races will cause undefined behavior
</code></pre></div>
<p>which is an improvement</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>