<html>
<head><meta charset="utf-8"><title>THIR unsafety checker · project-thir-unsafeck · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/index.html">project-thir-unsafeck</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html">THIR unsafety checker</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="233648703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/233648703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#233648703">(Apr 08 2021 at 13:07)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I implemented the changes you requested in <a href="https://github.com/rust-lang/rust/issues/83129">#83129</a>, so it should be ready to merge now. There's no rush though</p>



<a name="237850775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/237850775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#237850775">(May 07 2021 at 16:23)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <a href="https://github.com/rust-lang/rust/issues/83129">#83129</a> is ready for your review again</p>



<a name="238043974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238043974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238043974">(May 09 2021 at 15:50)</a>:</h4>
<p><span class="user-mention" data-user-id="255061">@Léo Lanteri Thauvin</span> looking!</p>



<a name="238046520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238046520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238046520">(May 09 2021 at 16:38)</a>:</h4>
<p><span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="238642734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238642734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238642734">(May 13 2021 at 16:08)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I have assigned you to 2 small PRs by <span class="user-mention" data-user-id="317035">@Smittyvb</span> that extend the THIR unsafety checker. They should be quick to review</p>



<a name="238642746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238642746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238642746">(May 13 2021 at 16:08)</a>:</h4>
<p>Yeah, cool!</p>



<a name="238642751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238642751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238642751">(May 13 2021 at 16:09)</a>:</h4>
<p>Nice to see the work being shared out!</p>



<a name="238642858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238642858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238642858">(May 13 2021 at 16:10)</a>:</h4>
<p>I'm not sure how we should operate with respect to the "thir-vec" PR (the one I had filed to be able to store the THIR in a stealable query)</p>



<a name="238643033"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643033" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643033">(May 13 2021 at 16:11)</a>:</h4>
<p>SInce they will always conflict</p>



<a name="238643064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643064">(May 13 2021 at 16:11)</a>:</h4>
<p>I'm inclined to land that if the perf impact is minimal</p>



<a name="238643077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643077">(May 13 2021 at 16:11)</a>:</h4>
<p>is it r? me?</p>



<a name="238643081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643081">(May 13 2021 at 16:11)</a>:</h4>
<p>why didn't I see it in my list</p>



<a name="238643092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643092">(May 13 2021 at 16:11)</a>:</h4>
<p>Unsure, I think it's still r? ghost</p>



<a name="238643098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643098">(May 13 2021 at 16:11)</a>:</h4>
<p>I'll r? you</p>



<a name="238643194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643194">(May 13 2021 at 16:12)</a>:</h4>
<p>But we can't merge it, I need to adapt it since THIR unsafeck landed</p>



<a name="238643264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643264">(May 13 2021 at 16:13)</a>:</h4>
<p>that's fine, make it r? me</p>



<a name="238643272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643272" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643272">(May 13 2021 at 16:13)</a>:</h4>
<p>once you adapt it, anyway</p>



<a name="238643328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643328">(May 13 2021 at 16:13)</a>:</h4>
<p>are we still building THIR more than once?</p>



<a name="238643333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643333" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643333">(May 13 2021 at 16:13)</a>:</h4>
<p>do we have a repo for this work ?</p>



<a name="238643355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643355">(May 13 2021 at 16:13)</a>:</h4>
<p>I'd like to have a project board and list of issues</p>



<a name="238643447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643447">(May 13 2021 at 16:14)</a>:</h4>
<p>We do</p>



<a name="238643487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238643487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238643487">(May 13 2021 at 16:14)</a>:</h4>
<p><a href="https://github.com/rust-lang/project-thir-unsafeck">https://github.com/rust-lang/project-thir-unsafeck</a></p>



<a name="238645165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238645165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238645165">(May 13 2021 at 16:28)</a>:</h4>
<p>i thought so</p>



<a name="238645454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238645454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238645454">(May 13 2021 at 16:30)</a>:</h4>
<p>it seems like we've made progress on some of those things :)</p>



<a name="238645466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238645466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238645466">(May 13 2021 at 16:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker/near/238643328">said</a>:</p>
<blockquote>
<p>are we still building THIR more than once?</p>
</blockquote>
<p>?</p>



<a name="238645990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238645990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238645990">(May 13 2021 at 16:35)</a>:</h4>
<p>Yes</p>



<a name="238677277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/238677277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#238677277">(May 13 2021 at 20:36)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <a href="https://github.com/rust-lang/rust/issues/83842">#83842</a> should be ready for review now</p>



<a name="239328602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/239328602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#239328602">(May 18 2021 at 21:26)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I've been opening a few small PRs to incrementally implement the rest of the unsafety-checker (I though small PRs would be easier for you to review but I can group them if you prefer).</p>
<p>That said, I think we probably should merge <a href="https://github.com/rust-lang/rust/issues/83842">#83842</a> (putting the THIR in <code>IndexVec</code>s) first, because that would unblock <a href="https://github.com/rust-lang/rust/issues/85273">#85273</a> (the THIR query). Any chance you might take a look soon?</p>



<a name="239427142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/239427142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#239427142">(May 19 2021 at 13:49)</a>:</h4>
<p><span class="user-mention" data-user-id="255061">@Léo Lanteri Thauvin</span> Yes!</p>



<a name="239427315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/239427315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#239427315">(May 19 2021 at 13:50)</a>:</h4>
<p>do you want to open an issue for <code>-Zunpretty=thir-tree</code>?</p>



<a name="239427379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/239427379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#239427379">(May 19 2021 at 13:51)</a>:</h4>
<p>(on the project-thir-unsafeck repo)</p>



<a name="239427472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/239427472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#239427472">(May 19 2021 at 13:51)</a>:</h4>
<p>Sure</p>



<a name="239427572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/239427572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#239427572">(May 19 2021 at 13:52)</a>:</h4>
<p>I'll work on it once the query is implemented</p>



<a name="239427762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/239427762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#239427762">(May 19 2021 at 13:53)</a>:</h4>
<p>Because it might not be very straightforward with all the inter-dependencies with typeck</p>



<a name="239507430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/239507430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#239507430">(May 19 2021 at 22:55)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I've added every active PR to the <a href="https://github.com/rust-lang/project-thir-unsafeck/projects/1">project board</a>. They probably all conflict with each other but they can be reviewed/merged in any order. The unsafeck ones should be quick to review. I've also asked for a perf run for <a href="https://github.com/rust-lang/rust/issues/85273">#85273</a> (THIR query).</p>
<p>(Btw I feel like I'm pinging you a lot, please tell me when it's unhelpful or too much. I'm not really used to this kind of interaction)</p>



<a name="245213245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/245213245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#245213245">(Jul 07 2021 at 17:16)</a>:</h4>
<p>How do we want to proceed with the rest of the implementation of the THIR unsafety checker? Currently there are 2 PRs open:</p>
<ul>
<li>Check for union field accesses in THIR unsafeck <a href="https://github.com/rust-lang/rust/issues/85263">#85263</a>: this one is blocked on deciding what the behavior of unions in patterns should be</li>
<li>Implement Mutation- and BorrowOfLayoutConstrainedField in thir-unsafeck <a href="https://github.com/rust-lang/rust/issues/86665">#86665</a>: the current implementation isn't correct because it's trickier in THIR than in MIR.</li>
</ul>
<p>My main question is this: I'm now in compiler-contributors, so I can review and merge PRs. Do you prefer me approving PRs unilaterally to save you time, given that correctness isn't <em>immediately</em> important (gated under <code>-Z thir-unsafeck</code>), or do you want to be involved in review each time?</p>



<a name="245213280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/245213280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#245213280">(Jul 07 2021 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> ^</p>



<a name="245229153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/245229153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#245229153">(Jul 07 2021 at 19:18)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="255061">@Léo Lanteri Thauvin</span> --</p>



<a name="245229183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/245229183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#245229183">(Jul 07 2021 at 19:18)</a>:</h4>
<p>I don't think you should unilaterally approve PRs, but it may be a good idea to find another primary reviewer</p>



<a name="245229197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/245229197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#245229197">(Jul 07 2021 at 19:19)</a>:</h4>
<p>I know that I owe a deep read of <a href="https://github.com/rust-lang/rust/issues/85263">#85263</a> :(</p>



<a name="245243290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/245243290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#245243290">(Jul 07 2021 at 21:17)</a>:</h4>
<blockquote>
<p>I don't think you should unilaterally approve PRs, but it may be a good idea to find another primary reviewer</p>
</blockquote>
<p>Do you have anyone in mind? Would that be someone familiar with MIR unsafeck? I was thinking maybe <span class="user-mention silent" data-user-id="120791">RalfJ</span> but I know they are busy at the moment</p>



<a name="245244138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/245244138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#245244138">(Jul 07 2021 at 21:24)</a>:</h4>
<p>Maybe <span class="user-mention" data-user-id="124288">@oli</span> would you be interested?</p>



<a name="245300933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/245300933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#245300933">(Jul 08 2021 at 11:37)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> yea, I'll take it!</p>



<a name="245375825"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/245375825" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#245375825">(Jul 08 2021 at 21:38)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> Thank you very much! Can I assign <a href="https://github.com/rust-lang/rust/issues/86665">#86665</a> to you as well, when I can't find any correctness problems?</p>



<a name="245437391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/245437391" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#245437391">(Jul 09 2021 at 12:42)</a>:</h4>
<p>jup</p>



<a name="247274918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/278509-project-thir-unsafeck/topic/THIR%20unsafety%20checker/near/247274918" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/278509-project-thir-unsafeck/topic/THIR.20unsafety.20checker.html#247274918">(Jul 26 2021 at 23:04)</a>:</h4>
<p>I created a <code>thir-unsafeck</code> label for bugs related to the THIR unsafeck</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>