<html>
<head><meta charset="utf-8"><title>meeting 2020.11.19 · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html">meeting 2020.11.19</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="217315539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217315539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217315539">(Nov 19 2020 at 19:06)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span> meeting in 24 minutes</p>



<a name="217318708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217318708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217318708">(Nov 19 2020 at 19:30)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span> <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> meeting time</p>



<a name="217318748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217318748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217318748">(Nov 19 2020 at 19:30)</a>:</h4>
<p><a href="https://github.com/orgs/rust-lang/projects/2">Ongoing work</a></p>



<a name="217318816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217318816" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217318816">(Nov 19 2020 at 19:31)</a>:</h4>
<p>Two improvements made in the last week:</p>
<ul>
<li>Make it more clear what an about async fn's returns when referring to what it returns <a href="https://github.com/rust-lang/rust/issues/76765">#76765</a></li>
<li>rustdoc renames parameters with <code>mut</code> in async fn <a href="https://github.com/rust-lang/rust/issues/76517">#76517</a></li>
</ul>



<a name="217319114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217319114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217319114">(Nov 19 2020 at 19:32)</a>:</h4>
<p>Also, I want to signal boost the <a href="https://github.com/rust-lang/rfcs/pull/3014"><code>must_not_await</code> lint RFC</a> opened by <span class="user-mention" data-user-id="248777">@Bhargav Voleti</span></p>



<a name="217319359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217319359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217319359">(Nov 19 2020 at 19:34)</a>:</h4>
<p>We've also seen progress on the <a href="https://github.com/rust-lang/rfcs/pull/2996"><code>Stream</code> RFC</a>, thanks <span class="user-mention" data-user-id="225192">@Nell Shamrell-Harrington</span> for continuing to push that forward</p>



<a name="217319604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217319604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217319604">(Nov 19 2020 at 19:36)</a>:</h4>
<p>Let's move on to issue triage</p>



<a name="217319637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217319637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bhargav Voleti <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217319637">(Nov 19 2020 at 19:36)</a>:</h4>
<p>Oh hey I made it in time.</p>



<a name="217319709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217319709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217319709">(Nov 19 2020 at 19:37)</a>:</h4>
<p>As with last week, I'm going to focus on the oldest issues first</p>



<a name="217319727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217319727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217319727">(Nov 19 2020 at 19:37)</a>:</h4>
<h2>ICE: cannot convert <code>RePlaceholder</code> to a region vid <a href="https://github.com/rust-lang/rust/issues/76168">#76168</a></h2>



<a name="217319910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217319910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217319910">(Nov 19 2020 at 19:38)</a>:</h4>
<p>This is happening on stable, beta, and nightly</p>



<a name="217319985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217319985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217319985">(Nov 19 2020 at 19:39)</a>:</h4>
<p>didn't used to be on stable, so that's a stable-stable regression</p>



<a name="217320196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217320196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Didrik Nordstrom <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217320196">(Nov 19 2020 at 19:41)</a>:</h4>
<p>Btw, re the "blocking lint" issue <a href="https://github.com/rust-lang/wg-async-foundations/issues/19">https://github.com/rust-lang/wg-async-foundations/issues/19</a> </p>
<p>Started prototyping a lint in clippy. Nothing to show yet, and I don't expect to make progress for a while (thanksgiving week in the US next week)</p>



<a name="217320208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217320208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217320208">(Nov 19 2020 at 19:41)</a>:</h4>
<p>this seems like a "guts of the borrow checker" thing more than an async/await thing, tagging</p>



<a name="217320388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217320388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217320388">(Nov 19 2020 at 19:42)</a>:</h4>
<p>adding on deck nonetheless</p>



<a name="217320424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217320424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217320424">(Nov 19 2020 at 19:43)</a>:</h4>
<p>moving on</p>



<a name="217320426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217320426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217320426">(Nov 19 2020 at 19:43)</a>:</h4>
<h2>Improve diagnostics for impl Trait capturing lifetimes <a href="https://github.com/rust-lang/rust/issues/78402">#78402</a></h2>



<a name="217320894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217320894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217320894">(Nov 19 2020 at 19:46)</a>:</h4>
<p>hmm</p>



<a name="217320996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217320996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217320996">(Nov 19 2020 at 19:47)</a>:</h4>
<p>this doesn't seem async-specific at all</p>



<a name="217321155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217321155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217321155">(Nov 19 2020 at 19:48)</a>:</h4>
<p>yeah so this looks expected by RPIT</p>



<a name="217321197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217321197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217321197">(Nov 19 2020 at 19:48)</a>:</h4>
<p>I'm not quite sure why adding <code>+ 'static</code> to the return type of <code>bar</code> doesn't work, though</p>



<a name="217321208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217321208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217321208">(Nov 19 2020 at 19:49)</a>:</h4>
<p><code>fn bar&lt;T&gt;(_: T) -&gt; impl Stream&lt;Item = Result&lt;Vec&lt;u8&gt;, io::Error&gt;&gt; + 'static</code></p>



<a name="217321321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217321321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217321321">(Nov 19 2020 at 19:50)</a>:</h4>
<p>that ought to remove any doubt that the return type is tied to the lifetime of <code>T</code></p>



<a name="217321752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217321752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217321752">(Nov 19 2020 at 19:53)</a>:</h4>
<p>okay, commented</p>



<a name="217321770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217321770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217321770">(Nov 19 2020 at 19:53)</a>:</h4>
<p>I don't think fixing this is a huge priority for us, though</p>



<a name="217321973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217321973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217321973">(Nov 19 2020 at 19:54)</a>:</h4>
<p>next is</p>
<h2>Bad interaction of async functions with unused_lifetimes lint <a href="https://github.com/rust-lang/rust/issues/78522">#78522</a></h2>



<a name="217322187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217322187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217322187">(Nov 19 2020 at 19:56)</a>:</h4>
<p>yeah, this is odd</p>



<a name="217322234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217322234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217322234">(Nov 19 2020 at 19:57)</a>:</h4>
<p>it seems like for async fns, the lint doesn't "see" where clauses</p>



<a name="217323278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217323278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217323278">(Nov 19 2020 at 20:04)</a>:</h4>
<p>added to On Deck and left a starting point for someone to pick up. Help wanted!</p>



<a name="217323315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217323315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217323315">(Nov 19 2020 at 20:05)</a>:</h4>
<p>That's all our time for today, thanks for coming everyone..</p>



<a name="217323398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.11.19/near/217323398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202020.2E11.2E19.html#217323398">(Nov 19 2020 at 20:05)</a>:</h4>
<p>Also, yes, next week is Thanksgiving in the US and I don't think I or <span class="user-mention" data-user-id="116009">@nikomatsakis</span> plan on being around, so we won't meet next week.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>