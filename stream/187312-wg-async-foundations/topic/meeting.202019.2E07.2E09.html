<html>
<head><meta charset="utf-8"><title>meeting 2019.07.09 · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html">meeting 2019.07.09</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="170470876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170470876" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170470876">(Jul 09 2019 at 17:02)</a>:</h4>
<p>Hey <span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span> -- sync meeting?</p>



<a name="170470933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170470933" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170470933">(Jul 09 2019 at 17:02)</a>:</h4>
<p><span class="user-mention" data-user-id="120134">@Giles Cope</span> over in <a class="stream" data-stream-id="201246" href="/#narrow/stream/201246-wg-async-foundations.2Fbook">#wg-async-foundations/book</a>, you wrote</p>
<blockquote>
<p>Sorry I've been busy. Things have calmed down a bit hopefully. Shall I just pick off some tests from the test list and add them? <a href="https://github.com/rust-lang/rust/issues/62121" target="_blank" title="https://github.com/rust-lang/rust/issues/62121">https://github.com/rust-lang/rust/issues/62121</a></p>
</blockquote>
<p>but I imagine that was meant for this stream :)</p>



<a name="170470942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170470942" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170470942">(Jul 09 2019 at 17:02)</a>:</h4>
<p>I think that'd be awesome!</p>



<a name="170470969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170470969" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170470969">(Jul 09 2019 at 17:03)</a>:</h4>
<p>o/</p>



<a name="170471008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471008" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471008">(Jul 09 2019 at 17:04)</a>:</h4>
<p>Reviewing briefly the <a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+is%3Aissue+label%3AA-async-await+-label%3AAsyncAwait-Blocking+-label%3AAsyncAwait-Deferred++-label%3AAsyncAwait-Unclear" target="_blank" title="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+is%3Aissue+label%3AA-async-await+-label%3AAsyncAwait-Blocking+-label%3AAsyncAwait-Deferred++-label%3AAsyncAwait-Unclear">uncategorized issues</a> I see only one:</p>



<a name="170471059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471059" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471059">(Jul 09 2019 at 17:04)</a>:</h4>
<blockquote>
<p>async fn with elided lifetime causes rustc panic <a href="https://github.com/rust-lang/rust/issues/62517" target="_blank" title="https://github.com/rust-lang/rust/issues/62517">#62517</a></p>
</blockquote>



<a name="170471108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471108">(Jul 09 2019 at 17:05)</a>:</h4>
<p>which..I guess I will categorize as blocking? I hope it's simple</p>



<a name="170471128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471128" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471128">(Jul 09 2019 at 17:05)</a>:</h4>
<p>on the topic of blocking, shall we look at the <a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+is%3Aissue+label%3AA-async-await+label%3AAsyncAwait-Blocking+" target="_blank" title="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+is%3Aissue+label%3AA-async-await+label%3AAsyncAwait-Blocking+">blocking issues</a> and try to make sure we have a plan? I have thoughts on some of them</p>



<a name="170471219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471219" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471219">(Jul 09 2019 at 17:06)</a>:</h4>
<p>going from the bottom:</p>
<blockquote>
<p>Using associated types in async fn type break typing <a href="https://github.com/rust-lang/rust/issues/60414" target="_blank" title="https://github.com/rust-lang/rust/issues/60414">#60414</a> </p>
</blockquote>
<p>has a <a href="https://github.com/rust-lang/rust/pull/62221" target="_blank" title="https://github.com/rust-lang/rust/pull/62221">pending PR</a> that I think I will r+ :)</p>



<a name="170471274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471274" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471274">(Jul 09 2019 at 17:08)</a>:</h4>
<blockquote>
<p>type inference doesn't work in async fn that return Box&lt;dyn SomeTrait&gt; <a href="https://github.com/rust-lang/rust/issues/60424" target="_blank" title="https://github.com/rust-lang/rust/issues/60424">#60424</a> </p>
</blockquote>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> and I spent some time on this, it's tricky. I guess I want to ask: if we are not able to fix it, do we regard it as blocking? I feel like (on balance) it should not block stabilization, but I guess there <em>may</em> be some forward compat issues around this?</p>



<a name="170471321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471321" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471321">(Jul 09 2019 at 17:08)</a>:</h4>
<p>Not sure what those would be though</p>



<a name="170471334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471334" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471334">(Jul 09 2019 at 17:08)</a>:</h4>
<p>in general I think we accept strictly less than we otherwise would, but I can imagine it's possible to create some examples where behavior might change</p>



<a name="170471339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471339" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471339">(Jul 09 2019 at 17:08)</a>:</h4>
<p>Yeah I can't sort out how you'd make it compile but break if we fixed this</p>



<a name="170471340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471340" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471340">(Jul 09 2019 at 17:08)</a>:</h4>
<p>(always true when we mess with inference/coercions)</p>



<a name="170471368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471368" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471368">(Jul 09 2019 at 17:09)</a>:</h4>
<p>because the issue here is that a necessary coercion isn't happening, triggering an error</p>



<a name="170471379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471379" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471379">(Jul 09 2019 at 17:09)</a>:</h4>
<p>right</p>



<a name="170471403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471403" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471403">(Jul 09 2019 at 17:09)</a>:</h4>
<p>maybe I'll add the "unclear" tag to indicate our doubt (but keep blocking for now)</p>



<a name="170471476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471476" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471476">(Jul 09 2019 at 17:10)</a>:</h4>
<p>I did do a local build of the proposed change (and observe the same failures that <span class="user-mention" data-user-id="116107">@davidtwco</span> was getting), and I hope to at least look at what's going on, maybe there's a simple sol'n</p>



<a name="170471496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471496" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471496">(Jul 09 2019 at 17:10)</a>:</h4>
<p>Anything I can do to help/reduce the load, let me know.</p>



<a name="170471550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471550" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471550">(Jul 09 2019 at 17:11)</a>:</h4>
<p>I have other plans for you :P</p>



<a name="170471562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471562" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471562">(Jul 09 2019 at 17:11)</a>:</h4>
<p>yay?</p>



<a name="170471645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471645" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471645">(Jul 09 2019 at 17:12)</a>:</h4>
<p>Next issue:</p>
<blockquote>
<p>Inherent async fn returning <code>Self</code> treats type's lifetime parameters as <code>'static</code> <a href="https://github.com/rust-lang/rust/issues/61949" target="_blank" title="https://github.com/rust-lang/rust/issues/61949">#61949</a> </p>
</blockquote>
<p>So as we discussed last time we can fix this either by forbidding <code>Self</code> or be trying to track what type it refers to. I lean towards the latter and was going to suggest that <span class="user-mention" data-user-id="116107">@davidtwco</span> or someone else might want to take a swing at it.</p>



<a name="170471651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471651" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471651">(Jul 09 2019 at 17:12)</a>:</h4>
<p>I guess I feel like i'd rather "do the correct thing" as long as it's not too terribly grody</p>



<a name="170471676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471676" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471676">(Jul 09 2019 at 17:12)</a>:</h4>
<p>I had <em>hoped</em> to leave a few notes on what that requires</p>



<a name="170471699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471699" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471699">(Jul 09 2019 at 17:13)</a>:</h4>
<p>I'm not sure what a solution for that would entail, but with some notes, I'd be happy to take a look.</p>



<a name="170471701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471701" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471701">(Jul 09 2019 at 17:13)</a>:</h4>
<p>Anyway, I wouldn't expect a lot of controversy on that? We can start a topic to discuss the details (I was planning on taking time after this mtg for that)</p>



<a name="170471831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471831" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471831">(Jul 09 2019 at 17:15)</a>:</h4>
<p>There is another aspect to this which I noted, which has to do with <code>T::Item</code> (when it expands to <code>&lt;T as Foo&lt;'a&gt;&gt;::Item</code>). This is a pre-existing issue from <code>impl Trait</code> <a href="https://github.com/rust-lang/rust/issues/51525" target="_blank" title="https://github.com/rust-lang/rust/issues/51525">https://github.com/rust-lang/rust/issues/51525</a> and I don't think it necessarily needs to block here. I was however going to add some mentoring notes to basically make such scenarios an error for now so we can fix them later.</p>



<a name="170471854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471854" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471854">(Jul 09 2019 at 17:15)</a>:</h4>
<p>(The <code>Self</code> thing is also a pre-existing impl Trait issue, of course)</p>



<a name="170471961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471961" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471961">(Jul 09 2019 at 17:16)</a>:</h4>
<p>In any case, not <em>too</em> worried about those</p>



<a name="170471979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170471979" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170471979">(Jul 09 2019 at 17:16)</a>:</h4>
<p>That brings us to:</p>
<blockquote>
<p>increase test coverage for async-await <a href="https://github.com/rust-lang/rust/issues/62121" target="_blank" title="https://github.com/rust-lang/rust/issues/62121">#62121</a> </p>
</blockquote>
<p>So what's the status here?</p>



<a name="170472000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472000" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472000">(Jul 09 2019 at 17:17)</a>:</h4>
<p>I wanted to maybe write some tests but found it a bit hard to figure out what to do, I have to admit, but I didn't look too hard</p>



<a name="170472038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472038" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472038">(Jul 09 2019 at 17:17)</a>:</h4>
<p>Status is I'll have another PR out pretty soon, but basically just "add tests until all the bullets on that list have at least one dedicated test showing coverage"</p>



<a name="170472117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472117" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472117">(Jul 09 2019 at 17:18)</a>:</h4>
<p>How can we tell which ones have tests?</p>



<a name="170472133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472133">(Jul 09 2019 at 17:18)</a>:</h4>
<p>I guess just look in the directory and your PRs and try to match up?</p>



<a name="170472151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472151" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472151">(Jul 09 2019 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="120134">@Giles Cope</span> mentioned writing some tests earlier, maybe you want to delegate some to them?</p>



<a name="170472157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472157" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472157">(Jul 09 2019 at 17:18)</a>:</h4>
<p>Yup, although it'd be good to add comments / strikeouts on the doc for ones that are covered</p>



<a name="170472170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472170" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472170">(Jul 09 2019 at 17:19)</a>:</h4>
<p>Yeah I was thinking ideal would be a checklist on the issue but strikeouts in the doc would work too</p>



<a name="170472178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472178" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472178">(Jul 09 2019 at 17:19)</a>:</h4>
<p>and would be less grunt work</p>



<a name="170472200"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472200" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472200">(Jul 09 2019 at 17:19)</a>:</h4>
<p>I guess we discussed adding variants of the impl trait "multi-lifetime" tests for async functions</p>



<a name="170472259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472259" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472259">(Jul 09 2019 at 17:20)</a>:</h4>
<p>Yeah, a checklist box got added to the issue for that</p>



<a name="170472267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472267" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472267">(Jul 09 2019 at 17:20)</a>:</h4>
<p>I saw</p>



<a name="170472268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472268" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472268">(Jul 09 2019 at 17:20)</a>:</h4>
<blockquote>
<p>Move tests in <code>src/test/run-pass/async-await</code> -&gt; <code>src/test/ui/async-await</code> <a href="https://github.com/rust-lang/rust/issues/62236" target="_blank" title="https://github.com/rust-lang/rust/issues/62236">#62236</a></p>
</blockquote>



<a name="170472281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472281" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472281">(Jul 09 2019 at 17:20)</a>:</h4>
<p>has pending PR <a href="https://github.com/rust-lang/rust/pull/62270" target="_blank" title="https://github.com/rust-lang/rust/pull/62270">https://github.com/rust-lang/rust/pull/62270</a></p>



<a name="170472285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472285" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472285">(Jul 09 2019 at 17:20)</a>:</h4>
<p>though with some strange error</p>



<a name="170472313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472313" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472313">(Jul 09 2019 at 17:21)</a>:</h4>
<p>(<span class="user-mention" data-user-id="116883">@tmandry</span>, did you see that error?)</p>



<a name="170472315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472315" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472315">(Jul 09 2019 at 17:21)</a>:</h4>
<p>maybe just needs to be rebased etc</p>



<a name="170472322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472322" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472322">(Jul 09 2019 at 17:21)</a>:</h4>
<p>anyway doesn't seem like the most pressing concern ever :)</p>



<a name="170472330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472330" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472330">(Jul 09 2019 at 17:21)</a>:</h4>
<p>well, the error is weird. the moving of tests less so</p>



<a name="170472412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472412" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472412">(Jul 09 2019 at 17:22)</a>:</h4>
<p>Next up:</p>
<blockquote>
<p>Mutually recursive <code>async fn</code>s are hard to make <code>Send</code> <a href="https://github.com/rust-lang/rust/issues/62284" target="_blank" title="https://github.com/rust-lang/rust/issues/62284">#62284</a> </p>
</blockquote>
<p>So this one worries me a bit. I'm not 100% sure though if it should be blocking. But I don't think we really have a plan to fix it?</p>



<a name="170472437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472437" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472437">(Jul 09 2019 at 17:22)</a>:</h4>
<p>It seems like recursive functions in general are harder than we would like -- at minimum I expect they merit a chapter in the book?</p>



<a name="170472461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472461" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472461">(Jul 09 2019 at 17:22)</a>:</h4>
<p>We should have a chapter like "surprisingly hard things" and talk about the (current) workarounds :)</p>



<a name="170472494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472494" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472494">(Jul 09 2019 at 17:23)</a>:</h4>
<p>^ this</p>



<a name="170472497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472497" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472497">(Jul 09 2019 at 17:23)</a>:</h4>
<p>I personally would be satisfied with that for stabilization purposes</p>



<a name="170472574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472574" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472574">(Jul 09 2019 at 17:24)</a>:</h4>
<p>I'm fine of course if we can fix the issue too, though I think we will <em>still</em> need such a chapter probably since recursion in general is a bit tricky</p>



<a name="170472705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472705" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472705">(Jul 09 2019 at 17:25)</a>:</h4>
<p>filed  "surprisingly hard things" <a href="https://github.com/rust-lang/async-book/issues/22" target="_blank" title="https://github.com/rust-lang/async-book/issues/22">async-book#22</a></p>



<a name="170472873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472873" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> boats <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472873">(Jul 09 2019 at 17:27)</a>:</h4>
<p>Regarding recursive functions, we've always known (but I'm sure its not widely known) that you have to at least box them. Unfortunately right now you also have to erase their types because of implementation issues. Ideally you would just have to box them, for the same reason you can't have a recursive struct without indirection.</p>



<a name="170472886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472886" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472886">(Jul 09 2019 at 17:27)</a>:</h4>
<p>Yes</p>



<a name="170472887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472887" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472887">(Jul 09 2019 at 17:27)</a>:</h4>
<p>So I didn't realize it</p>



<a name="170472890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472890" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472890">(Jul 09 2019 at 17:27)</a>:</h4>
<p>But it makes sense</p>



<a name="170472934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472934" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472934">(Jul 09 2019 at 17:28)</a>:</h4>
<p>In any case showing the correct "recipe" makes sense</p>



<a name="170472946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472946" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> boats <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472946">(Jul 09 2019 at 17:28)</a>:</h4>
<p>Obviously TCO something something ideally there'd be some compiler transform to avoid it someday in the future in some cases, etc</p>



<a name="170472949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472949" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472949">(Jul 09 2019 at 17:28)</a>:</h4>
<p>I was thinking about bigger refactorings we could do to make it so that <em>just</em> boxing suffices</p>



<a name="170472973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170472973" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170472973">(Jul 09 2019 at 17:28)</a>:</h4>
<p>but that's clearly out of scope</p>



<a name="170473020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473020" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473020">(Jul 09 2019 at 17:29)</a>:</h4>
<p>Do we generally agree then that "solving"  </p>
<blockquote>
<p>Mutually recursive <code>async fn</code>s are hard to make <code>Send</code> <a href="https://github.com/rust-lang/rust/issues/62284" target="_blank" title="https://github.com/rust-lang/rust/issues/62284">#62284</a> </p>
</blockquote>
<p>is more of a "nice to have"?</p>



<a name="170473027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473027">(Jul 09 2019 at 17:29)</a>:</h4>
<p>(If we document)</p>



<a name="170473109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473109" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473109">(Jul 09 2019 at 17:30)</a>:</h4>
<p>for async recursion does the compiler give a helpful error if it's not boxed?</p>



<a name="170473146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473146" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473146">(Jul 09 2019 at 17:30)</a>:</h4>
<p>not really</p>



<a name="170473154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473154" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473154">(Jul 09 2019 at 17:30)</a>:</h4>
<p>that could be another thing to shoot for</p>



<a name="170473210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473210" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> boats <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473210">(Jul 09 2019 at 17:31)</a>:</h4>
<p>I'm not sure about that particular example, but it would be nice if there were some small changes (even just diagnostics like Giles suggests) we could make in scope to improve the experience with recursive functions</p>



<a name="170473217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473217" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473217">(Jul 09 2019 at 17:31)</a>:</h4>
<p>some scenarios give you something like this (<a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=221c514a4af2ec73e1925eef602b8998" target="_blank" title="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=221c514a4af2ec73e1925eef602b8998">playground</a>)</p>
<div class="codehilite"><pre><span></span>error[E0720]: opaque type expands to a recursive type
 --&gt; src/main.rs:6:24
  |
6 | async fn foo(n: usize) {
  |                        ^ expands to self-referential type
  |
  = note: expanded type is `std::future::GenFuture&lt;[static generator@src/main.rs:6:24: 10:2 n:usize {usize, bool, std::pin::Pin&lt;std::boxed::Box&lt;impl std::future::Future&gt;&gt;, ()}]&gt;`
</pre></div>



<a name="170473233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473233" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473233">(Jul 09 2019 at 17:31)</a>:</h4>
<p>clearly this could be more obvious :)</p>



<a name="170473279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473279" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473279">(Jul 09 2019 at 17:32)</a>:</h4>
<p>but the good news is that it suggests a clear-ish place to "hook"</p>



<a name="170473283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473283" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> boats <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473283">(Jul 09 2019 at 17:32)</a>:</h4>
<p>oof the use of self-referential there is <em>not</em> helpful!</p>



<a name="170473285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473285" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473285">(Jul 09 2019 at 17:32)</a>:</h4>
<p>i.e., an opaque type that arose from async fn</p>



<a name="170473306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473306" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473306">(Jul 09 2019 at 17:32)</a>:</h4>
<blockquote>
<p>oof the use of self-referential there is <em>not</em> helpful!</p>
</blockquote>
<p>yeah, true, it's misleading, makes one think of <code>Pin</code></p>



<a name="170473321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473321" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> boats <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473321">(Jul 09 2019 at 17:32)</a>:</h4>
<p>exactly</p>



<a name="170473333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473333" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> boats <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473333">(Jul 09 2019 at 17:32)</a>:</h4>
<p>if you search it you'll get really useless info that will confuse you</p>



<a name="170473340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473340" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473340">(Jul 09 2019 at 17:32)</a>:</h4>
<p>(I withdraw the word "realistic" I used -- I meant more like "naive attempts at recursion")</p>



<a name="170473358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473358" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473358">(Jul 09 2019 at 17:33)</a>:</h4>
<p>should we file an issue on the diagnostic then?</p>



<a name="170473372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473372" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473372">(Jul 09 2019 at 17:33)</a>:</h4>
<p>sounds reasonable to me, <span class="user-mention" data-user-id="120134">@Giles Cope</span> are you interested in maybe tackling it?</p>



<a name="170473375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473375" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> boats <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473375">(Jul 09 2019 at 17:33)</a>:</h4>
<p>Yea, adding a special note in that case seems really doable</p>



<a name="170473403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473403" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473403">(Jul 09 2019 at 17:33)</a>:</h4>
<p>yeah, I like great error messages, I'll have a crack</p>



<a name="170473487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473487" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473487">(Jul 09 2019 at 17:34)</a>:</h4>
<p>If you put in the issue what you'd like it to say that would be even better.</p>



<a name="170473494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473494" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473494">(Jul 09 2019 at 17:34)</a>:</h4>
<p>filing an issue now</p>



<a name="170473556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473556" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> boats <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473556">(Jul 09 2019 at 17:35)</a>:</h4>
<p>I'm really confused by the send issue because its got async fns returning futures..</p>



<a name="170473608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473608" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473608">(Jul 09 2019 at 17:35)</a>:</h4>
<p>filed <a href="https://github.com/rust-lang/rust/issues/62539" target="_blank" title="https://github.com/rust-lang/rust/issues/62539">https://github.com/rust-lang/rust/issues/62539</a></p>



<a name="170473622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473622" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473622">(Jul 09 2019 at 17:36)</a>:</h4>
<p><span class="user-mention" data-user-id="120134">@Giles Cope</span> maybe self-assign in that issue</p>



<a name="170473694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473694" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473694">(Jul 09 2019 at 17:36)</a>:</h4>
<blockquote>
<p>I'm really confused by the send issue because its got async fns returning futures..</p>
</blockquote>
<p>yeah I discussed that some with <span class="user-mention" data-user-id="127859">@Taylor Cramer</span>, I think it's kind of a "pseduo-stream" thing going on. I'm not clear on whether we can improve diagnostics in <em>that</em> case or not.</p>



<a name="170473746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473746" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> boats <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473746">(Jul 09 2019 at 17:37)</a>:</h4>
<p>Okay, I see. I don't think this should block stabilization because its not "normal recursion"</p>



<a name="170473752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473752" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473752">(Jul 09 2019 at 17:37)</a>:</h4>
<blockquote>
<p>anyway doesn't seem like the most pressing concern ever <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>
</blockquote>
<p>Not sure why you labeled it as blocking</p>



<a name="170473759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473759">(Jul 09 2019 at 17:37)</a>:</h4>
<p>I intended the issue as "cleanup"</p>



<a name="170473769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473769" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473769">(Jul 09 2019 at 17:37)</a>:</h4>
<p>but the WASM test failure doesn't look good on the other hand</p>



<a name="170473780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> boats <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473780">(Jul 09 2019 at 17:37)</a>:</h4>
<p>Like if you couldnt write an adapter which boxes your straightforward recursive call, that would seem like a blocker to me</p>



<a name="170473782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473782">(Jul 09 2019 at 17:37)</a>:</h4>
<p>Possibly suggesting something unsound going on?</p>



<a name="170473878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473878" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473878">(Jul 09 2019 at 17:38)</a>:</h4>
<p>(context being <a href="https://github.com/rust-lang/rust/pull/62270" target="_blank" title="https://github.com/rust-lang/rust/pull/62270">https://github.com/rust-lang/rust/pull/62270</a>)</p>



<a name="170473972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170473972" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170473972">(Jul 09 2019 at 17:39)</a>:</h4>
<blockquote>
<p>Not sure why you labeled it as blocking</p>
</blockquote>
<p>I guess I figured it'd get closed quick :)</p>



<a name="170474002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474002" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474002">(Jul 09 2019 at 17:39)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> that's probably true ;)</p>



<a name="170474185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474185" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474185">(Jul 09 2019 at 17:41)</a>:</h4>
<p>One unclear issue to triage: <a href="https://github.com/rust-lang/rust/issues/62506" target="_blank" title="https://github.com/rust-lang/rust/issues/62506">https://github.com/rust-lang/rust/issues/62506</a></p>



<a name="170474262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474262" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474262">(Jul 09 2019 at 17:42)</a>:</h4>
<p>Seems blocking since it's an ICE in the surface we want to stabilize</p>



<a name="170474277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474277">(Jul 09 2019 at 17:42)</a>:</h4>
<p>Fun</p>



<a name="170474305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474305" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474305">(Jul 09 2019 at 17:42)</a>:</h4>
<p>Yeah, probably. It seems to be an error related to the stuff that is captured across an await point being incorrectly predicated</p>



<a name="170474339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474339" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474339">(Jul 09 2019 at 17:43)</a>:</h4>
<p><em>Perhaps</em> arising from <span class="user-mention" data-user-id="125294">@Aaron Hill</span>'s PR that tweaked the visitor order</p>



<a name="170474356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474356" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474356">(Jul 09 2019 at 17:43)</a>:</h4>
<p>labeling as such and ccing tmandry / matthewjasper</p>



<a name="170474448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474448" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474448">(Jul 09 2019 at 17:44)</a>:</h4>
<p>a first step would be to minimize</p>



<a name="170474451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474451" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474451">(Jul 09 2019 at 17:44)</a>:</h4>
<p>it's currently embedded in some bigger project</p>



<a name="170474519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474519" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474519">(Jul 09 2019 at 17:45)</a>:</h4>
<p>I can minimise it if you want.</p>



<a name="170474534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474534" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474534">(Jul 09 2019 at 17:45)</a>:</h4>
<p>That'd be <span aria-label="100" class="emoji emoji-1f4af" role="img" title="100">:100:</span></p>



<a name="170474548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474548" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474548">(Jul 09 2019 at 17:45)</a>:</h4>
<p>OK, well, we're out of time, but <span class="user-mention" data-user-id="120134">@Giles Cope</span> if you want to take a crack at minimizing it, I'm sure it'd be quite helpful</p>



<a name="170474603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474603" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474603">(Jul 09 2019 at 17:46)</a>:</h4>
<p>will do</p>



<a name="170474609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474609" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474609">(Jul 09 2019 at 17:46)</a>:</h4>
<p>Seems like we got through everything but the async unsafe fn question, but I think that's not really something we should discuss in this meeting anyhow</p>



<a name="170474835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474835" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474835">(Jul 09 2019 at 17:48)</a>:</h4>
<p>thanks all! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="170474849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170474849" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170474849">(Jul 09 2019 at 17:49)</a>:</h4>
<p>\o</p>



<a name="170479942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170479942" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170479942">(Jul 09 2019 at 18:48)</a>:</h4>
<blockquote>
<p>(<span class="user-mention silent" data-user-id="116883">tmandry</span>, did you see that error?)</p>
</blockquote>
<p>yes I did and was able to reproduce locally. I think some change exposed an existing place where we assume all variant layouts are enums</p>



<a name="170491810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170491810" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170491810">(Jul 09 2019 at 21:23)</a>:</h4>
<p>^ actually nevermind, that was something else</p>



<a name="170491813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.07.09/near/170491813" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202019.2E07.2E09.html#170491813">(Jul 09 2019 at 21:23)</a>:</h4>
<p>(deleted)</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>