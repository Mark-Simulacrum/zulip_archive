<html>
<head><meta charset="utf-8"><title>member constraints PR #89056 · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html">member constraints PR #89056</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="254337073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254337073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254337073">(Sep 22 2021 at 09:07)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="116113">@lqd</span> <span class="user-mention" data-user-id="116883">@tmandry</span> <span class="user-mention" data-user-id="421986">@eholk</span> <span class="user-mention" data-user-id="232957">@Jack Huey</span> <span class="user-mention" data-user-id="116083">@pnkfelix</span> <span class="user-mention" data-user-id="116118">@Matthew Jasper</span>  -- I wanted to schedule a slot to talk through <a href="https://github.com/rust-lang/rust/issues/80956">#80956</a> and y'all are people I thought <em>might</em> be interested (don't feel obligated).</p>



<a name="254337085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254337085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254337085">(Sep 22 2021 at 09:07)</a>:</h4>
<p>(Also anyone else)</p>



<a name="254337102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254337102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254337102">(Sep 22 2021 at 09:07)</a>:</h4>
<p>Here are a few options</p>



<a name="254337160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254337160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254337160">(Sep 22 2021 at 09:08)</a>:</h4>
<p>Please put a <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> on your preference</p>



<a name="254337174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254337174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254337174">(Sep 22 2021 at 09:08)</a>:</h4>
<p><time datetime="2021-09-24T13:30:00Z">2021-09-24T09:30:00-04:00</time></p>



<a name="254337281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254337281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254337281">(Sep 22 2021 at 09:08)</a>:</h4>
<p><time datetime="2021-09-24T16:00:00Z">2021-09-24T12:00:00-04:00</time></p>



<a name="254337290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254337290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254337290">(Sep 22 2021 at 09:08)</a>:</h4>
<p><time datetime="2021-09-24T18:00:00Z">2021-09-24T14:00:00-04:00</time></p>



<a name="254337309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254337309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254337309">(Sep 22 2021 at 09:08)</a>:</h4>
<p>This Friday is the polonius Hackathon, so I have a mild preference for the last one.</p>



<a name="254354967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254354967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254354967">(Sep 22 2021 at 12:00)</a>:</h4>
<p>(same)</p>



<a name="254412714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254412714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254412714">(Sep 22 2021 at 18:13)</a>:</h4>
<p>So, looks like the crater run might have turned up a couple regressions: <a href="https://crater-reports.s3.amazonaws.com/pr-89056/index.html">https://crater-reports.s3.amazonaws.com/pr-89056/index.html</a><br>
Specifically, looking at crymap:<br>
<code>error[E0310]: the parameter type `impl Write + 'a` may not live long enough</code></p>



<a name="254423069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254423069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254423069">(Sep 22 2021 at 19:20)</a>:</h4>
<p>I had been looking at the <code>bb8</code> one, and here's how it looks minimized</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">trait</span><span class="w"> </span><span class="n">Future</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">sink_error1</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="n">F</span><span class="o">&gt;</span><span class="p">(</span><span class="n">f</span>: <span class="nc">F</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">impl</span><span class="w"> </span><span class="n">Future</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">'</span><span class="na">a</span><span class="w"></span>
<span class="k">where</span><span class="w"></span>
<span class="w">    </span><span class="n">F</span>: <span class="nc">Future</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">'</span><span class="na">a</span><span class="p">,</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">sink_error2</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">sink_error2</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="n">F</span><span class="o">&gt;</span><span class="p">(</span><span class="n">f</span>: <span class="nc">F</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">impl</span><span class="w"> </span><span class="n">Future</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">'</span><span class="na">a</span><span class="w"></span>
<span class="k">where</span><span class="w"></span>
<span class="w">    </span><span class="n">F</span>: <span class="nc">Future</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">'</span><span class="na">a</span><span class="p">,</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">f</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="254515466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254515466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254515466">(Sep 23 2021 at 10:52)</a>:</h4>
<p>Will it be recorded / will there be slides available?</p>



<a name="254524757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254524757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dirkjan Ochtman <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254524757">(Sep 23 2021 at 12:18)</a>:</h4>
<p>that's a very old version of bb8 though</p>



<a name="254527608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254527608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254527608">(Sep 23 2021 at 12:39)</a>:</h4>
<p>sure, but it still shows a pattern that this PR doesn't handle as-is, cascading the 'static choice for the member constraint can cause issues</p>



<a name="254563403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254563403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254563403">(Sep 23 2021 at 16:23)</a>:</h4>
<p>the same pattern appears in the <code>desync</code> regressions, <code>age-core</code>, etc</p>
<p>this one minimized from <code>ees</code> is cute, but still the same thing</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="p">{</span><span class="n">error</span>::<span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">fmt</span>::<span class="n">Debug</span><span class="p">};</span><span class="w"></span>

<span class="cp">#[derive(Debug)]</span><span class="w"></span>
<span class="k">struct</span> <span class="nc">ErrorChain</span><span class="o">&lt;'</span><span class="na">a</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">error</span>: <span class="nb">Box</span><span class="o">&lt;</span><span class="k">dyn</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">'</span><span class="na">a</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">print_error_chain</span><span class="o">&lt;'</span><span class="na">a</span><span class="o">&gt;</span><span class="p">(</span><span class="n">error</span>: <span class="nc">impl</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">'</span><span class="na">a</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">impl</span><span class="w"> </span><span class="n">Debug</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">'</span><span class="na">a</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">ErrorChain</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">error</span>: <span class="nb">Box</span>::<span class="n">new</span><span class="p">(</span><span class="n">error</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>I assume some, if not all, the other 15 or so regressions are basically the same</p>



<a name="254596138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254596138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254596138">(Sep 23 2021 at 20:05)</a>:</h4>
<p>OK, let's do 14:00-- we can talk through the regression then, too</p>



<a name="254596182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254596182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254596182">(Sep 23 2021 at 20:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232018">Daniel Henry-Mantilla</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056/near/254515466">said</a>:</p>
<blockquote>
<p>Will it be recorded / will there be slides available?</p>
</blockquote>
<p>recorded, yes</p>



<a name="254678552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254678552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254678552">(Sep 24 2021 at 09:53)</a>:</h4>
<p>(the regression fix looks like it works but I don't think the crater run worked)</p>



<a name="254755954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254755954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254755954">(Sep 24 2021 at 19:05)</a>:</h4>
<p>thanks for the call everyone!</p>



<a name="254798966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/254798966" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#254798966">(Sep 25 2021 at 02:11)</a>:</h4>
<p>So, the example I was thinking of was something like </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">foo</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">a</span> <span class="p">(),</span><span class="w"> </span><span class="n">b</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">b</span> <span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">a</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">b</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>But I'm unsure how to "capture" <code>c</code></p>



<a name="255455097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255455097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255455097">(Sep 29 2021 at 19:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> since you'll probably miss my github ping, the example I'm thinking of is effectively in <a href="https://github.com/rust-lang/rust/issues/89327">#89327</a></p>



<a name="255462435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255462435" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255462435">(Sep 29 2021 at 19:47)</a>:</h4>
<p>that makes me wonder:</p>
<ul>
<li>whether Oli has seen Niko's <a href="https://github.com/rust-lang/rust/issues/89056">#89056</a>, and if that affects their lazy TAIT work (probably not)</li>
<li>and if Niko has seen Oli's interesting <a href="https://github.com/rust-lang/rust/issues/89229">#89229</a>, in addition to <a href="https://github.com/rust-lang/rust/issues/89327">#89327</a>, even if both seemed to only affect diagnostics. The former more so than the latter. (Oli's branch naming game is on point tho: <code>i_love_inferctxt</code>)</li>
</ul>



<a name="255496552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255496552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255496552">(Sep 30 2021 at 00:13)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> and I talked today</p>



<a name="255496563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255496563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255496563">(Sep 30 2021 at 00:14)</a>:</h4>
<p>He is going to explore the idea of adding <em>intersection regions</em> in today's system</p>



<a name="255496611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255496611" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255496611">(Sep 30 2021 at 00:14)</a>:</h4>
<p>It doesn't seem <em>that</em> hard and it would let us give precisely the right solutions here</p>



<a name="255496656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255496656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255496656">(Sep 30 2021 at 00:14)</a>:</h4>
<p>That said, <span class="user-mention" data-user-id="232957">@Jack Huey</span>, this example is not a "problem" for the PR, it's just not one that the PR would allow to type check.</p>



<a name="255497147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255497147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255497147">(Sep 30 2021 at 00:20)</a>:</h4>
<p>Right. I'm trying to put into words what I was concerned about</p>



<a name="255497177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255497177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255497177">(Sep 30 2021 at 00:20)</a>:</h4>
<p>Maybe that now we error, but we could theoretically select <code>'static</code> with your PR</p>



<a name="255497190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255497190" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255497190">(Sep 30 2021 at 00:20)</a>:</h4>
<p>and in the future, we really want the intersection region</p>



<a name="255601003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255601003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255601003">(Sep 30 2021 at 16:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056/near/255497177">said</a>:</p>
<blockquote>
<p>Maybe that now we error, but we could theoretically select <code>'static</code> with your PR</p>
</blockquote>
<p>we would not, in this case, because it has upper bounds</p>



<a name="255601049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255601049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255601049">(Sep 30 2021 at 16:11)</a>:</h4>
<p>I think the concern is really the auto trait with Send</p>



<a name="255601058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/member%20constraints%20PR%20%2389056/near/255601058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/member.20constraints.20PR.20.2389056.html#255601058">(Sep 30 2021 at 16:11)</a>:</h4>
<p>I should make the test case!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>