<html>
<head><meta charset="utf-8"><title>probing trait obligations · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html">probing trait obligations</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="255072403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255072403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255072403">(Sep 27 2021 at 15:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/Triage.20meeting.202021-09-27/near/255070355">said</a>:</p>
<blockquote>
<p>and I'm having trouble setting up a probe where those obligations can actually be tested without causing side effects</p>
</blockquote>
<p>anyone familiar with how to do this? <span class="user-mention" data-user-id="119031">@Esteban Küber</span> perhaps?</p>



<a name="255072492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255072492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255072492">(Sep 27 2021 at 15:56)</a>:</h4>
<p>I've dabbled</p>



<a name="255072497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255072497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255072497">(Sep 27 2021 at 15:56)</a>:</h4>
<p>I can maybe help</p>



<a name="255072529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255072529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255072529">(Sep 27 2021 at 15:56)</a>:</h4>
<p>when do you have time to sync up?</p>



<a name="255072617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255072617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255072617">(Sep 27 2021 at 15:56)</a>:</h4>
<p>does <time datetime="2021-09-27T17:30:00Z">2021-09-27T10:30:00-07:00</time> work?</p>



<a name="255072745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255072745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255072745">(Sep 27 2021 at 15:57)</a>:</h4>
<p>It should, just won't be able to stay for too long after that.</p>



<a name="255072875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255072875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255072875">(Sep 27 2021 at 15:58)</a>:</h4>
<p>okay, let's try to use the time efficiently then ;)</p>



<a name="255072938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255072938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255072938">(Sep 27 2021 at 15:58)</a>:</h4>
<p>if I have extra time beforehand I'll leave some context here</p>



<a name="255072962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255072962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255072962">(Sep 27 2021 at 15:58)</a>:</h4>
<p>awesome</p>



<a name="255087407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255087407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255087407">(Sep 27 2021 at 17:31)</a>:</h4>
<p><span class="user-mention" data-user-id="119031">@Esteban Küber</span> o/</p>



<a name="255087446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255087446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255087446">(Sep 27 2021 at 17:31)</a>:</h4>
<p>'sup! I'm in the call</p>



<a name="255087967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255087967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255087967">(Sep 27 2021 at 17:34)</a>:</h4>
<p>here's <a href="https://github.com/rust-lang/rust/blob/master/compiler/rustc_typeck/src/check/coercion.rs#L915:L915"><code>try_coerce</code></a></p>



<a name="255088294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255088294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255088294">(Sep 27 2021 at 17:36)</a>:</h4>
<p>code that calls it: <a href="https://github.com/rust-lang/rust/blob/master/compiler/rustc_typeck/src/check/fn_ctxt/suggestions.rs#L372">https://github.com/rust-lang/rust/blob/master/compiler/rustc_typeck/src/check/fn_ctxt/suggestions.rs#L372</a></p>



<a name="255090392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255090392" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255090392">(Sep 27 2021 at 17:50)</a>:</h4>
<p><a href="http://">Uploading Screen Shot 2021-09-27 at 10.49.56 AM.png…</a></p>



<a name="255091215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/255091215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#255091215">(Sep 27 2021 at 17:56)</a>:</h4>
<p><a href="https://hackmd.io/@tmandry/BkJqrFyNF/edit">hackmd</a></p>



<a name="256078403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/256078403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#256078403">(Oct 04 2021 at 15:32)</a>:</h4>
<p><span class="user-mention" data-user-id="116883">@tmandry</span> did you ever resolve this?</p>



<a name="256078457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/256078457" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#256078457">(Oct 04 2021 at 15:32)</a>:</h4>
<p>yes, I think so</p>



<a name="256078598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/probing%20trait%20obligations/near/256078598" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/probing.20trait.20obligations.html#256078598">(Oct 04 2021 at 15:33)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/89390">https://github.com/rust-lang/rust/pull/89390</a> has the result (thanks <span class="user-mention" data-user-id="119031">@Esteban Küber</span> for the help)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>