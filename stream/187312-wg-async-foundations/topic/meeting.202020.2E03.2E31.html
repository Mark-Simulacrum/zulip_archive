<html>
<head><meta charset="utf-8"><title>meeting 2020.03.31 · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html">meeting 2020.03.31</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="192418508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418508" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418508">(Mar 31 2020 at 17:00)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span> meeting time!</p>



<a name="192418566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418566" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418566">(Mar 31 2020 at 17:01)</a>:</h4>
<p><a href="https://github.com/orgs/rust-lang/projects/2" title="https://github.com/orgs/rust-lang/projects/2">Project board</a></p>



<a name="192418625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418625" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418625">(Mar 31 2020 at 17:01)</a>:</h4>
<p>One issue was closed this week:</p>
<ul>
<li>async fn presence affects an unrelated error message <a href="https://github.com/rust-lang/rust/issues/66312" title="https://github.com/rust-lang/rust/issues/66312">#66312</a></li>
</ul>



<a name="192418674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418674" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418674">(Mar 31 2020 at 17:01)</a>:</h4>
<p>In progress updates:</p>



<a name="192418691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418691" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418691">(Mar 31 2020 at 17:01)</a>:</h4>
<h2>Bad error message with async main <a href="https://github.com/rust-lang/rust/issues/68523" title="https://github.com/rust-lang/rust/issues/68523">#68523</a></h2>



<a name="192418769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418769" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418769">(Mar 31 2020 at 17:02)</a>:</h4>
<p>looks like there was some feedback left</p>



<a name="192418795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418795" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418795">(Mar 31 2020 at 17:02)</a>:</h4>
<p>I'm not sure if the author is on zulip</p>



<a name="192418866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418866" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418866">(Mar 31 2020 at 17:03)</a>:</h4>
<p>maybe <span class="user-mention" data-user-id="247082">@Sebastian Malton</span></p>



<a name="192418902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418902" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418902">(Mar 31 2020 at 17:03)</a>:</h4>
<p>I was just about to say =)</p>



<a name="192418919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418919" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418919">(Mar 31 2020 at 17:03)</a>:</h4>
<p>..feel free to leave any updates here</p>



<a name="192418922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192418922" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192418922">(Mar 31 2020 at 17:03)</a>:</h4>
<p>(Side note that anonymizing people's e-mails on Zulip has made it a lot harder to tell who they are..)</p>



<a name="192419011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419011" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419011">(Mar 31 2020 at 17:04)</a>:</h4>
<p>Including the <code>Span</code> in the HIR Yes variant is a good idea</p>



<a name="192419071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419071" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419071">(Mar 31 2020 at 17:04)</a>:</h4>
<p>okay, moving on for now</p>



<a name="192419075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419075" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419075">(Mar 31 2020 at 17:04)</a>:</h4>
<h2>Explanation for why future is not Send is wrong <a href="https://github.com/rust-lang/rust/issues/68112" title="https://github.com/rust-lang/rust/issues/68112">#68112</a></h2>



<a name="192419119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419119" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419119">(Mar 31 2020 at 17:05)</a>:</h4>
<p>..I started out trying to write mentoring instructions for this, but ended up fixing lots of it myself :)</p>



<a name="192419158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419158">(Mar 31 2020 at 17:05)</a>:</h4>
<p>I needed a refresher of those parts of the compiler anyway</p>



<a name="192419177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419177" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419177">(Mar 31 2020 at 17:05)</a>:</h4>
<p>today I'll either fix the rest or write up instructions for it</p>



<a name="192419317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419317" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419317">(Mar 31 2020 at 17:06)</a>:</h4>
<p>the trickiest bit so far is that we need to know if an obligation comes from the awaited expression <em>itself</em> to give a good error message</p>



<a name="192419341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419341" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419341">(Mar 31 2020 at 17:06)</a>:</h4>
<p>/me shows up to the meeting due to causing some regressions</p>



<a name="192419380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419380" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419380">(Mar 31 2020 at 17:07)</a>:</h4>
<p>I'm planning to stick that expr HirId inside <code>YieldSource</code> during lowering, and compare them by type, I think</p>



<a name="192419508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419508" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419508">(Mar 31 2020 at 17:08)</a>:</h4>
<p>moving on?</p>



<a name="192419523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419523" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419523">(Mar 31 2020 at 17:08)</a>:</h4>
<p>I don't quite understand that but ok :)</p>



<a name="192419542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419542" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419542">(Mar 31 2020 at 17:08)</a>:</h4>
<p>I would expect us to use a custom "cause code"</p>



<a name="192419570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419570" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419570">(Mar 31 2020 at 17:08)</a>:</h4>
<p>not sure if that's what you have in mind or not</p>



<a name="192419579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419579" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419579">(Mar 31 2020 at 17:08)</a>:</h4>
<p>or if that's for some reason inapplicable</p>



<a name="192419590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419590" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419590">(Mar 31 2020 at 17:08)</a>:</h4>
<p>(I didn't look too closely at the issue)</p>



<a name="192419705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419705" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419705">(Mar 31 2020 at 17:09)</a>:</h4>
<p>well.. I'm a little out of context and don't want to stall the meeting, but we can talk about it in another topic after</p>



<a name="192419776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419776" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419776">(Mar 31 2020 at 17:10)</a>:</h4>
<p>it's possible that would work, I'm not sure</p>



<a name="192419788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419788" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419788">(Mar 31 2020 at 17:10)</a>:</h4>
<h2>ICE: src/librustc/middle/region.rs:1037: Encountered greater count 28 <a href="https://github.com/rust-lang/rust/issues/69307" title="https://github.com/rust-lang/rust/issues/69307">#69307</a></h2>



<a name="192419834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419834" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419834">(Mar 31 2020 at 17:10)</a>:</h4>
<p>has PR</p>



<a name="192419867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419867" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419867">(Mar 31 2020 at 17:10)</a>:</h4>
<p>cool</p>



<a name="192419898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419898" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419898">(Mar 31 2020 at 17:11)</a>:</h4>
<p>Any updates on blocked issues?</p>



<a name="192419938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419938" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419938">(Mar 31 2020 at 17:11)</a>:</h4>
<p>I don't think so</p>



<a name="192419944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192419944" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192419944">(Mar 31 2020 at 17:11)</a>:</h4>
<p>let me look quickly</p>



<a name="192420006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420006" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420006">(Mar 31 2020 at 17:11)</a>:</h4>
<p>not from me, anyway</p>



<a name="192420016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420016">(Mar 31 2020 at 17:12)</a>:</h4>
<p>yeah, same</p>



<a name="192420147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420147" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420147">(Mar 31 2020 at 17:12)</a>:</h4>
<p>let's jump ahead to <a href="https://github.com/search?q=org%3Arust-lang+is%3Aissue+label%3AA-async-await+is%3Aopen+-label%3AAsyncAwait-Triaged&amp;type=Issues" title="https://github.com/search?q=org%3Arust-lang+is%3Aissue+label%3AA-async-await+is%3Aopen+-label%3AAsyncAwait-Triaged&amp;type=Issues">Uncategorized issues</a> in case one is high-priority</p>



<a name="192420175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420175" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420175">(Mar 31 2020 at 17:12)</a>:</h4>
<h2>internal compiler error: no type for local variable <a href="https://github.com/rust-lang/rust/issues/70594" title="https://github.com/rust-lang/rust/issues/70594">#70594</a></h2>



<a name="192420239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420239" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420239">(Mar 31 2020 at 17:13)</a>:</h4>
<p>I guess that's the <span class="user-mention" data-user-id="211727">@Jonas Schievink</span> regression :)</p>



<a name="192420285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420285" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420285">(Mar 31 2020 at 17:13)</a>:</h4>
<p>one of them, yeah :)</p>



<a name="192420291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420291" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420291">(Mar 31 2020 at 17:13)</a>:</h4>
<p>as promised <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="192420310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420310">(Mar 31 2020 at 17:13)</a>:</h4>
<p>any idea what's the cause?</p>



<a name="192420318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420318" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420318">(Mar 31 2020 at 17:13)</a>:</h4>
<p>luckily only in diagnostics. haven't looked into it at all yet.</p>



<a name="192420446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420446" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420446">(Mar 31 2020 at 17:14)</a>:</h4>
<p>(how HIR lowering works really wasn't obvious to me, I've seen similar errors while working on the original PR though)</p>



<a name="192420452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420452" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420452">(Mar 31 2020 at 17:14)</a>:</h4>
<p>hmm, this was triaged as P-medium but given that it's an ICE, I think I'll add it to our "To do" column</p>



<a name="192420511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420511" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420511">(Mar 31 2020 at 17:15)</a>:</h4>
<p>It's an ICE + regression</p>



<a name="192420528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420528" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420528">(Mar 31 2020 at 17:15)</a>:</h4>
<p>I'd call it P-high myself</p>



<a name="192420543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420543" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420543">(Mar 31 2020 at 17:15)</a>:</h4>
<p>I guess it's weird though</p>



<a name="192420564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420564" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420564">(Mar 31 2020 at 17:15)</a>:</h4>
<p>i.e., an erroneous program</p>



<a name="192420572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420572" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420572">(Mar 31 2020 at 17:15)</a>:</h4>
<p>yeah</p>



<a name="192420591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420591" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420591">(Mar 31 2020 at 17:15)</a>:</h4>
<p>bit of a gray area</p>



<a name="192420594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420594" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420594">(Mar 31 2020 at 17:15)</a>:</h4>
<p>anyway P-medium is maybe fine but I agree with To Do</p>



<a name="192420602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420602" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420602">(Mar 31 2020 at 17:15)</a>:</h4>
<p>P-medium tends to be used when there's still a useful diagnostic before the ICE, which is the case here</p>



<a name="192420623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420623" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420623">(Mar 31 2020 at 17:15)</a>:</h4>
<p>yeah</p>



<a name="192420718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420718" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420718">(Mar 31 2020 at 17:16)</a>:</h4>
<p>ok, moving on</p>



<a name="192420726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420726" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420726">(Mar 31 2020 at 17:16)</a>:</h4>
<h2>Async performance regression <a href="https://github.com/rust-lang/rust/issues/70488" title="https://github.com/rust-lang/rust/issues/70488">#70488</a></h2>



<a name="192420798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420798" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420798">(Mar 31 2020 at 17:16)</a>:</h4>
<p>/me reads</p>



<a name="192420868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420868" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420868">(Mar 31 2020 at 17:17)</a>:</h4>
<p>TL;DR: Lower alignment requirements in generators make a copy more expensive</p>



<a name="192420995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192420995" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192420995">(Mar 31 2020 at 17:18)</a>:</h4>
<p>hmm</p>



<a name="192421081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421081" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421081">(Mar 31 2020 at 17:18)</a>:</h4>
<p>I guess LLVM can't help optimize our layouts, since we express them at the byte level iirc</p>



<a name="192421119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421119" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421119">(Mar 31 2020 at 17:19)</a>:</h4>
<p>it would be nice if we could express a set of "layout constraints" instead</p>



<a name="192421130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421130" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421130">(Mar 31 2020 at 17:19)</a>:</h4>
<p>I imagine that this regression has close to zero real-world impact though, the benchmark really <em>only</em> does a copy and nothing else</p>



<a name="192421164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421164" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421164">(Mar 31 2020 at 17:19)</a>:</h4>
<p>yes, that's a good point</p>



<a name="192421198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421198" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421198">(Mar 31 2020 at 17:19)</a>:</h4>
<p>I'm inclined to close as won't fix</p>



<a name="192421261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421261" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421261">(Mar 31 2020 at 17:20)</a>:</h4>
<p>I'm not really sure what LLVM is doing there, it gets a <code>load volatile</code> with <code>align 8</code>, but chooses to copy the structure one byte at a time. Might be something for LLVM experts to look into.</p>



<a name="192421262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421262" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421262">(Mar 31 2020 at 17:20)</a>:</h4>
<p>unless we have evidence of impact for something more significant</p>



<a name="192421281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421281" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421281">(Mar 31 2020 at 17:20)</a>:</h4>
<p>that said</p>



<a name="192421288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421288" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421288">(Mar 31 2020 at 17:20)</a>:</h4>
<p>I don't <em>quite</em> understand the problem</p>



<a name="192421299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421299" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421299">(Mar 31 2020 at 17:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="211727">Jonas Schievink</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31/near/192421261" title="#narrow/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31/near/192421261">said</a>:</p>
<blockquote>
<p>I'm not really sure what LLVM is doing there, it gets a <code>load volatile</code> with <code>align 8</code>, but chooses to copy the structure one byte at a time. Might be something for LLVM experts to look into.</p>
</blockquote>
<p>I guess this</p>



<a name="192421319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421319" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421319">(Mar 31 2020 at 17:20)</a>:</h4>
<p>i.e., it seems like this is a kind of failure of LLVM or our codegen or something,</p>



<a name="192421364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421364" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421364">(Mar 31 2020 at 17:21)</a>:</h4>
<p>if this is really just copying, couldn't we by copying the entire struct at once?</p>



<a name="192421407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421407" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421407">(Mar 31 2020 at 17:21)</a>:</h4>
<p>^ right, that's the part I don't understand</p>



<a name="192421499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421499" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421499">(Mar 31 2020 at 17:22)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/70488#issuecomment-606296787" title="https://github.com/rust-lang/rust/issues/70488#issuecomment-606296787">this comment by <span class="user-mention" data-user-id="211727">@Jonas Schievink</span> is helpful</a>:</p>
<blockquote>
<p>I haven't completely nailed down this issue yet as I'm not an LLVM expert, but it seems like it's caused by LLVM using only the LLVM type for alignment decisions, not the explicit alignment of the load (Presumably this doesn't always happen for loads or it would have been caught earlier? Are only volatile loads affected?).</p>
</blockquote>



<a name="192421541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421541" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421541">(Mar 31 2020 at 17:22)</a>:</h4>
<p>I would also be inclined to close as won't fix btw</p>



<a name="192421562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421562" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421562">(Mar 31 2020 at 17:22)</a>:</h4>
<p>in the sense that we have no evidence of actual regressions</p>



<a name="192421636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421636">(Mar 31 2020 at 17:23)</a>:</h4>
<p>yeah that's fair. part of me wants to know why LLVM does this, but we could take a default stance that it probably doesn't actually matter</p>



<a name="192421738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421738" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421738">(Mar 31 2020 at 17:24)</a>:</h4>
<p>We could ping the LLVM ICE-breakers group and see if they've any input</p>



<a name="192421775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421775" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421775">(Mar 31 2020 at 17:24)</a>:</h4>
<p>But I think we're unlikely to change the generator alignment absent a more compelling example</p>



<a name="192421790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421790" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421790">(Mar 31 2020 at 17:24)</a>:</h4>
<p>Pinging LLVM seems good though, in the sense that maybe it's some bug in LLVM</p>



<a name="192421806"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421806" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421806">(Mar 31 2020 at 17:25)</a>:</h4>
<p>(might be nice to fix on the LLVM or codegen side)</p>



<a name="192421809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421809" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421809">(Mar 31 2020 at 17:25)</a>:</h4>
<p>(to me it seems clear that the assembly generated is horrid)</p>



<a name="192421848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421848" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421848">(Mar 31 2020 at 17:25)</a>:</h4>
<p>I could see it being a problem where they don't realize they can use aligned loads</p>



<a name="192421921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421921" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421921">(Mar 31 2020 at 17:26)</a>:</h4>
<p>okay, I'm summarizing all of this in a comment</p>



<a name="192421998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192421998" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192421998">(Mar 31 2020 at 17:26)</a>:</h4>
<p>how do we ping that group again?</p>



<a name="192422036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422036" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422036">(Mar 31 2020 at 17:27)</a>:</h4>
<p><code>@rustbot ping llvm</code></p>



<a name="192422119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422119" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422119">(Mar 31 2020 at 17:27)</a>:</h4>
<p>ok, done</p>



<a name="192422156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422156" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422156">(Mar 31 2020 at 17:28)</a>:</h4>
<p>I'm going to lower from P-high to.. P-low?</p>



<a name="192422277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422277">(Mar 31 2020 at 17:28)</a>:</h4>
<p>that leaves us with a couple minutes to look at the <a href="https://github.com/orgs/rust-lang/projects/2" title="https://github.com/orgs/rust-lang/projects/2">project board</a> again</p>



<a name="192422305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422305" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422305">(Mar 31 2020 at 17:28)</a>:</h4>
<p>we have 6 issues in To Do, if anyone wants to claim one</p>



<a name="192422340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422340" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422340">(Mar 31 2020 at 17:29)</a>:</h4>
<p><span class="user-mention" data-user-id="211727">@Jonas Schievink</span> -- are you claiming <a href="https://github.com/rust-lang/rust/issues/70594" title="https://github.com/rust-lang/rust/issues/70594">https://github.com/rust-lang/rust/issues/70594</a> ?</p>



<a name="192422376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422376" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422376">(Mar 31 2020 at 17:29)</a>:</h4>
<p>yeah, will look into that</p>



<a name="192422492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422492" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422492">(Mar 31 2020 at 17:30)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="116883">@tmandry</span>, regarding <a href="https://github.com/rust-lang/rust-clippy/issues/4226" title="https://github.com/rust-lang/rust-clippy/issues/4226">https://github.com/rust-lang/rust-clippy/issues/4226</a>, it seems like it'd be good to give a few more details of what is expected</p>



<a name="192422508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422508" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422508">(Mar 31 2020 at 17:30)</a>:</h4>
<p>i.e., what are some examples that <em>don't</em> yield a compiler error?</p>



<a name="192422525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422525" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422525">(Mar 31 2020 at 17:30)</a>:</h4>
<p>and what precisely are we testing for?</p>



<a name="192422533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422533" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422533">(Mar 31 2020 at 17:30)</a>:</h4>
<p>just the types from the stdlib?</p>



<a name="192422575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422575" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422575">(Mar 31 2020 at 17:31)</a>:</h4>
<p>yeah, I specifically want to test for any kind of <code>MutexGuard</code> (in both stdlib and parking_lot if possible)</p>



<a name="192422603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422603" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422603">(Mar 31 2020 at 17:31)</a>:</h4>
<p>I will claim <a href="https://github.com/rust-lang/rust/issues/66107" title="https://github.com/rust-lang/rust/issues/66107">https://github.com/rust-lang/rust/issues/66107</a> to leave some mentoring instructions</p>



<a name="192422620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422620" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422620">(Mar 31 2020 at 17:31)</a>:</h4>
<p>but yes, I'll leave some notes on the issue</p>



<a name="192422626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422626" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422626">(Mar 31 2020 at 17:31)</a>:</h4>
<p>I spent some time on this during our "focus day" (we should probably schedule another... but not this week)</p>



<a name="192422649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422649" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422649">(Mar 31 2020 at 17:31)</a>:</h4>
<p>but I didn't quite figure out what to do :)</p>



<a name="192422704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422704" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422704">(Mar 31 2020 at 17:31)</a>:</h4>
<p>yeah, I'm considering having a standing focus day every Tuesday</p>



<a name="192422852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422852" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422852">(Mar 31 2020 at 17:32)</a>:</h4>
<p>I do want to <em>actually</em> bootstrap mentoring notes on a lot of issues :)</p>



<a name="192422875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422875" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422875">(Mar 31 2020 at 17:32)</a>:</h4>
<p>anyway, we're at time, so</p>



<a name="192422889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192422889" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192422889">(Mar 31 2020 at 17:32)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> thanks all for coming!</p>



<a name="192470356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.03.31/near/192470356" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastian Malton <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E03.2E31.html#192470356">(Apr 01 2020 at 00:25)</a>:</h4>
<p>Yeah it is me. I am still working on it, just a little busy the past few days.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>