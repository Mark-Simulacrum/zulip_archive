<html>
<head><meta charset="utf-8"><title>Poll::ready vs. task::ready! · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/Poll.3A.3Aready.20vs.2E.20task.3A.3Aready!.html">Poll::ready vs. task::ready!</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="256658735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/Poll%3A%3Aready%20vs.%20task%3A%3Aready%21/near/256658735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/Poll.3A.3Aready.20vs.2E.20task.3A.3Aready!.html#256658735">(Oct 07 2021 at 22:17)</a>:</h4>
<p>I opened a PR adding <code>Poll::ready</code>, and reverting the planned stabilization of <code>ready!</code>: <a href="https://github.com/rust-lang/rust/pull/89651">https://github.com/rust-lang/rust/pull/89651</a></p>



<a name="257109053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/Poll%3A%3Aready%20vs.%20task%3A%3Aready%21/near/257109053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/Poll.3A.3Aready.20vs.2E.20task.3A.3Aready!.html#257109053">(Oct 11 2021 at 19:49)</a>:</h4>
<p>Approved <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="257187104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/Poll%3A%3Aready%20vs.%20task%3A%3Aready%21/near/257187104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/Poll.3A.3Aready.20vs.2E.20task.3A.3Aready!.html#257187104">(Oct 12 2021 at 11:31)</a>:</h4>
<p>Kind of off-topic but this makes me realize that <code>Try</code> may be bundling too many semantics: that PR has had to write code to handle re-wrapping inside <code>Ready</code>s, as if we would be featuring <code>Ready</code>-yielding <code>try</code> blocks or functions, which, even if it could be envisioned, wasn't really the scope of the PR: the PR wanted to feature <code>Poll</code>-yielding <code>try</code> blocks or functions, within which <code>.ready()?</code> would Just Work. Thus, we could imagine a <code>Branch</code> super-trait of <code>Try</code> which would just offer a method equivalent to <code>branch</code>, and then have the <code>FromResidual&lt;Ready&lt;!&gt;&gt; for Poll&lt;T&gt;</code> (cc <span class="user-mention" data-user-id="125270">@scottmcm</span>, WDYT?)</p>



<a name="257412401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/Poll%3A%3Aready%20vs.%20task%3A%3Aready%21/near/257412401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/Poll.3A.3Aready.20vs.2E.20task.3A.3Aready!.html#257412401">(Oct 13 2021 at 18:16)</a>:</h4>
<p>Sorry, I don't think I'm really following the question here.</p>
<p>It sounds like this is partially about not thinking that <code>from_output</code> makes sense for <code>Poll</code>?</p>



<a name="257412531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/Poll%3A%3Aready%20vs.%20task%3A%3Aready%21/near/257412531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/Poll.3A.3Aready.20vs.2E.20task.3A.3Aready!.html#257412531">(Oct 13 2021 at 18:17)</a>:</h4>
<p>TBH I've never really understood the <code>?</code> impls on <code>Poll</code>, just made sure they didn't break :P</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>