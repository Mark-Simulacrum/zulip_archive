<html>
<head><meta charset="utf-8"><title>meeting 2020.04.21 · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html">meeting 2020.04.21</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="194832382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194832382" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194832382">(Apr 21 2020 at 17:03)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span> meeting time!</p>



<a name="194832526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194832526" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194832526">(Apr 21 2020 at 17:04)</a>:</h4>
<p>Howdy!</p>



<a name="194832587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194832587" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194832587">(Apr 21 2020 at 17:05)</a>:</h4>
<p><a href="https://github.com/orgs/rust-lang/projects/2" title="https://github.com/orgs/rust-lang/projects/2">Project board</a></p>



<a name="194832616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194832616" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194832616">(Apr 21 2020 at 17:05)</a>:</h4>
<p>wow.. lots of things marked Done this week</p>



<a name="194832742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194832742" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194832742">(Apr 21 2020 at 17:06)</a>:</h4>
<ul>
<li>Bad error message with async main <a href="https://github.com/rust-lang/rust/issues/68523" title="https://github.com/rust-lang/rust/issues/68523">#68523</a></li>
<li>rustc compiler crashed when using async in loop <a href="https://github.com/rust-lang/rust/issues/67893" title="https://github.com/rust-lang/rust/issues/67893">#67893</a></li>
<li>Explanation for why future is not Send is wrong <a href="https://github.com/rust-lang/rust/issues/68112" title="https://github.com/rust-lang/rust/issues/68112">#68112</a></li>
<li>ICE: src/librustc/middle/region.rs:1037: Encountered greater count 28 <a href="https://github.com/rust-lang/rust/issues/69307" title="https://github.com/rust-lang/rust/issues/69307">#69307</a></li>
<li>async-block diagnostics do not suggest async move when it may be needed <a href="https://github.com/rust-lang/rust/issues/66107" title="https://github.com/rust-lang/rust/issues/66107">#66107</a></li>
</ul>



<a name="194832800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194832800" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194832800">(Apr 21 2020 at 17:07)</a>:</h4>
<p>I guess that's from the last 2 weeks, but still :)</p>



<a name="194832857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194832857" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194832857">(Apr 21 2020 at 17:07)</a>:</h4>
<h1>In progress issues</h1>



<a name="194832883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194832883" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194832883">(Apr 21 2020 at 17:07)</a>:</h4>
<h2>Lint for using await while holding a MutexGuard</h2>
<p><a href="https://github.com/rust-lang/rust-clippy/issues/4226" title="https://github.com/rust-lang/rust-clippy/issues/4226">https://github.com/rust-lang/rust-clippy/issues/4226</a></p>



<a name="194832994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194832994" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194832994">(Apr 21 2020 at 17:08)</a>:</h4>
<p>PR is up, waiting on review</p>



<a name="194833015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833015" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833015">(Apr 21 2020 at 17:08)</a>:</h4>
<h1>Blocked issues</h1>



<a name="194833025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833025" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833025">(Apr 21 2020 at 17:08)</a>:</h4>
<p>assuming no updates here</p>



<a name="194833153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833153" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833153">(Apr 21 2020 at 17:10)</a>:</h4>
<p>no</p>



<a name="194833164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833164" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833164">(Apr 21 2020 at 17:10)</a>:</h4>
<p>not on my part anyway</p>



<a name="194833181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833181" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833181">(Apr 21 2020 at 17:10)</a>:</h4>
<p>yeah I can't find anything new</p>



<a name="194833195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833195" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833195">(Apr 21 2020 at 17:10)</a>:</h4>
<p>we don't have many issues marked On Deck</p>



<a name="194833211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833211" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833211">(Apr 21 2020 at 17:10)</a>:</h4>
<p>let's look at new issues</p>



<a name="194833249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833249" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833249">(Apr 21 2020 at 17:10)</a>:</h4>
<h1><a href="https://github.com/search?q=org%3Arust-lang+is%3Aissue+label%3AA-async-await+is%3Aopen+-label%3AAsyncAwait-Triaged&amp;type=Issues" title="https://github.com/search?q=org%3Arust-lang+is%3Aissue+label%3AA-async-await+is%3Aopen+-label%3AAsyncAwait-Triaged&amp;type=Issues">Uncategorized issues</a></h1>



<a name="194833278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833278" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833278">(Apr 21 2020 at 17:11)</a>:</h4>
<h2>Async execution can get lost during refactoring <a href="https://github.com/rust-lang/rust/issues/71368" title="https://github.com/rust-lang/rust/issues/71368">#71368</a></h2>



<a name="194833319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833319" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833319">(Apr 21 2020 at 17:11)</a>:</h4>
<p>I'm surprised they dno't get a warning</p>



<a name="194833328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833328" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833328">(Apr 21 2020 at 17:11)</a>:</h4>
<p>this boils down to "<code>Option&lt;T&gt;</code> should be <code>must_use</code> if <code>T</code> is", I think</p>



<a name="194833340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833340" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833340">(Apr 21 2020 at 17:11)</a>:</h4>
<p>interesting</p>



<a name="194833345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833345" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833345">(Apr 21 2020 at 17:11)</a>:</h4>
<p>yes, makes sense</p>



<a name="194833397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833397" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833397">(Apr 21 2020 at 17:12)</a>:</h4>
<p>in the lang team we had discussed approving these kinds of extensions on a "ad hoc" basis for now</p>



<a name="194833425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833425" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833425">(Apr 21 2020 at 17:12)</a>:</h4>
<p>I will nominate for consideration, but I think it's a pretty clear yes to me</p>



<a name="194833450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833450" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833450">(Apr 21 2020 at 17:12)</a>:</h4>
<p>okay, great</p>



<a name="194833491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833491" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833491">(Apr 21 2020 at 17:13)</a>:</h4>
<p>for prioritizing on our side.. not sure</p>



<a name="194833539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833539" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833539">(Apr 21 2020 at 17:13)</a>:</h4>
<p>probably P-medium but not necessarily On Deck</p>



<a name="194833573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833573" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833573">(Apr 21 2020 at 17:13)</a>:</h4>
<p>(should we still mark P-* issues or is that up to the new WG now?)</p>



<a name="194833676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833676" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833676">(Apr 21 2020 at 17:14)</a>:</h4>
<p>hmm</p>



<a name="194833685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833685" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833685">(Apr 21 2020 at 17:14)</a>:</h4>
<p>I'd actually bump the priority here some</p>



<a name="194833741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833741" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833741">(Apr 21 2020 at 17:14)</a>:</h4>
<p>In particular, forgetting an await is -- imo -- a pretty common hazard, and particularly it is a problem for folks coming from JS or TS</p>



<a name="194833768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833768" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833768">(Apr 21 2020 at 17:15)</a>:</h4>
<p>because in those contexts, when you invoke an async fn, it starts executing whether or not you await it</p>



<a name="194833793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833793" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833793">(Apr 21 2020 at 17:15)</a>:</h4>
<p>and part of my reasoning for why this would be learnable was "you'll get a warning in rust"</p>



<a name="194833816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833816" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833816">(Apr 21 2020 at 17:15)</a>:</h4>
<p>yeah ok, agreed</p>



<a name="194833824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833824" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833824">(Apr 21 2020 at 17:15)</a>:</h4>
<p>so I would consider it "on deck"</p>



<a name="194833837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833837" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833837">(Apr 21 2020 at 17:15)</a>:</h4>
<p>I don't honestly know what the P- labels even mean :P</p>



<a name="194833846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833846" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833846">(Apr 21 2020 at 17:15)</a>:</h4>
<p>I guess P-medium is appropriate</p>



<a name="194833878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833878" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833878">(Apr 21 2020 at 17:15)</a>:</h4>
<p><span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="194833929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833929" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833929">(Apr 21 2020 at 17:16)</a>:</h4>
<p>Sigh, I wish we could somehow get clarify there</p>



<a name="194833934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833934" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833934">(Apr 21 2020 at 17:16)</a>:</h4>
<p>okay, done</p>



<a name="194833955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194833955" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194833955">(Apr 21 2020 at 17:16)</a>:</h4>
<p>but that's a debate for another time</p>



<a name="194834045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834045" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834045">(Apr 21 2020 at 17:16)</a>:</h4>
<p>I'll add a comment</p>



<a name="194834063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834063" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834063">(Apr 21 2020 at 17:17)</a>:</h4>
<p>about prioritization</p>



<a name="194834072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834072" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834072">(Apr 21 2020 at 17:17)</a>:</h4>
<p>in the meantime</p>



<a name="194834082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834082" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834082">(Apr 21 2020 at 17:17)</a>:</h4>
<h2>perf slowdown from <a href="https://github.com/rust-lang/rust/issues/70831" title="https://github.com/rust-lang/rust/issues/70831">#70831</a> (remove a stack frame from .await calls) <a href="https://github.com/rust-lang/rust/issues/71244" title="https://github.com/rust-lang/rust/issues/71244">#71244</a></h2>



<a name="194834204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834204" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834204">(Apr 21 2020 at 17:18)</a>:</h4>
<p>oh yeah</p>



<a name="194834263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834263" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834263">(Apr 21 2020 at 17:18)</a>:</h4>
<p>uh</p>



<a name="194834295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834295" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834295">(Apr 21 2020 at 17:18)</a>:</h4>
<p>I don't know if there's much action here</p>



<a name="194834336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834336" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834336">(Apr 21 2020 at 17:18)</a>:</h4>
<p>I guess micro-optimizing the expansion for compilation time might make sense</p>



<a name="194834346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834346" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834346">(Apr 21 2020 at 17:19)</a>:</h4>
<p>not sure how easy it'd be to change</p>



<a name="194834353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834353" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834353">(Apr 21 2020 at 17:19)</a>:</h4>
<p>I didn't really look clsoely</p>



<a name="194834383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834383" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834383">(Apr 21 2020 at 17:19)</a>:</h4>
<p>okay, so we don't consider smallish regressions auto P-high or anything</p>



<a name="194834403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834403" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834403">(Apr 21 2020 at 17:19)</a>:</h4>
<p>I'm fine with that</p>



<a name="194834410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834410" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834410">(Apr 21 2020 at 17:19)</a>:</h4>
<p>well that's kind of what we're discussing I guess</p>



<a name="194834429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834429" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834429">(Apr 21 2020 at 17:19)</a>:</h4>
<p>we don't have a clear t-compiler-wide policy</p>



<a name="194834547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834547" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834547">(Apr 21 2020 at 17:20)</a>:</h4>
<p>(brb, afk)</p>



<a name="194834573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834573" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834573">(Apr 21 2020 at 17:21)</a>:</h4>
<p>I think though that if it's a stress test</p>



<a name="194834582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834582" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834582">(Apr 21 2020 at 17:21)</a>:</h4>
<p>then 5% is ok</p>



<a name="194834588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834588" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834588">(Apr 21 2020 at 17:21)</a>:</h4>
<p>if it's like "all async programs are 5% slower"</p>



<a name="194834591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834591" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834591">(Apr 21 2020 at 17:21)</a>:</h4>
<p>that's something else</p>



<a name="194834737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834737" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834737">(Apr 21 2020 at 17:22)</a>:</h4>
<p>/me pulls up the benchmark</p>



<a name="194834804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834804" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834804">(Apr 21 2020 at 17:22)</a>:</h4>
<p><a href="https://github.com/rust-lang/rustc-perf/blob/master/collector/benchmarks/await-call-tree/src/lib.rs" title="https://github.com/rust-lang/rustc-perf/blob/master/collector/benchmarks/await-call-tree/src/lib.rs">here</a></p>



<a name="194834872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834872" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834872">(Apr 21 2020 at 17:23)</a>:</h4>
<p>hmm.. it's somewhat deep, but I'm sure we have some call trees that come close to this in Fuchsia</p>



<a name="194834948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194834948" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194834948">(Apr 21 2020 at 17:24)</a>:</h4>
<p>that said, if it's only a few instances I'm not sure it's worth prioritizing</p>



<a name="194835050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835050" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835050">(Apr 21 2020 at 17:24)</a>:</h4>
<p>I'm marking as <code>I-prioritize</code> and moving on :)</p>



<a name="194835278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835278" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835278">(Apr 21 2020 at 17:26)</a>:</h4>
<h2>Improve await error messaging for trait obligations <a href="https://github.com/rust-lang/rust/issues/71137" title="https://github.com/rust-lang/rust/issues/71137">#71137</a></h2>



<a name="194835318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835318" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835318">(Apr 21 2020 at 17:26)</a>:</h4>
<p>Looks like <span class="user-mention" data-user-id="116773">@csmoe</span> is on this, and I owe them a review!</p>



<a name="194835629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835629" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835629">(Apr 21 2020 at 17:29)</a>:</h4>
<p>I'll take a look at that PR after the meeting.</p>



<a name="194835636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835636">(Apr 21 2020 at 17:29)</a>:</h4>
<h2>[codegen] unnecessary panicking branch in <code>foo().await</code> (vs equivalent <code>FutureImpl.await</code>) <a href="https://github.com/rust-lang/rust/issues/71093" title="https://github.com/rust-lang/rust/issues/71093">#71093</a></h2>



<a name="194835688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835688" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835688">(Apr 21 2020 at 17:29)</a>:</h4>
<p>(back)</p>



<a name="194835772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835772" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835772">(Apr 21 2020 at 17:30)</a>:</h4>
<p>I'm hoping <span class="user-mention" data-user-id="211727">@Jonas Schievink</span> will look into that :)</p>



<a name="194835784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835784" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835784">(Apr 21 2020 at 17:30)</a>:</h4>
<p>er I see they left a comment!</p>



<a name="194835946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835946" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835946">(Apr 21 2020 at 17:31)</a>:</h4>
<p>hmm, do we have a meta issue around "optimize nested state machines better"?</p>



<a name="194835953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835953" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835953">(Apr 21 2020 at 17:31)</a>:</h4>
<p>I'm not really aware of one</p>



<a name="194835970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194835970" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194835970">(Apr 21 2020 at 17:31)</a>:</h4>
<p>I'd be happy to work on that, but I don't really see any obvious way to improve that, besides improving the cost of pulling in the panic machinery in general</p>



<a name="194836034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836034" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836034">(Apr 21 2020 at 17:32)</a>:</h4>
<p>there was some work on that recently, wasn't there?</p>



<a name="194836040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836040" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836040">(Apr 21 2020 at 17:32)</a>:</h4>
<p>I have some memories of that</p>



<a name="194836047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836047" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836047">(Apr 21 2020 at 17:32)</a>:</h4>
<p>I think e.g. tweaking inlining hints might be helpful</p>



<a name="194836079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836079" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836079">(Apr 21 2020 at 17:32)</a>:</h4>
<p>I made a generator size tracking issue, but that is mostly for their RAM usage</p>



<a name="194836117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836117" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836117">(Apr 21 2020 at 17:32)</a>:</h4>
<p>creating a meta-issue seems useful, for sure</p>



<a name="194836189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836189" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836189">(Apr 21 2020 at 17:33)</a>:</h4>
<p>we've been focused on diagnostics but perf improvements seem important too</p>



<a name="194836211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836211" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836211">(Apr 21 2020 at 17:33)</a>:</h4>
<p>Okay. I'll create one later, unless <span class="user-mention" data-user-id="211727">@Jonas Schievink</span> wants to</p>



<a name="194836242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836242" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836242">(Apr 21 2020 at 17:33)</a>:</h4>
<p>for now, marking "triaged"..</p>



<a name="194836462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836462" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836462">(Apr 21 2020 at 17:35)</a>:</h4>
<p>oh and we're past time</p>



<a name="194836494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836494" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836494">(Apr 21 2020 at 17:35)</a>:</h4>
<p>there's one last uncategorized issue I'll continue doing here</p>



<a name="194836498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836498" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836498">(Apr 21 2020 at 17:35)</a>:</h4>
<h2>Hard to read error message with 2D line drawing and multi-line expressions <a href="https://github.com/rust-lang/rust/issues/70935" title="https://github.com/rust-lang/rust/issues/70935">#70935</a></h2>



<a name="194836563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836563" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836563">(Apr 21 2020 at 17:35)</a>:</h4>
<p>heh</p>



<a name="194836568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836568" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836568">(Apr 21 2020 at 17:36)</a>:</h4>
<p>that is pretty funny</p>



<a name="194836714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836714" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836714">(Apr 21 2020 at 17:36)</a>:</h4>
<p>yeah, it's unfortunate</p>



<a name="194836718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836718" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836718">(Apr 21 2020 at 17:36)</a>:</h4>
<p>I guess it arises from using the "text" of the async block</p>



<a name="194836730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836730" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836730">(Apr 21 2020 at 17:37)</a>:</h4>
<p>...somewhere...</p>



<a name="194836738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836738" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836738">(Apr 21 2020 at 17:37)</a>:</h4>
<p>due to your recent PR?</p>



<a name="194836774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836774" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836774">(Apr 21 2020 at 17:37)</a>:</h4>
<p>it's definitely in that code, not sure if it was preexisting or not</p>



<a name="194836823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836823" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836823">(Apr 21 2020 at 17:37)</a>:</h4>
<p>I guess we can look for newlines specifically. feels a bit hacky though</p>



<a name="194836893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836893" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836893">(Apr 21 2020 at 17:38)</a>:</h4>
<p>marking On Deck</p>



<a name="194836913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836913" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836913">(Apr 21 2020 at 17:38)</a>:</h4>
<p>I'm not really sure what's the best place to address this,</p>



<a name="194836935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836935" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836935">(Apr 21 2020 at 17:38)</a>:</h4>
<p>but I think that it's reasonable that if we're taking "raw text" from the program to use as the name of something,</p>



<a name="194836939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836939" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836939">(Apr 21 2020 at 17:38)</a>:</h4>
<p>which seems to be the case here,</p>



<a name="194836949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836949" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836949">(Apr 21 2020 at 17:38)</a>:</h4>
<p>well, I guess I'd say that's already a kind of hack :P</p>



<a name="194836976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836976" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836976">(Apr 21 2020 at 17:39)</a>:</h4>
<p>but having some pre-processing to simplify it seems reasonable</p>



<a name="194836989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836989" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836989">(Apr 21 2020 at 17:39)</a>:</h4>
<p>but yeah it's hard</p>



<a name="194836996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194836996" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194836996">(Apr 21 2020 at 17:39)</a>:</h4>
<p>and sometimes not very obvious what name to give <em>apart</em> from raw text</p>



<a name="194837006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837006" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837006">(Apr 21 2020 at 17:39)</a>:</h4>
<p>..right</p>



<a name="194837042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837042" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837042">(Apr 21 2020 at 17:39)</a>:</h4>
<p>yeah, this bug is on stable :/</p>



<a name="194837143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837143" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837143">(Apr 21 2020 at 17:40)</a>:</h4>
<p>in cases where it doesn't have a clear name, we can just not name it in the label</p>



<a name="194837378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837378" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837378">(Apr 21 2020 at 17:42)</a>:</h4>
<p>yeah</p>



<a name="194837395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837395" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837395">(Apr 21 2020 at 17:42)</a>:</h4>
<p>I suspect "async block" or something would do better</p>



<a name="194837449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837449" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837449">(Apr 21 2020 at 17:43)</a>:</h4>
<p>that's the last issue</p>



<a name="194837464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837464" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837464">(Apr 21 2020 at 17:43)</a>:</h4>
<p>anyone looking for something to work on?</p>



<a name="194837510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837510" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837510">(Apr 21 2020 at 17:43)</a>:</h4>
<p>I was talking to <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> who was looking for things to do</p>



<a name="194837527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837527" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837527">(Apr 21 2020 at 17:43)</a>:</h4>
<p>I wonder if there are any decent issues to pick up here?</p>



<a name="194837611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837611" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837611">(Apr 21 2020 at 17:44)</a>:</h4>
<p>they're also fairly familiar with MIR, so if we had some MIR-related things that might be an option</p>



<a name="194837885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837885" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837885">(Apr 21 2020 at 17:46)</a>:</h4>
<p>hmm, not anything marked as OnDeck</p>



<a name="194837917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194837917" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194837917">(Apr 21 2020 at 17:46)</a>:</h4>
<p>nothing marked as OnDeck involves MIR, I mean</p>



<a name="194838008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838008" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838008">(Apr 21 2020 at 17:47)</a>:</h4>
<p>there's a change I started eons ago that I never got to finishing</p>



<a name="194838163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838163" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838163">(Apr 21 2020 at 17:48)</a>:</h4>
<p>maybe I'll look it over with them later</p>



<a name="194838170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838170" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838170">(Apr 21 2020 at 17:48)</a>:</h4>
<p>so in general if you want to focus on MIR, <a href="https://github.com/rust-lang/rust/issues/69826" title="https://github.com/rust-lang/rust/issues/69826">#69826</a> is a good bet to start</p>



<a name="194838197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838197" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838197">(Apr 21 2020 at 17:48)</a>:</h4>
<p>ah, nice</p>



<a name="194838229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838229" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838229">(Apr 21 2020 at 17:48)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/62958" title="https://github.com/rust-lang/rust/issues/62958">https://github.com/rust-lang/rust/issues/62958</a> might be a good one to look at</p>



<a name="194838244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838244" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838244">(Apr 21 2020 at 17:48)</a>:</h4>
<blockquote>
<p>Async fn doubles argument size <a href="https://github.com/rust-lang/rust/issues/62958" title="https://github.com/rust-lang/rust/issues/62958">#62958</a></p>
</blockquote>



<a name="194838256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838256" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838256">(Apr 21 2020 at 17:49)</a>:</h4>
<p>yeah, I was going to say the same :)</p>



<a name="194838277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838277">(Apr 21 2020 at 17:49)</a>:</h4>
<p>not sure how easy/hard it is</p>



<a name="194838283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838283" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838283">(Apr 21 2020 at 17:49)</a>:</h4>
<p>looks hard :)</p>



<a name="194838310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838310">(Apr 21 2020 at 17:49)</a>:</h4>
<p>iirc, basically we need to convert upvars to "regular" locals instead of treating them specially</p>



<a name="194838327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838327" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838327">(Apr 21 2020 at 17:49)</a>:</h4>
<p>in the generator layout code</p>



<a name="194838393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838393" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838393">(Apr 21 2020 at 17:50)</a>:</h4>
<p>this has the benefit that our debuginfo for generators looks much more like a "normal enum"</p>



<a name="194838443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838443" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838443">(Apr 21 2020 at 17:50)</a>:</h4>
<p>interesting</p>



<a name="194838717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838717" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838717">(Apr 21 2020 at 17:53)</a>:</h4>
<p>there might be some things that are difficult about this, I don't remember..</p>



<a name="194838786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838786" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838786">(Apr 21 2020 at 17:53)</a>:</h4>
<p>It seems like the easiest of the generator size issues</p>



<a name="194838811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838811" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838811">(Apr 21 2020 at 17:53)</a>:</h4>
<p>just from the description, it looks like one of the more common?</p>



<a name="194838848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194838848" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194838848">(Apr 21 2020 at 17:54)</a>:</h4>
<p>but maybe it's more esoteric than the description makes it sound</p>



<a name="194839490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194839490" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194839490">(Apr 21 2020 at 17:58)</a>:</h4>
<p>oh it's definitely common =)</p>



<a name="194872966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202020.04.21/near/194872966" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202020.2E04.2E21.html#194872966">(Apr 21 2020 at 23:11)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> I added some notes to <a href="https://github.com/rust-lang/rust/issues/62958" title="https://github.com/rust-lang/rust/issues/62958">#62958</a> <a href="https://github.com/rust-lang/rust/issues/62958#issuecomment-617458627" title="https://github.com/rust-lang/rust/issues/62958#issuecomment-617458627">here</a> if you want to take a look</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>