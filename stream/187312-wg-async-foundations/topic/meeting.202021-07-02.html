<html>
<head><meta charset="utf-8"><title>meeting 2021-07-02 · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html">meeting 2021-07-02</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="244730531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244730531" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244730531">(Jul 02 2021 at 17:01)</a>:</h4>
<p>Hi, no meeting today?</p>



<a name="244730708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244730708" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244730708">(Jul 02 2021 at 17:02)</a>:</h4>
<p>yes there is, sorry, just getting back from an appt :)</p>



<a name="244730919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244730919" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244730919">(Jul 02 2021 at 17:04)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span></p>



<a name="244730940"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244730940" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244730940">(Jul 02 2021 at 17:04)</a>:</h4>
<p>wave</p>



<a name="244730994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244730994" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244730994">(Jul 02 2021 at 17:04)</a>:</h4>
<p>no issues to triage today, so we can dive right in to updates</p>



<a name="244731010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731010" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731010">(Jul 02 2021 at 17:04)</a>:</h4>
<p>Greetings!</p>



<a name="244731034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731034" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731034">(Jul 02 2021 at 17:05)</a>:</h4>
<p>Well, I have a slight update</p>



<a name="244731099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731099" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731099">(Jul 02 2021 at 17:05)</a>:</h4>
<p>I was hoping we can discuss the <code>is_ready!</code> stabilization <a href="https://github.com/rust-lang/rust/pull/81050">PR</a> briefly?</p>



<a name="244731101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731101" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731101">(Jul 02 2021 at 17:05)</a>:</h4>
<p>I've been working on a revised draft of the "shiny future" document -- let me upload an SVG so people can see what it looks like -- I've also been doing an associated write-up of the design and some other details.</p>



<a name="244731111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731111" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731111">(Jul 02 2021 at 17:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="400241">Zeeshan Ali</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244731099">said</a>:</p>
<blockquote>
<p>I was hoping we can discuss the <code>is_ready!</code> stabilization <a href="https://github.com/rust-lang/rust/pull/81050">PR</a> briefly?</p>
</blockquote>
<p>yes, let's!</p>



<a name="244731205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731205" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731205">(Jul 02 2021 at 17:06)</a>:</h4>
<p>there were as many naming ideas as the number of commenters :)</p>



<a name="244731310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731310">(Jul 02 2021 at 17:07)</a>:</h4>
<p><code>if_ready</code> (the latest update) sounds perfect to me at least. I think <span class="user-mention" data-user-id="116009">@nikomatsakis</span> you also liked it?</p>



<a name="244731338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731338" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731338">(Jul 02 2021 at 17:07)</a>:</h4>
<p>I do</p>



<a name="244731342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731342" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731342">(Jul 02 2021 at 17:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="400241">Zeeshan Ali</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244731205">said</a>:</p>
<blockquote>
<p>there were as many naming ideas as the number of commenters :)</p>
</blockquote>
<p>that's what makes it a good bikeshed ;)</p>



<a name="244731364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731364" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731364">(Jul 02 2021 at 17:08)</a>:</h4>
<p>yeah, I like <code>if_ready!</code> as well</p>



<a name="244731483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731483" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731483">(Jul 02 2021 at 17:08)</a>:</h4>
<p>any objections?</p>



<a name="244731580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731580" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731580">(Jul 02 2021 at 17:09)</a>:</h4>
<p>I think the final decision maker is technically the libs team</p>



<a name="244731608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731608" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731608">(Jul 02 2021 at 17:10)</a>:</h4>
<p>but we can give our recommendation</p>



<a name="244731643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731643">(Jul 02 2021 at 17:10)</a>:</h4>
<p>that sounds right</p>



<a name="244731649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731649" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731649">(Jul 02 2021 at 17:10)</a>:</h4>
<p>yeah, that's what I thought too</p>



<a name="244731691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731691" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731691">(Jul 02 2021 at 17:10)</a>:</h4>
<p>so if there are not objections, I'll comment there saying <code>if_ready!</code> has our blessing?</p>



<a name="244731746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731746" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731746">(Jul 02 2021 at 17:11)</a>:</h4>
<p>I say go ahead :)</p>



<a name="244731752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731752" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731752">(Jul 02 2021 at 17:11)</a>:</h4>
<p><span class="user-mention" data-user-id="261224">@triagebot</span> end-topic</p>



<a name="244731755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731755" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731755">(Jul 02 2021 at 17:11)</a>:</h4>
<p>Does anyone have something to add on the current topic?<br>
React with <span aria-label="working on it" class="emoji emoji-1f6e0" role="img" title="working on it">:working_on_it:</span> if you have something to say.<br>
React with <span aria-label="all good" class="emoji emoji-2705" role="img" title="all good">:all_good:</span> if not.</p>



<a name="244731894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731894" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731894">(Jul 02 2021 at 17:12)</a>:</h4>
<p>I'm looking at the <a href="https://github.com/orgs/rust-lang/projects/2">project board</a></p>



<a name="244731911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731911" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731911">(Jul 02 2021 at 17:12)</a>:</h4>
<p>there were some issues in "On deck" that could be cleaned up</p>



<a name="244731917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731917" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731917">(Jul 02 2021 at 17:12)</a>:</h4>
<p>either as claimed or done</p>



<a name="244731947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731947" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731947">(Jul 02 2021 at 17:13)</a>:</h4>
<p>that makes sense</p>



<a name="244731983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244731983" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244731983">(Jul 02 2021 at 17:13)</a>:</h4>
<p>let's go through and update the claimed issues</p>



<a name="244732012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732012" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732012">(Jul 02 2021 at 17:13)</a>:</h4>
<ul>
<li>Async fn does not compile if lifetime does not appear in bounds (sometimes) <a href="https://github.com/rust-lang/rust/issues/63033">#63033</a></li>
</ul>



<a name="244732021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732021" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732021">(Jul 02 2021 at 17:13)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> you're assigned</p>



<a name="244732074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732074" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732074">(Jul 02 2021 at 17:14)</a>:</h4>
<p>uh oh</p>



<a name="244732099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732099" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732099">(Jul 02 2021 at 17:14)</a>:</h4>
<p>don't worry, I'm next :P</p>



<a name="244732123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732123" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732123">(Jul 02 2021 at 17:14)</a>:</h4>
<p>hmm</p>



<a name="244732165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732165" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732165">(Jul 02 2021 at 17:15)</a>:</h4>
<p>specifically with</p>
<ul>
<li>Internal compiler error with async, const generics, and ?-operator <a href="https://github.com/rust-lang/rust/issues/84841">#84841</a></li>
</ul>



<a name="244732227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732227" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732227">(Jul 02 2021 at 17:15)</a>:</h4>
<p>I mean obviously I didn't write any mentoring instructions</p>



<a name="244732238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732238" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732238">(Jul 02 2021 at 17:15)</a>:</h4>
<p>I guess I should release my claim-- I don't know that I will have time for that</p>



<a name="244732270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732270" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732270">(Jul 02 2021 at 17:15)</a>:</h4>
<p>I feel like I'm pretty underwater right now :)</p>



<a name="244732333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732333" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732333">(Jul 02 2021 at 17:16)</a>:</h4>
<p>sounds good, updating the status is the purpose of this :)</p>



<a name="244732345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732345" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732345">(Jul 02 2021 at 17:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244732165">said</a>:</p>
<blockquote>
<p>specifically with</p>
<ul>
<li>Internal compiler error with async, const generics, and ?-operator <a href="https://github.com/rust-lang/rust/issues/84841">#84841</a></li>
</ul>
</blockquote>
<p>..I did investigate some and posted and <a href="https://github.com/rust-lang/rust/issues/84841#issuecomment-857332465">update</a>, but did not finish</p>



<a name="244732400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732400" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732400">(Jul 02 2021 at 17:16)</a>:</h4>
<p>niko, I was wondering if you have any thoughts on reading that comment</p>



<a name="244732463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732463" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732463">(Jul 02 2021 at 17:17)</a>:</h4>
<p>reading</p>



<a name="244732503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732503" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732503">(Jul 02 2021 at 17:18)</a>:</h4>
<ul>
<li>Note when opaque future from async fn is involved in a type mismatch is unclear <a href="https://github.com/rust-lang/rust/issues/80658">#80658</a><br>
  – <span class="user-mention" data-user-id="225192">@Nell Shamrell-Harrington</span> is working on this and has a PR up (<a href="https://github.com/rust-lang/rust/issues/86705">#86705</a>)</li>
</ul>



<a name="244732544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732544" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732544">(Jul 02 2021 at 17:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244732400">said</a>:</p>
<blockquote>
<p>niko, I was wondering if you have any thoughts on reading that comment</p>
</blockquote>
<p>hmm</p>



<a name="244732584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732584" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732584">(Jul 02 2021 at 17:18)</a>:</h4>
<p>I'm wondering also if this is related to the ICEs that the RFC 2229 project group was seeing</p>



<a name="244732589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732589" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732589">(Jul 02 2021 at 17:18)</a>:</h4>
<p>I've submitted a partial fix here <a href="https://github.com/rust-lang/rust/pull/86705">https://github.com/rust-lang/rust/pull/86705</a></p>



<a name="244732591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732591" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732591">(Jul 02 2021 at 17:18)</a>:</h4>
<p>It looks vaguely familiar</p>



<a name="244732607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732607" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732607">(Jul 02 2021 at 17:18)</a>:</h4>
<p>oh, lol, just saw the rest of your message</p>



<a name="244732608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732608" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732608">(Jul 02 2021 at 17:18)</a>:</h4>
<p>and those ICEs were going down a similar path</p>



<a name="244732717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732717" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732717">(Jul 02 2021 at 17:19)</a>:</h4>
<p>okay, if we can find the issue let's mention it..</p>



<a name="244732771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732771" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732771">(Jul 02 2021 at 17:20)</a>:</h4>
<p>I'm debating about poking into it</p>



<a name="244732796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732796" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732796">(Jul 02 2021 at 17:20)</a>:</h4>
<p>anyway, I'll tag it</p>



<a name="244732825"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732825" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732825">(Jul 02 2021 at 17:20)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/86743">https://github.com/rust-lang/rust/issues/86743</a></p>



<a name="244732827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244732827" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244732827">(Jul 02 2021 at 17:20)</a>:</h4>
<p>there's one such issue</p>



<a name="244733014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733014" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733014">(Jul 02 2021 at 17:22)</a>:</h4>
<p>I'm out next week and probably won't have time to dig in today, but think I can follow up the following week</p>



<a name="244733052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733052" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733052">(Jul 02 2021 at 17:22)</a>:</h4>
<ul>
<li>Indexing via index method and [idx] sugar works differently in async blocks/functions <a href="https://github.com/rust-lang/rust/issues/72956">#72956</a></li>
</ul>



<a name="244733089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733089" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733089">(Jul 02 2021 at 17:22)</a>:</h4>
<p>this has been inactive since February</p>



<a name="244733143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733143" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733143">(Jul 02 2021 at 17:23)</a>:</h4>
<p>we can probably unassign</p>



<a name="244733154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733154" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733154">(Jul 02 2021 at 17:23)</a>:</h4>
<p>it seems like the issue has to do with a temporary being created?</p>



<a name="244733159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733159" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733159">(Jul 02 2021 at 17:23)</a>:</h4>
<p>yeah, I think I'll release the assignment and ask them to to re-claim if they want to keep investigating</p>



<a name="244733204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733204" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733204">(Jul 02 2021 at 17:23)</a>:</h4>
<p>looking at it again, if I had to guess, I would think it has to do with that code that decides an approx. of what is live across an await</p>



<a name="244733222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733222" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733222">(Jul 02 2021 at 17:23)</a>:</h4>
<p>^ yeah I think it did</p>



<a name="244733342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733342" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733342">(Jul 02 2021 at 17:24)</a>:</h4>
<p>(which I still think would be a great ergonomics win for us to work more on...sigh)</p>



<a name="244733439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733439" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733439">(Jul 02 2021 at 17:25)</a>:</h4>
<p>that would be an interesting/useful issue to work on indeed</p>



<a name="244733459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733459" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733459">(Jul 02 2021 at 17:26)</a>:</h4>
<ul>
<li>Async function leads to a "more general type" error <a href="https://github.com/rust-lang/rust/issues/71723">#71723</a></li>
</ul>



<a name="244733502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733502" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733502">(Jul 02 2021 at 17:26)</a>:</h4>
<p>also inactive</p>



<a name="244733565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733565" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733565">(Jul 02 2021 at 17:26)</a>:</h4>
<ul>
<li>More friendly error msg when await on NONE ASYNC fn/block or return a obj that implements deprecated Future <a href="https://github.com/rust-lang/rust/issues/66731">#66731</a></li>
</ul>



<a name="244733603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733603" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733603">(Jul 02 2021 at 17:26)</a>:</h4>
<p>This one is from March</p>



<a name="244733648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733648" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733648">(Jul 02 2021 at 17:27)</a>:</h4>
<p>It looks like an MCP was written</p>



<a name="244733656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733656">(Jul 02 2021 at 17:27)</a>:</h4>
<p>and approved</p>



<a name="244733706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733706">(Jul 02 2021 at 17:27)</a>:</h4>
<p>ok, I'll do the same dance as before</p>



<a name="244733777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733777" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733777">(Jul 02 2021 at 17:28)</a>:</h4>
<p>well ok</p>



<a name="244733781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733781" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733781">(Jul 02 2021 at 17:28)</a>:</h4>
<p>so I remember this one</p>



<a name="244733789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733789" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733789">(Jul 02 2021 at 17:28)</a>:</h4>
<p>there was a problem</p>



<a name="244733830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733830" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733830">(Jul 02 2021 at 17:28)</a>:</h4>
<p>it doesn't look like <span class="user-mention" data-user-id="383558">@Henry Boisdequin</span> left notes?</p>



<a name="244733849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733849" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733849">(Jul 02 2021 at 17:28)</a>:</h4>
<p>in any case, the problem we encontered was that my suggested fix was adding a <code>Span</code> somewhere</p>



<a name="244733856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733856" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733856">(Jul 02 2021 at 17:28)</a>:</h4>
<p>or something like that</p>



<a name="244733862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733862" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733862">(Jul 02 2021 at 17:28)</a>:</h4>
<blockquote>
<p>Embed the hir_id of the _awaited expression_ into DesugaringKind</p>
</blockquote>
<p>I <em>really</em> thought I had done this before</p>



<a name="244733863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733863" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733863">(Jul 02 2021 at 17:28)</a>:</h4>
<p>maybe a <code>DefId</code>?</p>



<a name="244733885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733885" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733885">(Jul 02 2021 at 17:29)</a>:</h4>
<p>ah, right, a <code>HirId</code></p>



<a name="244733901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733901" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733901">(Jul 02 2021 at 17:29)</a>:</h4>
<p>the problem was that this resulted in a crate cycle</p>



<a name="244733929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733929" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733929">(Jul 02 2021 at 17:29)</a>:</h4>
<p>I think that <code>DesugaringKind</code> is part of the span</p>



<a name="244733943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733943" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733943">(Jul 02 2021 at 17:29)</a>:</h4>
<p>and so we were doing a hack to encode a hirid as like <code>(u32, u32)</code></p>



<a name="244733949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244733949" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244733949">(Jul 02 2021 at 17:29)</a>:</h4>
<p>it didn't feel great :)</p>



<a name="244734124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734124" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734124">(Jul 02 2021 at 17:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244733862">said</a>:</p>
<blockquote>
<blockquote>
<p>Embed the hir_id of the _awaited expression_ into DesugaringKind</p>
</blockquote>
<p>I <em>really</em> thought I had done this before</p>
</blockquote>
<p>guess not, I can't find it anywhere</p>



<a name="244734169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734169" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734169">(Jul 02 2021 at 17:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244733949">said</a>:</p>
<blockquote>
<p>it didn't feel great :)</p>
</blockquote>
<p>but it still seems "ok" to me</p>



<a name="244734209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734209" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734209">(Jul 02 2021 at 17:31)</a>:</h4>
<p>I guess conceptually we could mvoe <code>HirId</code> definition to another crate</p>



<a name="244734219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734219" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734219">(Jul 02 2021 at 17:32)</a>:</h4>
<p>I forget if we tried that</p>



<a name="244734279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734279" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734279">(Jul 02 2021 at 17:32)</a>:</h4>
<p>ohh you mean a crate cycle in rustc itself</p>



<a name="244734302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734302" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734302">(Jul 02 2021 at 17:32)</a>:</h4>
<p>that makes sense :)</p>



<a name="244734355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734355" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734355">(Jul 02 2021 at 17:33)</a>:</h4>
<p>okay, well it seems like we should still release the assignment for now, ideally with a message about the state of things</p>



<a name="244734358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734358" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734358">(Jul 02 2021 at 17:33)</a>:</h4>
<p>yes</p>



<a name="244734370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734370" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734370">(Jul 02 2021 at 17:33)</a>:</h4>
<p>I can leave a sumamry</p>



<a name="244734512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734512" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734512">(Jul 02 2021 at 17:34)</a>:</h4>
<p>okay, well, we ended up with the same number of claimed issues as we started with :)</p>



<a name="244734526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734526" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734526">(Jul 02 2021 at 17:34)</a>:</h4>
<p>but not all the same issues</p>



<a name="244734596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734596" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734596">(Jul 02 2021 at 17:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> did you want to share the diagram you're working on?</p>



<a name="244734745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734745" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734745">(Jul 02 2021 at 17:36)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/66731#issuecomment-873155946">https://github.com/rust-lang/rust/issues/66731#issuecomment-873155946</a></p>



<a name="244734747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734747" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734747">(Jul 02 2021 at 17:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244734596">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> did you want to share the diagram you're working on?</p>
</blockquote>
<p>yes</p>



<a name="244734753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244734753" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244734753">(Jul 02 2021 at 17:36)</a>:</h4>
<p>one sec</p>



<a name="244735027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735027">(Jul 02 2021 at 17:39)</a>:</h4>
<p>I'm trying to export to SVG :)</p>



<a name="244735067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735067" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735067">(Jul 02 2021 at 17:39)</a>:</h4>
<p>ok</p>



<a name="244735070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735070" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735070">(Jul 02 2021 at 17:39)</a>:</h4>
<p><a href="http://smallcultfollowing.com/async-harmonic-synthesis.svg">http://smallcultfollowing.com/async-harmonic-synthesis.svg</a></p>



<a name="244735088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735088" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735088">(Jul 02 2021 at 17:39)</a>:</h4>
<p>note that many of these things are links</p>



<a name="244735123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735123" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735123">(Jul 02 2021 at 17:39)</a>:</h4>
<p>so I've been trying together the "full vision" and to identify those areas of controversy or where more design is needed</p>



<a name="244735211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735211" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735211">(Jul 02 2021 at 17:40)</a>:</h4>
<p>the idea is to link out the "experiences" I think we are shooting for</p>



<a name="244735219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735219" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735219">(Jul 02 2021 at 17:40)</a>:</h4>
<p>along with the status quo stories that show where we fall short</p>



<a name="244735226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735226" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735226">(Jul 02 2021 at 17:40)</a>:</h4>
<p>and then the designs we claim will achieve it</p>



<a name="244735234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735234" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735234">(Jul 02 2021 at 17:40)</a>:</h4>
<p>the designs are linked into a hackmd for now that has more details</p>



<a name="244735282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735282" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735282">(Jul 02 2021 at 17:41)</a>:</h4>
<p>Ohh, that overview is cool!</p>



<a name="244735287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735287" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735287">(Jul 02 2021 at 17:41)</a>:</h4>
<p>they are grouped by the "experience" I think they create</p>



<a name="244735288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735288" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735288">(Jul 02 2021 at 17:41)</a>:</h4>
<p>looks cool!</p>



<a name="244735310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735310">(Jul 02 2021 at 17:41)</a>:</h4>
<p>and those groups have dependencies because, for it to be completely done, I think we have to work out the designs/details</p>



<a name="244735347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735347" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735347">(Jul 02 2021 at 17:41)</a>:</h4>
<p>but note that many of the stickies are "green" (meaning I think we can work on them) even now-- that's because there's work we can do even if we don't know everything yet</p>



<a name="244735417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735417" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735417">(Jul 02 2021 at 17:42)</a>:</h4>
<p>so e.g. I think we can work on generators</p>



<a name="244735431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735431" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735431">(Jul 02 2021 at 17:42)</a>:</h4>
<p>even though I would like to propose a different async iterator trait than today's stream</p>



<a name="244735446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735446" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735446">(Jul 02 2021 at 17:42)</a>:</h4>
<p>(because I want it to be <code>async fn next(&amp;mut self)</code>)</p>



<a name="244735482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735482" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735482">(Jul 02 2021 at 17:42)</a>:</h4>
<p>the source material for this is still basically <a href="https://hackmd.io/LP_UgLXOQOqHX2MocNk15g">Async Shiny Future v3</a></p>



<a name="244735514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735514" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735514">(Jul 02 2021 at 17:43)</a>:</h4>
<p>I hope to finish this up over the weekend and then start shopping it around to people for feedback and to argue about specific points</p>



<a name="244735537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735537" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735537">(Jul 02 2021 at 17:43)</a>:</h4>
<p>I think there's probalby some amount of prototyping too-- like I'm not entirely sure if the "std library" approach I want to do can work (though I hope it can)</p>



<a name="244735555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735555" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735555">(Jul 02 2021 at 17:43)</a>:</h4>
<p>I don't think I got around to writing that up :)</p>



<a name="244735593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735593" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735593">(Jul 02 2021 at 17:43)</a>:</h4>
<p>but I think we could try prototyping it and <em>see</em> if we can make it work</p>



<a name="244735696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735696" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735696">(Jul 02 2021 at 17:44)</a>:</h4>
<p>anyway, thoughts on the presentation? content?</p>



<a name="244735706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735706">(Jul 02 2021 at 17:44)</a>:</h4>
<p>(it's a lot to digest...)</p>



<a name="244735789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735789" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735789">(Jul 02 2021 at 17:45)</a>:</h4>
<p>(I'm making this in "lucidspark", right now, though eventually I'd like to revamp the skill-tree crate to generate something more like this...)</p>



<a name="244735866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244735866" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244735866">(Jul 02 2021 at 17:45)</a>:</h4>
<p>Without going into specific points, the wider brush strokes seem to cover a lot of ground — which I think is what we need. Excited for this!</p>



<a name="244736045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736045" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736045">(Jul 02 2021 at 17:47)</a>:</h4>
<p>so what I'd like to do, <span class="user-mention" data-user-id="211722">@Yoshua Wuyts</span>, is to finish this up, and then I figured I'd schedule some 1:1 calls (you were on my list...) to dig into it</p>



<a name="244736108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736108">(Jul 02 2021 at 17:47)</a>:</h4>
<p>the final step that I haven't figured out quite how to add is "roadmap" -- as in, what things should we do <em>first</em> -- to some extent I think that's not up to us (the WG) to decide</p>



<a name="244736200"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736200" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736200">(Jul 02 2021 at 17:48)</a>:</h4>
<p>by which I mean: if we can get agreement on the overall future we want to try (at least tentative agreement), then it's a question of who is motivated to do what. e.g. I have some influence on what people at amazon do :)</p>



<a name="244736247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736247" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736247">(Jul 02 2021 at 17:48)</a>:</h4>
<p>but I don't know how much time other people will have to pursue things</p>



<a name="244736277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736277">(Jul 02 2021 at 17:49)</a>:</h4>
<p>so the hope is that having this plan can let us scale up to more folks without coordination overhead killing us</p>



<a name="244736336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736336" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736336">(Jul 02 2021 at 17:49)</a>:</h4>
<p>(and/or RFC threads)</p>



<a name="244736444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736444" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736444">(Jul 02 2021 at 17:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="211722">Yoshua Wuyts</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244735866">said</a>:</p>
<blockquote>
<p>Without going into specific points, the wider brush strokes seem to cover a lot of ground — which I think is what we need. Excited for this!</p>
</blockquote>
<p>it is, I think, pretty ambitous, but I did draw the line at a few places</p>



<a name="244736472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736472" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736472">(Jul 02 2021 at 17:50)</a>:</h4>
<p>e.g., I'm tempted to try for something where (most) functions can be compiled as sync or async</p>



<a name="244736479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736479" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736479">(Jul 02 2021 at 17:50)</a>:</h4>
<p>but I'm afraid :)</p>



<a name="244736498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736498" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736498">(Jul 02 2021 at 17:50)</a>:</h4>
<p>(you'll find some notes on that at the bottom)</p>



<a name="244736530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736530" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736530">(Jul 02 2021 at 17:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244736472">said</a>:</p>
<blockquote>
<p>e.g., I'm tempted to try for something where any function can be compiled as sync or async</p>
</blockquote>
<p>I was looking at that. monomorphization time errors are one way of handling the "edge cases", or maybe all sync-only functions just monomorphize as sync in an async context and we lint on it</p>



<a name="244736548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736548" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736548">(Jul 02 2021 at 17:51)</a>:</h4>
<p>yeah, there are some options.</p>



<a name="244736571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736571" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736571">(Jul 02 2021 at 17:51)</a>:</h4>
<p>I do think it's worth a bit more discussion, just because the potential gain is so huge</p>



<a name="244736601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736601" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736601">(Jul 02 2021 at 17:52)</a>:</h4>
<p>one thing that had not occurred to me until toying with the doc -- this might permit us to make <code>?</code> "work" in iterator chains</p>



<a name="244736664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736664" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736664">(Jul 02 2021 at 17:52)</a>:</h4>
<p>by work I mean return from the surrounding function (or catch block)</p>



<a name="244736683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736683" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736683">(Jul 02 2021 at 17:52)</a>:</h4>
<p>the idea would be that you compile the iterator functions in "async mode"</p>



<a name="244736720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736720" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736720">(Jul 02 2021 at 17:52)</a>:</h4>
<p>and then they can stop</p>



<a name="244736733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736733" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736733">(Jul 02 2021 at 17:52)</a>:</h4>
<p>idk if it would really work, but.. maybe...</p>



<a name="244736794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736794" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736794">(Jul 02 2021 at 17:53)</a>:</h4>
<p>obviously that would require an edition, but what a game changer it could be</p>



<a name="244736916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736916" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736916">(Jul 02 2021 at 17:54)</a>:</h4>
<blockquote>
<p>You never never author or invoke a “poll”-style function directly</p>
</blockquote>
<p>I'm curious about how this can work. How would people impl <code>futures::Stream</code> and <code>futures::Sink</code> etc?</p>



<a name="244736925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736925" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736925">(Jul 02 2021 at 17:54)</a>:</h4>
<p>You and your daughter would need to do a new song about editions :)</p>



<a name="244736964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736964" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736964">(Jul 02 2021 at 17:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244736683">said</a>:</p>
<blockquote>
<p>the idea would be that you compile the iterator functions in "async mode"</p>
</blockquote>
<p>I feel like you're taking a lot of implicit steps here, but I sorta follow, I think</p>



<a name="244736967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244736967" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244736967">(Jul 02 2021 at 17:54)</a>:</h4>
<p><span class="user-mention" data-user-id="400241">@Zeeshan Ali</span> the doc covers a bit of it, but the tl;dr is that (a) we rework all the traits to use <code>async fn</code></p>



<a name="244737001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737001" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737001">(Jul 02 2021 at 17:54)</a>:</h4>
<p>and (b) we have a variant of async fn that compiles to something like a poll function</p>



<a name="244737004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737004" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737004">(Jul 02 2021 at 17:54)</a>:</h4>
<p>this is what I call "inline" async fn</p>



<a name="244737058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737058" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737058">(Jul 02 2021 at 17:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244736967">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="400241">Zeeshan Ali</span> the doc covers a bit of it, but the tl;dr is that (a) we rework all the traits to use <code>async fn</code></p>
</blockquote>
<p>Ah yes, async in traits is going to be a reality at some point. I completely forgot about that. :)</p>



<a name="244737062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737062" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737062">(Jul 02 2021 at 17:55)</a>:</h4>
<p>so stream becomes</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">trait</span><span class="w"> </span><span class="n">AsyncIter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Item</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">next</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span>::<span class="n">Item</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="244737090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737090" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737090">(Jul 02 2021 at 17:55)</a>:</h4>
<p>the read/write traits are more interesting</p>



<a name="244737126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737126" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737126">(Jul 02 2021 at 17:56)</a>:</h4>
<p>if you kept the obvious design and used my technique, you could read <em>or</em> write but not both</p>



<a name="244737185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737185" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737185">(Jul 02 2021 at 17:56)</a>:</h4>
<p>this is why the doc includes an altered design that <span class="user-mention" data-user-id="224941">@Carl Lerche</span> proposed</p>



<a name="244737221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737221" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737221">(Jul 02 2021 at 17:56)</a>:</h4>
<p>where basically you have a "readiness" async fn and then sync functions to copy data</p>



<a name="244737237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737237" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737237">(Jul 02 2021 at 17:56)</a>:</h4>
<p>obviously for io-uring we'll need some different traits (but we knew that)</p>



<a name="244737251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737251" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737251">(Jul 02 2021 at 17:56)</a>:</h4>
<p>(or any zero-copy scenario)</p>



<a name="244737255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737255" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737255">(Jul 02 2021 at 17:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244737185">said</a>:</p>
<blockquote>
<p>this is why the doc includes an altered design that <span class="user-mention silent" data-user-id="224941">Carl Lerche</span> proposed</p>
</blockquote>
<p>I still gotta read that. It came out last week and I was busy driving to Denmark and getting married etc :-D</p>



<a name="244737272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737272" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737272">(Jul 02 2021 at 17:57)</a>:</h4>
<p>priorities</p>



<a name="244737311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737311" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737311">(Jul 02 2021 at 17:57)</a>:</h4>
<p>that was the most wedding-related emoji I could find :)</p>



<a name="244737323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737323" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737323">(Jul 02 2021 at 17:57)</a>:</h4>
<p>but anyway. Yeah with async traits, all that is easy. Sorry for the distraction</p>



<a name="244737343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737343" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737343">(Jul 02 2021 at 17:57)</a>:</h4>
<p>well, it's not that easy</p>



<a name="244737345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737345" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737345">(Jul 02 2021 at 17:57)</a>:</h4>
<p>it's a good question</p>



<a name="244737415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737415" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737415">(Jul 02 2021 at 17:58)</a>:</h4>
<p>see the <a href="https://hackmd.io/uAI0q9ZiSwyUkmGQQkyXXg?view#%E2%80%9CInline%E2%80%9D-async-fn-in-traits">inline async in traits</a> section for more details</p>



<a name="244737426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737426" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737426">(Jul 02 2021 at 17:58)</a>:</h4>
<p><a href="https://hackmd.io/bKfiVPRpTvyX8JK_Ng2EWA">there's a detailed writeup here</a></p>



<a name="244737468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737468" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737468">(Jul 02 2021 at 17:59)</a>:</h4>
<p>gotta run</p>



<a name="244737481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737481" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737481">(Jul 02 2021 at 17:59)</a>:</h4>
<p>but I'd love comments async! (pun definitely intended)</p>



<a name="244737505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737505" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737505">(Jul 02 2021 at 17:59)</a>:</h4>
<p>Thanks. Yeah I know of those plans/hopes. Just didn't think that's related <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="244737660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244737660" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244737660">(Jul 02 2021 at 18:00)</a>:</h4>
<p>okay, we're at the end of our time. thanks everyone <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="244746214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-07-02/near/244746214" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthias247 <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-07-02.html#244746214">(Jul 02 2021 at 19:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/meeting.202021-07-02/near/244735070">said</a>:</p>
<blockquote>
<p><a href="http://smallcultfollowing.com/async-harmonic-synthesis.svg">http://smallcultfollowing.com/async-harmonic-synthesis.svg</a></p>
</blockquote>
<p>Nice map!</p>
<p>I added some comments on the various docs</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>