<html>
<head><meta charset="utf-8"><title>meeting 2019.11.12 · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html">meeting 2019.11.12</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="180543355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543355">(Nov 12 2019 at 18:04)</a>:</h4>
<p>Hey <span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span> -- meeting?</p>



<a name="180543383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543383">(Nov 12 2019 at 18:04)</a>:</h4>
<p>Oh, btw, not sure if you noticed but uh... async-await is stable :)</p>



<a name="180543405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543405">(Nov 12 2019 at 18:04)</a>:</h4>
<p>I'm around, but won't be able to participate actively.</p>



<a name="180543440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543440">(Nov 12 2019 at 18:05)</a>:</h4>
<h1>Untriaged issues</h1>



<a name="180543475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543475">(Nov 12 2019 at 18:05)</a>:</h4>
<blockquote>
<p>async fn presence affects an unrelated error message <a href="https://github.com/rust-lang/rust/issues/66312" target="_blank" title="https://github.com/rust-lang/rust/issues/66312">#66312</a></p>
</blockquote>



<a name="180543510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> csmoe <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543510">(Nov 12 2019 at 18:05)</a>:</h4>
<blockquote>
<blockquote>
<p>async fn presence affects an unrelated error message <a href="https://github.com/rust-lang/rust/issues/66312" target="_blank" title="https://github.com/rust-lang/rust/issues/66312">#66312</a></p>
</blockquote>
</blockquote>
<p>i'm working on this right now</p>



<a name="180543572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543572">(Nov 12 2019 at 18:06)</a>:</h4>
<p>great! Any clues as to what is going on?</p>



<a name="180543742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543742">(Nov 12 2019 at 18:08)</a>:</h4>
<p>OK, triaged, assigned to csmoe; it seems like this is not an immediate crisis (despite some early warning signs)</p>



<a name="180543766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> csmoe <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543766">(Nov 12 2019 at 18:08)</a>:</h4>
<p>sup(self_ty, probe.xform_self_ty) returns ProbeResult::NoMatch</p>



<a name="180543768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543768">(Nov 12 2019 at 18:08)</a>:</h4>
<blockquote>
<p>Waker::will_wake() gets mostly defeated by executor optimizations <a href="https://github.com/rust-lang/rust/issues/66281" target="_blank" title="https://github.com/rust-lang/rust/issues/66281">#66281</a></p>
</blockquote>



<a name="180543912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543912">(Nov 12 2019 at 18:10)</a>:</h4>
<p>this seems like a design question, not something where we should take immediate action</p>



<a name="180543929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543929">(Nov 12 2019 at 18:10)</a>:</h4>
<p>it does raise the question (which I don't know the best answer to) for how to move the scope of this effort beyond "polish for async-await impl"</p>



<a name="180543942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543942">(Nov 12 2019 at 18:10)</a>:</h4>
<p>but I don't want to hash that out at a triage meeting</p>



<a name="180543946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543946">(Nov 12 2019 at 18:10)</a>:</h4>
<p>marking as "triaged"</p>



<a name="180543977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180543977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180543977">(Nov 12 2019 at 18:10)</a>:</h4>
<blockquote>
<p>Borrowing from arguments with higher order async functions <a href="https://github.com/rust-lang/rust/issues/66198" target="_blank" title="https://github.com/rust-lang/rust/issues/66198">#66198</a></p>
</blockquote>



<a name="180544179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180544179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180544179">(Nov 12 2019 at 18:13)</a>:</h4>
<p>not a bug, closing</p>



<a name="180544181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180544181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180544181">(Nov 12 2019 at 18:13)</a>:</h4>
<blockquote>
<p>async fn unmet lifetime constraints produce confusing diagnostics <a href="https://github.com/rust-lang/rust/issues/66168" target="_blank" title="https://github.com/rust-lang/rust/issues/66168">#66168</a></p>
</blockquote>



<a name="180544263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180544263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180544263">(Nov 12 2019 at 18:14)</a>:</h4>
<p>I'm going to mark this as triaged; diagnostic improvement possible, doesn't seem egregious</p>



<a name="180544311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180544311" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180544311">(Nov 12 2019 at 18:15)</a>:</h4>
<blockquote>
<p>async-block lifetime issue with shared reference in the return type (async-fn works as expected) <a href="https://github.com/rust-lang/rust/issues/66107" target="_blank" title="https://github.com/rust-lang/rust/issues/66107">#66107</a></p>
</blockquote>



<a name="180544368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180544368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180544368">(Nov 12 2019 at 18:15)</a>:</h4>
<p>what's missing here, I think, is a suggestion to change from <code>async</code> to <code>async move</code></p>



<a name="180544647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180544647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180544647">(Nov 12 2019 at 18:19)</a>:</h4>
<p>left a comment</p>



<a name="180544654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180544654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180544654">(Nov 12 2019 at 18:19)</a>:</h4>
<p>debating whether to move this one to on-deck</p>



<a name="180544668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180544668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180544668">(Nov 12 2019 at 18:19)</a>:</h4>
<p>seems like a reasonably easy case to get started on, and I suspect this will be a common mistake</p>



<a name="180544821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180544821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180544821">(Nov 12 2019 at 18:21)</a>:</h4>
<blockquote>
<p>[codegen] Unnecessary panicking branches in resumption of infinite generator (stored in static variable) <a href="https://github.com/rust-lang/rust/issues/66100" target="_blank" title="https://github.com/rust-lang/rust/issues/66100">#66100</a></p>
</blockquote>



<a name="180545198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545198">(Nov 12 2019 at 18:24)</a>:</h4>
<p>that is a very detailed report</p>



<a name="180545205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545205">(Nov 12 2019 at 18:24)</a>:</h4>
<p>but it makes sense</p>



<a name="180545237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545237">(Nov 12 2019 at 18:25)</a>:</h4>
<p>it's an optimization, basically, for the special cases of generators that neither return nor unwind (because panic=abort)</p>



<a name="180545494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545494" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545494">(Nov 12 2019 at 18:27)</a>:</h4>
<p>I'm going to mark it as triaged but not on-deck</p>



<a name="180545521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545521" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545521">(Nov 12 2019 at 18:27)</a>:</h4>
<p>seems like a bit of an edge case? I guess not if you are working in an embedded environment :)</p>



<a name="180545557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545557">(Nov 12 2019 at 18:27)</a>:</h4>
<p><span class="user-mention" data-user-id="116883">@tmandry</span>, btw are you around?</p>



<a name="180545585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545585">(Nov 12 2019 at 18:27)</a>:</h4>
<p>OK, that's all the untriaged bugs</p>



<a name="180545596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545596" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545596">(Nov 12 2019 at 18:28)</a>:</h4>
<h1>AsyncAwait-Focus updates</h1>



<a name="180545682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545682">(Nov 12 2019 at 18:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116773">@csmoe</span> you're fixing a lot of stuff!</p>



<a name="180545715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545715">(Nov 12 2019 at 18:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> at dinner but on my phone</p>



<a name="180545721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545721">(Nov 12 2019 at 18:29)</a>:</h4>
<p>How goes it with <a href="https://github.com/rust-lang/rust/pull/65668" target="_blank" title="https://github.com/rust-lang/rust/pull/65668">https://github.com/rust-lang/rust/pull/65668</a> ?</p>



<a name="180545782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545782">(Nov 12 2019 at 18:29)</a>:</h4>
<blockquote>
<p>non-send futures error at point of use, but could cite point of definition in some cases <a href="https://github.com/rust-lang/rust/issues/64130" target="_blank" title="https://github.com/rust-lang/rust/issues/64130">#64130</a> </p>
</blockquote>
<p>this is assigned to <span class="user-mention" data-user-id="116107">@davidtwco</span>, who has a pending PR (<a href="https://github.com/rust-lang/rust/issues/65345" target="_blank" title="https://github.com/rust-lang/rust/issues/65345">#65345</a>), I remember now I was going to try and get some feedback</p>



<a name="180545836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545836">(Nov 12 2019 at 18:30)</a>:</h4>
<blockquote>
<p>rustc suggests invalid syntax to fix lifetime inferring error <a href="https://github.com/rust-lang/rust/issues/62097" target="_blank" title="https://github.com/rust-lang/rust/issues/62097">#62097</a></p>
</blockquote>



<a name="180545873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545873">(Nov 12 2019 at 18:30)</a>:</h4>
<p><span class="user-mention" data-user-id="116773">@csmoe</span> has a pending PR (<a href="https://github.com/rust-lang/rust/issues/65730" target="_blank" title="https://github.com/rust-lang/rust/issues/65730">#65730</a>)</p>



<a name="180545892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> csmoe <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545892">(Nov 12 2019 at 18:30)</a>:</h4>
<blockquote>
<p>How goes it with <a href="https://github.com/rust-lang/rust/pull/65668" target="_blank" title="https://github.com/rust-lang/rust/pull/65668">https://github.com/rust-lang/rust/pull/65668</a> ?</p>
</blockquote>
<p>the min-test is a bit hard as the origin code mixed with "lots of" traits and associated type <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span></p>



<a name="180545905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545905">(Nov 12 2019 at 18:30)</a>:</h4>
<p>looks like it needs <a href="https://github.com/rust-lang/rust/pull/65730#issuecomment-552552799" target="_blank" title="https://github.com/rust-lang/rust/pull/65730#issuecomment-552552799">--compare-mode nll</a></p>



<a name="180545979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> csmoe <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545979">(Nov 12 2019 at 18:31)</a>:</h4>
<blockquote>
<p>looks like it needs <a href="https://github.com/rust-lang/rust/pull/65730#issuecomment-552552799" target="_blank" title="https://github.com/rust-lang/rust/pull/65730#issuecomment-552552799">--compare-mode nll</a></p>
</blockquote>
<p>./x.py test'ing locally. <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="180545981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545981">(Nov 12 2019 at 18:31)</a>:</h4>
<blockquote>
<p>async/await: awaiting inside a match block captures borrow too eagerly <a href="https://github.com/rust-lang/rust/issues/57017" target="_blank" title="https://github.com/rust-lang/rust/issues/57017">#57017</a> </p>
</blockquote>
<p><span class="user-mention" data-user-id="125294">@Aaron Hill</span> has some pending PRs here that need feedback (<a href="https://github.com/rust-lang/rust/issues/65783" target="_blank" title="https://github.com/rust-lang/rust/issues/65783">#65783</a>, <a href="https://github.com/rust-lang/rust/issues/65782" target="_blank" title="https://github.com/rust-lang/rust/issues/65782">#65782</a>)</p>



<a name="180545998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180545998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180545998">(Nov 12 2019 at 18:31)</a>:</h4>
<blockquote>
<p>the min-test is a bit hard as the origin code mixed with "lots of" traits and associated type :(</p>
</blockquote>
<p>the challenge here is minimizing the original bug report?</p>



<a name="180546047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> csmoe <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546047">(Nov 12 2019 at 18:32)</a>:</h4>
<blockquote>
<blockquote>
<p>the min-test is a bit hard as the origin code mixed with "lots of" traits and associated type <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span></p>
</blockquote>
<p>the challenge here is minimizing the original bug report?</p>
</blockquote>
<p>yes</p>



<a name="180546168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546168">(Nov 12 2019 at 18:33)</a>:</h4>
<p>hmm</p>



<a name="180546237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546237">(Nov 12 2019 at 18:34)</a>:</h4>
<p>do you want some help with that?</p>



<a name="180546249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546249">(Nov 12 2019 at 18:34)</a>:</h4>
<p>what I usually do is to start by removing as much of the example as possible</p>



<a name="180546261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546261">(Nov 12 2019 at 18:34)</a>:</h4>
<p>sometimes by creating a function like</p>



<a name="180546273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546273">(Nov 12 2019 at 18:34)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">fn</span> <span class="nf">make_type</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nc">T</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">panic</span><span class="o">!</span><span class="p">()</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</pre></div>



<a name="180546299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546299" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546299">(Nov 12 2019 at 18:35)</a>:</h4>
<p>and then e.g. replacing things like </p>
<div class="codehilite"><pre><span></span><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hyper</span>::<span class="n">server</span>::<span class="n">Server</span>::<span class="n">from_tcp</span><span class="p">(</span><span class="n">listener</span><span class="p">).</span><span class="n">map_err</span><span class="p">(</span><span class="n">Error</span>::<span class="n">UncreatableServer</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
</pre></div>


<p>with</p>
<div class="codehilite"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">server</span>: <span class="nc">hyper</span>::<span class="n">Server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">make_type</span><span class="p">();</span><span class="w"></span>
</pre></div>



<a name="180546307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546307">(Nov 12 2019 at 18:35)</a>:</h4>
<p>until I've got something pretty small</p>



<a name="180546321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546321">(Nov 12 2019 at 18:35)</a>:</h4>
<p>then you can try to copy and paste over the struct definitions from <code>hyper</code> itself</p>



<a name="180546415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> csmoe <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546415">(Nov 12 2019 at 18:36)</a>:</h4>
<p>thanks, this workflow seems really helpful <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="180546430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546430">(Nov 12 2019 at 18:36)</a>:</h4>
<p>(ok, well, we're at 30 minutes, anybody looking for something to work on?)</p>



<a name="180546448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546448">(Nov 12 2019 at 18:36)</a>:</h4>
<p><span class="user-mention" data-user-id="116773">@csmoe</span> feel free to ping if running into trouble, and thanks for tackling so many issues <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="180546521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180546521" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> csmoe <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180546521">(Nov 12 2019 at 18:37)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="116773">csmoe</span> feel free to ping if running into trouble, and thanks for tackling so many issues <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>
</blockquote>
<p>okay,<br>
it's really enjoyable to work with rustc code <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="180569072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180569072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180569072">(Nov 12 2019 at 22:27)</a>:</h4>
<p><span class="user-mention" data-user-id="116773">@csmoe</span>  I had fun using <a href="https://github.com/jethrogb/rust-reduce" target="_blank" title="https://github.com/jethrogb/rust-reduce">https://github.com/jethrogb/rust-reduce</a> to minimise the code creating a problem. (Sadly my PRs haven't landed to it but you can just fork and merge them in I guess).</p>



<a name="180569213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202019.11.12/near/180569213" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/meeting.202019.2E11.2E12.html#180569213">(Nov 12 2019 at 22:29)</a>:</h4>
<p>Sorry couldn't be at the meeting - was flying back from #rustfest. <span class="user-mention" data-user-id="124288">@oli</span>  and I got a compiler hacking room going for the impl days - it was great fun. Hopefully a compiler hacking room might be a regular fixture at the impl days. <span aria-label="fingers crossed" class="emoji emoji-1f91e" role="img" title="fingers crossed">:fingers_crossed:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>