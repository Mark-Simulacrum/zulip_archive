<html>
<head><meta charset="utf-8"><title>meeting 2021-08-06 · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html">meeting 2021-08-06</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="248638585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248638585" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248638585">(Aug 06 2021 at 17:02)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span> meeting!</p>



<a name="248638703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248638703" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248638703">(Aug 06 2021 at 17:03)</a>:</h4>
<p>I don't think there's too much to discuss today</p>



<a name="248638734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248638734" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248638734">(Aug 06 2021 at 17:03)</a>:</h4>
<p>Probably not</p>



<a name="248638839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248638839" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248638839">(Aug 06 2021 at 17:04)</a>:</h4>
<p>We have one untriaged issue; otherwise, I don't have anything planned</p>



<a name="248638865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248638865" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248638865">(Aug 06 2021 at 17:04)</a>:</h4>
<p>let's look at that now</p>



<a name="248638881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248638881" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248638881">(Aug 06 2021 at 17:04)</a>:</h4>
<h2>Strange async use ...; compiler suggestion <a href="https://github.com/rust-lang/rust/issues/87613">#87613</a></h2>



<a name="248638921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248638921" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248638921">(Aug 06 2021 at 17:04)</a>:</h4>
<p>yep, that's strange :)</p>



<a name="248639005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639005">(Aug 06 2021 at 17:05)</a>:</h4>
<p>Yeah, I didn't know <code>async use</code> was a thing :)</p>



<a name="248639133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639133">(Aug 06 2021 at 17:06)</a>:</h4>
<blockquote>
<p>Rustc suggests inserting the use directive between async and fn main(). Essentially the tokio proc macro removes the async from the main fn declaration so that it is no longer part of the fn for rustc. In absence of other use directives rustc suggests inserting the import directive directly before the fn main() leading to this behavior.</p>
</blockquote>



<a name="248639142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639142" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639142">(Aug 06 2021 at 17:06)</a>:</h4>
<p>this seems right</p>



<a name="248639180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639180" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639180">(Aug 06 2021 at 17:06)</a>:</h4>
<p>yup</p>



<a name="248639195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639195" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639195">(Aug 06 2021 at 17:06)</a>:</h4>
<p>Hopefully it's an easy fix?</p>



<a name="248639259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639259" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639259">(Aug 06 2021 at 17:07)</a>:</h4>
<p>I think so</p>



<a name="248639317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639317" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639317">(Aug 06 2021 at 17:07)</a>:</h4>
<p>I can dig into it a bit</p>



<a name="248639382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639382" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639382">(Aug 06 2021 at 17:08)</a>:</h4>
<p>maybe I'll use this time to do that</p>



<a name="248639403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639403" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639403">(Aug 06 2021 at 17:08)</a>:</h4>
<p>Sounds good</p>



<a name="248639458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639458">(Aug 06 2021 at 17:08)</a>:</h4>
<p>well</p>



<a name="248639476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639476" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639476">(Aug 06 2021 at 17:08)</a>:</h4>
<p>is there anything else people wanted to chat about?</p>



<a name="248639534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639534" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639534">(Aug 06 2021 at 17:09)</a>:</h4>
<p>I'm working on a pair of post-hoc debugging stories</p>



<a name="248639564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639564" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639564">(Aug 06 2021 at 17:09)</a>:</h4>
<p>oh, nice</p>



<a name="248639580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639580" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639580">(Aug 06 2021 at 17:09)</a>:</h4>
<p>I'll up a PR soon, but here's the HackMD draft: <a href="https://hackmd.io/@eholk/S1HD7kL1t">https://hackmd.io/@eholk/S1HD7kL1t</a></p>



<a name="248639645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639645" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639645">(Aug 06 2021 at 17:10)</a>:</h4>
<p>I have a shiny future draft I'm working on too: <a href="https://hackmd.io/@eholk/SJWHQ1L1t">https://hackmd.io/@eholk/SJWHQ1L1t</a></p>



<a name="248639723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639723" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639723">(Aug 06 2021 at 17:10)</a>:</h4>
<p><span class="user-mention" data-user-id="116883">@tmandry</span> - if any of the Fuchsia folks want to contribute, I'd be happy to try and incorporate their suggestions too.</p>



<a name="248639870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248639870" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248639870">(Aug 06 2021 at 17:11)</a>:</h4>
<p>I read through all the existing status quo stories this week to make sure this scenario wasn't adequately covered. There was a lot about debugging, but most of that was for a live process. Hopefully there's a lot of overlap, but it still seems worth calling out the post-mortem case too.</p>



<a name="248640042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640042" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640042">(Aug 06 2021 at 17:12)</a>:</h4>
<p>okay, I'll check with a few people. I'm also happy to review and make suggestions</p>



<a name="248640058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640058" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640058">(Aug 06 2021 at 17:13)</a>:</h4>
<p>Awesome, I'd appreciate it!</p>



<a name="248640099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640099" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640099">(Aug 06 2021 at 17:13)</a>:</h4>
<p>I think I can also share a real doc I wrote internally to help guide people through the process of analyzing a task object's await points. it's... not pretty.</p>



<a name="248640109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640109" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640109">(Aug 06 2021 at 17:13)</a>:</h4>
<p>Anyway, that's what I've been up to this week. Unfortunately not a lot of progress on the generator capture bug.</p>



<a name="248640135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640135" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640135">(Aug 06 2021 at 17:13)</a>:</h4>
<p>Oh yeah, that'd be helpful. I'd love to have some actual debugging transcripts in the story.</p>



<a name="248640507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640507" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640507">(Aug 06 2021 at 17:16)</a>:</h4>
<p>I think these are already pretty good, though :)</p>



<a name="248640529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640529" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640529">(Aug 06 2021 at 17:16)</a>:</h4>
<p>Thanks :)</p>



<a name="248640560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640560" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640560">(Aug 06 2021 at 17:16)</a>:</h4>
<p>I'll dig up that doc in a sec, otherwise I think we can end?</p>



<a name="248640582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640582" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640582">(Aug 06 2021 at 17:16)</a>:</h4>
<p>Sounds good to me</p>



<a name="248640584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640584" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640584">(Aug 06 2021 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="261224">@triagebot</span> end-meeting</p>



<a name="248640586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640586" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640586">(Aug 06 2021 at 17:16)</a>:</h4>
<p>Does anyone have something to bring up?<br>
React with <span aria-label="working on it" class="emoji emoji-1f6e0" role="img" title="working on it">:working_on_it:</span> if you have something to say.<br>
React with <span aria-label="all good" class="emoji emoji-2705" role="img" title="all good">:all_good:</span> if you're ready to end the meeting.</p>



<a name="248640671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640671" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640671">(Aug 06 2021 at 17:17)</a>:</h4>
<p>\o</p>



<a name="248640712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/meeting%202021-08-06/near/248640712" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eholk <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/meeting.202021-08-06.html#248640712">(Aug 06 2021 at 17:18)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>