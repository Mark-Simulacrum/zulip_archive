<html>
<head><meta charset="utf-8"><title>bitten by accidental drop · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/bitten.20by.20accidental.20drop.html">bitten by accidental drop</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="237794521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/bitten%20by%20accidental%20drop/near/237794521" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/bitten.20by.20accidental.20drop.html#237794521">(May 07 2021 at 09:46)</a>:</h4>
<p>After all our discussions and story on the subject, I still got bitten by this when I very <a href="https://github.com/smol-rs/async-broadcast/blob/master/src/lib.rs#L278">naively tried to implement</a> a Stream through Future. <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="237828059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/bitten%20by%20accidental%20drop/near/237828059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/bitten.20by.20accidental.20drop.html#237828059">(May 07 2021 at 14:04)</a>:</h4>
<p><span class="user-mention" data-user-id="400241">@Zeeshan Ali</span> were you pointin at a specific line?</p>



<a name="237828528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/bitten%20by%20accidental%20drop/near/237828528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/bitten.20by.20accidental.20drop.html#237828528">(May 07 2021 at 14:07)</a>:</h4>
<p>yeah. it was a generic link so now it shows my fixed version. <a href="https://github.com/smol-rs/async-broadcast/blob/06337b82c76ab107d048ecdcb7fadafbccb1e885/src/lib.rs#L277">Here</a> is the one I wanted to share.</p>



<a name="237828617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/bitten%20by%20accidental%20drop/near/237828617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/bitten.20by.20accidental.20drop.html#237828617">(May 07 2021 at 14:07)</a>:</h4>
<p>stress on the word <strong>naively</strong> though :)</p>



<a name="237828816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/bitten%20by%20accidental%20drop/near/237828816" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async-foundations/topic/bitten.20by.20accidental.20drop.html#237828816">(May 07 2021 at 14:08)</a>:</h4>
<p><code>recv</code> is the Future that gets dropped if <code>Pending</code></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>