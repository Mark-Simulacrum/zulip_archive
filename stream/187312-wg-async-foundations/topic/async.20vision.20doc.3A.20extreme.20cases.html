<html>
<head><meta charset="utf-8"><title>async vision doc: extreme cases · wg-async-foundations · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/index.html">wg-async-foundations</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/async.20vision.20doc.3A.20extreme.20cases.html">async vision doc: extreme cases</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="225200539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/async%20vision%20doc%3A%20extreme%20cases/near/225200539" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/async.20vision.20doc.3A.20extreme.20cases.html#225200539">(Feb 04 2021 at 18:21)</a>:</h4>
<p>I'd also like to improve the <a href="https://hackmd.io/p6cmRZ9ZRQ-F1tlhGaN9rg">async vision doc</a> by listing out various interesting "extreme cases" -- basically use cases we want to ensure that we support. Hopefully these are things we support today but we don't want to "lose" that support (in some cases, there may be issues -- e.g., <a href="https://github.com/rust-lang/rust/issues/66481">#66481</a> works against "single-threaded executor", which is an argument for fixing it. These use cases are often in tension with ergonomics.</p>



<a name="225207890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/async%20vision%20doc%3A%20extreme%20cases/near/225207890" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Didrik Nordstrom <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/async.20vision.20doc.3A.20extreme.20cases.html#225207890">(Feb 04 2021 at 19:14)</a>:</h4>
<p>On that note: in single-threaded code generally, atomics are unnecessary. Should superfluous/unavoidable atomics/memory fences be considered a violation of zero-cost abstractions going forward? (Even if the ship has sailed w.r.t <code>Waker</code>)</p>



<a name="225309265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/async%20vision%20doc%3A%20extreme%20cases/near/225309265" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/async.20vision.20doc.3A.20extreme.20cases.html#225309265">(Feb 05 2021 at 15:04)</a>:</h4>
<p>Debatable. I think there's a tension there about simplicity.</p>



<a name="225309291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async-foundations/topic/async%20vision%20doc%3A%20extreme%20cases/near/225309291" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187312-wg-async-foundations/topic/async.20vision.20doc.3A.20extreme.20cases.html#225309291">(Feb 05 2021 at 15:04)</a>:</h4>
<p>But it's definitely something to consider.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>