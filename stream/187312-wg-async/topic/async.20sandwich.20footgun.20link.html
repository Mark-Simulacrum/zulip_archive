<html>
<head><meta charset="utf-8"><title>async sandwich footgun link · wg-async · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/index.html">wg-async</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html">async sandwich footgun link</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="253721028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253721028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253721028">(Sep 17 2021 at 10:26)</a>:</h4>
<p>Hi, I'm guessing <a href="https://rust-lang.github.io/wg-async-foundations/vision/shiny_future/users_manual.html#caveat-beware-the-async-sandwich">this link</a> can't be considered a "permanent" one? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> I wanted to point people to that in my crate's docs.</p>



<a name="253743740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253743740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253743740">(Sep 17 2021 at 13:43)</a>:</h4>
<p>Yes, these links should be stable-ish</p>



<a name="253743887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253743887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253743887">(Sep 17 2021 at 13:44)</a>:</h4>
<p>I would quote it in your docs, just in case, but the link should be long lived. If we change them by accident, let us know.</p>



<a name="253780082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253780082" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthias247 <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253780082">(Sep 17 2021 at 17:44)</a>:</h4>
<p>You could link to the markdown source with a stable git ref. That would be guaranteed to work unless someone deletes the repo</p>



<a name="253780119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253780119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthias247 <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253780119">(Sep 17 2021 at 17:44)</a>:</h4>
<p>But you will  lose the fancy rendering</p>



<a name="253797225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253797225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253797225">(Sep 17 2021 at 19:42)</a>:</h4>
<p>thanks. It's ok, it doesn't need to be super stable. I can always update the docs</p>



<a name="253806852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253806852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253806852">(Sep 17 2021 at 21:01)</a>:</h4>
<p>I've tried to add redirects when I change them</p>



<a name="253806868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253806868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253806868">(Sep 17 2021 at 21:01)</a>:</h4>
<p>that said, I've also tried to make <em>pages</em> for everything</p>



<a name="253806887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253806887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253806887">(Sep 17 2021 at 21:01)</a>:</h4>
<p>i.e., my rule of thumb is kind of "if I find I want to link to it, I should make a page"</p>



<a name="253806897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253806897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253806897">(Sep 17 2021 at 21:01)</a>:</h4>
<p>it seems like the sections of the user's manual might be worth doing that :)</p>



<a name="253806961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253806961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253806961">(Sep 17 2021 at 21:02)</a>:</h4>
<p>that said, this might be a good thing to add to the list of "known problems" that I am still supposed to be working on :)</p>



<a name="253809363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253809363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253809363">(Sep 17 2021 at 21:20)</a>:</h4>
<p>yeah, I was missing a link to that the other day</p>



<a name="253809439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253809439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253809439">(Sep 17 2021 at 21:21)</a>:</h4>
<p>also, I want a preprocessor for mdbook that collapses the directory structure in your final output, so reorganizing pages doesn't break links</p>



<a name="253809607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253809607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253809607">(Sep 17 2021 at 21:22)</a>:</h4>
<p>..I imagine you'd be able to set a slug name with some magic in the markdown file somehow, and it would fall back to the filename (erroring if it's not unique)</p>



<a name="253809617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/253809617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#253809617">(Sep 17 2021 at 21:22)</a>:</h4>
<p>I should really file an issue upstream about this :)</p>



<a name="254071870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/254071870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#254071870">(Sep 20 2021 at 15:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/async.20sandwich.20footgun.20link/near/253809439">said</a>:</p>
<blockquote>
<p>also, I want a preprocessor for mdbook that collapses the directory structure in your final output, so reorganizing pages doesn't break links</p>
</blockquote>
<p>we <em>could</em> just put all the files in the same directory</p>



<a name="254071936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/254071936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#254071936">(Sep 20 2021 at 15:50)</a>:</h4>
<p>but I think I'd rather just have a tool for fixing redirects more easily</p>



<a name="254072778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/254072778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#254072778">(Sep 20 2021 at 15:55)</a>:</h4>
<p>what's the recommendation to the library authors about this btw. We should have one since right now it's just "hey, we know about this but don't know what can we do"</p>



<a name="254073755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/async%20sandwich%20footgun%20link/near/254073755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeeshan Ali <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/async.20sandwich.20footgun.20link.html#254073755">(Sep 20 2021 at 16:01)</a>:</h4>
<p>E.g for now in zbus docs, I added:</p>
<blockquote>
<p><strong>Note:</strong> Even though you can write non-async methods, these methods are still called from an async context. Therefore, you can not use blocking API that's a wrapper of an async API. This is not a limitation of zbus but rather a [well-known general problem][footgun_link] in the Rust async/await world.</p>
</blockquote>
<p>but I'm not sure if that's all we should be doing for now or do a bit more to help the devs. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>