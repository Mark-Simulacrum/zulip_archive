<html>
<head><meta charset="utf-8"><title>stream::pending · wg-async · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/index.html">wg-async</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/stream.3A.3Apending.html">stream::pending</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="264853040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/stream%3A%3Apending/near/264853040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/stream.3A.3Apending.html#264853040">(Dec 14 2021 at 12:58)</a>:</h4>
<p><span class="user-mention" data-user-id="211722">@Yoshua Wuyts [he/they]</span>  I don't think I understand your concern about async overloading <code>core::stream::pending</code>. <code>Poll::Pending</code> is a fundamentally async construct. What would the synchronous equivalent do, block forever?</p>



<a name="264853119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/stream%3A%3Apending/near/264853119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/stream.3A.3Apending.html#264853119">(Dec 14 2021 at 12:58)</a>:</h4>
<p><code>stream::empty</code> is something that could be overloaded, but I'm not sure about <code>stream::pending</code></p>



<a name="264855217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/stream%3A%3Apending/near/264855217" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/stream.3A.3Apending.html#264855217">(Dec 14 2021 at 13:16)</a>:</h4>
<p>You're right that <code>stream::pending</code> has no non-async analog. But if we decide to go forward with async overloading, the <code>std::stream</code>/<code>std::async_iter</code> submodule will cease to exist. Meaning we'd likely want to expose <code>stream::pending</code> from <code>std::iter::pending </code> instead.</p>



<a name="264855277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/stream%3A%3Apending/near/264855277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/stream.3A.3Apending.html#264855277">(Dec 14 2021 at 13:17)</a>:</h4>
<p>which means we should hold off on stabilizing anything in the submodule until we have clarity on what we want to do about async overloading</p>



<a name="264855447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/stream%3A%3Apending/near/264855447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/stream.3A.3Apending.html#264855447">(Dec 14 2021 at 13:19)</a>:</h4>
<p>this is the reason why I haven't started adding any of the free functions to <code>std::stream</code> so far, contrary to the free functions I've added to <code>std::future</code>; we need to address the topic of async overloading first before we can consider stabilizing any of these.</p>



<a name="264855453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/stream%3A%3Apending/near/264855453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/stream.3A.3Apending.html#264855453">(Dec 14 2021 at 13:19)</a>:</h4>
<p>does that make sense?</p>



<a name="264863805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/stream%3A%3Apending/near/264863805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/stream.3A.3Apending.html#264863805">(Dec 14 2021 at 14:21)</a>:</h4>
<p>I see, so it's a blocking concern for the entirety of the stream module</p>



<a name="264870994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/stream%3A%3Apending/near/264870994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts [he/they] <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/stream.3A.3Apending.html#264870994">(Dec 14 2021 at 15:06)</a>:</h4>
<p>yes, that's right</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>