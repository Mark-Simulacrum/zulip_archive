<html>
<head><meta charset="utf-8"><title>merge: wg-async-foundations#138 · wg-async · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/index.html">wg-async</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html">merge: wg-async-foundations#138</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="234224836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234224836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234224836">(Apr 12 2021 at 20:28)</a>:</h4>
<p>How do people feel about merging <a href="https://github.com/rust-lang/wg-async-foundations/issues/138">wg-async-foundations#138</a>? (<span class="user-mention" data-user-id="116083">@pnkfelix</span>'s shiny future story)</p>



<a name="234224858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234224858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234224858">(Apr 12 2021 at 20:28)</a>:</h4>
<p>in particular, <span class="user-mention" data-user-id="224872">@rylev</span> did you have more comments?</p>



<a name="234233135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234233135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234233135">(Apr 12 2021 at 21:18)</a>:</h4>
<p>(I think its ready now. plus, …. I could always push updates later …?)</p>



<a name="234233163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234233163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234233163">(Apr 12 2021 at 21:18)</a>:</h4>
<p>i.e. the bar for pushing early forms of shiny future stories can probably be lower than the bar for pushing status quo stories, right?</p>



<a name="234237574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234237574" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234237574">(Apr 12 2021 at 22:02)</a>:</h4>
<p>yeah, we can always push updates</p>



<a name="234308873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234308873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234308873">(Apr 13 2021 at 11:35)</a>:</h4>
<p>I think it's ready to go</p>



<a name="234318557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234318557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234318557">(Apr 13 2021 at 12:50)</a>:</h4>
<p>I merged it. One question I did have, reading it later though, was whether <span class="user-mention" data-user-id="116083">@pnkfelix</span> you were setting your sights too low. In particular, these are meant to be a few years in the future: do we expect that 2-3 years down the line, the tool will not attempt to provide compute-time profiles, as suggested here:</p>
<blockquote>
<p>Grace is not so thrilled to learn that this tool is not going to try to provide specific insight into performance issues that arise solely from computational overheads in her own code. (The readme for <code>wish4-async-insight</code> says on this matter "for that, use perf," which Grace finds unsatisfying.)</p>
</blockquote>
<p>?</p>



<a name="234321550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234321550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234321550">(Apr 13 2021 at 13:10)</a>:</h4>
<p>hmm. I guess my response to that is: “I don’t yet know the right way to incorporate timing data in to the tool."</p>



<a name="234321809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234321809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234321809">(Apr 13 2021 at 13:12)</a>:</h4>
<p>in what sense?</p>



<a name="234321843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234321843" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234321843">(Apr 13 2021 at 13:12)</a>:</h4>
<p>i.e.: Either: 1. it should be part of the tool, in which case I would want the user story to spell out how it works (but I don’t yet know what that story is), or 2. it shouldn’t be part of the tool (“don’t use a screwdriver when you need a hammer”). But I don’t know which case we are in; its probably 1.</p>



<a name="234321936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234321936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234321936">(Apr 13 2021 at 13:12)</a>:</h4>
<p>There is definitely a tension between "imagine how things can work" and "write convincing stories with specifics"</p>



<a name="234321967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234321967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234321967">(Apr 13 2021 at 13:13)</a>:</h4>
<p>I think what I specifically imagine is that one could have some options to get a flamegraph</p>



<a name="234321987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234321987" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234321987">(Apr 13 2021 at 13:13)</a>:</h4>
<p>and one could choose to make it specific to some request or task</p>



<a name="234322028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234322028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234322028">(Apr 13 2021 at 13:13)</a>:</h4>
<p>or to get overall data-- that might not be a flamegraph</p>



<a name="234322141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234322141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234322141">(Apr 13 2021 at 13:14)</a>:</h4>
<p>maybe I'll write my own story :)</p>



<a name="234322244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234322244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234322244">(Apr 13 2021 at 13:14)</a>:</h4>
<p>Also: the story as written imagines some amount of coupling between the async executor abstraction and the info presented by <code>wish4-async-insight</code>.</p>



<a name="234322512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234322512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234322512">(Apr 13 2021 at 13:16)</a>:</h4>
<p>I guess your point is that we should leverage that coupling as a way to better <em>narrow</em> the performance data one gathers from the client app</p>



<a name="234322601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234322601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234322601">(Apr 13 2021 at 13:17)</a>:</h4>
<p>(while from my end, I am worried that trying to gather and present that data will cause problems, either in introducing noise into the measurements themselves, or making the user interface noisy.)</p>



<a name="234322672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234322672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234322672">(Apr 13 2021 at 13:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/187312-wg-async-foundations/topic/merge.3A.20wg-async-foundations.23138/near/234322512">said</a>:</p>
<blockquote>
<p>I guess your point is that we should leverage that coupling as a way to better <em>narrow</em> the performance data one gathers from the client app</p>
</blockquote>
<p>Anyway, we can talk about revising the story to do this. The vision doc encourages PR’s to introduce such extensions/revisions, right?</p>



<a name="234338567"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/merge%3A%20wg-async-foundations%23138/near/234338567" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/merge.3A.20wg-async-foundations.23138.html#234338567">(Apr 13 2021 at 14:46)</a>:</h4>
<p>It does</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>