<html>
<head><meta charset="utf-8"><title>weekly meeting 2019.05.14 · wg-async · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/index.html">wg-async</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html">weekly meeting 2019.05.14</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="165640559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/165640559" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#165640559">(May 14 2019 at 17:05)</a>:</h4>
<p>Is there a meeting today?</p>



<a name="165640571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/165640571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#165640571">(May 14 2019 at 17:05)</a>:</h4>
<p>cc <span class="user-group-mention" data-user-group-id="1172">@WG-async-await</span></p>



<a name="165640609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/165640609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#165640609">(May 14 2019 at 17:05)</a>:</h4>
<p>My calendar has an event for just now.</p>



<a name="165641229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/165641229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#165641229">(May 14 2019 at 17:12)</a>:</h4>
<p>I suppose not. For anyone who shows up later, here's my update for this past week:</p>
<ul>
<li>Fixed more fallout from the drop order PRs in <a href="https://github.com/rust-lang/rust/issues/60676" target="_blank" title="https://github.com/rust-lang/rust/issues/60676">#60676</a>.</li>
<li>Blocked on <a href="https://github.com/rust-lang/rust/issues/54326" target="_blank" title="https://github.com/rust-lang/rust/issues/54326">#54326</a>, need to work out how to fix the diagnostic issue, see <a href="#narrow/stream/187312-t-compiler.2Fwg-async-await/topic/mismatched.20types.20diag.20.2354326/near/165075226" title="#narrow/stream/187312-t-compiler.2Fwg-async-await/topic/mismatched.20types.20diag.20.2354326/near/165075226">this topic</a>.</li>
</ul>



<a name="165641874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/165641874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#165641874">(May 14 2019 at 17:19)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> did you have a chance to look into the lifetime issues on friday?</p>



<a name="165647437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/165647437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#165647437">(May 14 2019 at 18:18)</a>:</h4>
<p>On <a href="https://github.com/rust-lang/rust/issues/52924" target="_blank" title="https://github.com/rust-lang/rust/issues/52924">#52924</a> I'm nearly done, pending some discussion around the semantics of <code>drop</code> and <code>StorageDead</code> (see <a href="#narrow/stream/187312-t-compiler.2Fwg-async-await/topic/drop.20unwind.20soundness" title="#narrow/stream/187312-t-compiler.2Fwg-async-await/topic/drop.20unwind.20soundness">this topic</a>)</p>



<a name="165647460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/165647460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#165647460">(May 14 2019 at 18:18)</a>:</h4>
<p>I plan to open a PR with only the MIR/analysis changes so we can discuss</p>



<a name="166191805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/166191805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#166191805">(May 21 2019 at 17:12)</a>:</h4>
<p>Sorry I've been ill, but better now. Shrank the problem to a smaller repro - I think the question is firstly is the span_bug! definitely a span_bug in this case as it's an existential type so maybe you wouldn't expect the type to be defined at that point?</p>



<a name="166192151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/166192151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#166192151">(May 21 2019 at 17:16)</a>:</h4>
<p>One thing I am very conscious of is that once we ship async await the very next thing people will be asking for / expecting is streams created by some form of async/generator/yield construct. At the moment what we're shipping supports Future but as far as I can see doesn't really support Stream.</p>



<a name="166192453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/166192453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#166192453">(May 21 2019 at 17:20)</a>:</h4>
<p><span class="user-mention" data-user-id="120134">@Giles Cope</span> It's fairly easy to add support for Stream. the issue is that a proper definition of the <code>stream</code> trait is one which requires GATs</p>



<a name="166192499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/166192499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#166192499">(May 21 2019 at 17:20)</a>:</h4>
<p>It's actually just a small handful of lines to make the existing system create asynchronous generators that implement the current Stream trait</p>



<a name="166192511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/166192511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#166192511">(May 21 2019 at 17:20)</a>:</h4>
<p>it's a lot more work to make it support a hypothetical Stream + borrowing</p>



<a name="166194473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/weekly%20meeting%202019.05.14/near/166194473" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giles Cope <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/weekly.20meeting.202019.2E05.2E14.html#166194473">(May 21 2019 at 17:38)</a>:</h4>
<p>Yep GAT looks non-trivial. I guess releasing non-borrowable async streams probably isn't a good idea incase the implications of the borrowed async streams might take us in a different direction and we ended up with two ways of doing things...</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>