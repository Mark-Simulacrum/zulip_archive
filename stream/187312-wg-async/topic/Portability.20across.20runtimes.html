<html>
<head><meta charset="utf-8"><title>Portability across runtimes · wg-async · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/index.html">wg-async</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html">Portability across runtimes</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="262518875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262518875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262518875">(Nov 23 2021 at 21:53)</a>:</h4>
<p>The "Portable across runtimes" milestone is marked as <span aria-label="zzz" class="emoji emoji-1f4a4" role="img" title="zzz">:zzz:</span> on the roadmap, what other work has to get done before this can be worked on?</p>



<a name="262518898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262518898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262518898">(Nov 23 2021 at 21:53)</a>:</h4>
<p>Or is it more that it isn't a priority yet</p>



<a name="262524201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262524201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262524201">(Nov 23 2021 at 22:38)</a>:</h4>
<p>I’m working on it! There is a repo and some issues, but not much of substance yet</p>



<a name="262524212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262524212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262524212">(Nov 23 2021 at 22:39)</a>:</h4>
<p>Would you like to be involved?</p>



<a name="262542070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262542070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262542070">(Nov 24 2021 at 03:12)</a>:</h4>
<p>Yes I would <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="262542080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262542080" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262542080">(Nov 24 2021 at 03:12)</a>:</h4>
<p>The roadmap should probably be updated then</p>



<a name="262542093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262542093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262542093">(Nov 24 2021 at 03:12)</a>:</h4>
<p>I take it the provide_any RFC is part of the initiative?</p>



<a name="262556239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262556239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262556239">(Nov 24 2021 at 08:07)</a>:</h4>
<p>It isn’t, it’s motivated by improving error handling, but it helps a little bit indirectly because it is a step towards moving Error into core which lets us put AsyncRead and AsyncWrite in core rather than std</p>



<a name="262556753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262556753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262556753">(Nov 24 2021 at 08:14)</a>:</h4>
<p>I think some solution for "provide a unique impl of a Trait on a crate-graph-wide basis" (don't remember what that was titled) would be needed for this, too.</p>



<a name="262556763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262556763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262556763">(Nov 24 2021 at 08:14)</a>:</h4>
<p>So that there's a means of providing a global executor, or other global resources that might be needed.</p>



<a name="262586851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262586851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262586851">(Nov 24 2021 at 13:18)</a>:</h4>
<blockquote>
<p>It isn't, it's motivated by improving error handling</p>
</blockquote>
<p>I was thinking in terms of generic access to <code>Context</code></p>



<a name="262587753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262587753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262587753">(Nov 24 2021 at 13:26)</a>:</h4>
<p>That is definitely a potential use case, but I'm not aware at the moment of any strong motivation for adding things to Context</p>



<a name="262588411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262588411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262588411">(Nov 24 2021 at 13:32)</a>:</h4>
<p>Things like spawners or timers</p>



<a name="262589479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/262589479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#262589479">(Nov 24 2021 at 13:42)</a>:</h4>
<blockquote>
<p>So that there's a means of providing a global executor, or other global resources that might be needed.</p>
</blockquote>
<p>There is also already the global allocator solution</p>



<a name="263034778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/263034778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#263034778">(Nov 29 2021 at 16:48)</a>:</h4>
<p>These are all important things to talk about, but they feel a bit to me like cart before horse</p>



<a name="263034821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187312-wg-async/topic/Portability%20across%20runtimes/near/263034821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187312-wg-async/topic/Portability.20across.20runtimes.html#263034821">(Nov 29 2021 at 16:48)</a>:</h4>
<p>The most imminent issues that seem like they ought to be ironed out is an "async fn"-friendly version of the <code>AsyncRead</code> traits</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>