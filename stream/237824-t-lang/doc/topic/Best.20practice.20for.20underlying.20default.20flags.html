<html>
<head><meta charset="utf-8"><title>Best practice for underlying default flags · t-lang/doc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/index.html">t-lang/doc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/Best.20practice.20for.20underlying.20default.20flags.html">Best practice for underlying default flags</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="252323955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/Best%20practice%20for%20underlying%20default%20flags/near/252323955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Hancock <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/Best.20practice.20for.20underlying.20default.20flags.html#252323955">(Sep 07 2021 at 15:33)</a>:</h4>
<p>Hey folks, brand new to Rust here and fiddling around - I noticed that in UnixStream (<a href="https://doc.rust-lang.org/std/os/unix/net/struct.UnixStream.html">https://doc.rust-lang.org/std/os/unix/net/struct.UnixStream.html</a>) it does not outline the default flags of the underlying socket, which enables the CLOEXEC flag (<a href="https://github.com/rust-lang/rust/blob/master/library/std/src/sys/unix/net.rs#L85">https://github.com/rust-lang/rust/blob/master/library/std/src/sys/unix/net.rs#L85</a>). This feels like something that should be specified in the docs at some point. Id love to do a pull request for this but was wondering if there was a nice example for how these defaults should be outlined and properly written (pull request somewhere?).</p>



<a name="252333589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/Best%20practice%20for%20underlying%20default%20flags/near/252333589" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/Best.20practice.20for.20underlying.20default.20flags.html#252333589">(Sep 07 2021 at 16:36)</a>:</h4>
<p><span class="user-mention" data-user-id="438142">@Ryan Hancock</span> <code>CLOEXEC</code>, specifically, is something that Rust uses universally everywhere it can; that's something that should be documented globally, rather than in every single place that opens a file descriptor. But in general, I'd agree that we should always document what flags we use for things like that.</p>



<a name="252337555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/Best%20practice%20for%20underlying%20default%20flags/near/252337555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Hancock <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/Best.20practice.20for.20underlying.20default.20flags.html#252337555">(Sep 07 2021 at 17:03)</a>:</h4>
<p>Sure, I agree that its good to use this as a default! Is there a nice place that  is easily found through the docs page. Things like UnixStream etc would still require  ways to point back to these default flags documentation.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>