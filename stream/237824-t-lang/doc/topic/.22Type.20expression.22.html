<html>
<head><meta charset="utf-8"><title>&quot;Type expression&quot; · t-lang/doc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/index.html">t-lang/doc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html">&quot;Type expression&quot;</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="244518755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/244518755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#244518755">(Jul 01 2021 at 05:00)</a>:</h4>
<p>This term is used in the reference exactly once.  I wonder if it's worth moving away from it... It's a little confusing to beginners when put together with "expression"s.</p>



<a name="244576632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/244576632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#244576632">(Jul 01 2021 at 14:38)</a>:</h4>
<p>Do you have any suggestions to use instead?  "type expression" is used in several other languages, so there is some precedent as a term of art.</p>
<p>The reference isn't generally geared towards beginners.  It is great if it can be written clearly and simply enough for beginners to understand, but that can be difficult with the information-dense nature of a reference.</p>



<a name="244654431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/244654431" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#244654431">(Jul 02 2021 at 02:47)</a>:</h4>
<blockquote>
<p>The reference isn't generally geared towards beginners.</p>
</blockquote>
<p>I know, but i feel reference is in a better position to align Rust terms. (The Rust book is actually a little vague in terms at many perspective)</p>
<blockquote>
<p>Do you have any suggestions to use instead?</p>
</blockquote>
<p>Not really... I saw the grammar production is just called <code>Type</code>, and RFC 0803 also call it <code>Type</code>.</p>



<a name="244654499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/244654499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#244654499">(Jul 02 2021 at 02:48)</a>:</h4>
<p>i feel like "type expression" might make more sense in languages that have first-class types?</p>



<a name="245199820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245199820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245199820">(Jul 07 2021 at 15:36)</a>:</h4>
<p>following up on this: it looks like C99 uses "type name" for what we call "type expression" in the Reference, though if we adopt that, we might want to clarify that it is more general than "types designated solely by identifiers or keywords"</p>



<a name="245266761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245266761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245266761">(Jul 08 2021 at 02:40)</a>:</h4>
<p>I think "type expression" is much preferable to "type name", which sounds like what rustc calls a "path". It's a little jargony but a bit of clarification should be sufficient. "Type" alone can sometimes be used to mean an abstract type, e.g. after normalization, or just in some type theory sense, while "type expression" is being more explicit about the fact that it is the syntax that is being considered</p>



<a name="245267660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245267660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245267660">(Jul 08 2021 at 03:04)</a>:</h4>
<p>People might ask the question "if it's a type expression, when will it be evaluated?"</p>



<a name="245268588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245268588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245268588">(Jul 08 2021 at 03:29)</a>:</h4>
<p>it kind of makes sense, because "expression" implies syntax beyond identifiers. too bad we don't exactly have an equivalent to C's concept of "declarators"</p>



<a name="245270207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245270207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245270207">(Jul 08 2021 at 04:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116458">Charles Lew</span> <a href="#narrow/stream/237824-t-lang.2Fdoc/topic/.22Type.20expression.22/near/245267660">said</a>:</p>
<blockquote>
<p>People might ask the question "if it's a type expression, when will it be evaluated?"</p>
</blockquote>
<p>That's a very good question, and the answer is "at compile time". That's type normalization</p>



<a name="245270318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245270318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245270318">(Jul 08 2021 at 04:11)</a>:</h4>
<p>yeah, Rust has type variables (kinda), but not quite first-class types</p>



<a name="245270321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245270321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245270321">(Jul 08 2021 at 04:11)</a>:</h4>
<p>Anyone who has seen crates like <a href="https://docs.rs/typenum/1.13.0/typenum/index.html"><code>typenum</code></a> or C++ template metaprogramming know that type "evaluation" is absolutely a thing that happens and can be nearly as complex as any other programming</p>



<a name="245270439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245270439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245270439">(Jul 08 2021 at 04:13)</a>:</h4>
<p>for the most part, in Rust, you don't seem to get to "cross the streams" and have the metaprogramming stuff available at run time</p>



<a name="245270491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245270491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245270491">(Jul 08 2021 at 04:14)</a>:</h4>
<p>(not counting proc macros, etc. as "run time")</p>



<a name="245270593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245270593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245270593">(Jul 08 2021 at 04:18)</a>:</h4>
<p>That's true, but I don't think that disqualifies them to be called expressions. Const eval even uses actual <em>expression</em> expressions for compile time evaluation, so I think the compile-time/run-time distinction is orthogonal to whether it is an expression or not (which to me is more a syntactic property of whether it has a composed grammar and some kind of evaluation semantics)</p>



<a name="245270792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245270792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245270792">(Jul 08 2021 at 04:22)</a>:</h4>
<p>"has a syntax that includes punctuation and nesting" <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="245270962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245270962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245270962">(Jul 08 2021 at 04:26)</a>:</h4>
<p>input constraints to type and lifetime inference amount to a declarative programming language, don't they? (maybe an imperfectly formalized one at the moment…)</p>



<a name="245271027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245271027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245271027">(Jul 08 2021 at 04:28)</a>:</h4>
<p>oh boy, I can't wait to see a BF interpreter written in lifetime inference <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="245275519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245275519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245275519">(Jul 08 2021 at 06:11)</a>:</h4>
<p>Polonius uses datalog to encode the lifetime rules. AFAIK datalog is a no-turing complete subset of prolog.</p>



<a name="245289456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/237824-t-lang/doc/topic/%22Type%20expression%22/near/245289456" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/237824-t-lang/doc/topic/.22Type.20expression.22.html#245289456">(Jul 08 2021 at 09:16)</a>:</h4>
<p>they said that about the C preprocessor too but <a href="http://theorangeduck.com/page/c-preprocessor-turing-complete">that didn't stop them</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>