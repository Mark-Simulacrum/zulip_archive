<html>
<head><meta charset="utf-8"><title>promoteds in constants · t-compiler/const-eval · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/index.html">t-compiler/const-eval</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/promoteds.20in.20constants.html">promoteds in constants</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="183046302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/promoteds%20in%20constants/near/183046302" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/promoteds.20in.20constants.html#183046302">(Dec 10 2019 at 10:20)</a>:</h4>
<p>I noticed that in nightly (and not stable) promoteds in constants are now actual promoteds (instead of us just removing the StorageDead annotations for the promoted temporaries). Did this happen during one of <span class="user-mention" data-user-id="118594">@ecstatic-morse</span> 's PRs? I'm not complaining, I just don't remember this happening explicitly. See the MIR of <a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=515c8b25e4a3ed312e46ca06aabceb70" target="_blank" title="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=515c8b25e4a3ed312e46ca06aabceb70">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=515c8b25e4a3ed312e46ca06aabceb70</a> on stable and nightly</p>



<a name="183057763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/promoteds%20in%20constants/near/183057763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/promoteds.20in.20constants.html#183057763">(Dec 10 2019 at 13:15)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/66642" target="_blank" title="https://github.com/rust-lang/rust/pull/66642">https://github.com/rust-lang/rust/pull/66642</a></p>



<a name="183059006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/promoteds%20in%20constants/near/183059006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/promoteds.20in.20constants.html#183059006">(Dec 10 2019 at 13:32)</a>:</h4>
<p>Ah wonderful, thx</p>



<a name="183091112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/promoteds%20in%20constants/near/183091112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/promoteds.20in.20constants.html#183091112">(Dec 10 2019 at 19:08)</a>:</h4>
<p>I'll cc wg-const-eval on these kinds of PRs from now on</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>