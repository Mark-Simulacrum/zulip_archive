<html>
<head><meta charset="utf-8"><title>first pr · t-compiler/const-eval · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/index.html">t-compiler/const-eval</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html">first pr</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="257453446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257453446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> AlexApps99 <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257453446">(Oct 13 2021 at 23:12)</a>:</h4>
<p>Hello, I'm making my first PR, to make more traits in core const.</p>



<a name="257453609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257453609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> AlexApps99 <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257453609">(Oct 13 2021 at 23:13)</a>:</h4>
<p>Would something like that be merged under unstable const, if it uses an unstable feature? <a href="https://github.com/rust-lang/rfcs/pull/2632">Using RFC 2632</a><br>
I'm also considering making the default functions of PartialEq,PartialOrd,Eq,Ord const, so it's possible to implement them const on foreign types, would this be OK considering the syntax for this is currently only temporary?</p>



<a name="257460723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257460723" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257460723">(Oct 14 2021 at 00:34)</a>:</h4>
<p>but 2632 was closed, not merged</p>



<a name="257460816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257460816" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> AlexApps99 <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257460816">(Oct 14 2021 at 00:35)</a>:</h4>
<p>There's already uses of it in std, for example, const_num_from_num</p>



<a name="257460953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257460953" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257460953">(Oct 14 2021 at 00:37)</a>:</h4>
<p>hmm, weird</p>



<a name="257461065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257461065" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257461065">(Oct 14 2021 at 00:38)</a>:</h4>
<p>(ref: pr <a href="https://github.com/rust-lang/rust/issues/86840">#86840</a>, tracking <a href="https://github.com/rust-lang/rust/issues/87852">#87852</a>)</p>



<a name="257461133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257461133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> AlexApps99 <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257461133">(Oct 14 2021 at 00:39)</a>:</h4>
<p>I think this may be the reincarnation of the closed one, perhaps<br>
<a href="https://github.com/rust-lang/rust/issues/67792">https://github.com/rust-lang/rust/issues/67792</a></p>



<a name="257461247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257461247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257461247">(Oct 14 2021 at 00:40)</a>:</h4>
<p>I'm surprised that these were added without input from T-libs / T-libs-api, AFAICS</p>



<a name="257461270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257461270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257461270">(Oct 14 2021 at 00:41)</a>:</h4>
<p>especially since it's a <em>provisional</em> implementation of the closed RFC</p>



<a name="257461286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257461286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257461286">(Oct 14 2021 at 00:41)</a>:</h4>
<p>(but still <code>rustc_const_unstable</code>, at least)</p>



<a name="257461549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257461549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257461549">(Oct 14 2021 at 00:44)</a>:</h4>
<p><span class="user-mention" data-user-id="443191">@AlexApps99</span> please ask in <a class="stream" data-stream-id="219381" href="/#narrow/stream/219381-t-libs">#t-libs</a>, and with a more descriptive topic name</p>



<a name="257461578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257461578" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257461578">(Oct 14 2021 at 00:44)</a>:</h4>
<p>I'm on T-libs, but not T-libs-api, and I feel like that team should at least weigh in</p>



<a name="257462237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257462237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> AlexApps99 <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257462237">(Oct 14 2021 at 00:53)</a>:</h4>
<p>Sure, thanks</p>



<a name="257494822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257494822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257494822">(Oct 14 2021 at 08:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/146212-t-compiler.2Fconst-eval/topic/first.20pr/near/257461578">said</a>:</p>
<blockquote>
<p>I'm on T-libs, but not T-libs-api, and I feel like that team should at least weigh in</p>
</blockquote>
<p>apologies. I overextended the "feel free to make functions unstably const without pinging T-libs" into "make everything unstably const without a ping". I'll make sure we properly talk about this before further changes</p>



<a name="257562102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257562102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257562102">(Oct 14 2021 at 16:15)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> that's a very subjective call, and maybe I'm overreacting, but it feels different to me when it depends on an experimental language feature. If others still say it's fine, then go ahead.</p>



<a name="257562455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257562455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257562455">(Oct 14 2021 at 16:17)</a>:</h4>
<p>It was a wrong call is what I'm trying to say</p>



<a name="257562482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257562482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257562482">(Oct 14 2021 at 16:17)</a>:</h4>
<p>I just totally didn't think about it</p>



<a name="257562657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257562657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257562657">(Oct 14 2021 at 16:18)</a>:</h4>
<p>just plain making new const fns is rather low risk, using trait bounds on const stuff is... unclear, so we should definitely talk about it and possibly back out of things</p>



<a name="257562716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257562716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257562716">(Oct 14 2021 at 16:19)</a>:</h4>
<p>you're not overreacting, we have teams and procedures for the very reason of not breaking stable things and not accidentally stabilizing things</p>



<a name="257564208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/257564208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#257564208">(Oct 14 2021 at 16:29)</a>:</h4>
<p>ok, thanks!</p>



<a name="258342963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/258342963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#258342963">(Oct 20 2021 at 10:13)</a>:</h4>
<p>there's a PR up now: <a href="https://github.com/rust-lang/rust/pull/89876">https://github.com/rust-lang/rust/pull/89876</a><br>
and a zulip thread: <a href="#narrow/stream/219381-t-libs/topic/Const.20std.3A.3Aops.20traits.20PR">https://rust-lang.zulipchat.com/#narrow/stream/219381-t-libs/topic/Const.20std.3A.3Aops.20traits.20PR</a></p>
<p><span class="user-mention" data-user-id="138448">@cuviper</span> should we FCP the PR or what would be the best way to kick off the discussion?</p>



<a name="258407164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/first%20pr/near/258407164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/first.20pr.html#258407164">(Oct 20 2021 at 17:19)</a>:</h4>
<p>I tried to raise it for the t-libs-api meeting</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>