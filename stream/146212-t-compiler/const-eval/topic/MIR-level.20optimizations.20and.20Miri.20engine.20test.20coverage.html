<html>
<head><meta charset="utf-8"><title>MIR-level optimizations and Miri engine test coverage · t-compiler/const-eval · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/index.html">t-compiler/const-eval</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/MIR-level.20optimizations.20and.20Miri.20engine.20test.20coverage.html">MIR-level optimizations and Miri engine test coverage</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="167746770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/MIR-level%20optimizations%20and%20Miri%20engine%20test%20coverage/near/167746770" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/MIR-level.20optimizations.20and.20Miri.20engine.20test.20coverage.html#167746770">(Jun 10 2019 at 09:59)</a>:</h4>
<p>Do we have any plans to make sure that MIR-level optimizations do not reduce our Miri engine test coverage? Optimizations tend to normalize things, so there will be certain kinds of MIR that just cannot exist any more e.g. after constant folding, or existing test cases might not actually run the code paths any more that they were supposed to run. Do we run these optimizations on the MIR for const/static initializers and <code>const fn</code>? Are there plans to run those tests both with and without optimizations or so?</p>



<a name="167795375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/MIR-level%20optimizations%20and%20Miri%20engine%20test%20coverage/near/167795375" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/MIR-level.20optimizations.20and.20Miri.20engine.20test.20coverage.html#167795375">(Jun 10 2019 at 20:51)</a>:</h4>
<p>As a user of rust, it makes me slightly happy that this is a problem <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="167795938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/MIR-level%20optimizations%20and%20Miri%20engine%20test%20coverage/near/167795938" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vertexclique <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/MIR-level.20optimizations.20and.20Miri.20engine.20test.20coverage.html#167795938">(Jun 10 2019 at 20:58)</a>:</h4>
<p>There are compile-fail and run-pass tests for <code>const fn</code>. Iirc there are runpass only for const initializers.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>