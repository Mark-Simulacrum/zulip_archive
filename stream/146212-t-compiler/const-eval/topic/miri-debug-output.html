<html>
<head><meta charset="utf-8"><title>miri-debug-output · t-compiler/const-eval · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/index.html">t-compiler/const-eval</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html">miri-debug-output</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="135959397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959397">(Oct 17 2018 at 09:08)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@Oli</span> I'd like to improve readability of our debug traces at least a bit. I want to have a trace that shows all statements, and prints the current function whenever that changes. I see several options:</p>
<ul>
<li>Put that information on <code>debug!</code>, so the way to get that trace is <code>RUST_LOG=rustc_mir::interpret=debug</code>. That means everything more detailed must go into <code>trace!</code>. This is what I kind of assumed we'd do so far, so some of my previous PRs have already downgraded some <code>debug!</code> to <code>trace!</code>. There are 4 of them left.</li>
<li>Put that information on <code>info!</code>, so the env var is <code>RUST_LOG=rustc_mir::interpret=info</code>. However, <code>info!</code> doesn't get compiled away, so that would introduce some (1 or 2 per machine step) conditional checks into the miri engine.</li>
<li>Put that information on a dedicated "channel" or whatever they call them, e.g. say we have them all in <code>step</code>, and make the env var <code>RUST_LOG=rustc_mir::interpret::step=debug</code>. The trouble here is that <code>push_stack_frame</code> and <code>pop_stack_frame</code> are in <code>eval_context</code>.</li>
</ul>
<p>What do you think?</p>



<a name="135959432"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959432" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959432">(Oct 17 2018 at 09:09)</a>:</h4>
<p>I still tend towards the first thing: <code>debug!</code> is what everybody doing miri debugging ought to find useful, <code>trace!</code> then can be enabled only on a dedicated module to get even more details there</p>



<a name="135959485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959485">(Oct 17 2018 at 09:10)</a>:</h4>
<p>I don't think <code>RUST_LOG</code> gives us the kind of tracing capabilities we really want. Changing the levels by their modules is too large grained</p>



<a name="135959516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959516" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959516">(Oct 17 2018 at 09:11)</a>:</h4>
<p>I'm fine with going the <code>debug!</code> route</p>



<a name="135959525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959525">(Oct 17 2018 at 09:11)</a>:</h4>
<p>basically this won't include memory dumps anymore I presume?</p>



<a name="135959587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959587">(Oct 17 2018 at 09:12)</a>:</h4>
<p>yeah memory dumps are already not on <code>debug!</code></p>



<a name="135959598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959598" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959598">(Oct 17 2018 at 09:13)</a>:</h4>
<p>they could also be a hell of a lot more useful, often I have no clue why it is dumping what</p>



<a name="135959605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959605">(Oct 17 2018 at 09:13)</a>:</h4>
<p>but that's more complicated^^</p>



<a name="135959609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959609">(Oct 17 2018 at 09:13)</a>:</h4>
<p>yea :D</p>



<a name="135959679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959679">(Oct 17 2018 at 09:14)</a>:</h4>
<p>this is what I mean: <a href="https://github.com/RalfJung/rust/commit/21f80dab7c2457677c0f2094e78054309131340e" target="_blank" title="https://github.com/RalfJung/rust/commit/21f80dab7c2457677c0f2094e78054309131340e">https://github.com/RalfJung/rust/commit/21f80dab7c2457677c0f2094e78054309131340e</a></p>



<a name="135959689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959689">(Oct 17 2018 at 09:14)</a>:</h4>
<p>in some minutes I'll copy-paste you an example of how it looks like</p>



<a name="135959804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959804">(Oct 17 2018 at 09:16)</a>:</h4>
<p>oh wow, yes I've wanted that "continuing" message so much!</p>



<a name="135959832"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959832" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959832">(Oct 17 2018 at 09:17)</a>:</h4>
<p>btw, are these indentation changes actually doing anything?</p>



<a name="135959837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959837">(Oct 17 2018 at 09:17)</a>:</h4>
<p>if yes, I can't see it^^</p>



<a name="135959849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959849">(Oct 17 2018 at 09:17)</a>:</h4>
<p>I mean these: <code>::log_settings::settings().indentation -= 1;</code></p>



<a name="135959939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135959939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135959939">(Oct 17 2018 at 09:19)</a>:</h4>
<p>oh lol. this ICEs in the <code>to_string</code>...</p>



<a name="135960000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960000">(Oct 17 2018 at 09:20)</a>:</h4>
<div class="codehilite"><pre><span></span>error: internal compiler error: librustc/util/ppaux.rs:310: finding type for DefId(4/0:2175 ~ alloc[af40]::vec[0]), encountered def-id DefId(4/0:0 ~ alloc[af40]) with no parent
</pre></div>



<a name="135960124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960124">(Oct 17 2018 at 09:23)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@Oli</span> so... how do I print an instance nicely without panicking the compiler?^^</p>



<a name="135960169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960169">(Oct 17 2018 at 09:24)</a>:</h4>
<p>O_o</p>



<a name="135960178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960178" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960178">(Oct 17 2018 at 09:24)</a>:</h4>
<p>the indentation changes don't work in the miri engine</p>



<a name="135960190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960190" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960190">(Oct 17 2018 at 09:24)</a>:</h4>
<p>panic is here: <a href="https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L310" target="_blank" title="https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L310">https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L310</a></p>



<a name="135960194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960194">(Oct 17 2018 at 09:25)</a>:</h4>
<p>can you try debug printing the instance's Def?</p>



<a name="135960208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960208">(Oct 17 2018 at 09:25)</a>:</h4>
<p>it's probably not a regular def</p>



<a name="135960212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960212">(Oct 17 2018 at 09:25)</a>:</h4>
<p>maybe a closure or something</p>



<a name="135960214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960214" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960214">(Oct 17 2018 at 09:25)</a>:</h4>
<p>isn't that what is shows in the panic? will do</p>



<a name="135960231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960231" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960231">(Oct 17 2018 at 09:25)</a>:</h4>
<p>but even so, it should probably not panic :D</p>



<a name="135960286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960286">(Oct 17 2018 at 09:26)</a>:</h4>
<p>^^</p>



<a name="135960288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960288">(Oct 17 2018 at 09:26)</a>:</h4>
<p>huh... <code>alloc</code> obviously has no parent, it's the crate root</p>



<a name="135960307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960307">(Oct 17 2018 at 09:27)</a>:</h4>
<p>And <code>DefId(4/0:2175 ~ alloc[af40]::vec[0])</code> seems to be what it wants to print?</p>



<a name="135960320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960320">(Oct 17 2018 at 09:27)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L293" target="_blank" title="https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L293">https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L293</a> seems wrong</p>



<a name="135960327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960327">(Oct 17 2018 at 09:27)</a>:</h4>
<p>we should not try to get the parent of a crate root</p>



<a name="135960375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960375">(Oct 17 2018 at 09:28)</a>:</h4>
<p>^^</p>



<a name="135960377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960377">(Oct 17 2018 at 09:28)</a>:</h4>
<p>but what should we do instead?</p>



<a name="135960388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960388">(Oct 17 2018 at 09:29)</a>:</h4>
<p>something is wrong here... why do you have an instance that points to a module?</p>



<a name="135960677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135960677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135960677">(Oct 17 2018 at 09:35)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@Oli</span> the def is <code>Item(DefId(4/1:2606 ~ alloc[af40]::vec[0]::{{impl}}[150]::{{constant}}[0]))</code></p>



<a name="135961003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135961003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135961003">(Oct 17 2018 at 09:43)</a>:</h4>
<p>Hm. How did we end up with that other output then?</p>



<a name="135961009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135961009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135961009">(Oct 17 2018 at 09:43)</a>:</h4>
<p>Do you have a stacktrace?</p>



<a name="135961010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135961010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135961010">(Oct 17 2018 at 09:43)</a>:</h4>
<p>that's from printing it</p>



<a name="135961022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135961022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135961022">(Oct 17 2018 at 09:43)</a>:</h4>
<p>no I don't :/ for now I'll just not do the debug printing for the topmost stack frame...^^ this is blocking me debugging stacked borrows so I wanted it to just go away.<br>
I'll build a 2nd compiler but it'll take a bit.</p>



<a name="135961063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135961063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135961063">(Oct 17 2018 at 09:44)</a>:</h4>
<p>It's probably when printing the part the path which corresponds to the <code>vec</code></p>



<a name="135961143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135961143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135961143">(Oct 17 2018 at 09:46)</a>:</h4>
<p>well it's walking up the parent relationship, so it might have started anywhere</p>



<a name="135964824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135964824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135964824">(Oct 17 2018 at 11:13)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@Oli</span> here's your backtrace:</p>
<div class="codehilite"><pre><span></span>error: internal compiler error: librustc/util/ppaux.rs:310: finding type for DefId(4/0:2175 ~ alloc[af40]::vec[0]), encountered def-id DefId(4/0:0 ~ alloc[af40]) with no parent

thread &#39;main&#39; panicked at &#39;Box&lt;Any&gt;&#39;, librustc_errors/lib.rs:599:9
stack backtrace:
   0: std::sys::unix::backtrace::tracing::imp::unwind_backtrace
             at libstd/sys/unix/backtrace/tracing/gcc_s.rs:49
   1: std::sys_common::backtrace::print
             at libstd/sys_common/backtrace.rs:71
             at libstd/sys_common/backtrace.rs:59
   2: std::panicking::default_hook::{{closure}}
             at libstd/panicking.rs:211
   3: std::panicking::default_hook
             at libstd/panicking.rs:227
   4: rustc::util::common::panic_hook
             at librustc/util/common.rs:51
   5: std::panicking::rust_panic_with_hook
             at libstd/panicking.rs:480
   6: std::panicking::begin_panic
             at /home/r/src/rust/rustc.2/src/libstd/panicking.rs:410
   7: rustc_errors::Handler::bug
             at librustc_errors/lib.rs:599
   8: rustc::ty::context::tls::with_opt::{{closure}}
             at librustc/util/bug.rs:46
             at librustc/ty/context.rs:2160
   9: rustc::ty::context::tls::with_context_opt
             at librustc/ty/context.rs:2097
  10: rustc::ty::context::tls::with_opt
             at librustc/ty/context.rs:2160
  11: rustc::util::bug::opt_span_bug_fmt
             at librustc/util/bug.rs:42
  12: rustc::util::bug::bug_fmt
             at librustc/util/bug.rs:22
  13: rustc::util::ppaux::PrintContext::parameterized::{{closure}}::{{closure}}
             at librustc/util/ppaux.rs:310
  14: rustc::ty::context::tls::with
             at /home/r/src/rust/rustc.2/src/libcore/option.rs:396
             at librustc/util/ppaux.rs:309
             at librustc/ty/context.rs:2152
             at librustc/ty/context.rs:2106
             at librustc/ty/context.rs:2097
             at librustc/ty/context.rs:2106
             at librustc/ty/context.rs:2152
  15: rustc::util::ppaux::PrintContext::parameterized
             at librustc/util/ppaux.rs:273
  16: rustc::util::ppaux::PrintContext::parameterized
             at librustc/util/ppaux.rs:264
  17: rustc::util::ppaux::PrintContext::parameterized
             at librustc/util/ppaux.rs:264
  18: rustc::util::ppaux::parameterized
             at librustc/util/ppaux.rs:571
  19: &lt;rustc::ty::instance::Instance&lt;&#39;tcx&gt; as core::fmt::Display&gt;::fmt
             at librustc/ty/instance.rs:120
  20: core::fmt::write
             at libcore/fmt/mod.rs:1102
             at libcore/fmt/mod.rs:1049
  21: &lt;core::fmt::Arguments&lt;&#39;_&gt; as core::fmt::Debug&gt;::fmt
             at libcore/fmt/mod.rs:447
             at libcore/fmt/mod.rs:440
  22: core::fmt::write
             at libcore/fmt/mod.rs:1102
             at libcore/fmt/mod.rs:1049
  23: std::io::Write::write_fmt
             at /home/r/src/rust/rustc.2/src/libstd/io/mod.rs:1139
  24: env_logger::Format::into_boxed_fn::{{closure}}
             at /home/r/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.5.12/src/lib.rs:357
  25: &lt;std::thread::local::LocalKey&lt;T&gt;&gt;::with
             at /home/r/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.5.12/src/lib.rs:858
             at /home/r/src/rust/rustc.2/src/libstd/thread/local.rs:300
             at /home/r/src/rust/rustc.2/src/libstd/thread/local.rs:254
  26: &lt;env_logger::Logger as log::Log&gt;::log
             at /home/r/.cargo/registry/src/github.com-1ecc6299db9ec823/env_logger-0.5.12/src/lib.rs:829
  27: log::__private_api_log
             at /home/r/.cargo/registry/src/github.com-1ecc6299db9ec823/log-0.4.4/src/lib.rs:1232
  28: &lt;rustc_mir::interpret::eval_context::EvalContext&lt;&#39;a, &#39;mir, &#39;tcx, M&gt;&gt;::push_stack_frame
             at librustc_mir/interpret/eval_context.rs:499
  29: rustc_mir::const_eval::eval_body_using_ecx
             at librustc_mir/const_eval.rs:187
  30: rustc_mir::const_eval::const_eval_provider
             at librustc_mir/const_eval.rs:159
             at librustc_mir/const_eval.rs:559
  31: rustc::ty::query::__query_compute::const_eval
             at librustc/ty/query/plumbing.rs:834
             at librustc/ty/query/plumbing.rs:796
  32: rustc::ty::query::&lt;impl rustc::ty::query::config::QueryAccessors&lt;&#39;tcx&gt; for rustc::ty::query::queries::const_eval&lt;&#39;tcx&gt;&gt;::compute
             at librustc/ty/query/plumbing.rs:826
  33: rustc::dep_graph::graph::DepGraph::with_task_impl
             at librustc/dep_graph/graph.rs:342
  34: rustc::ty::context::tls::with_related_context
             at librustc/dep_graph/graph.rs:208
             at librustc/ty/query/plumbing.rs:550
             at librustc/ty/query/plumbing.rs:208
             at librustc/ty/context.rs:2022
             at librustc/ty/context.rs:1961
             at librustc/ty/context.rs:2021
             at librustc/ty/query/plumbing.rs:207
             at librustc/ty/context.rs:2122
             at librustc/ty/context.rs:2106
             at librustc/ty/context.rs:2097
             at librustc/ty/context.rs:2106
             at librustc/ty/context.rs:2117
  35: rustc::ty::query::plumbing::&lt;impl rustc::ty::context::TyCtxt&lt;&#39;a, &#39;gcx, &#39;tcx&gt;&gt;::force_query_with_job
             at librustc/ty/query/plumbing.rs:197
             at librustc/ty/query/plumbing.rs:543
  36: rustc::ty::query::plumbing::&lt;impl rustc::ty::context::TyCtxt&lt;&#39;a, &#39;gcx, &#39;tcx&gt;&gt;::get_query
             at librustc/ty/query/plumbing.rs:383
             at librustc/ty/query/plumbing.rs:629
             at librustc/ty/query/plumbing.rs:640
  37: &lt;rustc::traits::project::AssociatedTypeNormalizer&lt;&#39;a, &#39;b, &#39;gcx, &#39;tcx&gt; as rustc::ty::fold::TypeFolder&lt;&#39;gcx, &#39;tcx&gt;&gt;::fold_const
             at librustc/ty/query/plumbing.rs:888
             at librustc/ty/query/plumbing.rs:881
             at librustc/traits/project.rs:451
  38: rustc::ty::structural_impls::&lt;impl rustc::ty::fold::TypeFoldable&lt;&#39;tcx&gt; for &amp;&#39;tcx rustc::ty::TyS&lt;&#39;tcx&gt;&gt;::super_fold_with
             at librustc/ty/structural_impls.rs:1186
             at librustc/ty/structural_impls.rs:855
  39: &lt;rustc::traits::project::AssociatedTypeNormalizer&lt;&#39;a, &#39;b, &#39;gcx, &#39;tcx&gt; as rustc::ty::fold::TypeFolder&lt;&#39;gcx, &#39;tcx&gt;&gt;::fold_ty
             at librustc/traits/project.rs:367
  40: rustc::ty::structural_impls::&lt;impl rustc::ty::fold::TypeFoldable&lt;&#39;tcx&gt; for &amp;&#39;tcx rustc::ty::TyS&lt;&#39;tcx&gt;&gt;::super_fold_with
             at librustc/ty/structural_impls.rs:894
             at librustc/ty/structural_impls.rs:866
  41: &lt;rustc::traits::project::AssociatedTypeNormalizer&lt;&#39;a, &#39;b, &#39;gcx, &#39;tcx&gt; as rustc::ty::fold::TypeFolder&lt;&#39;gcx, &#39;tcx&gt;&gt;::fold_ty
             at librustc/traits/project.rs:367
  42: &lt;smallvec::SmallVec&lt;A&gt; as core::iter::traits::FromIterator&lt;&lt;A as smallvec::Array&gt;::Item&gt;&gt;::from_iter
             at librustc/ty/structural_impls.rs:894
             at librustc/ty/subst.rs:146
             at librustc/ty/fold.rs:58
             at librustc/ty/subst.rs:310
             at /home/r/src/rust/rustc.2/src/libcore/ops/function.rs:286
             at /home/r/src/rust/rustc.2/src/libcore/option.rs:424
             at /home/r/src/rust/rustc.2/src/libcore/iter/mod.rs:1394
             at /home/r/.cargo/registry/src/github.com-1ecc6299db9ec823/smallvec-0.6.5/lib.rs:1238
             at /home/r/.cargo/registry/src/github.com-1ecc6299db9ec823/smallvec-0.6.5/lib.rs:1222
  43: rustc::ty::fold::TypeFoldable::fold_with
             at /home/r/src/rust/rustc.2/src/libcore/iter/iterator.rs:1415
             at librustc/ty/subst.rs:310
             at librustc/ty/fold.rs:58
  44: rustc::traits::project::normalize_with_depth
             at librustc/macros.rs:327
             at librustc/ty/fold.rs:58
             at librustc/traits/project.rs:345
             at librustc/traits/project.rs:304
  45: rustc::traits::select::SelectionContext::match_impl
             at librustc/traits/select.rs:3504
  46: rustc::infer::InferCtxt::probe
             at librustc/traits/select.rs:1981
             at librustc/traits/select.rs:556
             at librustc/infer/mod.rs:854
  47: rustc::ty::trait_def::&lt;impl rustc::ty::context::TyCtxt&lt;&#39;a, &#39;gcx, &#39;tcx&gt;&gt;::for_each_relevant_impl
             at librustc/traits/select.rs:556
             at librustc/traits/select.rs:1980
             at librustc/ty/trait_def.rs:137
  48: rustc::traits::select::SelectionContext::assemble_candidates_from_impls
             at librustc/traits/select.rs:1976
  49: rustc::traits::select::SelectionContext::assemble_candidates
             at librustc/traits/select.rs:1636
  50: rustc::traits::select::SelectionContext::candidate_from_obligation_no_cache
             at librustc/traits/select.rs:1326
</pre></div>



<a name="135964976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135964976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135964976">(Oct 17 2018 at 11:17)</a>:</h4>
<p>that kind of makes sense... starting at <a href="https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L571" target="_blank" title="https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L571">https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L571</a> we walk up 2 levels through <a href="https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L264" target="_blank" title="https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L264">https://github.com/rust-lang/rust/blob/9d7f0da367bae7587ed0ef69bd4384392099fc9e/src/librustc/util/ppaux.rs#L264</a>, and then we are at the <code>vec</code> module</p>



<a name="135972211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135972211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135972211">(Oct 17 2018 at 13:22)</a>:</h4>
<blockquote>
<p>Changing the levels by their modules is too large grained</p>
</blockquote>
<p>Can't you make up your own "modules" for logging?</p>



<a name="135972244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135972244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135972244">(Oct 17 2018 at 13:23)</a>:</h4>
<div class="codehilite"><pre><span></span>debug!(target: &quot;statements&quot;, &quot;New position: x: {}, y: {}&quot;, pos.x, pos.y);
</pre></div>



<a name="135972650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135972650" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135972650">(Oct 17 2018 at 13:29)</a>:</h4>
<p>huh?</p>



<a name="135972652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135972652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135972652">(Oct 17 2018 at 13:29)</a>:</h4>
<p>I didn't know that</p>



<a name="135973018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135973018" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135973018">(Oct 17 2018 at 13:34)</a>:</h4>
<p>ooh, neat, I also did not know that</p>



<a name="135973357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135973357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135973357">(Oct 17 2018 at 13:40)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> is that then scoped inside the module, or is this the full target name?</p>



<a name="135973443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135973443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135973443">(Oct 17 2018 at 13:42)</a>:</h4>
<p>IIRC it's the full name, but I'm not 100% sure</p>



<a name="135973527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135973527" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135973527">(Oct 17 2018 at 13:43)</a>:</h4>
<p>This is in the 3rd paragraph of <a href="https://docs.rs/log/0.4.5/log/index.html" target="_blank" title="https://docs.rs/log/0.4.5/log/index.html">the docs</a>, y'all <span class="emoji emoji-1f609" title="wink">:wink:</span> </p>
<blockquote>
<p>A log request consists of a <em>target</em>, a <em>level</em>, and a <em>body</em>. A target is a string which defaults to the module path of the location of the log request, though that default may be overridden. Logger implementations typically use the target to filter requests based on some user configuration.</p>
</blockquote>



<a name="135973805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135973805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135973805">(Oct 17 2018 at 13:47)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> I cant use this excuse any more, but for a long while I didnt have any idea which crate these macros are even coming from^^</p>



<a name="135973808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135973808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135973808">(Oct 17 2018 at 13:47)</a>:</h4>
<p>it's not like that's clear, when you just look at some rustc code</p>



<a name="135973995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135973995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135973995">(Oct 17 2018 at 13:50)</a>:</h4>
<p>I guess that's a subtle benefit of making macros imported like the rest of the code, should be easier to track!</p>



<a name="135974037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974037">(Oct 17 2018 at 13:51)</a>:</h4>
<p>who reads docs</p>



<a name="135974084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974084">(Oct 17 2018 at 13:52)</a>:</h4>
<p>yeah, I've been enjoying the new "friendly absolute paths" so much, and I now find I always write <code>log::debug!(..)</code></p>



<a name="135974094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974094">(Oct 17 2018 at 13:52)</a>:</h4>
<p>what I <em>really</em> want are "indentation levels" -- does "stock <code>log</code>" support <em>those</em> yet?</p>



<a name="135974096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974096" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974096">(Oct 17 2018 at 13:52)</a>:</h4>
<p>I was looking at slog recently</p>



<a name="135974103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974103">(Oct 17 2018 at 13:52)</a>:</h4>
<p>it..might be nice? I can't 100% tell. I like the idea of structured data</p>



<a name="135974111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974111">(Oct 17 2018 at 13:52)</a>:</h4>
<p>My usual excuse is "I've been using <em>X</em> crate from before they had docs", that earns extra street cred.</p>



<a name="135974214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974214" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974214">(Oct 17 2018 at 13:54)</a>:</h4>
<p>Structured logs are wonderful, especially when you have multiple threads and a big system (I used it to debug some concurrency issues in a Rails app recently).</p>
<p>The big problem is that you really want a tool to help view them in the most effective manner.</p>



<a name="135974218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974218">(Oct 17 2018 at 13:54)</a>:</h4>
<p>funny that you say that, miri actually has some code to increase and decrease indentation levels when stack frames come and go, but I think it doesnt do anything any more since the move into rustc</p>



<a name="135974238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974238">(Oct 17 2018 at 13:55)</a>:</h4>
<p>and it was useless before, because the indentation was <em>after</em> the variable-length module names, so it wasnt actually visible on the screen</p>



<a name="135974271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974271">(Oct 17 2018 at 13:55)</a>:</h4>
<p>e.g. I want less to have a button for "show all log lines from the same thread the cursor is on"</p>



<a name="135974361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974361">(Oct 17 2018 at 13:57)</a>:</h4>
<blockquote>
<p>My usual excuse is "I've been using <em>X</em> crate from before they had docs", that earns extra street cred.</p>
</blockquote>
<p>I think in this case "I've been using <code>debug!</code> since it was a keyword" would apply</p>



<a name="135974367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974367">(Oct 17 2018 at 13:57)</a>:</h4>
<p>oh btw I just discovered the most <strong>amazing</strong> thing</p>



<a name="135974368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974368">(Oct 17 2018 at 13:57)</a>:</h4>
<p>I've yet to use it though :)</p>



<a name="135974376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974376">(Oct 17 2018 at 13:57)</a>:</h4>
<p>if you run <code>rr replay -a -M</code> then every stdout/err output line is stamped with a tid and an rr event number; then you can do <code>rr replay -g</code> to jump to that event number</p>



<a name="135974378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974378">(Oct 17 2018 at 13:57)</a>:</h4>
<p>I've been dying to try this to get a "stamped log"</p>



<a name="135974423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135974423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135974423">(Oct 17 2018 at 13:58)</a>:</h4>
<p>although debugging the compiler is .. iffy</p>



<a name="135977127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135977127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135977127">(Oct 17 2018 at 14:46)</a>:</h4>
<p>I wrote the <code>log_settings</code> crate for logging with indentation levels</p>



<a name="135977160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135977160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135977160">(Oct 17 2018 at 14:47)</a>:</h4>
<p>works together with the regular <code>log</code> crate without any effort in crates that don't want/need/know about it</p>



<a name="135977928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135977928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135977928">(Oct 17 2018 at 14:59)</a>:</h4>
<p>oh, I had no idea it was an add-on crate^^</p>



<a name="135977947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135977947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135977947">(Oct 17 2018 at 15:00)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@Oli</span> any thoughts on the backtrace at <a href="#narrow/stream/146212-t-compiler.2Fconst-eval/subject/miri-debug-output/near/135964824" title="#narrow/stream/146212-t-compiler.2Fconst-eval/subject/miri-debug-output/near/135964824">https://rust-lang.zulipchat.com/#narrow/stream/146212-t-compiler.2Fconst-eval/subject/miri-debug-output/near/135964824</a> ?</p>



<a name="135978616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135978616" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135978616">(Oct 17 2018 at 15:09)</a>:</h4>
<p>Yea, that code is super weird. There's a condition basically saying "if you have a printable name, use that, else recurse to the parent" <a href="https://github.com/rust-lang/rust/blob/1dceaddfbe163e2d916c904b98923342730ba970/src/librustc/util/ppaux.rs#L258" target="_blank" title="https://github.com/rust-lang/rust/blob/1dceaddfbe163e2d916c904b98923342730ba970/src/librustc/util/ppaux.rs#L258">https://github.com/rust-lang/rust/blob/1dceaddfbe163e2d916c904b98923342730ba970/src/librustc/util/ppaux.rs#L258</a></p>



<a name="135978629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135978629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135978629">(Oct 17 2018 at 15:09)</a>:</h4>
<p>yes</p>



<a name="135978630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135978630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135978630">(Oct 17 2018 at 15:09)</a>:</h4>
<p>no idea why that makes sense</p>



<a name="135978634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135978634" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135978634">(Oct 17 2018 at 15:09)</a>:</h4>
<p>but in case of constants it seemingly doesnt^^</p>



<a name="135978720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135978720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135978720">(Oct 17 2018 at 15:10)</a>:</h4>
<p>maybe it's an associated constant?</p>



<a name="135978819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135978819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135978819">(Oct 17 2018 at 15:12)</a>:</h4>
<p>well, its value seems to be 25</p>



<a name="135978876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135978876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135978876">(Oct 17 2018 at 15:13)</a>:</h4>
<p>can't see any 25 in that module though...</p>



<a name="135978945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135978945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135978945">(Oct 17 2018 at 15:14)</a>:</h4>
<p>unless it's the <code>array_impls!</code></p>



<a name="135979016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979016" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979016">(Oct 17 2018 at 15:16)</a>:</h4>
<p>there are a lot of these constants being computed</p>



<a name="135979069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979069">(Oct 17 2018 at 15:16)</a>:</h4>
<p>not sure why that only happens when the <code>vec!</code> macro is used though?</p>



<a name="135979216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979216">(Oct 17 2018 at 15:19)</a>:</h4>
<p>yeah, there are 66 constants like this</p>



<a name="135979233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979233">(Oct 17 2018 at 15:19)</a>:</h4>
<p>that matches the impls for sizes <code>0..=32</code>, 2 impls for each size</p>



<a name="135979300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979300">(Oct 17 2018 at 15:20)</a>:</h4>
<p>so <span class="user-mention" data-user-id="124288">@Oli</span> it's not an assoc const, it's... an array length?</p>



<a name="135979346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979346">(Oct 17 2018 at 15:21)</a>:</h4>
<p>O_o well... that's probably it. Noone ever tried to print the path of an array length...</p>



<a name="135979390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979390">(Oct 17 2018 at 15:22)</a>:</h4>
<p>Since they have no name, they go into the <code>None</code> arm, which is wrong</p>



<a name="135979394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979394">(Oct 17 2018 at 15:22)</a>:</h4>
<p>we should invent a name like <code>LEN</code> for it</p>



<a name="135979418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979418">(Oct 17 2018 at 15:22)</a>:</h4>
<p>where would that happen?</p>



<a name="135979502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979502">(Oct 17 2018 at 15:24)</a>:</h4>
<p>I'd assume in <code>get_opt_name</code></p>



<a name="135979508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979508" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979508">(Oct 17 2018 at 15:24)</a>:</h4>
<p>but I haven't checked</p>



<a name="135979778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979778">(Oct 17 2018 at 15:29)</a>:</h4>
<p>I guess that would be <code>AnonConst</code></p>



<a name="135979781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979781" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979781">(Oct 17 2018 at 15:30)</a>:</h4>
<p>but not all <code>AnonConst</code> might be array lengths?</p>



<a name="135979857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/miri-debug-output/near/135979857" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/146212-t-compiler/const-eval/topic/miri-debug-output.html#135979857">(Oct 17 2018 at 15:30)</a>:</h4>
<blockquote>
<p>I wrote the <code>log_settings</code> crate for logging with indentation levels</p>
</blockquote>
<p>nice, I will take a look</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>