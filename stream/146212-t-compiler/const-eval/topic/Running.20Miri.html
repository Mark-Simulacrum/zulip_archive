<html>
<head><meta charset="utf-8"><title>Running Miri · t-compiler/const-eval · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/index.html">t-compiler/const-eval</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html">Running Miri</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="168535590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168535590" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168535590">(Jun 19 2019 at 18:56)</a>:</h4>
<p>hmm, when using a custom rustc with miri, it's having trouble finding the SYSROOT<br>
error[E0080]: Miri evaluation error: no mir for <code>std::rt::lang_start_internal</code>. Did you set <code>MIRI_SYSROOT</code> to a Miri-enabled sysroot? You can prepare one with <code>cargo miri setup</code>.<br>
any easy way to fix this?</p>



<a name="168544399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544399" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544399">(Jun 19 2019 at 20:48)</a>:</h4>
<p><span class="user-mention" data-user-id="124069">@Alexander Regueiro</span> please don't drive existing topics off-topic by asking unrelated questions. use the "new topic" button at the bottom instead.</p>



<a name="168544430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544430" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544430">(Jun 19 2019 at 20:48)</a>:</h4>
<p>To answer your question: which command(s) did you run? You should be using the <code>./miri</code> wrapper as the README explains. That should take care of setting the sysroot.</p>



<a name="168544602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544602" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544602">(Jun 19 2019 at 20:50)</a>:</h4>
<p>didn't realise it was an existing topic! Zulip is a fucking mess in terms of UX. feel free to just change the topic. :-)</p>



<a name="168544635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544635" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544635">(Jun 19 2019 at 20:51)</a>:</h4>
<p>(changed it myself this time)</p>



<a name="168544646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544646" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544646">(Jun 19 2019 at 20:51)</a>:</h4>
<p><span class="user-mention" data-user-id="120791">@RalfJ</span> yeah I run that</p>



<a name="168544661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544661" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544661">(Jun 19 2019 at 20:51)</a>:</h4>
<p>I don't have the powers to change other people's topic ;) but if you mastered the borrow checker I am sure you will be able to master Zulip's UI. :D</p>



<a name="168544740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544740" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544740">(Jun 19 2019 at 20:52)</a>:</h4>
<p>you run what exactly? running literally <code>./miri</code> will certainly not produce the error you quoted above</p>



<a name="168544754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544754" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544754">(Jun 19 2019 at 20:52)</a>:</h4>
<p>I am not clairvoyant, so please dont assume I know what you did</p>



<a name="168544858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544858" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544858">(Jun 19 2019 at 20:53)</a>:</h4>
<p>haha</p>



<a name="168544923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544923" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544923">(Jun 19 2019 at 20:54)</a>:</h4>
<p>yeah, I understand it, I just forget about it because the UI doesn't make it very obvious/intuitive. ;-) anyway it's fixed now.</p>



<a name="168544943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544943" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544943">(Jun 19 2019 at 20:54)</a>:</h4>
<p>okay okay... you want it spelt out, I got it</p>



<a name="168544951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544951" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544951">(Jun 19 2019 at 20:54)</a>:</h4>
<p><code>./miri run file.rs</code></p>



<a name="168544977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168544977" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168544977">(Jun 19 2019 at 20:55)</a>:</h4>
<p>yes when reporting bugs you can expect people always want everything spelled out :)</p>



<a name="168545014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545014" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545014">(Jun 19 2019 at 20:55)</a>:</h4>
<p>okay looks like you skipped this part in the instructions:</p>
<div class="codehilite"><pre><span></span># Now edit `config.toml` and set `debug-assertions = true` and `test-miri = true`.
</pre></div>



<a name="168545027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545027">(Jun 19 2019 at 20:55)</a>:</h4>
<p>fair enough. I'm a bit different in personality. I just assume the obvious unless someone specifies otherwise, but I understand we all have different mindsets and ways of approaching this. :-)</p>



<a name="168545030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545030" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545030">(Jun 19 2019 at 20:56)</a>:</h4>
<p>aha</p>



<a name="168545031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545031" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545031">(Jun 19 2019 at 20:56)</a>:</h4>
<p>my bad</p>



<a name="168545075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545075" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545075">(Jun 19 2019 at 20:56)</a>:</h4>
<p>I did indeed miss that line</p>



<a name="168545076"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545076" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545076">(Jun 19 2019 at 20:56)</a>:</h4>
<p>thanks</p>



<a name="168545102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545102" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545102">(Jun 19 2019 at 20:56)</a>:</h4>
<blockquote>
<p>fair enough. I'm a bit different in personality. I just assume the obvious unless someone specifies otherwise, but I understand we all have different mindsets and ways of approaching this. :-)</p>
</blockquote>
<p>that was not at all obvious. you could have have tried <code>./miri test</code> or <code>./miri install</code> and then later <code>cargo run</code>, or ...</p>



<a name="168545143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545143" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545143">(Jun 19 2019 at 20:57)</a>:</h4>
<p>that would be pretty pathological if you ask me, but alrighty!</p>



<a name="168545185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545185" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545185">(Jun 19 2019 at 20:57)</a>:</h4>
<p>difference of opinion. it's no big deal that you had to ask for clarification, and I was happy to give it.</p>



<a name="168545189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545189" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545189">(Jun 19 2019 at 20:57)</a>:</h4>
<p>that's how interactions should work.</p>



<a name="168545191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545191" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545191">(Jun 19 2019 at 20:57)</a>:</h4>
<p>expecting all the details to be spelled out in a bug report is not a quirk of mine. it is how bugreports work. extracting every bit of information manually is just hard. by waiting for me to query the information I need you are making it much harder for me to help you. the result is that I am less likely to help you.</p>



<a name="168545243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545243" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545243">(Jun 19 2019 at 20:58)</a>:</h4>
<p>it's not a bug report, but rather a conversation</p>



<a name="168545249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545249" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545249">(Jun 19 2019 at 20:58)</a>:</h4>
<p>you're treating this very formally</p>



<a name="168545264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545264" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545264">(Jun 19 2019 at 20:58)</a>:</h4>
<p>well I am afraid this is a waste of time and I git better things to do with my evening ;) good night</p>



<a name="168545273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545273" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545273">(Jun 19 2019 at 20:58)</a>:</h4>
<p>I'm always going to specify as much as I think is necessary to understand the issue</p>



<a name="168545291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545291" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545291">(Jun 19 2019 at 20:59)</a>:</h4>
<p>this is definitely a cultural thing, sorry. very German of you! which is cool, but we Brits are different.</p>



<a name="168545415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146212-t-compiler/const-eval/topic/Running%20Miri/near/168545415" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://rust-lang.github.io/zulip_archive/stream/146212-t-compiler/const-eval/topic/Running.20Miri.html#168545415">(Jun 19 2019 at 21:00)</a>:</h4>
<p>Sure, good night.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>