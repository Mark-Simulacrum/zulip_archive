<html>
<head><meta charset="utf-8"><title>dest_prop, mir opts in general · t-compiler/wg-mir-opt · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/189540-t-compiler/wg-mir-opt/index.html">t-compiler/wg-mir-opt</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/189540-t-compiler/wg-mir-opt/topic/dest_prop.2C.20mir.20opts.20in.20general.html">dest_prop, mir opts in general</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="259797226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189540-t-compiler/wg-mir-opt/topic/dest_prop%2C%20mir%20opts%20in%20general/near/259797226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kyle Huey <a href="https://zulip-archive.rust-lang.org/stream/189540-t-compiler/wg-mir-opt/topic/dest_prop.2C.20mir.20opts.20in.20general.html#259797226">(Oct 31 2021 at 16:54)</a>:</h4>
<p>I've been looking at the generated machine code for my rust program and I see lots of unnecessary memcpys. Especially around function calls that LLVM doesn't choose to inline. I'm inclined to think that something like dest_prop would help here, but I see the pass is currently turned off because it's unsound.</p>
<p>So I suppose my most immediate question is are people still working on mir optimization passes? or has the consensus shifted towards relying on LLVM more? it doesn't seem like the stuff in <a href="http://dest_prop.rs">dest_prop.rs</a> is seeing a lot of development these days. I might be able to dig into it myself but I don't want to waste my time here if there's another plan :)</p>



<a name="259815919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189540-t-compiler/wg-mir-opt/topic/dest_prop%2C%20mir%20opts%20in%20general/near/259815919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/189540-t-compiler/wg-mir-opt/topic/dest_prop.2C.20mir.20opts.20in.20general.html#259815919">(Nov 01 2021 at 00:08)</a>:</h4>
<p>I think there's still interest: help with fixing the unsound ones was just mentioned in <a href="#narrow/stream/189540-t-compiler.2Fwg-mir-opt/topic/advice.20for.20getting.20started/near/256761008">https://rust-lang.zulipchat.com/#narrow/stream/189540-t-compiler.2Fwg-mir-opt/topic/advice.20for.20getting.20started/near/256761008</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>