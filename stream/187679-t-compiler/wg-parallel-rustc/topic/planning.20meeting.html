<html>
<head><meta charset="utf-8"><title>planning meeting · t-compiler/wg-parallel-rustc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/index.html">t-compiler/wg-parallel-rustc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html">planning meeting</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="176688040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176688040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176688040">(Sep 26 2019 at 19:14)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1117">@WG-parallel-rustc</span> <span class="user-mention" data-user-id="116009">@nikomatsakis</span> <span class="user-mention" data-user-id="116015">@Alex Crichton</span> (unsure if there's somebody else interested not listed here), we have been talking with Niko about doing a planning meeting next week</p>



<a name="176688069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176688069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176688069">(Sep 26 2019 at 19:14)</a>:</h4>
<p>may end sending a doodle or just set a date as people prefer :)</p>



<a name="176688092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176688092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176688092">(Sep 26 2019 at 19:14)</a>:</h4>
<p>voice or text? but doodle would probably be best</p>



<a name="176688126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176688126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176688126">(Sep 26 2019 at 19:15)</a>:</h4>
<p>yeah I can make a doodle, text I guess?</p>



<a name="176688219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176688219" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176688219">(Sep 26 2019 at 19:16)</a>:</h4>
<p>well, what works better I'd say ... if voice is preferred I think it's fine too</p>



<a name="176688228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176688228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176688228">(Sep 26 2019 at 19:16)</a>:</h4>
<p>let's try to find a date first</p>



<a name="176688322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176688322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176688322">(Sep 26 2019 at 19:17)</a>:</h4>
<p>doodle would work for me, but I'm also fine if you don't schedule around me</p>



<a name="176688667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176688667" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176688667">(Sep 26 2019 at 19:21)</a>:</h4>
<p><a href="https://doodle.com/poll/ccfpdme449bk67xy" target="_blank" title="https://doodle.com/poll/ccfpdme449bk67xy">https://doodle.com/poll/ccfpdme449bk67xy</a></p>



<a name="176743146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176743146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176743146">(Sep 27 2019 at 13:00)</a>:</h4>
<p>I'd prefer zulip</p>



<a name="176743156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176743156" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176743156">(Sep 27 2019 at 13:00)</a>:</h4>
<p>(as a general rule)</p>



<a name="176743169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176743169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176743169">(Sep 27 2019 at 13:00)</a>:</h4>
<p>anyway i'm filling out the doodle now, sorry</p>



<a name="176743324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176743324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176743324">(Sep 27 2019 at 13:02)</a>:</h4>
<p>done!</p>



<a name="176747490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176747490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176747490">(Sep 27 2019 at 13:54)</a>:</h4>
<p>I think we already have a date</p>



<a name="176747542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176747542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176747542">(Sep 27 2019 at 13:55)</a>:</h4>
<p>which is Monday 3pm GMT-3 (on my timezone) but doing to add this to the compiler calendar</p>



<a name="176755387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176755387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176755387">(Sep 27 2019 at 15:16)</a>:</h4>
<p>If there's a calendar event, can you invite me to that?</p>



<a name="176756036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176756036" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176756036">(Sep 27 2019 at 15:23)</a>:</h4>
<p>(I would also appreciate an invite and do not see one on monday)</p>



<a name="176766892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176766892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176766892">(Sep 27 2019 at 17:31)</a>:</h4>
<p>hey, yeah, I'm adding that right now</p>



<a name="176767004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176767004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176767004">(Sep 27 2019 at 17:32)</a>:</h4>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span> <span class="user-group-mention" data-user-group-id="1117">@WG-parallel-rustc</span> the ones interested in getting an invite, hand me a gsuite email</p>



<a name="176767045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176767045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176767045">(Sep 27 2019 at 17:32)</a>:</h4>
<p><a href="mailto:mark.simulacrum@gmail.com" title="mailto:mark.simulacrum@gmail.com">mark.simulacrum@gmail.com</a></p>



<a name="176767622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176767622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176767622">(Sep 27 2019 at 17:38)</a>:</h4>
<p><a href="mailto:acrichton@mozilla.com" title="mailto:acrichton@mozilla.com">acrichton@mozilla.com</a></p>



<a name="176769604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176769604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176769604">(Sep 27 2019 at 17:57)</a>:</h4>
<p>invite sent, you probably got two mails, because I fixed the date afterwards :)</p>



<a name="176777894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176777894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176777894">(Sep 27 2019 at 19:22)</a>:</h4>
<p>please send to <a href="mailto:cuviper@gmail.com" title="mailto:cuviper@gmail.com">cuviper@gmail.com</a> too, thanks!</p>



<a name="176783276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176783276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176783276">(Sep 27 2019 at 20:25)</a>:</h4>
<p>done</p>



<a name="176787659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176787659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176787659">(Sep 27 2019 at 21:28)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1117">@WG-parallel-rustc</span> <span class="user-mention" data-user-id="116015">@Alex Crichton</span> <span class="user-mention" data-user-id="116009">@nikomatsakis</span> I'm leaving a <a href="https://hackmd.io/@c5iIKW2qR_qNomdpGarROg/ByIbTe3vB/edit" target="_blank" title="https://hackmd.io/@c5iIKW2qR_qNomdpGarROg/ByIbTe3vB/edit">HackMD document here</a> as placeholder, for now, before the meeting we can fill it with ideas and during the meeting we can use it to leave a summary there</p>



<a name="176787699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176787699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176787699">(Sep 27 2019 at 21:28)</a>:</h4>
<p>btw <span class="user-mention" data-user-id="116009">@nikomatsakis</span> and <span class="user-mention" data-user-id="116015">@Alex Crichton</span> are not in the Zulip <span class="user-group-mention" data-user-group-id="1117">@WG-parallel-rustc</span> group, unsure if you guys want to be there :)</p>



<a name="176787749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176787749" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176787749">(Sep 27 2019 at 21:29)</a>:</h4>
<p>I'll try to fill that doc over the weekend with some agenda items</p>



<a name="176787759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176787759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176787759">(Sep 27 2019 at 21:29)</a>:</h4>
<p>added a link to that document on the calendar event too</p>



<a name="176927218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176927218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176927218">(Sep 30 2019 at 12:33)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1117">@WG-parallel-rustc</span> <span class="user-mention" data-user-id="116015">@Alex Crichton</span> <span class="user-mention" data-user-id="116009">@nikomatsakis</span> reminder that we have the planning meeting in 5.5hs, remember that there's this <a href="https://hackmd.io/@c5iIKW2qR_qNomdpGarROg/ByIbTe3vB/edit" target="_blank" title="https://hackmd.io/@c5iIKW2qR_qNomdpGarROg/ByIbTe3vB/edit">HackMD document</a> with some agenda items and thoughts, feel free to add more stuff there</p>



<a name="176939484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176939484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176939484">(Sep 30 2019 at 14:53)</a>:</h4>
<p>As a heads up I have an appointment ending at the same time the meeting starts, so I'll need to drive home, so I may be 15-20m late</p>



<a name="176939509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176939509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176939509">(Sep 30 2019 at 14:53)</a>:</h4>
<p>(I suspect I can be brought up to speed quickly though)</p>



<a name="176956001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956001">(Sep 30 2019 at 17:52)</a>:</h4>
<p>are we doing video chat, or just here?</p>



<a name="176956092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956092">(Sep 30 2019 at 17:53)</a>:</h4>
<p>I believe just here?</p>



<a name="176956128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956128">(Sep 30 2019 at 17:54)</a>:</h4>
<p>I'm happy with either though</p>



<a name="176956256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956256">(Sep 30 2019 at 17:55)</a>:</h4>
<p>that's fine, just figuring out whether I need to use my laptop :)</p>



<a name="176956806"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956806" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956806">(Sep 30 2019 at 18:00)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1117">@WG-parallel-rustc</span> <span class="user-mention" data-user-id="116015">@Alex Crichton</span> <span class="user-mention" data-user-id="116009">@nikomatsakis</span> meeting time <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> everyone!</p>



<a name="176956826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956826" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956826">(Sep 30 2019 at 18:00)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="176956836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956836">(Sep 30 2019 at 18:00)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="176956876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956876">(Sep 30 2019 at 18:00)</a>:</h4>
<p>is there a way to "officially" join that WG?</p>



<a name="176956923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956923">(Sep 30 2019 at 18:01)</a>:</h4>
<p><span class="user-mention" data-user-id="138448">@cuviper</span> I can add you to the Zulip group</p>



<a name="176956945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956945">(Sep 30 2019 at 18:01)</a>:</h4>
<p>that would be great, thanks</p>



<a name="176956962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956962">(Sep 30 2019 at 18:01)</a>:</h4>
<p>I was helping getting some time for this meeting and organizing this a bit but I guess I'd leave <span class="user-mention" data-user-id="116009">@nikomatsakis</span> to handle it?, Niko is that ok?</p>



<a name="176956978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956978">(Sep 30 2019 at 18:01)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="176956980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176956980" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176956980">(Sep 30 2019 at 18:01)</a>:</h4>
<p>sure</p>



<a name="176957051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957051">(Sep 30 2019 at 18:02)</a>:</h4>
<p>I'm looking over <a href="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA" target="_blank" title="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA">the hackmd document</a></p>



<a name="176957127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957127">(Sep 30 2019 at 18:03)</a>:</h4>
<p>(I am not entirely clear on what the goals for this meeting should be -- I mostly threw potential ideas on the doc)</p>



<a name="176957144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957144">(Sep 30 2019 at 18:03)</a>:</h4>
<p>So feel free to steer in an entirely separate direction :)</p>



<a name="176957148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957148">(Sep 30 2019 at 18:03)</a>:</h4>
<p>yeah, I was going to say that exactly</p>



<a name="176957173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957173" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957173">(Sep 30 2019 at 18:03)</a>:</h4>
<p>we are aiming for a Roadmap, is that right?</p>



<a name="176957189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957189">(Sep 30 2019 at 18:03)</a>:</h4>
<p>I was hoping we'd find some steps to go forward</p>



<a name="176957196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957196">(Sep 30 2019 at 18:03)</a>:</h4>
<p>I don't really agree with this: "Queries and parallelism are a poor fit"</p>



<a name="176957261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957261">(Sep 30 2019 at 18:04)</a>:</h4>
<p>seems like the "Purpose" bullet may need to be first</p>



<a name="176957269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957269">(Sep 30 2019 at 18:04)</a>:</h4>
<p>agreed</p>



<a name="176957301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957301">(Sep 30 2019 at 18:04)</a>:</h4>
<p>So yeah what I had in mind was that we would kind of revisit some of the themes from the last time we chatted and try to push them into more specific steps to go forward</p>



<a name="176957334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957334">(Sep 30 2019 at 18:05)</a>:</h4>
<p>I'm trying to go fish out some links there :)</p>



<a name="176957357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957357">(Sep 30 2019 at 18:05)</a>:</h4>
<p>I guess I am referring to <a href="#narrow/stream/187679-t-compiler.2Fwg-parallel-rustc/topic/overall.20strategy" title="#narrow/stream/187679-t-compiler.2Fwg-parallel-rustc/topic/overall.20strategy">this topic</a></p>



<a name="176957483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957483">(Sep 30 2019 at 18:06)</a>:</h4>
<p>and I was hoping to <a href="#narrow/stream/187679-t-compiler.2Fwg-parallel-rustc/topic/overall.20strategy/near/176411337" title="#narrow/stream/187679-t-compiler.2Fwg-parallel-rustc/topic/overall.20strategy/near/176411337">continue from roughly these comments</a></p>



<a name="176957530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957530">(Sep 30 2019 at 18:06)</a>:</h4>
<p>basically, continue to work of pushing this current branch of work into a shippable state</p>



<a name="176957543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957543">(Sep 30 2019 at 18:07)</a>:</h4>
<p>(but I guess it's worth asking if we think we'd need to do something more radical)</p>



<a name="176957695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957695" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957695">(Sep 30 2019 at 18:08)</a>:</h4>
<p>Personally my goal would be that we are able to parallelize a few key things:</p>
<p>- running the type/borrow checker across functions in parallel<br>
- translation codegen units to LLVM in parallel </p>
<p>etc, and it seems like the current architecture should suffice to do that.</p>



<a name="176957778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957778">(Sep 30 2019 at 18:09)</a>:</h4>
<p>I would agree that we should be able to accomplish those two</p>



<a name="176957783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957783" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957783">(Sep 30 2019 at 18:09)</a>:</h4>
<p>even without really any "major" work</p>



<a name="176957916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176957916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176957916">(Sep 30 2019 at 18:11)</a>:</h4>
<blockquote>
<p>I don't really agree with this: "Queries and parallelism are a poor fit"</p>
</blockquote>
<p>(to return to this, I think perhaps I am interpreting the term "queries" too generally -- that is, I think the <em>concepts</em> we are working with are pretty amenable to parallelization, as they are basically just pure functions -- but I can definitely imagine that we'll want to consider different impl strategies)</p>



<a name="176958005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958005">(Sep 30 2019 at 18:12)</a>:</h4>
<p>in any case, I was sketching some of what I view as the current <a href="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA?view#Concerns-with-shipping-now" target="_blank" title="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA?view#Concerns-with-shipping-now">concerns with shipping *now*</a></p>



<a name="176958026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958026">(Sep 30 2019 at 18:12)</a>:</h4>
<p>Yes -- when they're pure functions they work great, but particularly around the top level we have a lot of "non pure" queries that are using Steal and such in hard-to-define ways</p>



<a name="176958068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958068">(Sep 30 2019 at 18:13)</a>:</h4>
<p>One concern I had is whether we think this is a "good idea" in general</p>



<a name="176958078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958078">(Sep 30 2019 at 18:13)</a>:</h4>
<p><del>Not really</del></p>



<a name="176958093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958093">(Sep 30 2019 at 18:13)</a>:</h4>
<p>Alex filed a couple issues re: thread management too</p>



<a name="176958104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958104">(Sep 30 2019 at 18:13)</a>:</h4>
<p>Ah, this=parallelism within the compiler, to be clear</p>



<a name="176958108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958108">(Sep 30 2019 at 18:13)</a>:</h4>
<p>What exceptions are there? Steal is fairly local</p>



<a name="176958179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958179">(Sep 30 2019 at 18:14)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/blob/master/src/librustc_interface/queries.rs#L213-L224" target="_blank" title="https://github.com/rust-lang/rust/blob/master/src/librustc_interface/queries.rs#L213-L224">https://github.com/rust-lang/rust/blob/master/src/librustc_interface/queries.rs#L213-L224</a></p>



<a name="176958181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958181">(Sep 30 2019 at 18:14)</a>:</h4>
<p>I don't really think it's a blocking problem, it seems more like a "we should refactor this" project</p>



<a name="176958214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958214" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958214">(Sep 30 2019 at 18:14)</a>:</h4>
<p>but yeah it's probably non blocking</p>



<a name="176958220"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958220" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958220">(Sep 30 2019 at 18:14)</a>:</h4>
<p>Right, so .. that is "pre-query"</p>



<a name="176958232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958232">(Sep 30 2019 at 18:14)</a>:</h4>
<p>heh, sure</p>



<a name="176958243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958243">(Sep 30 2019 at 18:14)</a>:</h4>
<p>I guess I still think that parallelism within the compiler makes sense</p>



<a name="176958275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958275" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958275">(Sep 30 2019 at 18:15)</a>:</h4>
<p>But it's worth being clear about which scenarios</p>



<a name="176958293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958293">(Sep 30 2019 at 18:15)</a>:</h4>
<p>Which I guess leads back to the overall goals</p>



<a name="176958314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958314">(Sep 30 2019 at 18:15)</a>:</h4>
<p>So my main concern is that I think it might be good to scale back what I _think_ are our current ambitions, to an extent, to what Niko highlighted earlier</p>



<a name="176958322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958322">(Sep 30 2019 at 18:15)</a>:</h4>
<p>Specifically <br>
- running the type/borrow checker across functions in parallel<br>
- translation codegen units to LLVM in parallel</p>



<a name="176958390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958390">(Sep 30 2019 at 18:16)</a>:</h4>
<p>Like, I don't think we want to try to parallelize things like parsing and name resolution and such, i.e., to intertwine them, quite yet</p>



<a name="176958402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958402">(Sep 30 2019 at 18:16)</a>:</h4>
<p>(The reason that I included translation of codegen units is that we identified that as a blocker to experimenting with different strategies around generating LLVM bitcode that might help with reducing duplication)</p>



<a name="176958419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958419" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958419">(Sep 30 2019 at 18:16)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="176958440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958440">(Sep 30 2019 at 18:16)</a>:</h4>
<p>(But also because it seems to fit just fine)</p>



<a name="176958475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958475">(Sep 30 2019 at 18:16)</a>:</h4>
<blockquote>
<p>Like, I don't think we want to try to parallelize things like parsing and name resolution and such, i.e., to intertwine them, quite yet</p>
</blockquote>
<p>Agreed... are you citing those because they are not part of the query system yet?</p>



<a name="176958498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958498">(Sep 30 2019 at 18:16)</a>:</h4>
<p>(Or because there are pending PRs along those lines?)</p>



<a name="176958528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958528">(Sep 30 2019 at 18:17)</a>:</h4>
<p>Mostly to try and establish non-goals</p>



<a name="176958546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958546">(Sep 30 2019 at 18:17)</a>:</h4>
<p>Not because of any particular reason</p>



<a name="176958563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958563">(Sep 30 2019 at 18:17)</a>:</h4>
<p>OK, just checking. In any case, I agree :)</p>



<a name="176958600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958600">(Sep 30 2019 at 18:17)</a>:</h4>
<p>Another non-goal from my POV is very fine-grained parallelism, which is partly why I think Rayon integration is not something we have to have at this stage</p>



<a name="176958668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958668">(Sep 30 2019 at 18:18)</a>:</h4>
<p>e.g., I wouldn't expect to parallelize type-checking <em>within</em> a particular function, or at intra-query granularity</p>



<a name="176958703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958703">(Sep 30 2019 at 18:18)</a>:</h4>
<p>I may have missed this but do we have data to show the high-level passes which need aprallelization the most? (e.g. the slowest rustc passes)</p>



<a name="176958729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958729">(Sep 30 2019 at 18:19)</a>:</h4>
<p>you don't think rayon is useful coarsely? "here are all my functions, go borrowck!"</p>



<a name="176958739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958739">(Sep 30 2019 at 18:19)</a>:</h4>
<p>typeck_tables and codegen are ~always the top two in most benchmarks, I believe</p>



<a name="176958759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958759">(Sep 30 2019 at 18:19)</a>:</h4>
<p>yes, what <span class="user-mention" data-user-id="116122">@simulacrum</span> said</p>



<a name="176958776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958776">(Sep 30 2019 at 18:19)</a>:</h4>
<blockquote>
<p>you don't think rayon is useful coarsely? "here are all my functions, go borrowck!"</p>
</blockquote>
<p>I didn't say that :) I just said I don't think it's needed</p>



<a name="176958808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958808">(Sep 30 2019 at 18:20)</a>:</h4>
<p>in particular if it complicates jobserver integration (which I think it very well may)</p>



<a name="176958853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958853">(Sep 30 2019 at 18:20)</a>:</h4>
<p>Type checking is parallel already. I have code to make codegen parallel too, but I'd rather just get rid of the messy LLVM threads and use a simple for loop for both codegen+LLVM</p>



<a name="176958893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958893">(Sep 30 2019 at 18:20)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span> do you know if we have data on whether that's showing expected (linear-ish) improvements in time?</p>



<a name="176958895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958895" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958895">(Sep 30 2019 at 18:20)</a>:</h4>
<p>ok -- I think the jobserver issue is roughly the same problem whether rayon manages the threads or not</p>



<a name="176958903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958903" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958903">(Sep 30 2019 at 18:20)</a>:</h4>
<p>at least within those specific queries</p>



<a name="176958918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958918" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958918">(Sep 30 2019 at 18:21)</a>:</h4>
<p>(FWIW I think it's a fantastic idea to start at a coarse level and then go from there, that's technically what we've already done with parallel codegen)</p>



<a name="176958959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958959">(Sep 30 2019 at 18:21)</a>:</h4>
<blockquote>
<p>Type checking is parallel already. </p>
</blockquote>
<p>right. I basically want to do the work we need to do to ship <em>this</em></p>



<a name="176958983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176958983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176958983">(Sep 30 2019 at 18:21)</a>:</h4>
<p>( and iterate from there )</p>



<a name="176959044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959044">(Sep 30 2019 at 18:22)</a>:</h4>
<p>that said, the LLVM threads and so forth is a <em>bit</em> tricky since we have to control peak memory usage, iirc</p>



<a name="176959108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959108">(Sep 30 2019 at 18:23)</a>:</h4>
<p>Less threads = less peak memory usage. It's not very hard =P</p>



<a name="176959111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959111">(Sep 30 2019 at 18:23)</a>:</h4>
<p>Do we consider being confident that we don't deadlock etc (and essentially can't) a prereq for shipping?</p>



<a name="176959129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959129" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959129">(Sep 30 2019 at 18:23)</a>:</h4>
<p>It sounds like it would definitely be worthwhile to ship parallel typeck with perhaps a new architecture of managing the jobserver and then slowly port parallel codegen to the new architecture</p>



<a name="176959251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959251">(Sep 30 2019 at 18:24)</a>:</h4>
<p>We probably need some benchmark to see if switching between processes due to jobserver is actually a big problem</p>



<a name="176959262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959262">(Sep 30 2019 at 18:24)</a>:</h4>
<blockquote>
<p>Do we consider being confident that we don't deadlock etc (and essentially can't) a prereq for shipping?</p>
</blockquote>
<p>I've been debating about this. We consistently rank "tech debt" amongst our problems and I am concerned about growing that. This is why I listed documentation in the list of concerns. On the other hand, I don't want to block indefinitely on vague concerns.</p>



<a name="176959353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959353">(Sep 30 2019 at 18:25)</a>:</h4>
<p>There's things we can do to reduce that overhead (make rayon wait longer before going idle), ensuring there's always work to be done in rustc, spreading jobserver tokens better across processes)</p>



<a name="176959384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959384">(Sep 30 2019 at 18:25)</a>:</h4>
<p>I personally think that eliminating the shared state on Session, e.g., which is pretty much a pre-req for this sort of confidence, will be quite hard -- I guess I could imagine we just don't, and instead document some fields as "be careful when accessing these"</p>



<a name="176959452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959452">(Sep 30 2019 at 18:26)</a>:</h4>
<p>I don't think you need to eliminate shared state entirely to have confidence</p>



<a name="176959468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959468">(Sep 30 2019 at 18:26)</a>:</h4>
<p>Certainly not for <em>dead-lock</em> freedom</p>



<a name="176959469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959469">(Sep 30 2019 at 18:26)</a>:</h4>
<p>FWIW I do think we should strive very hard for high confidence in implementation here, bugs just lead to every tool/crate trying to have its own workaround</p>



<a name="176959486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959486">(Sep 30 2019 at 18:26)</a>:</h4>
<p>people primarily just want their code to compile, and they'd rather it compile correctly than never</p>



<a name="176959515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959515">(Sep 30 2019 at 18:27)</a>:</h4>
<p>One thing worth bringing up: I've not successfully used it yet, but we might experiment with things like <a href="https://crates.io/crates/loom" target="_blank" title="https://crates.io/crates/loom">loom</a></p>



<a name="176959540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959540">(Sep 30 2019 at 18:27)</a>:</h4>
<p>yeah so I'm not sure we necessarily need to prove it correct or anything like that</p>



<a name="176959550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959550">(Sep 30 2019 at 18:27)</a>:</h4>
<blockquote>
<p>Certainly not for <em>dead-lock</em> freedom</p>
</blockquote>
<p>but we <em>do</em> have to be careful about having too many locks, or returning guards so that we can't see how long a lock is held</p>



<a name="176959555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959555">(Sep 30 2019 at 18:27)</a>:</h4>
<p>but I think we need more than "one of us knows how it works and rustc says it's ok"</p>



<a name="176959683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959683">(Sep 30 2019 at 18:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span> Can you elaborate perhaps on what sort of docs or other materials you'd want to see?</p>



<a name="176959695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959695" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959695">(Sep 30 2019 at 18:28)</a>:</h4>
<p>Yes, I think I would be happy if we had a set of 2-3 people working on stuff, some reasonable amount of docs on the "big picture" and some notes where we use fine-grained locking, and a lot of testing (that said, loom seems like something we <em>could</em> setup, but not as a blocker)</p>



<a name="176959697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959697">(Sep 30 2019 at 18:28)</a>:</h4>
<p>e.g. how do we increase "one of us knows how it works"</p>



<a name="176959733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959733">(Sep 30 2019 at 18:29)</a>:</h4>
<p>I'm basically stressing how bad it is to have subtle nondeterministic bugs in your compiler</p>



<a name="176959757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959757">(Sep 30 2019 at 18:29)</a>:</h4>
<p>I think I would give incremental as an anti-pattern</p>



<a name="176959764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959764">(Sep 30 2019 at 18:29)</a>:</h4>
<p>We've not had a <em>ton</em> of bugs <em>but</em></p>



<a name="176959771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959771">(Sep 30 2019 at 18:29)</a>:</h4>
<p>we don't have a lot of people familiar with the details</p>



<a name="176959775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959775">(Sep 30 2019 at 18:29)</a>:</h4>
<p>it's got the highest likelihood of showing up in big projects (which want to turn this on the most), and runs the risk of forcing our hand to, for example, add configuration to cargo to control all the knobs here</p>



<a name="176959779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959779">(Sep 30 2019 at 18:29)</a>:</h4>
<p>(there are pretty big-picture docs though)</p>



<a name="176959942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959942">(Sep 30 2019 at 18:31)</a>:</h4>
<p>I think in some sense my impression is that getting good docs for the highlevel parts (jobserver integration, where the "parallel loops" are) is going to be fairly easy. Getting confidence for the relatively fine-grained locks I think is going to be quite hard, though.</p>



<a name="176959948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176959948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176959948">(Sep 30 2019 at 18:31)</a>:</h4>
<p>( so time-check, we're 30 minutes in :)</p>



<a name="176960110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960110" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960110">(Sep 30 2019 at 18:33)</a>:</h4>
<p>It seems like we pretty much are agreed that the primary blocker is getting docs/confidence in the implementation, right?</p>
<p>I believe the jobserver integration for example we have "known knobs" to try and tune -- as <span class="user-mention" data-user-id="116466">@Zoxc</span> mentioned</p>



<a name="176960131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960131">(Sep 30 2019 at 18:33)</a>:</h4>
<p>we've got 71 instances of <code>Lock&lt;</code> in <code>librustc*</code> :)</p>



<a name="176960225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960225">(Sep 30 2019 at 18:34)</a>:</h4>
<p>some of which are public (ungreat)</p>



<a name="176960234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960234">(Sep 30 2019 at 18:34)</a>:</h4>
<p>but most of which are not</p>



<a name="176960387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960387">(Sep 30 2019 at 18:36)</a>:</h4>
<p>it seems plausible to me that we can audit them and refactor them to use:</p>
<ul>
<li>private fields</li>
<li>coarse-grained locking most of the time </li>
</ul>
<p>and for the remainder, well, we'll have to see what testing brings I guess.</p>



<a name="176960469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960469">(Sep 30 2019 at 18:37)</a>:</h4>
<p>Seems reasonable -- do we think a good way to do this might be to just put up some issues to start (maybe 3 or 4 or so) on some public locks and assign some folks in this meeting to them?</p>



<a name="176960505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960505" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960505">(Sep 30 2019 at 18:37)</a>:</h4>
<p>maybe. let's table that for one second.</p>



<a name="176960514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960514">(Sep 30 2019 at 18:37)</a>:</h4>
<p>because I'm curious about the other things.</p>



<a name="176960561"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960561" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960561">(Sep 30 2019 at 18:38)</a>:</h4>
<p>like, what are they? :)</p>



<a name="176960600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960600">(Sep 30 2019 at 18:38)</a>:</h4>
<p>one thing I didn't write down is "rayon fork"</p>



<a name="176960602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960602">(Sep 30 2019 at 18:38)</a>:</h4>
<p>"other things" in terms of what we need for confidence?</p>



<a name="176960639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960639">(Sep 30 2019 at 18:39)</a>:</h4>
<p>like, what else do we want to do before shipping?</p>



<a name="176960677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960677">(Sep 30 2019 at 18:39)</a>:</h4>
<ul>
<li>Sequential overhead</li>
<li>
<p>Overly fine-grained locking risks subtle ordering or dead-lock bugs<br>
    * Solution: audit</p>
</li>
<li>
<p>Poor jobserver integration leading to overall poor scaling</p>
</li>
<li>Rayon fork -- can we eliminate it?</li>
<li>Documentation of key components<br>
    * What are the major sources of shared state and where is each documented?<br>
    * How does jobserver integration work and can we improve on that?</li>
</ul>



<a name="176960691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960691" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960691">(Sep 30 2019 at 18:39)</a>:</h4>
<p>that's what I have in <a href="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA?edit" target="_blank" title="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA?edit">the hackmd doc</a></p>



<a name="176960696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960696">(Sep 30 2019 at 18:39)</a>:</h4>
<p>the reason I'm asking is</p>



<a name="176960705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960705">(Sep 30 2019 at 18:40)</a>:</h4>
<ul>
<li>Call for performance testing, perhaps asking for <code>-Z timings</code> of before/after to show differences in cpu usage</li>
</ul>



<a name="176960734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960734">(Sep 30 2019 at 18:40)</a>:</h4>
<p>I'd sort of like to identify "steps" we can take for each of them</p>



<a name="176960778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960778">(Sep 30 2019 at 18:40)</a>:</h4>
<p>let's _update_ the rayon fork, at least...</p>



<a name="176960819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960819">(Sep 30 2019 at 18:41)</a>:</h4>
<p>I dropped one patch in favor of <code>build_scoped</code></p>



<a name="176960830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960830">(Sep 30 2019 at 18:41)</a>:</h4>
<p>we can review the others</p>



<a name="176960842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960842">(Sep 30 2019 at 18:41)</a>:</h4>
<p>yep, I think I'd like to do a review of each of them</p>



<a name="176960846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960846">(Sep 30 2019 at 18:41)</a>:</h4>
<p>and talk  out why we have it</p>



<a name="176960868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960868">(Sep 30 2019 at 18:41)</a>:</h4>
<p>( and if we can get rid of it )</p>



<a name="176960876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960876">(Sep 30 2019 at 18:41)</a>:</h4>
<p>maybe we can just do that over a few weeks?</p>



<a name="176960948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960948">(Sep 30 2019 at 18:42)</a>:</h4>
<p>(or all at once, maybe, not sure how long it'll take, I guess 1 meeting is likely enough)</p>



<a name="176960966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960966" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960966">(Sep 30 2019 at 18:42)</a>:</h4>
<p>I have this under documentation:</p>
<blockquote>
<div class="codehilite"><pre><span></span>* Why do we have the Rayon fork?
</pre></div>


</blockquote>



<a name="176960967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960967">(Sep 30 2019 at 18:42)</a>:</h4>
<p>I think one thing we want on a plan is having an idea of how transition parallel codegen/typeck to same parallelization framework</p>



<a name="176960999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176960999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176960999">(Sep 30 2019 at 18:42)</a>:</h4>
<p>I'm sort of seeing something here -- I feel like the frame of "documentaiton" is helpful here</p>



<a name="176961029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961029">(Sep 30 2019 at 18:43)</a>:</h4>
<p>Don't forget about my Rayon fiber fork. That would also help prevent threads from falling asleep =P</p>



<a name="176961115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961115">(Sep 30 2019 at 18:44)</a>:</h4>
<blockquote>
<p>I think one thing we want on a plan is having an idea of how transition parallel codegen/typeck to same parallelization framework</p>
</blockquote>
<p>e.g., in this case, I feel like it'd be useful to have somebody start by doing a quick review of how things are working today (maybe over Zoom), and then we can talk about how they could be unified and improved? And the result is most of the way to docs</p>



<a name="176961129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961129" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961129">(Sep 30 2019 at 18:44)</a>:</h4>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span> I don't think that's important until the parallel compiler is the default, so we can actually remove the LLVM threads without regressing performance</p>



<a name="176961156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961156" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961156">(Sep 30 2019 at 18:44)</a>:</h4>
<p>(I was proposing something similar for the rayon fork)</p>



<a name="176961199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961199" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961199">(Sep 30 2019 at 18:45)</a>:</h4>
<p>If mw isn't available I can probably give a review of how parallel codegen works</p>



<a name="176961206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961206">(Sep 30 2019 at 18:45)</a>:</h4>
<p>(later on a call)</p>



<a name="176961317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961317">(Sep 30 2019 at 18:46)</a>:</h4>
<p>so some bullets where I don't have anything listed include:</p>
<ul>
<li>Sequential overhead</li>
<li>Poor jobserver integration leading to overall poor scaling</li>
</ul>



<a name="176961336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961336" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961336">(Sep 30 2019 at 18:47)</a>:</h4>
<p>the latter feels like something we could do the same "explain, discuss, experiment/document" pattern on, if we want</p>



<a name="176961349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961349" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961349">(Sep 30 2019 at 18:47)</a>:</h4>
<p>ah well I guess <span class="user-mention" data-user-id="116466">@Zoxc</span> listed some solutions</p>



<a name="176961358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961358">(Sep 30 2019 at 18:47)</a>:</h4>
<p>I personally wouldn't mind talking them over though :)</p>



<a name="176961366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961366">(Sep 30 2019 at 18:47)</a>:</h4>
<p>(and better understanding what we're doing now)</p>



<a name="176961448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961448">(Sep 30 2019 at 18:48)</a>:</h4>
<p>but for sequential overhead, I think the real next steps are to identify cases we think are too high and just profile/optimize them?</p>



<a name="176961478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961478">(Sep 30 2019 at 18:48)</a>:</h4>
<p>Maybe <span class="user-mention" data-user-id="120989">@nnethercote</span> might be "nerd-swipable" to help with this kind of optimization effort :)</p>



<a name="176961493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961493">(Sep 30 2019 at 18:48)</a>:</h4>
<p>I though we were largely only worried about that for shipping off-by-default-but-possible-to-enable parallel support?</p>



<a name="176961519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961519">(Sep 30 2019 at 18:49)</a>:</h4>
<p>in that we expect parallelism to easily regain any sequential regressions</p>



<a name="176961521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961521" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961521">(Sep 30 2019 at 18:49)</a>:</h4>
<p>Well, wouldn't you like to do that? =)</p>



<a name="176961523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961523" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961523">(Sep 30 2019 at 18:49)</a>:</h4>
<p>I would...</p>



<a name="176961530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961530">(Sep 30 2019 at 18:49)</a>:</h4>
<p>But also I'm not sure that's true</p>



<a name="176961534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961534">(Sep 30 2019 at 18:49)</a>:</h4>
<p>lol true</p>



<a name="176961540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961540">(Sep 30 2019 at 18:49)</a>:</h4>
<p>I mean if you have a big crate graph</p>



<a name="176961552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961552">(Sep 30 2019 at 18:49)</a>:</h4>
<p>ah I see what you mean</p>



<a name="176961564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961564">(Sep 30 2019 at 18:49)</a>:</h4>
<p>if you don't actually have parallelism at one point what's the slowdown</p>



<a name="176961590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961590">(Sep 30 2019 at 18:49)</a>:</h4>
<p>Right, it'll definitely eat away at any wins</p>



<a name="176961667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961667" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961667">(Sep 30 2019 at 18:50)</a>:</h4>
<p>I sort of thought we had concluded that the timings were "pretty good" but then <span class="user-mention" data-user-id="116122">@simulacrum</span> seemed to have concerns</p>



<a name="176961678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961678">(Sep 30 2019 at 18:50)</a>:</h4>
<p>I haven't reviewed the latest measurements, though</p>



<a name="176961679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961679">(Sep 30 2019 at 18:50)</a>:</h4>
<p>although given the cpu usage graphs I've seen it probably won't eat <em>that</em> much, but I do agree we should have a baseline understanding of what the expected regression is</p>



<a name="176961716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961716">(Sep 30 2019 at 18:50)</a>:</h4>
<p>I would say that to start off we should just be confident is "what is the perf of <code>-j1</code> rustc"</p>



<a name="176961721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961721">(Sep 30 2019 at 18:50)</a>:</h4>
<p>and we can evaluate from there about whether optimization is necessary</p>



<a name="176961778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961778">(Sep 30 2019 at 18:51)</a>:</h4>
<p>I am wondering if it makes sense to pick 3-5 "real-world" crates and try to use them as our benchmarks?</p>



<a name="176961782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961782">(Sep 30 2019 at 18:51)</a>:</h4>
<p>I think we need to determine exactly what we want to collect data on and recollect (both because things have changed -- e.g. pipelining) and because it is not clear that the data I collected was what we wanted to</p>



<a name="176961785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961785">(Sep 30 2019 at 18:51)</a>:</h4>
<p>This has always been hard for us :)</p>



<a name="176961849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961849">(Sep 30 2019 at 18:52)</a>:</h4>
<p>really I mean more than <em>crates</em></p>



<a name="176961852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961852">(Sep 30 2019 at 18:52)</a>:</h4>
<p>oh I'm assuming we run the current perf suite at <code>-j1</code></p>



<a name="176961856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961856">(Sep 30 2019 at 18:52)</a>:</h4>
<p>I mean like "scenarios"</p>



<a name="176961864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961864" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961864">(Sep 30 2019 at 18:52)</a>:</h4>
<p>(but "enable parallel support")</p>



<a name="176961868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961868">(Sep 30 2019 at 18:52)</a>:</h4>
<p>Yes, we should do that too</p>



<a name="176961869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961869">(Sep 30 2019 at 18:52)</a>:</h4>
<p>and that's a good enough test for what the expected regression would be</p>



<a name="176961895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961895" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961895">(Sep 30 2019 at 18:52)</a>:</h4>
<p>well anyway start with that</p>



<a name="176961897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961897">(Sep 30 2019 at 18:52)</a>:</h4>
<p><code>-j1</code> has the unfortunate problem of limiting parallel codegen which is terrible</p>



<a name="176961905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961905">(Sep 30 2019 at 18:52)</a>:</h4>
<p>we had some metric before like a "% threshold" and an "ms threshold"</p>



<a name="176961910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961910">(Sep 30 2019 at 18:52)</a>:</h4>
<p>but I can imagine some workaround for that? Presuming we want one.</p>



<a name="176961978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961978">(Sep 30 2019 at 18:53)</a>:</h4>
<p>we could only look at the "check" benchmarks, but <span class="user-mention" data-user-id="116009">@nikomatsakis</span> I think it's probably fine to just look at the numbers and evaluate from there</p>



<a name="176961997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961997">(Sep 30 2019 at 18:53)</a>:</h4>
<p>another concern I remember being raised was bootstrap time</p>



<a name="176961998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176961998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176961998">(Sep 30 2019 at 18:53)</a>:</h4>
<p>any number throw out is probably just a gut feeling for now so it seems fine to develop the gut feeling after we have data</p>



<a name="176962006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962006">(Sep 30 2019 at 18:54)</a>:</h4>
<p>yes I agree</p>



<a name="176962053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962053">(Sep 30 2019 at 18:54)</a>:</h4>
<blockquote>
<p>although given the cpu usage graphs I've seen it probably won't eat <em>that</em> much, but I do agree we should have a baseline understanding of what the expected regression is</p>
</blockquote>
<p>are there some graphs or benchmarks that were already ran?</p>



<a name="176962069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962069">(Sep 30 2019 at 18:54)</a>:</h4>
<p>I just think it'd be useful for us to start collecting some good set of benchmarks we want to focus on; let's just start with a perf run in any case</p>



<a name="176962078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962078">(Sep 30 2019 at 18:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> oh I'm thinking of whole crate graph builds using Cargo's new <code>-Z timings</code> flag which shows cpu usage and compile time information</p>



<a name="176962087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962087" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962087">(Sep 30 2019 at 18:54)</a>:</h4>
<p>I can take on getting a try build with parallel enabled and running perf on that</p>



<a name="176962114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962114">(Sep 30 2019 at 18:55)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> oh true, yeah, so I definitely agree on that</p>



<a name="176962126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962126">(Sep 30 2019 at 18:55)</a>:</h4>
<p>do you think we should list those off here?</p>



<a name="176962150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962150">(Sep 30 2019 at 18:55)</a>:</h4>
<p>I don't know that we have to do it "live" right now, but maybe leave notes in the hackmd doc?</p>



<a name="176962161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962161">(Sep 30 2019 at 18:55)</a>:</h4>
<p><a href="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA?edit" target="_blank" title="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA?edit">hackmd doc</a></p>



<a name="176962253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962253">(Sep 30 2019 at 18:56)</a>:</h4>
<blockquote>
<p>I just think it'd be useful for us to start collecting some good set of benchmarks we want to focus on; let's just start with a perf run in any case</p>
</blockquote>
<p>one thing in particular: I don't want to get to the point where we are trying to announce things without us being able to say "here are some awesome graphs to look at!"</p>



<a name="176962277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962277">(Sep 30 2019 at 18:56)</a>:</h4>
<p>for sure</p>



<a name="176962278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962278">(Sep 30 2019 at 18:56)</a>:</h4>
<p>I think we'll all feel better if we're like "we're not gonna ship until <code>cargo check</code> on regex is 2x" or something</p>



<a name="176962295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962295">(Sep 30 2019 at 18:56)</a>:</h4>
<p>if we have to adjust later, fine</p>



<a name="176962327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962327">(Sep 30 2019 at 18:57)</a>:</h4>
<p>tentatively fearless concurrency</p>



<a name="176962330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962330">(Sep 30 2019 at 18:57)</a>:</h4>
<p>(sorry)</p>



<a name="176962334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962334">(Sep 30 2019 at 18:57)</a>:</h4>
<p>ok we're 57 minutes in</p>



<a name="176962507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962507">(Sep 30 2019 at 18:59)</a>:</h4>
<p>I'm going to try to type in some "next steps" in a separate section of the doc and see if we can put this together</p>



<a name="176962814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962814">(Sep 30 2019 at 19:02)</a>:</h4>
<p>this is what I wrote</p>
<ul>
<li>
<p>measure performance<br>
    * initial focus: seq overhead</p>
</li>
<li>
<p>user involvement: start getting people using it<br>
    * create instructions on how to use alt builds for correctness checking<br>
        * or to roll your own build for perf testing<br>
    * how to gather data, where to submit</p>
</li>
<li>
<p>audit and document fine-grained locking</p>
</li>
<li>meetings with the "explain, discuss, document" format<br>
    * parallel code-gen: how does it work, can it be unified?<br>
    * rayon fork features<br>
    * jobserver integration<br>
    * major sources of shared state</li>
</ul>



<a name="176962866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962866">(Sep 30 2019 at 19:02)</a>:</h4>
<p>curse you zulip, no nested lists?</p>



<a name="176962872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962872">(Sep 30 2019 at 19:02)</a>:</h4>
<p>first they took my <code>-</code> (edit: admittedly, I'm getting vaguely used to <code>*</code>)</p>



<a name="176962884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962884">(Sep 30 2019 at 19:02)</a>:</h4>
<p>/me grumbles</p>



<a name="176962905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962905">(Sep 30 2019 at 19:02)</a>:</h4>
<p>that sounds like a great start yeah, although I do think we want more confidence in the current implementation before we get "random rust users" involved</p>



<a name="176962919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962919">(Sep 30 2019 at 19:02)</a>:</h4>
<p>agreed, I should move that down the list</p>



<a name="176962922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962922" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962922">(Sep 30 2019 at 19:02)</a>:</h4>
<p>it seems reasonably low in priority</p>



<a name="176962948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962948">(Sep 30 2019 at 19:03)</a>:</h4>
<p>I will replace it with something else though, we should get alt builds so <em>we</em> can test easily</p>



<a name="176962969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176962969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176962969">(Sep 30 2019 at 19:03)</a>:</h4>
<p>I was <em>just</em> going  to say that...</p>



<a name="176963003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963003">(Sep 30 2019 at 19:03)</a>:</h4>
<p>so <span class="user-mention" data-user-id="116122">@simulacrum</span> on the topic of audits:</p>
<p>I think what would make sense is to setup a standing time to move through things, and try to spin out tasks. I think it probably makes sense for this to be reasonably experienced folks.</p>



<a name="176963013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963013">(Sep 30 2019 at 19:03)</a>:</h4>
<p>(since I tabled when you asked that question before)</p>



<a name="176963071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963071">(Sep 30 2019 at 19:04)</a>:</h4>
<p>maybe we can spin that out into a distinct topic, but I think I'd be happy to try to add an hour on my calendar for that if we could find a good one</p>



<a name="176963116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963116">(Sep 30 2019 at 19:04)</a>:</h4>
<p>So we think something like "Zoom call every monday" so to speak and 2-3 of us spend an hour trying to audit and then document findings (maybe by just recording zoom output?)</p>



<a name="176963120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963120" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963120">(Sep 30 2019 at 19:04)</a>:</h4>
<p>unlike the last time we did it, I think we'd just try to <em>go deep</em> into each particular item, coming up with a final design and/or things to document</p>



<a name="176963127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963127">(Sep 30 2019 at 19:04)</a>:</h4>
<blockquote>
<p>So we think something like "Zoom call every monday" so to speak and 2-3 of us spend an hour trying to audit and then document findings (maybe by just recording zoom output?)</p>
</blockquote>
<p>yep, this</p>



<a name="176963145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963145" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963145">(Sep 30 2019 at 19:05)</a>:</h4>
<p>I'd hope afterwards that we volunteer someone to try and polish up the results</p>



<a name="176963153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963153">(Sep 30 2019 at 19:05)</a>:</h4>
<p>but yeah</p>



<a name="176963159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963159" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963159">(Sep 30 2019 at 19:05)</a>:</h4>
<p>I think the zoom calls alone are better docs than we often have :P</p>



<a name="176963176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963176" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963176">(Sep 30 2019 at 19:05)</a>:</h4>
<p>we should get a better list than my <code>rg 'Lock&lt;' src/librust*</code></p>



<a name="176963232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963232">(Sep 30 2019 at 19:06)</a>:</h4>
<p>I am personally up for getting that list put together -- maybe we should try to pencil in a meeting slot this week or next to trial it out, though.</p>



<a name="176963247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963247">(Sep 30 2019 at 19:06)</a>:</h4>
<p>yep.</p>



<a name="176963316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963316">(Sep 30 2019 at 19:07)</a>:</h4>
<p>(Should I put a Doodle together?)</p>



<a name="176963402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963402">(Sep 30 2019 at 19:08)</a>:</h4>
<p>/me sighs</p>



<a name="176963405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963405">(Sep 30 2019 at 19:08)</a>:</h4>
<p>yeah, I guess so</p>



<a name="176963408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963408">(Sep 30 2019 at 19:08)</a>:</h4>
<p>:)</p>



<a name="176963415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963415">(Sep 30 2019 at 19:08)</a>:</h4>
<p>alternatively we could use this time?</p>



<a name="176963421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963421" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963421">(Sep 30 2019 at 19:08)</a>:</h4>
<p>if it still works for folks?</p>



<a name="176963436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963436">(Sep 30 2019 at 19:08)</a>:</h4>
<p>yeah, I could do this time</p>



<a name="176963465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963465">(Sep 30 2019 at 19:09)</a>:</h4>
<p>I could too. Certainly gives enough time to make some headway on a list of things for us to dig into</p>



<a name="176963484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963484">(Sep 30 2019 at 19:09)</a>:</h4>
<p>do we want to try and do something this week, or wait until next week?</p>



<a name="176963486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963486">(Sep 30 2019 at 19:09)</a>:</h4>
<p>I'm ok either way</p>



<a name="176963537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963537">(Sep 30 2019 at 19:10)</a>:</h4>
<p>proabbly we start with the audits and try that out before attempting the "explain/discuss/document" on bigger questions?</p>



<a name="176963556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963556">(Sep 30 2019 at 19:10)</a>:</h4>
<p>I don't want to get too overly ambitious</p>



<a name="176963613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963613">(Sep 30 2019 at 19:10)</a>:</h4>
<p>it sounds like we should tackle the "rayon or not" problem earliest perhaps?</p>



<a name="176963619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963619">(Sep 30 2019 at 19:10)</a>:</h4>
<p>that may help inform what sort of shared state we need at all?</p>



<a name="176963652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963652">(Sep 30 2019 at 19:11)</a>:</h4>
<p>like basically finalizing how we want concurrency to look like at all will inform quite a few other decisions</p>



<a name="176963671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963671">(Sep 30 2019 at 19:11)</a>:</h4>
<p>hm, I think we definitely have some shared state in e.g. Session which is shared no matter what</p>



<a name="176963683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963683">(Sep 30 2019 at 19:11)</a>:</h4>
<p>but maybe not too interesting, too</p>



<a name="176963803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963803">(Sep 30 2019 at 19:12)</a>:</h4>
<p>Regardless of rayon or not -- I think that just means less / more work to do something like this, right?</p>
<div class="codehilite"><pre><span></span><span class="n">functions</span><span class="p">.</span><span class="n">par_iter</span><span class="p">().</span><span class="n">for_each</span><span class="p">(</span><span class="o">|</span><span class="n">function</span><span class="o">|</span><span class="w"> </span><span class="n">tcx</span><span class="p">.</span><span class="n">typeck</span><span class="p">(</span><span class="n">function</span><span class="p">));</span><span class="w"></span>
</pre></div>



<a name="176963811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963811">(Sep 30 2019 at 19:12)</a>:</h4>
<blockquote>
<p>it sounds like we should tackle the "rayon or not" problem earliest perhaps?</p>
</blockquote>
<p>that's a good choic</p>



<a name="176963814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963814">(Sep 30 2019 at 19:12)</a>:</h4>
<p>oh sure, but I'm basically saying that where we apply parallelism feels like a more core decision than what shared state we have</p>



<a name="176963819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963819">(Sep 30 2019 at 19:13)</a>:</h4>
<p>what I'm wondering is</p>



<a name="176963834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963834">(Sep 30 2019 at 19:13)</a>:</h4>
<p>do we want to do <em>separate</em> meetings on those</p>



<a name="176963836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963836">(Sep 30 2019 at 19:13)</a>:</h4>
<p>or try to re-use that same slot</p>



<a name="176963849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963849">(Sep 30 2019 at 19:13)</a>:</h4>
<p>I'm inclined to the former I guess</p>



<a name="176963865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963865">(Sep 30 2019 at 19:13)</a>:</h4>
<p>oh sorry, misunderstood</p>



<a name="176963890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963890" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963890">(Sep 30 2019 at 19:13)</a>:</h4>
<p>we could start not by an audit but by one of the questions</p>



<a name="176963952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963952">(Sep 30 2019 at 19:14)</a>:</h4>
<p>also, I should go look at that old list of "things to document" and see if I'm missing anything</p>



<a name="176963967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176963967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176963967">(Sep 30 2019 at 19:14)</a>:</h4>
<p>but overall I'm pretty happy with this plan</p>



<a name="176964016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964016" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964016">(Sep 30 2019 at 19:14)</a>:</h4>
<p>and I kind of think a weekly slot to either audit or discuss some aspect of design or deep dive into whatever else seems relevant that week is good</p>



<a name="176964029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964029">(Sep 30 2019 at 19:15)</a>:</h4>
<p>So we'd perhaps have the meeting this time next week (or maybe something this week, to sort of get things moving?) with a goal of tackling one of the things to document quetions?</p>



<a name="176964098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964098">(Sep 30 2019 at 19:15)</a>:</h4>
<p>I am debating what to do first, but yes -- that or audit. I could go either way.</p>



<a name="176964278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964278">(Sep 30 2019 at 19:17)</a>:</h4>
<p>if we were to do this week, I'd favor Thu at 1pm eastern :)</p>



<a name="176964279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964279">(Sep 30 2019 at 19:17)</a>:</h4>
<p>hm, do we have a link to the questions doc handy?</p>



<a name="176964294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964294">(Sep 30 2019 at 19:17)</a>:</h4>
<p><a href="https://hackmd.io/XDC24IlWT4OIxYdmIxH4Xg" target="_blank" title="https://hackmd.io/XDC24IlWT4OIxYdmIxH4Xg">Parallel documentation questions</a> -- fixed</p>



<a name="176964386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964386" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964386">(Sep 30 2019 at 19:18)</a>:</h4>
<p>looks like we covered a lot of them</p>



<a name="176964544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964544" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964544">(Sep 30 2019 at 19:20)</a>:</h4>
<p>I can't do 1pm ET on Thursday (another meeting) unfortunately -- 1:30 would work though.</p>
<p>I guess maybe easiest is to just wait till Monday next week</p>



<a name="176964552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964552">(Sep 30 2019 at 19:20)</a>:</h4>
<p>since we all seem free</p>



<a name="176964569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964569" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964569">(Sep 30 2019 at 19:20)</a>:</h4>
<p>yeah, seems ok.</p>



<a name="176964575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964575">(Sep 30 2019 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> you'll work on the perf run tho?</p>



<a name="176964592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964592">(Sep 30 2019 at 19:21)</a>:</h4>
<p>yeah, I can get that done -- at least the basic bit of "just perf.rlo"</p>



<a name="176964616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964616" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964616">(Sep 30 2019 at 19:21)</a>:</h4>
<p>the scenarios on the doc are possibly a bit harder but should be feasible as well, plus, we have -Ztiming now on Cargo which is great</p>



<a name="176964697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964697">(Sep 30 2019 at 19:22)</a>:</h4>
<p>Maybe next week we spend ~5 minutes of the meeting on Zoom discussing what we think is best for the meeting depending on perf results</p>



<a name="176964701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964701">(Sep 30 2019 at 19:22)</a>:</h4>
<p>e.g. if things are mostly looking good then I think audit makes more sense</p>



<a name="176964727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964727">(Sep 30 2019 at 19:23)</a>:</h4>
<p>but if things are looking pretty not great, then it might make sense to looking into jobserver (since that's probably "easiest"/"biggest" wins) first</p>



<a name="176964780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964780">(Sep 30 2019 at 19:24)</a>:</h4>
<p>ideally a bit before, but that sounds good</p>



<a name="176964817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964817">(Sep 30 2019 at 19:24)</a>:</h4>
<p>Note that incremental is expected to be slower. I have some PRs open which will help there.</p>



<a name="176964823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964823" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964823">(Sep 30 2019 at 19:24)</a>:</h4>
<p>( i.e., I'd prefer to know before hand is we're going to discuss jobserver )</p>



<a name="176964848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964848">(Sep 30 2019 at 19:24)</a>:</h4>
<p>So agenda for myself is :</p>
<ul>
<li>get perf runs done for scenarios in doc</li>
<li>get at least 1-2 "audit" tasks ready to go<ul>
<li>envisioning basically a list of use sites with links and such to start</li>
</ul>
</li>
</ul>



<a name="176964852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964852">(Sep 30 2019 at 19:24)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span> ps I think that if you have PRs that are blocked on landing because they do a lot of things, and you can make the meeting, I'd like to use it to talk over what the PR does</p>



<a name="176964889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964889" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964889">(Sep 30 2019 at 19:25)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> it seems like the <code>librustc_data_structures::sync</code> imports are probably a good start too?</p>



<a name="176964895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964895" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964895">(Sep 30 2019 at 19:25)</a>:</h4>
<p>anyway that sounds great</p>



<a name="176964938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964938">(Sep 30 2019 at 19:25)</a>:</h4>
<p>I could also imagine starting to <em>do</em> audits or attempt simpler refactorings, if you're feeling bored, as there are bound to be "easy" cases, and we can reserve the more complex cases ...</p>



<a name="176964939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964939">(Sep 30 2019 at 19:25)</a>:</h4>
<p>Ah, yes, we could talk through the primitives but that seems not as useful</p>



<a name="176964959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176964959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176964959">(Sep 30 2019 at 19:25)</a>:</h4>
<p>no I meant</p>



<a name="176965010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176965010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176965010">(Sep 30 2019 at 19:26)</a>:</h4>
<p>searching for imports/uses to "seed"  the audit process</p>



<a name="176965101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176965101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176965101">(Sep 30 2019 at 19:27)</a>:</h4>
<p>Sure -- I was intending to just grep for <code>Lock&lt;</code> as you did, but that works too. </p>
<p>I might attempt some audits/refactorings, though I think particularly for the audit bit it'll be good to have some meeting to base what the results of such an audit should be on</p>



<a name="176965134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176965134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176965134">(Sep 30 2019 at 19:27)</a>:</h4>
<p>the use sites being "get a lock field and figure out what uses it"</p>



<a name="176965784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/176965784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#176965784">(Sep 30 2019 at 19:34)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <a href="https://github.com/rust-lang/rust/pull/61845" target="_blank" title="https://github.com/rust-lang/rust/pull/61845">https://github.com/rust-lang/rust/pull/61845</a> does only 3 things =P<br>
The first thing is split into it's own PR - <a href="https://github.com/rust-lang/rust/pull/63756" target="_blank" title="https://github.com/rust-lang/rust/pull/63756">https://github.com/rust-lang/rust/pull/63756</a> , which I think @mw basically approved?</p>



<a name="177174577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177174577" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177174577">(Oct 02 2019 at 17:48)</a>:</h4>
<p><span class="user-mention" data-user-id="138448">@cuviper</span> you requested to be added to <code>@WG-parallel-rustc</code>, just did so. Also added Niko and Alex, so it's easier to ping everyone by using the group, if someone don't want to be there it's easy to remove yourself from settings :)</p>



<a name="177208656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177208656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177208656">(Oct 03 2019 at 01:55)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> could you create a compiler team invite recurring for mondays and populate the zoom link and such?</p>



<a name="177243616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177243616" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177243616">(Oct 03 2019 at 13:27)</a>:</h4>
<p>yes</p>



<a name="177243779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177243779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177243779">(Oct 03 2019 at 13:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span> I'll take a look at <a href="https://github.com/rust-lang/rust/issues/63756" target="_blank" title="https://github.com/rust-lang/rust/issues/63756">#63756</a> -- the description sounds simple enough, at least.</p>



<a name="177257179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257179">(Oct 03 2019 at 15:43)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> what's the best way to catch up with what you've done?</p>



<a name="177257196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257196">(Oct 03 2019 at 15:43)</a>:</h4>
<p>saw that you were doing some stuff and wanted to catch up with that</p>



<a name="177257341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257341">(Oct 03 2019 at 15:45)</a>:</h4>
<p>(deleted)</p>



<a name="177257447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257447">(Oct 03 2019 at 15:46)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> wrong channel/stream perhaps?</p>



<a name="177257618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257618" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257618">(Oct 03 2019 at 15:48)</a>:</h4>
<p>well I wasn't talking specifically about the planning per se, I was talking in general about the things we planned on parallel</p>



<a name="177257629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257629">(Oct 03 2019 at 15:48)</a>:</h4>
<p>saw that you ran benches</p>



<a name="177257639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257639">(Oct 03 2019 at 15:48)</a>:</h4>
<p>and were doing a bunch of cool stuff</p>



<a name="177257640"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257640" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257640">(Oct 03 2019 at 15:48)</a>:</h4>
<p>(You just linked to bisect so was confused)</p>



<a name="177257656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257656">(Oct 03 2019 at 15:48)</a>:</h4>
<p>ohh</p>



<a name="177257664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257664" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257664">(Oct 03 2019 at 15:48)</a>:</h4>
<p>that was for the other thread</p>



<a name="177257688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257688" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257688">(Oct 03 2019 at 15:49)</a>:</h4>
<p>okay yeah I can give an update on what I've done for parallel so far</p>



<a name="177257948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177257948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177257948">(Oct 03 2019 at 15:52)</a>:</h4>
<ul>
<li>Some general work on trying to get locks out of the compiler (I think the major thing that's landed is <a href="https://github.com/rust-lang/rust/pull/64272" target="_blank" title="https://github.com/rust-lang/rust/pull/64272">https://github.com/rust-lang/rust/pull/64272</a> here)</li>
<li>Currently working on parallel compiler performance collection.<ul>
<li>we have sort of "overhead" measurement for single-crate here: <a href="https://perf.rust-lang.org/compare.html?start=702b45e409495a41afcccbe87a251a692b0cefab&amp;end=dc78b8ba143915e07375e9d7f05838222cb1db3e&amp;stat=wall-time" target="_blank" title="https://perf.rust-lang.org/compare.html?start=702b45e409495a41afcccbe87a251a692b0cefab&amp;end=dc78b8ba143915e07375e9d7f05838222cb1db3e&amp;stat=wall-time">Detailed results</a></li>
<li>I'm working on collecting timing data for whole crate graphs via just cargo -Ztimings, nearly done with this</li>
<li>an open question is how to show this data (a bunch of links to html files? what would be good summary data?)</li>
</ul>
</li>
</ul>



<a name="177258043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177258043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177258043">(Oct 03 2019 at 15:53)</a>:</h4>
<p>we also will have <a href="https://github.com/rust-lang/rust/commit/f0b7b0a9327d3b43aa45a89e90d9785a06059b5a" target="_blank" title="https://github.com/rust-lang/rust/commit/f0b7b0a9327d3b43aa45a89e90d9785a06059b5a">https://github.com/rust-lang/rust/commit/f0b7b0a9327d3b43aa45a89e90d9785a06059b5a</a> which is a -Zthreads=(num_virtual_cpus) run on perf</p>



<a name="177258100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177258100" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177258100">(Oct 03 2019 at 15:54)</a>:</h4>
<p>and I plan on putting several hours at least into getting some initial audit reports put together for us to possibly dig into on Monday</p>



<a name="177258144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177258144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177258144">(Oct 03 2019 at 15:54)</a>:</h4>
<p>I'm not entirely sure what those will look like quite yet though</p>



<a name="177271348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177271348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177271348">(Oct 03 2019 at 18:15)</a>:</h4>
<p>okay performance collection on my end is mostly done, still need to wait for a couple of perf.rlo builds but that's mostly just a waiting game</p>



<a name="177305855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177305855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177305855">(Oct 04 2019 at 02:32)</a>:</h4>
<p>Tomorrow I plan to try and dig in and establish an agenda for monday's triage/audit session</p>



<a name="177370635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177370635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177370635">(Oct 04 2019 at 19:18)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span>  write up of potential audit topic for monday: <a href="https://hackmd.io/@simulacrum/HJv68ZHuH" target="_blank" title="https://hackmd.io/@simulacrum/HJv68ZHuH">https://hackmd.io/@simulacrum/HJv68ZHuH</a></p>
<p>I plan to put together a few more of these, though maybe with less detail, over the weekend</p>



<a name="177371780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177371780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177371780">(Oct 04 2019 at 19:32)</a>:</h4>
<p>ok -- another good one might be the dep-graph code being modified in <a href="https://github.com/rust-lang/rust/pull/63756" target="_blank" title="https://github.com/rust-lang/rust/pull/63756">https://github.com/rust-lang/rust/pull/63756</a></p>



<a name="177372097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177372097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177372097">(Oct 04 2019 at 19:36)</a>:</h4>
<p>okay, I might try and write something up</p>



<a name="177372104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177372104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177372104">(Oct 04 2019 at 19:36)</a>:</h4>
<p>that does sound like a good target</p>



<a name="177543471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177543471" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177543471">(Oct 07 2019 at 17:54)</a>:</h4>
<p>hey all, we'll meet today?</p>



<a name="177543547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177543547" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177543547">(Oct 07 2019 at 17:55)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="177543634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177543634" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177543634">(Oct 07 2019 at 17:56)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1117">@WG-parallel-rustc</span> <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span></p>



<a name="177543647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177543647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177543647">(Oct 07 2019 at 17:56)</a>:</h4>
<p>I'm not sure <span class="user-mention" data-user-id="116122">@simulacrum</span> if you had thoughts on what to discuss in detail</p>



<a name="177543657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177543657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177543657">(Oct 07 2019 at 17:56)</a>:</h4>
<p>we tossed out a few options looks like</p>



<a name="177543665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177543665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177543665">(Oct 07 2019 at 17:56)</a>:</h4>
<p>yeah I was thinking we could take the first couple minutes</p>



<a name="177543681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177543681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177543681">(Oct 07 2019 at 17:57)</a>:</h4>
<p>I'm about to hop on Zoom if you want to prediscuss</p>



<a name="177543691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177543691" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177543691">(Oct 07 2019 at 17:57)</a>:</h4>
<p>yep ok</p>



<a name="177543762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177543762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177543762">(Oct 07 2019 at 17:58)</a>:</h4>
<p><a href="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA" target="_blank" title="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA">https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA</a></p>



<a name="177544128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177544128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177544128">(Oct 07 2019 at 18:01)</a>:</h4>
<p><a href="https://hackmd.io/@simulacrum/r1jsI5U_r" target="_blank" title="https://hackmd.io/@simulacrum/r1jsI5U_r">https://hackmd.io/@simulacrum/r1jsI5U_r</a></p>



<a name="177551448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177551448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177551448">(Oct 07 2019 at 19:29)</a>:</h4>
<p>Hey sorry wasn't able to make it today, forgot to mention earlier too</p>



<a name="177551464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177551464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177551464">(Oct 07 2019 at 19:29)</a>:</h4>
<p>I'll review materials later today and respond to stuff</p>



<a name="177551617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177551617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177551617">(Oct 07 2019 at 19:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span> np -- but for next time, we asked if <span class="user-mention" data-user-id="138448">@cuviper</span> can do a bit of digging into our current jobserver setup, and maybe ping you with questions</p>



<a name="177553208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177553208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177553208">(Oct 07 2019 at 19:48)</a>:</h4>
<p><a href="https://youtu.be/VtsaiTiAjz8" target="_blank" title="https://youtu.be/VtsaiTiAjz8">Video uploading to youtube now</a></p>
<div class="youtube-video message_inline_image"><a data-id="VtsaiTiAjz8" href="https://youtu.be/VtsaiTiAjz8" target="_blank" title="https://youtu.be/VtsaiTiAjz8"><img src="https://i.ytimg.com/vi/VtsaiTiAjz8/default.jpg"></a></div>



<a name="177721979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177721979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177721979">(Oct 09 2019 at 14:59)</a>:</h4>
<p>Hey <span class="user-group-mention" data-user-group-id="1117">@WG-parallel-rustc</span>, can we maybe change the meeting time? I'd be good with either an hour earlier or later, or perhaps the same time (2pm Eastern) but on wednesday</p>



<a name="177722099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177722099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177722099">(Oct 09 2019 at 15:00)</a>:</h4>
<p>I'm fine with all the options better if it's not wednesday that time though</p>



<a name="177722481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177722481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177722481">(Oct 09 2019 at 15:04)</a>:</h4>
<p>Hour later on Monday would work even better for me, earlier isn't ideal. Wednesday is probably not great either, though I could perhaps make it work.</p>



<a name="177723983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177723983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177723983">(Oct 09 2019 at 15:18)</a>:</h4>
<p>ok let's go to 3pm Eastern on wed?</p>



<a name="177724249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177724249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177724249">(Oct 09 2019 at 15:20)</a>:</h4>
<p>Isn't 3pm the project sync?</p>



<a name="177724289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177724289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177724289">(Oct 09 2019 at 15:21)</a>:</h4>
<p>I'm open all Monday though</p>



<a name="177724336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177724336" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177724336">(Oct 09 2019 at 15:21)</a>:</h4>
<blockquote>
<p>ok let's go to 3pm Eastern on wed?</p>
</blockquote>
<p>oops I meant to say "on monday"</p>



<a name="177724480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177724480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177724480">(Oct 09 2019 at 15:22)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> to 3pm on monday</p>



<a name="177724934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177724934" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177724934">(Oct 09 2019 at 15:26)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> too</p>



<a name="177725146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/177725146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#177725146">(Oct 09 2019 at 15:28)</a>:</h4>
<p>adjusted calendar entry</p>



<a name="178123115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178123115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178123115">(Oct 14 2019 at 17:45)</a>:</h4>
<p>Hey sorry I won't be able to make today's meeting either, I really do want to help out though! I'll be around for the rest of the week for follow ups (unlike last week)</p>



<a name="178125054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178125054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178125054">(Oct 14 2019 at 18:11)</a>:</h4>
<p>sorry, I have to miss today too</p>



<a name="178128525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178128525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178128525">(Oct 14 2019 at 18:55)</a>:</h4>
<p>Hmm</p>



<a name="178128528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178128528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178128528">(Oct 14 2019 at 18:55)</a>:</h4>
<p>maybe we shoudl cancel this week</p>



<a name="178128533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178128533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178128533">(Oct 14 2019 at 18:55)</a>:</h4>
<p>I'm dealing with various things right now</p>



<a name="178128567"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178128567" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178128567">(Oct 14 2019 at 18:55)</a>:</h4>
<p>Not sure <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> or <span class="user-mention" data-user-id="116122">@simulacrum</span> what you're up to today?</p>



<a name="178128620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178128620" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178128620">(Oct 14 2019 at 18:56)</a>:</h4>
<p>I am free, but we can cancel; I think we don't have too much to discuss</p>



<a name="178128637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178128637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178128637">(Oct 14 2019 at 18:56)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="178128654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178128654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178128654">(Oct 14 2019 at 18:56)</a>:</h4>
<p>I believe the main thing is <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span>'s doc but that can probably wait a week and would be good to get input from multiple people on I think</p>



<a name="178129044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178129044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178129044">(Oct 14 2019 at 19:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> let's cancel then</p>



<a name="178129065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178129065" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178129065">(Oct 14 2019 at 19:01)</a>:</h4>
<p>OK</p>



<a name="178509956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178509956" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178509956">(Oct 18 2019 at 20:53)</a>:</h4>
<p>HEy <span class="user-mention" data-user-id="116122">@simulacrum</span> are you around by any chance?</p>



<a name="178510036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510036" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510036">(Oct 18 2019 at 20:54)</a>:</h4>
<p>Yeah, sort of - definitely in ~5 minutes</p>



<a name="178510043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510043">(Oct 18 2019 at 20:54)</a>:</h4>
<p>About to get in an elevator</p>



<a name="178510046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510046">(Oct 18 2019 at 20:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> and I are sitting here at RBR and we were just looking over his doc. My impression from random ripgrep'ing around is that there aren't all <em>that</em> many locks to look through</p>



<a name="178510078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510078">(Oct 18 2019 at 20:55)</a>:</h4>
<p>Yes, this matches my view.</p>



<a name="178510161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510161">(Oct 18 2019 at 20:56)</a>:</h4>
<p>I was thinking that some "juicy" topics for discussion might be:</p>
<ul>
<li>looking over session and see if there are things we can remove or better encapsulate (lots of public locks there)</li>
<li>looking over the <code>CrateMetadata</code> type which has random public fields and locks (but maybe <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span>'s PR does something here?)</li>
<li>discussing how the parallel LLVM stuff works today and how jobserver integration works</li>
<li>reviewing how the query locks work</li>
</ul>
<p>As an aside, one thing I was saying to him is that, in my mind, the value of this work is not necessarily finding bugs (I don't really expect that many) but rather (a) improving confidence, (b) finding a list of things to refactor, and (c) increasing the bus factor on the code generally =)</p>



<a name="178510179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510179">(Oct 18 2019 at 20:57)</a>:</h4>
<p>anyway I am basically wondering if we want to pick one of those for monday meeting and -- if so -- what prep we want to do</p>



<a name="178510181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510181">(Oct 18 2019 at 20:57)</a>:</h4>
<p>seems good to decide now-ish :)</p>



<a name="178510286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510286">(Oct 18 2019 at 20:58)</a>:</h4>
<p>I would personally lean towards parallel LLVM stuff -- I think Session, CrateMetadata, etc. are good topics but have less "lead time" needed</p>



<a name="178510312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510312">(Oct 18 2019 at 20:59)</a>:</h4>
<p>but we would need to make sure <span class="user-mention" data-user-id="116015">@Alex Crichton</span> and maybe <span class="user-mention" data-user-id="138448">@cuviper</span>  can make it I think for that</p>



<a name="178510319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510319">(Oct 18 2019 at 20:59)</a>:</h4>
<p>I agree</p>



<a name="178510320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510320">(Oct 18 2019 at 20:59)</a>:</h4>
<p>That's the most "juicy" area I think</p>



<a name="178510392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510392" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510392">(Oct 18 2019 at 21:00)</a>:</h4>
<p>I am uncertain _what_ there is to discuss, beyond just scoping out what we do today, though. In some sense I think this area is perhaps the most ripe for improvements but in conversation with Alex my impression was that it's also essentially blocked on parallel-by-default</p>



<a name="178510399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510399" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510399">(Oct 18 2019 at 21:00)</a>:</h4>
<p>well, I at least would enjoy learning more about <em>how</em> it even works today :)</p>



<a name="178510408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510408">(Oct 18 2019 at 21:00)</a>:</h4>
<p>just plain old "knowledge transfer"...</p>



<a name="178510426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510426">(Oct 18 2019 at 21:01)</a>:</h4>
<p>I don't quite understand, for example, why it would be blocked on par by default?</p>



<a name="178510437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510437">(Oct 18 2019 at 21:01)</a>:</h4>
<p>anyway, we're getting kicked out of this room so I'm going to go :)</p>



<a name="178510443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510443">(Oct 18 2019 at 21:01)</a>:</h4>
<p>okay -- I think that topic is a good fit for monday though</p>



<a name="178510453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510453">(Oct 18 2019 at 21:01)</a>:</h4>
<p>and if Alex isn't around we can easily fallback on diving into session or so</p>



<a name="178510454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510454">(Oct 18 2019 at 21:01)</a>:</h4>
<p>that seems 'not hard'</p>



<a name="178510632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510632">(Oct 18 2019 at 21:04)</a>:</h4>
<p>I'd be down for preparing some notes about how llvm/codegen works in parallel by monday</p>



<a name="178510639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178510639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178510639">(Oct 18 2019 at 21:04)</a>:</h4>
<p>I should be around on monday for sure this time too!</p>



<a name="178511345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178511345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178511345">(Oct 18 2019 at 21:17)</a>:</h4>
<blockquote>
<p>CrateMetadata type which has random public fields and locks (but maybe @Vadim Petrochenkov's PR does something here?)</p>
</blockquote>
<p>The crate store PR doesn't do anything there.<br>
<a href="https://github.com/rust-lang/rust/issues/65026" target="_blank" title="https://github.com/rust-lang/rust/issues/65026">#65026</a> and <a href="https://github.com/rust-lang/rust/issues/65170" target="_blank" title="https://github.com/rust-lang/rust/issues/65170">#65170</a> removed some fields from <code>CrateMetadata</code> and documented the remaining ones, nothing lock-related though.</p>



<a name="178595304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178595304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178595304">(Oct 20 2019 at 14:23)</a>:</h4>
<blockquote>
<p>CrateMetadata type which has random public fields and locks</p>
</blockquote>
<p>cc <a href="https://github.com/rust-lang/rust/pull/65625#issuecomment-544256417" target="_blank" title="https://github.com/rust-lang/rust/pull/65625#issuecomment-544256417">https://github.com/rust-lang/rust/pull/65625#issuecomment-544256417</a></p>



<a name="178660795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178660795" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178660795">(Oct 21 2019 at 14:33)</a>:</h4>
<blockquote>
<p>I'd be down for preparing some notes about how llvm/codegen works in parallel by monday</p>
</blockquote>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span> did you get a chance to prepare these notes? I'd like to look over and maybe come up with some questions</p>



<a name="178660880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178660880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178660880">(Oct 21 2019 at 14:34)</a>:</h4>
<p>if not that's fine, we can fallback to <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span>'s work on the sync module I think :)</p>



<a name="178662233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178662233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178662233">(Oct 21 2019 at 14:48)</a>:</h4>
<p>oh heh sure</p>



<a name="178662236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178662236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178662236">(Oct 21 2019 at 14:48)</a>:</h4>
<p>let me write up some notes</p>



<a name="178662257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178662257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178662257">(Oct 21 2019 at 14:48)</a>:</h4>
<p>I'll start writing some notes at <a href="https://hackmd.io/DnuWl7-PRb6t15GBduGLZw" target="_blank" title="https://hackmd.io/DnuWl7-PRb6t15GBduGLZw">https://hackmd.io/DnuWl7-PRb6t15GBduGLZw</a></p>



<a name="178663627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178663627" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178663627">(Oct 21 2019 at 15:02)</a>:</h4>
<p>Thanks!</p>



<a name="178663646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178663646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178663646">(Oct 21 2019 at 15:02)</a>:</h4>
<p>I've added that link to the main planning doc (<a href="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA?edit" target="_blank" title="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA?edit">https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA?edit</a>)</p>



<a name="178664109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178664109" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178664109">(Oct 21 2019 at 15:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span>  Step 1 is a bit parallel already</p>



<a name="178665472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178665472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178665472">(Oct 21 2019 at 15:19)</a>:</h4>
<p>I also have a branch which makes translation to LLVM parallel. It is quite messy though and a simple parallel loop over CGUs would be much simpler. It does however allow us to use more threads for LLVM optimization. This seems like a useful property since LLVM optimization will scale to higher thread counts than the rest of the compiler. This would only help high core count CPUs and a distributed rustc would perhaps even things out a bit.</p>



<a name="178665815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178665815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178665815">(Oct 21 2019 at 15:23)</a>:</h4>
<p>Is there a simpler scheme that would allow us to scale LLVM optimization to more threads than we have in the Rayon thread-pool?<br>
I guess we could spawn another thread-pool and just have a global list of CGUs, we inject a job which just steals from this list unit complete?</p>



<a name="178666998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178666998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178666998">(Oct 21 2019 at 15:36)</a>:</h4>
<p>ok I've finished writing up the doc  -- <a href="https://hackmd.io/DnuWl7-PRb6t15GBduGLZw" target="_blank" title="https://hackmd.io/DnuWl7-PRb6t15GBduGLZw">https://hackmd.io/DnuWl7-PRb6t15GBduGLZw</a></p>



<a name="178667013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178667013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178667013">(Oct 21 2019 at 15:36)</a>:</h4>
<p>it may have a bunch of info that's either already known or not of interest to this gropu though</p>



<a name="178675521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178675521" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178675521">(Oct 21 2019 at 17:05)</a>:</h4>
<p>thanks! I'll take a look in a bit.</p>



<a name="178686968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178686968" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178686968">(Oct 21 2019 at 19:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span> meeting?</p>



<a name="178686978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178686978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178686978">(Oct 21 2019 at 19:03)</a>:</h4>
<p>er my bad</p>



<a name="178686996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178686996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178686996">(Oct 21 2019 at 19:03)</a>:</h4>
<p>462 096 851 is the zoom code</p>



<a name="178689731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178689731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178689731">(Oct 21 2019 at 19:37)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> or <span class="user-mention" data-user-id="116015">@Alex Crichton</span> <a href="https://github.com/rust-lang/rust/blob/857a55b8f0a692cb2304ab7c062d9cc74122e516/src/librustc_interface/util.rs#L209-L214" target="_blank" title="https://github.com/rust-lang/rust/blob/857a55b8f0a692cb2304ab7c062d9cc74122e516/src/librustc_interface/util.rs#L209-L214">https://github.com/rust-lang/rust/blob/857a55b8f0a692cb2304ab7c062d9cc74122e516/src/librustc_interface/util.rs#L209-L214</a></p>



<a name="178692526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178692526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178692526">(Oct 21 2019 at 20:02)</a>:</h4>
<blockquote>
<p>I also have a branch which makes translation to LLVM parallel. It is quite messy though and a simple parallel loop over CGUs would be much simpler. It does however allow us to use more threads for LLVM optimization. This seems like a useful property since LLVM optimization will scale to higher thread counts than the rest of the compiler. This would only help high core count CPUs and a distributed rustc would perhaps even things out a bit.</p>
</blockquote>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span> I'm not sure what you mean by this actually?</p>



<a name="178692579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178692579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178692579">(Oct 21 2019 at 20:03)</a>:</h4>
<p>I guess you just meant that we know that each CGU can be executed in parallel? (Whereas, e.g., executing the type-checker for two distinct functions in parallel may wind up with a common dependency they both block on?)</p>



<a name="178692846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178692846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178692846">(Oct 21 2019 at 20:05)</a>:</h4>
<p>There's no communication between threads with LLVM optimizing CGUs, and optimizing CGUs takes a while. So no fine grained parallelism like elsewhere in the compiler (queries, interners, etc.)</p>



<a name="178700959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/178700959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#178700959">(Oct 21 2019 at 21:33)</a>:</h4>
<p>makes sense</p>



<a name="179192981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179192981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Faria <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179192981">(Oct 28 2019 at 00:06)</a>:</h4>
<p>I updated the shared doc with a link to my current task's doc. I might be able to attend tomorrow's meeting.</p>



<a name="179193034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179193034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Faria <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179193034">(Oct 28 2019 at 00:08)</a>:</h4>
<p>Should I also put any of my work under <code>current action items</code>?</p>



<a name="179258858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179258858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179258858">(Oct 28 2019 at 18:12)</a>:</h4>
<p>I was just going to ask, <span class="user-group-mention" data-user-group-id="1117">@WG-parallel-rustc</span>, whether we planned to meet today? I've not had any time to follow up on the things we discussed last time</p>



<a name="179258950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179258950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179258950">(Oct 28 2019 at 18:13)</a>:</h4>
<p>I'm available to meet, but I don't have any updates to bring</p>



<a name="179259038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179259038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179259038">(Oct 28 2019 at 18:14)</a>:</h4>
<p>I'm not sure what we were going to do exactly, I've scheduled a "pairing" session with <span class="user-mention" data-user-id="116114">@Paul Faria</span> for tonight</p>



<a name="179259060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179259060" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179259060">(Oct 28 2019 at 18:14)</a>:</h4>
<p>we need to define what to do exactly but I have some ideas</p>



<a name="179259126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179259126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179259126">(Oct 28 2019 at 18:15)</a>:</h4>
<p>no updates for today rather than the doc I've shared already with <code>sync</code> parallel constructions</p>



<a name="179259495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179259495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Faria <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179259495">(Oct 28 2019 at 18:18)</a>:</h4>
<p>I've already added my updates to the doc. Nothing that needs to be discussed in a synchronous meeting I think</p>



<a name="179263514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179263514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179263514">(Oct 28 2019 at 18:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> is the meeting happening? it ended not being clear to me</p>



<a name="179263517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179263517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179263517">(Oct 28 2019 at 18:57)</a>:</h4>
<p>I think we should meet briefly to go over the sync conventions</p>



<a name="179263557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179263557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179263557">(Oct 28 2019 at 18:57)</a>:</h4>
<p>It'll probably not take us the full hour but I think it'd be good to at least make sure we're all on the same page</p>



<a name="179263646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179263646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179263646">(Oct 28 2019 at 18:58)</a>:</h4>
<p>seems good to me</p>



<a name="179263759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179263759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179263759">(Oct 28 2019 at 18:59)</a>:</h4>
<p>I'd also like to touch on how moving things from Session to TyCtxt went -- not sure if it _needs_ to be sync, but I think it could benefit from that. (i.e., do we want to document this pattern / add it to the guidelines)</p>



<a name="179264052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179264052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179264052">(Oct 28 2019 at 19:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> ^</p>



<a name="179264286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179264286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179264286">(Oct 28 2019 at 19:04)</a>:</h4>
<p>hey all</p>



<a name="179264321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179264321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179264321">(Oct 28 2019 at 19:04)</a>:</h4>
<p>coming</p>



<a name="179264395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/planning%20meeting/near/179264395" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/187679-t-compiler/wg-parallel-rustc/topic/planning.20meeting.html#179264395">(Oct 28 2019 at 19:04)</a>:</h4>
<p><a href="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA" target="_blank" title="https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA">https://hackmd.io/_1S8_ChMSa2N8mRw6EsGPA</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>