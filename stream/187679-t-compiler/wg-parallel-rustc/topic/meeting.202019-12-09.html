<html>
<head><meta charset="utf-8"><title>meeting 2019-12-09 · t-compiler/wg-parallel-rustc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/index.html">t-compiler/wg-parallel-rustc</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html">meeting 2019-12-09</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="182959661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182959661" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182959661">(Dec 09 2019 at 14:25)</a>:</h4>
<p>I don't think I have any updates</p>



<a name="182959748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182959748" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182959748">(Dec 09 2019 at 14:26)</a>:</h4>
<p>I have not spent time on looking into making Cargo act as the jobserver for rustc (vs. the pipe, etc)</p>



<a name="182959794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182959794" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182959794">(Dec 09 2019 at 14:26)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1117">@WG-parallel-rustc</span> do we think it's worth meeting today, given this?</p>



<a name="182959801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182959801" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182959801">(Dec 09 2019 at 14:26)</a>:</h4>
<p>(not sure if others have things to talk about)</p>



<a name="182960624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182960624" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182960624">(Dec 09 2019 at 14:35)</a>:</h4>
<p>not from my side, last week I were doing some MIR stuff</p>



<a name="182974775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182974775" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182974775">(Dec 09 2019 at 16:46)</a>:</h4>
<p>okay, let's tentatively cancel, but if someone feels that we should meet, then please say so in the next hour</p>



<a name="182975749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182975749" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182975749">(Dec 09 2019 at 16:56)</a>:</h4>
<p>Cancelling sounds ok with me</p>



<a name="182994456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182994456" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182994456">(Dec 09 2019 at 20:09)</a>:</h4>
<p>Hey all sorry i'm slow</p>



<a name="182994501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182994501" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182994501">(Dec 09 2019 at 20:10)</a>:</h4>
<p>but i'm also ok :)</p>



<a name="182994702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182994702" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182994702">(Dec 09 2019 at 20:12)</a>:</h4>
<p>that said, I see there's been a lot of activity, <span class="user-mention" data-user-id="116122">@simulacrum</span> is it possible to summarize what's up?</p>



<a name="182994727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182994727" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182994727">(Dec 09 2019 at 20:12)</a>:</h4>
<p>I saw some discussion of possible bugs in the new rustc scheduler, or at least the jobserver integration with it?</p>



<a name="182994742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182994742" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182994742">(Dec 09 2019 at 20:12)</a>:</h4>
<p>Yeah, I can provide some summary</p>



<a name="182994969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182994969" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182994969">(Dec 09 2019 at 20:15)</a>:</h4>
<p>We've loosely concluded that the current jobserver, at least on linux, is showing fairly high contention inside the kernel (for read/write calls on the pipe), which we believe is due to ~all rustc threads waiting for a jobserver token getting woken up on every new token (vs. just one). Using a POSIX IPC semaphore here seems to resolve things, but is not viable due to being incompatible with make (and cmake, etc.).</p>
<p>We also discovered that at least the new rayon branch is incorrectly releasing the implicit (and only) token held by a rustc process when it goes to sleep due to lack of work; we have a tentative fix planned that'll be within rustc itself essentially avoiding the bug by just not ever releasing the implicit token.</p>



<a name="182995205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995205" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995205">(Dec 09 2019 at 20:17)</a>:</h4>
<p>For the contention, the current plan is that rustc will no longer directly connect to the jobserver, but rather call into Cargo (via some sort of pipe, possibly, or some other mechanism -- this is a bit unclear right now), and Cargo will issue the blocking reads/writes on the jobserver pipe. This should give us flexibility in terms of which rustc's get tokens and is more generally nice for getting control over scheduling tokens across the <code>rustc</code>s we spawn. That work is planned for myself to do, but I've been semi-avoiding it so far since it sounds like a relatively large task (and I need to spend some design time writing up a spec before digging in, I think).</p>



<a name="182995227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995227" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995227">(Dec 09 2019 at 20:18)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> is planning on doing the rayon bug mitigation, I think.</p>



<a name="182995293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995293" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995293">(Dec 09 2019 at 20:18)</a>:</h4>
<p>Hmm</p>



<a name="182995295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995295" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995295">(Dec 09 2019 at 20:18)</a>:</h4>
<p>OK</p>



<a name="182995310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995310">(Dec 09 2019 at 20:18)</a>:</h4>
<p>It seems like this might also impact folks attempting to run rustc outside of cargo</p>



<a name="182995324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995324" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995324">(Dec 09 2019 at 20:18)</a>:</h4>
<p>Though I guess we've never really "approved" of them using the jobserver, right?</p>



<a name="182995348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995348" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995348">(Dec 09 2019 at 20:18)</a>:</h4>
<p>Ah, so, in general the thought is that we can always fallback on the old mode</p>



<a name="182995353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995353" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995353">(Dec 09 2019 at 20:19)</a>:</h4>
<p>that's not too hard</p>



<a name="182995368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995368" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995368">(Dec 09 2019 at 20:19)</a>:</h4>
<p>(I remember at some point us -- or maybe just me -- thinking that it'd be nice if they could integrate into "standard" workflows)</p>



<a name="182995377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995377" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995377">(Dec 09 2019 at 20:19)</a>:</h4>
<p>it's just that the old mode might basically limit you to, say, 2-4 threads at most per rustc</p>



<a name="182995400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995400" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995400">(Dec 09 2019 at 20:19)</a>:</h4>
<p>the main motivation for interjecting cargo</p>



<a name="182995409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995409" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995409">(Dec 09 2019 at 20:19)</a>:</h4>
<p>is..well, what is it? :)</p>



<a name="182995472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995472" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995472">(Dec 09 2019 at 20:20)</a>:</h4>
<p>being able to have a richer vocab than just "give me and I'll block"?</p>



<a name="182995482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995482" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995482">(Dec 09 2019 at 20:20)</a>:</h4>
<p>having just one thread/process doing the writing into the jobserver pipe to mitigate the contention</p>



<a name="182995533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995533" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995533">(Dec 09 2019 at 20:20)</a>:</h4>
<p>OK.</p>



<a name="182995596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995596" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995596">(Dec 09 2019 at 20:21)</a>:</h4>
<blockquote>
<p>We've loosely concluded that the current jobserver, at least on linux, is showing fairly high contention inside the kernel (for read/write calls on the pipe), which we believe is due to ~all rustc threads waiting for a jobserver token getting woken up on every new token (vs. just one).</p>
</blockquote>
<p>do we believe this is because of rayon's "wake-up-the-world" scheduler behavior?</p>



<a name="182995807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995807" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995807">(Dec 09 2019 at 20:23)</a>:</h4>
<p>I think, well, maybe, but mostly no -- this is more so because linux itself will wake up all T*N (in the large core count case, up to ~800 threads) threads when a single byte is written into the jobserver pipe, where  all are doing <code>read(&amp;mut [_; 1])</code> basically</p>



<a name="182995846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995846" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995846">(Dec 09 2019 at 20:24)</a>:</h4>
<p>Ok. Yeah I was thinking that I didn't quite see how it could be linked to rayon since rayon threads are basically all just blocked</p>



<a name="182995920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995920" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995920">(Dec 09 2019 at 20:24)</a>:</h4>
<p>i.e., the rayon events will be going out to the threads, and if they were sleeping they'd wake up, but they're not sleeping, they're blocking waiting for jobserver events</p>



<a name="182995950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995950" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995950">(Dec 09 2019 at 20:24)</a>:</h4>
<p>it's only linked to rayon insofar as rayon currently is not quite well supporting the "don't spawn T threads until you need them" / slow-start or so, but that's just exacerbating the problem rather than causing it most likely</p>



<a name="182995986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182995986" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182995986">(Dec 09 2019 at 20:25)</a>:</h4>
<p>yes. the new scheduler in principle would help with <em>that specific part</em> of the problem perhaps</p>



<a name="182996020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182996020" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182996020">(Dec 09 2019 at 20:25)</a>:</h4>
<p>to be clear, ~all benchmarks were done with your fork of rayon</p>



<a name="182996159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182996159" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182996159">(Dec 09 2019 at 20:27)</a>:</h4>
<p>yes, ok</p>



<a name="182996172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182996172" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182996172">(Dec 09 2019 at 20:27)</a>:</h4>
<p>it won't help beyond the <em>benchmarks</em></p>



<a name="182996198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182996198" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182996198">(Dec 09 2019 at 20:27)</a>:</h4>
<p>since they're already using it :)</p>



<a name="182996418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182996418" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182996418">(Dec 09 2019 at 20:29)</a>:</h4>
<p>I think that's all -- I don't think we've made other progress etc</p>



<a name="182996922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting%202019-12-09/near/182996922" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187679-t-compiler/wg-parallel-rustc/topic/meeting.202019-12-09.html#182996922">(Dec 09 2019 at 20:35)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="116122">@simulacrum</span> <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>