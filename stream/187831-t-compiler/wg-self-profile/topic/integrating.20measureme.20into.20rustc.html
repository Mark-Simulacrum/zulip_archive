<html>
<head><meta charset="utf-8"><title>integrating measureme into rustc · t-compiler/wg-self-profile · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/index.html">t-compiler/wg-self-profile</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html">integrating measureme into rustc</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="161946206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161946206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161946206">(Mar 28 2019 at 12:15)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span>, you mentioned that you already have a prototype of this. Are there any blockers or issues that we should address?</p>



<a name="161946309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161946309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161946309">(Mar 28 2019 at 12:17)</a>:</h4>
<p>For clarifying issues around how to do things in <code>rustc</code> concretely, I suggest that we do the usual: You open PR whenever you feel ready and we discuss specifics there.</p>



<a name="161950025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161950025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161950025">(Mar 28 2019 at 13:10)</a>:</h4>
<p>It's just unfinished</p>



<a name="161950058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161950058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161950058">(Mar 28 2019 at 13:11)</a>:</h4>
<p>I'm hoping to have it done in the next few days or maybe this weekend</p>



<a name="161950202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161950202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161950202">(Mar 28 2019 at 13:13)</a>:</h4>
<p>I do have a question around how to handle the <code>QueryCacheHit</code> and <code>QueryCount</code> events though (<a href="https://github.com/rust-lang/rust/blob/237bf3244fffef501cf37d4bda00e1fce3fcfb46/src/librustc/util/profiling.rs#L32-L33" target="_blank" title="https://github.com/rust-lang/rust/blob/237bf3244fffef501cf37d4bda00e1fce3fcfb46/src/librustc/util/profiling.rs#L32-L33">here</a>)</p>



<a name="161950222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161950222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161950222">(Mar 28 2019 at 13:13)</a>:</h4>
<p>Did you have an idea around how to handle serializing that data?</p>



<a name="161952133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161952133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161952133">(Mar 28 2019 at 13:34)</a>:</h4>
<p><code>QueryCacheHit</code> should just be a single event that is generated instead of a <code>(QueryStart, QueryEnd)</code> pair, I'd say</p>



<a name="161952164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161952164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161952164">(Mar 28 2019 at 13:34)</a>:</h4>
<p>I don't remember what <code>QueryCount</code> is :)</p>



<a name="161952315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161952315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161952315">(Mar 28 2019 at 13:36)</a>:</h4>
<p>Oh, it's just the total number of query results for a given query</p>



<a name="161952350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161952350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161952350">(Mar 28 2019 at 13:37)</a>:</h4>
<p>that information is implicit in the stream of events</p>



<a name="161952404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161952404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161952404">(Mar 28 2019 at 13:37)</a>:</h4>
<p>e.g. just count all the <code>QueryStart</code> events for a given query to get the total number</p>



<a name="161952742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/integrating%20measureme%20into%20rustc/near/161952742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/187831-t-compiler/wg-self-profile/topic/integrating.20measureme.20into.20rustc.html#161952742">(Mar 28 2019 at 13:41)</a>:</h4>
<p>Hmm... that's true. I'll just remove that event.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>