<html>
<head><meta charset="utf-8"><title>not seeing any data · t-compiler/wg-self-profile · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/index.html">t-compiler/wg-self-profile</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html">not seeing any data</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="168453701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168453701" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168453701">(Jun 18 2019 at 20:45)</a>:</h4>
<p>So <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> -- I'm trying to get self-profile data out from the compiler and not seeing anything. When I run with <code>-Zself-profile</code>, basically, nothing seems to be being created.</p>



<a name="168453719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168453719" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168453719">(Jun 18 2019 at 20:45)</a>:</h4>
<p>The files should be named <code>perf-*</code> in current directory?</p>



<a name="168453730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168453730" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168453730">(Jun 18 2019 at 20:45)</a>:</h4>
<p>Hmm</p>



<a name="168453759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168453759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168453759">(Jun 18 2019 at 20:46)</a>:</h4>
<p>The name changed about a month ago but yes, the files should be in your working directory</p>



<a name="168453810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168453810" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168453810">(Jun 18 2019 at 20:46)</a>:</h4>
<p>Are you invoking rustc directly or via cargo?</p>



<a name="168453835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168453835" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168453835">(Jun 18 2019 at 20:46)</a>:</h4>
<p>via cargo, but when I use the <code>-v</code> option it <em>does</em> seem to be passing <code>-Zself-profile</code></p>



<a name="168453857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168453857" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168453857">(Jun 18 2019 at 20:47)</a>:</h4>
<p><code>rustc --crate-name style components/style/lib.rs --color never --crate-type lib --emit=dep-info,metadata,link -C debuginfo=2 -Zself-profile  ...</code></p>



<a name="168453858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168453858" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168453858">(Jun 18 2019 at 20:47)</a>:</h4>
<p>Hmm...</p>



<a name="168453891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168453891" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168453891">(Jun 18 2019 at 20:47)</a>:</h4>
<p>Then, yeah, it should be enabled and outputting the current directory</p>



<a name="168454160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454160" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454160">(Jun 18 2019 at 20:51)</a>:</h4>
<p>No chance you got a <code>warning: failed to create profiler</code> right?</p>



<a name="168454268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454268" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454268">(Jun 18 2019 at 20:52)</a>:</h4>
<p>no, I don't see that</p>



<a name="168454281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454281" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454281">(Jun 18 2019 at 20:52)</a>:</h4>
<p>I also tried <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> just doing <code>rustc -Zself-profile</code></p>



<a name="168454288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454288" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454288">(Jun 18 2019 at 20:52)</a>:</h4>
<p>I must be doing something dumb</p>



<a name="168454299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454299" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454299">(Jun 18 2019 at 20:53)</a>:</h4>
<p>You're not on a really old version of rustc are you?</p>



<a name="168454487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454487" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454487">(Jun 18 2019 at 20:55)</a>:</h4>
<p>The profiler is tied into <code>rustc::session::build_session_with_source_map()</code> so I don't think there's a codepath which ignores the option</p>



<a name="168454593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454593" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454593">(Jun 18 2019 at 20:56)</a>:</h4>
<p>I just built it</p>



<a name="168454601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454601" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454601">(Jun 18 2019 at 20:56)</a>:</h4>
<p>the commit is from June 18</p>



<a name="168454635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454635" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454635">(Jun 18 2019 at 20:57)</a>:</h4>
<p>Hmmm</p>



<a name="168454644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454644" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454644">(Jun 18 2019 at 20:57)</a>:</h4>
<p>It doesn't sound like you're doing anything dumb <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="168454708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454708" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454708">(Jun 18 2019 at 20:58)</a>:</h4>
<p>Unfortunately we don't have any <code>trace!()</code>ing around the profiler initialization.</p>



<a name="168454724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454724" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454724">(Jun 18 2019 at 20:58)</a>:</h4>
<p>oh wait</p>



<a name="168454727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454727" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454727">(Jun 18 2019 at 20:58)</a>:</h4>
<p>I will look into this tonight and get back to you</p>



<a name="168454731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454731" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454731">(Jun 18 2019 at 20:58)</a>:</h4>
<p>I am seeing some output <em>now</em></p>



<a name="168454739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454739" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454739">(Jun 18 2019 at 20:58)</a>:</h4>
<p>the file names do not have <code>pid</code> in them though</p>



<a name="168454758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454758" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454758">(Jun 18 2019 at 20:58)</a>:</h4>
<p>I think they're <code>{cratename}-{pid}.extension</code></p>



<a name="168454905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454905" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454905">(Jun 18 2019 at 21:00)</a>:</h4>
<p>ok,I have no idea why I wasn't seeing files before</p>



<a name="168454909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454909" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454909">(Jun 18 2019 at 21:00)</a>:</h4>
<p>but now I do</p>



<a name="168454914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454914" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454914">(Jun 18 2019 at 21:00)</a>:</h4>
<p>now I have to remember how to postprocess the data :)</p>



<a name="168454948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168454948" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168454948">(Jun 18 2019 at 21:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <a href="https://github.com/rust-lang/measureme/tree/master/summarize" target="_blank" title="https://github.com/rust-lang/measureme/tree/master/summarize">https://github.com/rust-lang/measureme/tree/master/summarize</a></p>



<a name="168455448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168455448" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168455448">(Jun 18 2019 at 21:07)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> do you know what kinds of stuff winds up getting included in "macro expansion"</p>



<a name="168455580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168455580" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168455580">(Jun 18 2019 at 21:09)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <a href="https://github.com/rust-lang/rust/blob/9606f6fa64926a84d82e3c62dbdc57f5c10f756d/src/librustc_interface/passes.rs#L377-L452" target="_blank" title="https://github.com/rust-lang/rust/blob/9606f6fa64926a84d82e3c62dbdc57f5c10f756d/src/librustc_interface/passes.rs#L377-L452">https://github.com/rust-lang/rust/blob/9606f6fa64926a84d82e3c62dbdc57f5c10f756d/src/librustc_interface/passes.rs#L377-L452</a></p>



<a name="168455586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168455586" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168455586">(Jun 18 2019 at 21:09)</a>:</h4>
<p>A lot it looks like</p>



<a name="168455704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168455704" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168455704">(Jun 18 2019 at 21:10)</a>:</h4>
<p>I'm going to be afk for a few hours but I'll check back later tonight.</p>



<a name="168455934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168455934" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168455934">(Jun 18 2019 at 21:13)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> ok, thanks</p>



<a name="168455941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168455941" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168455941">(Jun 18 2019 at 21:13)</a>:</h4>
<p>I'm going to try and figure out the flame graph stuff</p>



<a name="168456243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168456243" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168456243">(Jun 18 2019 at 21:17)</a>:</h4>
<p>isn't there some way to view this stuff in chrome or other tools?</p>



<a name="168460637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168460637" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168460637">(Jun 18 2019 at 22:20)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> yeah measureme has <code>crox</code> to produce profiling files in chrome's format <a href="https://github.com/rust-lang/measureme/tree/master/crox" target="_blank" title="https://github.com/rust-lang/measureme/tree/master/crox">https://github.com/rust-lang/measureme/tree/master/crox</a> — as for other tools there's eg <a href="https://www.speedscope.app/" target="_blank" title="https://www.speedscope.app/">https://www.speedscope.app/</a> which can read flamegraphs in the usual format IIRC</p>



<a name="168468961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168468961" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168468961">(Jun 19 2019 at 00:55)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> The stack collapse tool is <a href="https://github.com/rust-lang/measureme/tree/master/stack_collapse" target="_blank" title="https://github.com/rust-lang/measureme/tree/master/stack_collapse">https://github.com/rust-lang/measureme/tree/master/stack_collapse</a>. You can use that to get a collapsed stacks file that can be input into the <a href="https://github.com/brendangregg/FlameGraph" target="_blank" title="https://github.com/brendangregg/FlameGraph">FlameGraph scripts</a>. As <span class="user-mention" data-user-id="116113">@lqd</span> mentioned, you can also just open the output of <code>stack-collapse</code> in speedscope.</p>



<a name="168500196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168500196" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168500196">(Jun 19 2019 at 12:10)</a>:</h4>
<p>I figured it out, thanks all. I'm trying to correlate the results with some other profiling data, I haven't yet fully succeeded -- but partly that's because gathering other data has proven hard.</p>



<a name="168500861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/not%20seeing%20any%20data/near/168500861" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/not.20seeing.20any.20data.html#168500861">(Jun 19 2019 at 12:21)</a>:</h4>
<p>I've also heard good things about <a href="http://profiler.firefox.com" target="_blank" title="http://profiler.firefox.com">profiler.firefox.com</a> from <span class="user-mention" data-user-id="116015">@Alex Crichton</span>; not sure wihich formats it can load</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>