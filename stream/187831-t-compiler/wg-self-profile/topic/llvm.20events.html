<html>
<head><meta charset="utf-8"><title>llvm events · t-compiler/wg-self-profile · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/index.html">t-compiler/wg-self-profile</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/llvm.20events.html">llvm events</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="188405744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/llvm%20events/near/188405744" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/llvm.20events.html#188405744">(Feb 17 2020 at 20:47)</a>:</h4>
<p>noticed that when I tried to use the nightly compiler with <code>-Z new-llvm-pass-manager -Z self-profile -Z self-profile-events=llvm</code> all the function names is "&lt;UNKNOWN&gt;" but when I build by my self the names is as expected do any one have an idea what the difference can be?</p>



<a name="188449083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/llvm%20events/near/188449083" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/llvm.20events.html#188449083">(Feb 18 2020 at 13:13)</a>:</h4>
<p>Hmm I haven't seen that. When I tried your changes, I built locally though...</p>



<a name="188629458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/llvm%20events/near/188629458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/llvm.20events.html#188629458">(Feb 20 2020 at 11:31)</a>:</h4>
<p>that's weird. does that also occur when adding other filter, e.g. <code>-Z self-profile-events=default,llvm</code>?</p>



<a name="188669306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/llvm%20events/near/188669306" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/llvm.20events.html#188669306">(Feb 20 2020 at 19:26)</a>:</h4>
<p>yes it is occurring when adding other filters but this is a new "unknown" as this is capital letters it is from <a href="https://github.com/rust-lang/rust/blob/master/src/rustllvm/PassWrapper.cpp#L659" target="_blank" title="https://github.com/rust-lang/rust/blob/master/src/rustllvm/PassWrapper.cpp#L659">https://github.com/rust-lang/rust/blob/master/src/rustllvm/PassWrapper.cpp#L659</a> so for some reason the any_isa do not work for nightly builds but it works for local builds</p>



<a name="188715145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/llvm%20events/near/188715145" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/llvm.20events.html#188715145">(Feb 21 2020 at 09:26)</a>:</h4>
<p>maybe it's the C compiler version that makes the difference?</p>



<a name="188810853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/llvm%20events/near/188810853" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/llvm.20events.html#188810853">(Feb 22 2020 at 10:24)</a>:</h4>
<p>tried to use clang to build but got the same result but I see that linux dist uses a custom build of clang so maybe shall test that<br>
it works for windows and mac nightly builds so only linux that have the problem</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>