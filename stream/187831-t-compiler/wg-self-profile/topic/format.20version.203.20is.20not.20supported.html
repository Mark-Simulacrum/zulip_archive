<html>
<head><meta charset="utf-8"><title>format version 3 is not supported · t-compiler/wg-self-profile · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/index.html">t-compiler/wg-self-profile</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html">format version 3 is not supported</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="185100707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185100707" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Sapin <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185100707">(Jan 08 2020 at 11:29)</a>:</h4>
<p>Hi. I tried the instructions in <a href="https://github.com/rust-lang/measureme/blob/master/summarize/Readme.md#profiling-the-nightly-compiler" target="_blank" title="https://github.com/rust-lang/measureme/blob/master/summarize/Readme.md#profiling-the-nightly-compiler">https://github.com/rust-lang/measureme/blob/master/summarize/Readme.md#profiling-the-nightly-compiler</a> in Servo and got <code>Error: "Event stream file format version \'3\' is not supported\n                 by this version of `measureme`."</code>. Is this a known issue?</p>



<a name="185100775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185100775" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Sapin <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185100775">(Jan 08 2020 at 11:30)</a>:</h4>
<p>Note that we’re on nightly-2019-12-23. Is a more recent Nightly required?</p>



<a name="185101098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185101098" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185101098">(Jan 08 2020 at 11:35)</a>:</h4>
<p><del>likely</del></p>



<a name="185101203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185101203" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185101203">(Jan 08 2020 at 11:37)</a>:</h4>
<p>you're getting this when running summarize right ?</p>



<a name="185101578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185101578" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185101578">(Jan 08 2020 at 11:42)</a>:</h4>
<p>(I wonder if summarize can read old formats; just in case it's the tool which is too recent and not the nightly too old; rustc still uses measureme 0.5 and it seems the repo has a newer version; I think the version format in the repo is 5)</p>



<a name="185102076"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185102076" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Sapin <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185102076">(Jan 08 2020 at 11:50)</a>:</h4>
<p>Yes, when running <code>summarize</code>, which I compiled per instructions from <code>$ git clone https://github.com/rust-lang/measureme.git</code></p>



<a name="185102379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185102379" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185102379">(Jan 08 2020 at 11:54)</a>:</h4>
<p><span class="user-mention" data-user-id="219747">@Simon Sapin</span> can you try rebuilding measureme at the 0.5 or 0.5.1 tag?</p>



<a name="185102426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185102426" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185102426">(Jan 08 2020 at 11:55)</a>:</h4>
<p>yeah I suggested that elsewhere, and am also trying it rn</p>



<a name="185102639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185102639" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185102639">(Jan 08 2020 at 11:58)</a>:</h4>
<p><code>git checkout fb50acb</code> is the 0.5.1 release of <code>measureme</code> and will fix the format error (I'm still seeing other "unexpectedly encountered events" but I'm on a newer nightly, I'll check on 12/23 next)</p>



<a name="185102784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185102784" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185102784">(Jan 08 2020 at 12:00)</a>:</h4>
<p>yup it'll be enough, it's good on 12/23</p>



<a name="185103533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185103533" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Sapin <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185103533">(Jan 08 2020 at 12:11)</a>:</h4>
<p>0.5.1 works, thanks</p>



<a name="185361535"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185361535" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185361535">(Jan 10 2020 at 23:33)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> <span class="user-mention" data-user-id="124287">@mw</span> was wondering, do y'all know what's going on here? It looks like measureme is updated to 0.7.1 in the rust-lang/rust repository, but is it still emitting an older format?</p>



<a name="185361733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185361733" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185361733">(Jan 10 2020 at 23:36)</a>:</h4>
<p>it's <a href="https://github.com/rust-lang/rust/pull/67397#issuecomment-573153365" target="_blank" title="https://github.com/rust-lang/rust/pull/67397#issuecomment-573153365">https://github.com/rust-lang/rust/pull/67397#issuecomment-573153365</a> IIUC — perf.rlo was apparently updated to the new summarize version already but it seems not to work yet</p>



<a name="185361809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185361809" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185361809">(Jan 10 2020 at 23:38)</a>:</h4>
<p>(0.7.1 emits version 5, if that's what you're talking about)</p>



<a name="185361829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185361829" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185361829">(Jan 10 2020 at 23:38)</a>:</h4>
<p>are you getting an error about version 3 ?</p>



<a name="185362642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185362642" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185362642">(Jan 10 2020 at 23:53)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> 's PR that updates rustc to the latest version just merged today so this should be resolved in the next nightly.</p>



<a name="185362659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185362659" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185362659">(Jan 10 2020 at 23:53)</a>:</h4>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span> ^^</p>



<a name="185362665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185362665" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185362665">(Jan 10 2020 at 23:53)</a>:</h4>
<p>(my understanding is this: if you have version 3, on nightly, use summarize 0.5.1;if you have version 5, on master, use summarize 0.7.1)</p>



<a name="185362667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185362667" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185362667">(Jan 10 2020 at 23:53)</a>:</h4>
<p>aha, nevermind, carry on then!</p>



<a name="185362673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/format%20version%203%20is%20not%20supported/near/185362673" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/format.20version.203.20is.20not.20supported.html#185362673">(Jan 10 2020 at 23:54)</a>:</h4>
<p>sorry for the bother :)</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>