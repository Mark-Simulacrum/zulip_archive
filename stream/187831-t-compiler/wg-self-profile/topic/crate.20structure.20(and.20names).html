<html>
<head><meta charset="utf-8"><title>crate structure (and names) · t-compiler/wg-self-profile · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/index.html">t-compiler/wg-self-profile</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html">crate structure (and names)</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="180112787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180112787" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180112787">(Nov 07 2019 at 08:47)</a>:</h4>
<p>A recent PR by <span class="user-mention" data-user-id="125799">@andjo403</span> has created the <code>tools_lib</code>, which I think is a good idea. In fact, I'd like to go even further and move all the code that is used for <em>reading</em> profiles into this library (i.e. things like <code>ProfilingData</code>). That would leave only writing parts (<code>Profiler</code>, <code>StringTableBuilder</code>, etc) in the <code>measureme</code> crate.</p>



<a name="180112880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180112880" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180112880">(Nov 07 2019 at 08:49)</a>:</h4>
<p>It would also make it easier to depend on <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> stuff for the reading/processing stuff because I want to keep the <code>measureme</code> crate as lean as possible but don't care if <code>tools_lib</code> and the tools depend on lots of upstream things.</p>



<a name="180112959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180112959" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180112959">(Nov 07 2019 at 08:50)</a>:</h4>
<p>I do think we should change the name of <code>tools_lib</code> though. Possibly to something that has <code>measureme</code> in the name.</p>



<a name="180112982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180112982" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180112982">(Nov 07 2019 at 08:51)</a>:</h4>
<p>Suggestions welcome!</p>



<a name="180326003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180326003" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180326003">(Nov 09 2019 at 18:47)</a>:</h4>
<p>maybe simply measureme_tools_lib</p>



<a name="180326074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180326074" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180326074">(Nov 09 2019 at 18:49)</a>:</h4>
<p>have also made a PR with the split <a href="https://github.com/rust-lang/measureme/pull/83" target="_blank" title="https://github.com/rust-lang/measureme/pull/83">https://github.com/rust-lang/measureme/pull/83</a></p>



<a name="180423768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180423768" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180423768">(Nov 11 2019 at 13:37)</a>:</h4>
<p>I just gave a review, thanks <span class="user-mention" data-user-id="125799">@andjo403</span> !</p>



<a name="180423780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180423780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180423780">(Nov 11 2019 at 13:37)</a>:</h4>
<p>let's discuss the name for <code>tools_lib</code> (cc <span class="user-group-mention" data-user-group-id="1123">@WG-self-profile</span> )</p>



<a name="180423884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180423884" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180423884">(Nov 11 2019 at 13:38)</a>:</h4>
<p>profile_reader perhaps? (per your earlier comment)</p>



<a name="180423886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180423886" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180423886">(Nov 11 2019 at 13:38)</a>:</h4>
<p>some candidates:</p>
<ul>
<li>measureme_tools_lib</li>
<li>measureme_postprocess</li>
<li>measureme_tools_common</li>
<li>postprocessme (<code>:P</code>)</li>
</ul>



<a name="180423915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180423915" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180423915">(Nov 11 2019 at 13:39)</a>:</h4>
<p>afaict, it has nothing to do with "tools" perse, it's just "I want to read a measureme profile" -- right?</p>



<a name="180423933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180423933" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180423933">(Nov 11 2019 at 13:39)</a>:</h4>
<p>it depends. right now there is flamegraph related code in there (shared by two tools)</p>



<a name="180424176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424176" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424176">(Nov 11 2019 at 13:43)</a>:</h4>
<p>I think something with "postprocess(ing)" or "analysis" or something similar in the name captures the role of this crate best (assuming that this crate is where more general purpose post-processing stuff will end up in).</p>



<a name="180424305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424305" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424305">(Nov 11 2019 at 13:45)</a>:</h4>
<p>hm, okay</p>



<a name="180424338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424338" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424338">(Nov 11 2019 at 13:45)</a>:</h4>
<p>analyzeme then to go with postprocessme but shorter</p>



<a name="180424401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424401" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424401">(Nov 11 2019 at 13:46)</a>:</h4>
<p>I don't have strong opinions though</p>



<a name="180424404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424404" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424404">(Nov 11 2019 at 13:46)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span>, would you prefer having a very targeted crate just for the reading stuff and a bigger, catch-all "tools_lib"?</p>



<a name="180424413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424413" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424413">(Nov 11 2019 at 13:46)</a>:</h4>
<p>probably a catch-all</p>



<a name="180424430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424430" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424430">(Nov 11 2019 at 13:46)</a>:</h4>
<p>I don't really care too much for splitting up crates in general</p>



<a name="180424459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424459" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424459">(Nov 11 2019 at 13:47)</a>:</h4>
<p>e.g. collector in perf.rlo has like ~300 dependencies today</p>



<a name="180424474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424474" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424474">(Nov 11 2019 at 13:47)</a>:</h4>
<p>so there's essentially no advantage to adding or losing a couple :)</p>



<a name="180424486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424486" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424486">(Nov 11 2019 at 13:47)</a>:</h4>
<p>:)</p>



<a name="180424783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180424783" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180424783">(Nov 11 2019 at 13:52)</a>:</h4>
<p>analyzeme or postprocessme was good maybe more postpocessme was better</p>



<a name="180430477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180430477" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180430477">(Nov 11 2019 at 15:04)</a>:</h4>
<p>I like <code>analyzeme</code> :)</p>



<a name="180440103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/crate%20structure%20%28and%20names%29/near/180440103" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/crate.20structure.20(and.20names).html#180440103">(Nov 11 2019 at 17:00)</a>:</h4>
<p>selected analyzeme as all felt ok with it</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>