<html>
<head><meta charset="utf-8"><title>new version · t-compiler/wg-self-profile · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/index.html">t-compiler/wg-self-profile</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html">new version</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="180451964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180451964" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180451964">(Nov 11 2019 at 19:24)</a>:</h4>
<p>a new version of measureme to merge in to rustc is needed as now it is not possible to used the latest of the tools due to new file format</p>



<a name="180452423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180452423" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180452423">(Nov 11 2019 at 19:28)</a>:</h4>
<p>shall we maybe depend on a published version of merasureme in all the tools? to avoid having to select an old commit to build a tool from that works with the currently used measureme version in rustc.</p>



<a name="180473938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180473938" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180473938">(Nov 12 2019 at 01:23)</a>:</h4>
<p>Yeah, that was the issue I hit testing your PR (<a href="https://github.com/rust-lang/rust/issues/84" target="_blank" title="https://github.com/rust-lang/rust/issues/84">#84</a>). I built a copy of rustc locally with a patch to use my local <code>measureme</code> checkout.</p>



<a name="180473939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180473939" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180473939">(Nov 12 2019 at 01:23)</a>:</h4>
<p>Really good work on that btw!</p>



<a name="180488521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180488521" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180488521">(Nov 12 2019 at 07:19)</a>:</h4>
<p>thank you</p>



<a name="180721618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180721618" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180721618">(Nov 14 2019 at 11:23)</a>:</h4>
<p>Is there anything I can do to help with releasing a new version?</p>



<a name="180721858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180721858" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180721858">(Nov 14 2019 at 11:28)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> Do you concur we should release a new version and bump rustc's dependency?</p>



<a name="180721931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180721931" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180721931">(Nov 14 2019 at 11:28)</a>:</h4>
<p>I can handle the actual work if need be.</p>



<a name="180730605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180730605" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180730605">(Nov 14 2019 at 13:35)</a>:</h4>
<p>Well, I wanted to do some more changes to the file format before releasing the next version</p>



<a name="180730622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180730622" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180730622">(Nov 14 2019 at 13:35)</a>:</h4>
<p>most notably make RawEvent more compact</p>



<a name="180730636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180730636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180730636">(Nov 14 2019 at 13:35)</a>:</h4>
<p>but also making the string table more compact</p>



<a name="180730711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180730711" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180730711">(Nov 14 2019 at 13:36)</a>:</h4>
<p>the former should be pretty quick to do</p>



<a name="180730747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180730747" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180730747">(Nov 14 2019 at 13:36)</a>:</h4>
<p>I can try to do a PR to measureme later today and one to rustc tomorrow</p>



<a name="180730877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180730877" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180730877">(Nov 14 2019 at 13:38)</a>:</h4>
<p>I'd like to avoid releasing two or three new versions in close succession because we need to update perf.rlo each time</p>



<a name="180731011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180731011" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180731011">(Nov 14 2019 at 13:40)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> did you ever get to looking into making measureme a rustup component? that would make releasing new versions simpler.</p>



<a name="180738585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180738585" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andjo403 <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180738585">(Nov 14 2019 at 15:04)</a>:</h4>
<p>Or also possible that we do the new work on an branch and reset master to the commit before we changed the file format. Only feels bad that the master do not work with what rustc generates</p>



<a name="180741049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180741049" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180741049">(Nov 14 2019 at 15:28)</a>:</h4>
<blockquote>
<p>@Wesley Wiser did you ever get to looking into making measureme a rustup component? that would make releasing new versions simpler.</p>
</blockquote>
<p>I haven't yet, no. I got nerd-sniped by some mir-opt stuff.</p>



<a name="180741075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/187831-t-compiler/wg-self-profile/topic/new%20version/near/180741075" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/187831-t-compiler/wg-self-profile/topic/new.20version.html#180741075">(Nov 14 2019 at 15:28)</a>:</h4>
<p>Let's wait until <span class="user-mention" data-user-id="124287">@mw</span> thinks the format is relatively stable again.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>