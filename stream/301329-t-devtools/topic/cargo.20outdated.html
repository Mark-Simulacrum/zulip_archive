<html>
<head><meta charset="utf-8"><title>cargo outdated · t-devtools · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/index.html">t-devtools</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html">cargo outdated</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="264294110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264294110" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264294110">(Dec 09 2021 at 12:37)</a>:</h4>
<p>Do I understand correctly, that you want to integrate this directly into cargo and not patch the <code>cargo-outdated</code> crate? If so, this is probably better to ask in <a class="stream" data-stream-id="246057" href="/#narrow/stream/246057-t-cargo">#t-cargo</a>.  (Sadly I can't give you more advice here, because I'm not really familiar with cargo)</p>



<a name="264295168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264295168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathspy <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264295168">(Dec 09 2021 at 12:46)</a>:</h4>
<blockquote>
<p>Do I understand correctly, that you want to integrate this directly into cargo and not patch the cargo-outdated crate?</p>
</blockquote>
<p>Sorry about that! That's part of my question really, "what's the process of getting this into cargo?" or is it no longer desirable for this to be a feature of cargo (should the issue be closed?). Ideally a fully working version would be integrated into cargo one day so I was curious if I could work on that effort</p>
<blockquote>
<p>If so, this is probably better to ask in #t-cargo. (Sadly I can't give you more advice here, because I'm not really familiar with cargo)</p>
</blockquote>
<p>Ops, I didn't realize there was a dedicated stream for Cargo, thank you! (Just signed up for Zulip today...)</p>



<a name="264305819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264305819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264305819">(Dec 09 2021 at 14:07)</a>:</h4>
<p><span class="user-mention" data-user-id="463269">@Mathspy</span> I'd recommend making this an external tool to start - if people use it a lot, that makes a convincing case for upstreaming :) and the advantage is you can iterate a lot quicker without having to wait days or weeks for the changes to show up on nightly/stable</p>



<a name="264340325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264340325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264340325">(Dec 09 2021 at 17:58)</a>:</h4>
<p>Yeah I'll point out that <code>cargo add</code> isn't in cargo yet, it takes a really long time to add functionality this large</p>



<a name="264340440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264340440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264340440">(Dec 09 2021 at 17:59)</a>:</h4>
<p>well, that's kind of a different case - <code>cargo add</code> is blocked on cargo being able to edit toml files, this would just be some text output</p>



<a name="264340485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264340485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264340485">(Dec 09 2021 at 17:59)</a>:</h4>
<p>(my understanding is the rust library for editing toml has some regressions compared to what cargo currently uses)</p>



<a name="264362881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264362881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264362881">(Dec 09 2021 at 20:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/301329-t-devtools/topic/cargo.20outdated/near/264305819">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="463269">Mathspy</span> I'd recommend making this an external tool to start - if people use it a lot, that makes a convincing case for upstreaming :) and the advantage is you can iterate a lot quicker without having to wait days or weeks for the changes to show up on nightly/stable</p>
</blockquote>
<p>I feel confused; I thought this thread was about upstreaming the existing tool <code>cargo-outdated</code> tool that <span class="user-mention silent" data-user-id="463269">Mathspy</span> linked to?</p>



<a name="264365317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264365317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264365317">(Dec 09 2021 at 20:59)</a>:</h4>
<p><span class="user-mention" data-user-id="307537">@Noah Lev</span> my impression was Mathspy wanted this to be part of cargo itself</p>



<a name="264368902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264368902" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264368902">(Dec 09 2021 at 21:27)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> That's what I'm saying. You said "I'd recommend making this an external tool to start" ... but there already <em>is</em> an external tool: <a href="https://github.com/kbknapp/cargo-outdated">https://github.com/kbknapp/cargo-outdated</a></p>



<a name="264370735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264370735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264370735">(Dec 09 2021 at 21:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/301329-t-devtools/topic/cargo.20outdated/near/264340485">said</a>:</p>
<blockquote>
<p>(my understanding is the rust library for editing toml has some regressions compared to what cargo currently uses)</p>
</blockquote>
<p>Someone's actively working on those, and we think it's on a path for merging in the not too distant future.</p>



<a name="264374177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264374177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ed Page <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264374177">(Dec 09 2021 at 22:07)</a>:</h4>
<p>The list of regressions in case anyone else wants to take some and help out: <a href="https://github.com/ordian/toml_edit/issues?q=is%3Aissue+is%3Aopen+label%3Acargo">https://github.com/ordian/toml_edit/issues?q=is%3Aissue+is%3Aopen+label%3Acargo</a></p>



<a name="264429475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264429475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathspy <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264429475">(Dec 10 2021 at 10:47)</a>:</h4>
<p>To clarify my original intent, the current <code>cargo-outdated</code> works in a fairly suboptimal way that involves creating temporary projects and updating the dependencies there and then comparing the lock files and finally emitting the difference as text output.<br>
A more optimal implementation would just read <code>Cargo.toml</code> and <code>Cargo.lock</code> and figure out the needed updates from the local index. I created a quick draft of that and on paper it's simple enough and seems to be a desired feature (there's an issue open for it from 2017) so I was wondering if I could just upstream it directly instead of creating yet another external command</p>



<a name="264436086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264436086" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264436086">(Dec 10 2021 at 11:53)</a>:</h4>
<p><span class="user-mention" data-user-id="463269">@Mathspy</span> I think that'd be quite welcome. I think there might be some bikeshedding involved, in terms of what that should look like, but I think it's a good idea.</p>



<a name="264482819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/301329-t-devtools/topic/cargo%20outdated/near/264482819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathspy <a href="https://zulip-archive.rust-lang.org/stream/301329-t-devtools/topic/cargo.20outdated.html#264482819">(Dec 10 2021 at 17:52)</a>:</h4>
<p>Yep, I understand and I don't mind bikeshedding!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>