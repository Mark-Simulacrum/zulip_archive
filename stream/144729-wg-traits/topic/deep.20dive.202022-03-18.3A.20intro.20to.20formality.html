<html>
<head><meta charset="utf-8"><title>deep dive 2022-03-18: intro to formality · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html">deep dive 2022-03-18: intro to formality</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="275798501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798501">(Mar 18 2022 at 13:00)</a>:</h4>
<p>Howdy folks</p>



<a name="275798515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798515">(Mar 18 2022 at 13:00)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="275798532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798532">(Mar 18 2022 at 13:00)</a>:</h4>
<p>I've like 99.5% finished writing up the material I wanted to :)</p>



<a name="275798536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798536">(Mar 18 2022 at 13:00)</a>:</h4>
<p>as usual, I got a bit ambitious</p>



<a name="275798539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798539">(Mar 18 2022 at 13:00)</a>:</h4>
<p>hiya!</p>



<a name="275798593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798593">(Mar 18 2022 at 13:01)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="275798610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798610">(Mar 18 2022 at 13:01)</a>:</h4>
<p>Hey all :) I'm excited</p>



<a name="275798617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798617">(Mar 18 2022 at 13:01)</a>:</h4>
<p>I'm trying to decide how to run this-- I was thinking of the following:</p>



<a name="275798661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798661">(Mar 18 2022 at 13:01)</a>:</h4>
<ul>
<li>Here is a link to the document, <a href="https://hackmd.io/@nikomatsakis/H1E6PVTZ9">a MIR Formality, goals and the reality</a></li>
</ul>



<a name="275798671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798671">(Mar 18 2022 at 13:01)</a>:</h4>
<p>It's quite long</p>



<a name="275798676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798676">(Mar 18 2022 at 13:01)</a>:</h4>
<p>so maybe...</p>



<a name="275798684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798684">(Mar 18 2022 at 13:01)</a>:</h4>
<ul>
<li>Folks can read and ask questions as they go?</li>
</ul>



<a name="275798689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798689">(Mar 18 2022 at 13:02)</a>:</h4>
<p>Or we could proceed section by section?</p>



<a name="275798740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798740">(Mar 18 2022 at 13:02)</a>:</h4>
<p>Or I can copy and paste text :P</p>



<a name="275798757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798757">(Mar 18 2022 at 13:02)</a>:</h4>
<p>if this were amazon, we would all turn off our cameras and read for 30 minutes, leaving comments and then asking questions</p>



<a name="275798774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798774" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798774">(Mar 18 2022 at 13:02)</a>:</h4>
<p>but if this were amazon, the doc prob wouldn't be so long :)</p>



<a name="275798782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798782">(Mar 18 2022 at 13:02)</a>:</h4>
<p><a href="/user_uploads/4715/02z0nqVV67A5kkmtBZk7l0kJ/Screenshot-from-2022-03-18-14-02-19.png">Screenshot-from-2022-03-18-14-02-19.png</a>  the link seems wrong ^^</p>
<div class="message_inline_image"><a href="/user_uploads/4715/02z0nqVV67A5kkmtBZk7l0kJ/Screenshot-from-2022-03-18-14-02-19.png" title="Screenshot-from-2022-03-18-14-02-19.png"><img src="/user_uploads/4715/02z0nqVV67A5kkmtBZk7l0kJ/Screenshot-from-2022-03-18-14-02-19.png"></a></div>



<a name="275798796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798796">(Mar 18 2022 at 13:02)</a>:</h4>
<p><a href="https://hackmd.io/@nikomatsakis/H1E6PVTZ9">https://hackmd.io/@nikomatsakis/H1E6PVTZ9</a></p>



<a name="275798810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798810" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798810">(Mar 18 2022 at 13:02)</a>:</h4>
<p>fixed</p>



<a name="275798812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798812" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798812">(Mar 18 2022 at 13:02)</a>:</h4>
<p>How about a 10-15 minute skim to start?</p>



<a name="275798847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798847">(Mar 18 2022 at 13:03)</a>:</h4>
<p>ok, how about this</p>



<a name="275798855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798855">(Mar 18 2022 at 13:03)</a>:</h4>
<p>I will go put on a fresh pot of coffee :P</p>



<a name="275798871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798871">(Mar 18 2022 at 13:03)</a>:</h4>
<p>y'all read and i'll be back soon :)</p>



<a name="275798909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798909">(Mar 18 2022 at 13:03)</a>:</h4>
<p>actually maybe i'll briefly fill in the lsat two sections :)</p>



<a name="275798982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275798982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275798982">(Mar 18 2022 at 13:04)</a>:</h4>
<p>Okay, react with <span aria-label="book" class="emoji emoji-1f4d6" role="img" title="book">:book:</span>when you start <span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> when you're done</p>



<a name="275799143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275799143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275799143">(Mar 18 2022 at 13:05)</a>:</h4>
<p>Do we want to add questions/comments somewhere on the document?</p>



<a name="275800025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800025">(Mar 18 2022 at 13:12)</a>:</h4>
<p>I guess using hackmd comments is fine</p>



<a name="275800400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800400">(Mar 18 2022 at 13:15)</a>:</h4>
<p>I have a procedure question. If T-ypes owns a mir formality, and the obvious idea is to keep it up to date with the language, how are we going to make sure that we do keep up to date? Hard blocker for all new feature stabilizations to have formality tests?</p>



<a name="275800597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800597" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800597">(Mar 18 2022 at 13:17)</a>:</h4>
<p>I think so, yes. Imo that's the right thing to do.</p>



<a name="275800600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800600">(Mar 18 2022 at 13:17)</a>:</h4>
<p>Yes</p>



<a name="275800619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800619">(Mar 18 2022 at 13:17)</a>:</h4>
<p>That would be my plan, anyway. Similar to rust reference.</p>



<a name="275800668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800668">(Mar 18 2022 at 13:18)</a>:</h4>
<p>That said, for now, it only covers MIR and "back"</p>



<a name="275800695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800695" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800695">(Mar 18 2022 at 13:18)</a>:</h4>
<p>so that requirement is easy to satisfy for things that are purely front-end</p>



<a name="275800697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800697">(Mar 18 2022 at 13:18)</a>:</h4>
<p>At what point should we start blocking features on a formality test?</p>



<a name="275800739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800739">(Mar 18 2022 at 13:18)</a>:</h4>
<p>Once formality is complete or somewhere before that point?</p>



<a name="275800779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800779">(Mar 18 2022 at 13:19)</a>:</h4>
<p>I guess all tracking issues get a 4th checkbox: "formality adjusted"</p>



<a name="275800797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800797">(Mar 18 2022 at 13:19)</a>:</h4>
<p>that's a good question, worth discussing. Clearly "not yet"-- but it probably doesn't require waiting until it's complete. There's probably some middle-ground where we block things on "types team signoff", which might include adding the feature to a "to do" list</p>



<a name="275800828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800828">(Mar 18 2022 at 13:19)</a>:</h4>
<p>if it requires some details that haven't been done yet</p>



<a name="275800861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800861">(Mar 18 2022 at 13:19)</a>:</h4>
<p>that check box we could add immediately, though I did want to create an RFC for the types team. I should prob just do that. I was waiting until we got things a bit more "up and going"</p>



<a name="275800955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800955">(Mar 18 2022 at 13:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275800779">said</a>:</p>
<blockquote>
<p>I guess all tracking issues get a 4th checkbox: "formality adjusted"</p>
</blockquote>
<p>probably open an issue on the formality repo and link it from the tracking issue?</p>



<a name="275800987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800987" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800987">(Mar 18 2022 at 13:20)</a>:</h4>
<p>there's a more interesting question, I think</p>



<a name="275800994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275800994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275800994">(Mar 18 2022 at 13:20)</a>:</h4>
<p>which is how to model "feature gates" :)</p>



<a name="275801032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801032">(Mar 18 2022 at 13:21)</a>:</h4>
<p>I've thought a bit about it but not too much. It'd be nice to be able to land "in progress" features without disturbing the whole. We might be able to use the "define-extended-language" features of PLT Redex for that, that's precisely what they're designed for</p>



<a name="275801051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801051">(Mar 18 2022 at 13:21)</a>:</h4>
<p>though I think it may require a bit of macro hackery to get just the behavior we want</p>



<a name="275801150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801150">(Mar 18 2022 at 13:22)</a>:</h4>
<p>Great stuff in this doc, Niko!</p>



<a name="275801232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801232">(Mar 18 2022 at 13:23)</a>:</h4>
<p>I know folks are still reading... So i'll draft up my high-level Question and post it in a couple minutes</p>



<a name="275801318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801318">(Mar 18 2022 at 13:23)</a>:</h4>
<p>my coffee is probably finished brewing</p>



<a name="275801323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801323">(Mar 18 2022 at 13:24)</a>:</h4>
<p>don’t know how y’all read so fast <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="275801403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801403">(Mar 18 2022 at 13:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275800797">said</a>:</p>
<blockquote>
<p>that's a good question, worth discussing. Clearly "not yet"-- but it probably doesn't require waiting until it's complete. There's probably some middle-ground where we block things on "types team signoff", which might include adding the feature to a "to do" list</p>
</blockquote>
<p>Yes, I really like this. It's something I've been doing in the back of my mind for some newer features (how could we implement this in Chalk)</p>



<a name="275801408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Schwartz-Narbonne <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801408">(Mar 18 2022 at 13:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="426609">Michael Goulet (compiler-errors)</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275801323">said</a>:</p>
<blockquote>
<p>don’t know how y’all read so fast <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>
</blockquote>
<p>It took several minutes for my printer to just PRINT the doc</p>



<a name="275801415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801415">(Mar 18 2022 at 13:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="426609">Michael Goulet (compiler-errors)</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275801323">said</a>:</p>
<blockquote>
<p>don’t know how y’all read so fast <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>
</blockquote>
<p>what's left to me poor bad english speaker?</p>



<a name="275801433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801433" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801433">(Mar 18 2022 at 13:24)</a>:</h4>
<p>Everyone take their time</p>



<a name="275801507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801507">(Mar 18 2022 at 13:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275801318">said</a>:</p>
<blockquote>
<p>my coffee is probably finished brewing</p>
</blockquote>
<p>brew more <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="275801560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Schwartz-Narbonne <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801560">(Mar 18 2022 at 13:25)</a>:</h4>
<p>Question about implementation framework: it seems that coq is the most popular at POPL etc.  How well do you think the framework you're using will integrate into other PL tools/efforts?</p>



<a name="275801659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801659">(Mar 18 2022 at 13:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="324174">Daniel Schwartz-Narbonne</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275801560">said</a>:</p>
<blockquote>
<p>Question about implementation framework: it seems that coq is the most popular at POPL etc.  How well do you think the framework you're using will integrate into other PL tools/efforts?</p>
</blockquote>
<p>I've been meaning to follow up with Robby Findler about this. As you can see, the notation is quite high-level, so if nothing else I think it would be easy to manually transcribe things. But I would assume people have made efforts to "export" rules and things from PLT Redex to other formats.</p>



<a name="275801683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801683">(Mar 18 2022 at 13:26)</a>:</h4>
<p>I'm going to add a section at the bottom for questions</p>



<a name="275801723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801723" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801723">(Mar 18 2022 at 13:27)</a>:</h4>
<p>sounds good</p>



<a name="275801726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801726">(Mar 18 2022 at 13:27)</a>:</h4>
<p>We can always move them to a separate doc later if that makes sense</p>



<a name="275801780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801780">(Mar 18 2022 at 13:27)</a>:</h4>
<p>I was thinking that I would like to make an mdbook for formality and this doc would be the "start of it". (Actually, <span class="user-mention" data-user-id="316352">@pierwill</span>, I was thinking of asking if you'd like to help with that)</p>



<a name="275801796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275801796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275801796">(Mar 18 2022 at 13:28)</a>:</h4>
<p>Very definitely yes</p>



<a name="275802235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802235">(Mar 18 2022 at 13:31)</a>:</h4>
<p>So when it comes to formalizing Rust, what I know most is the Oxide presentation, which aims to model the borrow checker, calling it "the essence of Rust". In this doc you say mir-formality will be </p>
<blockquote>
<p>the “primary source” for “what Rust means”</p>
</blockquote>
<p>Maybe this is still to be covered in the operational semantics part, but my question, I guess, is what does "what Rust means" mean? <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span> <span aria-label="innocent" class="emoji emoji-1f607" role="img" title="innocent">:innocent:</span></p>



<a name="275802318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802318">(Mar 18 2022 at 13:31)</a>:</h4>
<p>"what Rust programs are legal and -- if I execute a Rust program -- what should happen"</p>



<a name="275802368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802368">(Mar 18 2022 at 13:32)</a>:</h4>
<p>Cool</p>



<a name="275802380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802380">(Mar 18 2022 at 13:32)</a>:</h4>
<p>this requires defining a model of the machine executing the Rust program</p>



<a name="275802393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802393">(Mar 18 2022 at 13:32)</a>:</h4>
<p>miri has kind of already done that</p>



<a name="275802415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802415">(Mar 18 2022 at 13:32)</a>:</h4>
<p>miri and the rust compiler are both other answers to that question :)</p>



<a name="275802421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802421" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Schwartz-Narbonne <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802421">(Mar 18 2022 at 13:32)</a>:</h4>
<p>Will this cover concurrency?</p>



<a name="275802447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802447">(Mar 18 2022 at 13:32)</a>:</h4>
<p>I expect so, but that's... hard too :)</p>



<a name="275802505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802505" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Schwartz-Narbonne <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802505">(Mar 18 2022 at 13:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275802447">said</a>:</p>
<blockquote>
<p>I expect so, but that's... hard too :)</p>
</blockquote>
<p>That's what makes concurrency fun, for certain definitions of fun</p>



<a name="275802677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802677">(Mar 18 2022 at 13:34)</a>:</h4>
<p>I'm going to add some of these questions to the doc</p>



<a name="275802685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802685" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802685">(Mar 18 2022 at 13:34)</a>:</h4>
<p>and maybe put a few of my own :)</p>



<a name="275802798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802798">(Mar 18 2022 at 13:35)</a>:</h4>
<p>The looming question i have is how this is different than a "specification" <span aria-label="smiling devil" class="emoji emoji-1f608" role="img" title="smiling devil">:smiling_devil:</span></p>



<a name="275802830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802830">(Mar 18 2022 at 13:35)</a>:</h4>
<p>Okay, so looks like nearly everyone has finished reading</p>



<a name="275802917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802917">(Mar 18 2022 at 13:36)</a>:</h4>
<p>How do we want to move forward? Everyone add questions at the end of the doc and go through them individually?</p>



<a name="275802941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802941">(Mar 18 2022 at 13:36)</a>:</h4>
<p>Or maybe Niko wants to "moderate" in some way and talk about specific ones</p>



<a name="275802950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802950">(Mar 18 2022 at 13:36)</a>:</h4>
<blockquote>
<p>The looming question i have is how this is different than a "specification" <span aria-label="smiling devil" class="emoji emoji-1f608" role="img" title="smiling devil">:smiling_devil:</span></p>
</blockquote>
<p>I though it was an executable spec?</p>



<a name="275802977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275802977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275802977">(Mar 18 2022 at 13:37)</a>:</h4>
<p>I also see comments :)</p>



<a name="275803022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803022">(Mar 18 2022 at 13:37)</a>:</h4>
<p><a href="/user_uploads/4715/1RcvjcXhDBEHZtUquN7TT5_G/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/1RcvjcXhDBEHZtUquN7TT5_G/image.png" title="image.png"><img src="/user_uploads/4715/1RcvjcXhDBEHZtUquN7TT5_G/image.png"></a></div>



<a name="275803032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803032">(Mar 18 2022 at 13:37)</a>:</h4>
<p>s/bruno/specification/</p>



<a name="275803050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Schwartz-Narbonne <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803050">(Mar 18 2022 at 13:37)</a>:</h4>
<p>We have more people done than started.</p>



<a name="275803085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Schwartz-Narbonne <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803085">(Mar 18 2022 at 13:38)</a>:</h4>
<p><a href="/user_uploads/4715/dRIBHHo2-p1ykEv-ck99hBRk/Screen-Shot-2022-03-18-at-9.37.54-AM.png">Screen-Shot-2022-03-18-at-9.37.54-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/dRIBHHo2-p1ykEv-ck99hBRk/Screen-Shot-2022-03-18-at-9.37.54-AM.png" title="Screen-Shot-2022-03-18-at-9.37.54-AM.png"><img src="/user_uploads/4715/dRIBHHo2-p1ykEv-ck99hBRk/Screen-Shot-2022-03-18-at-9.37.54-AM.png"></a></div>



<a name="275803086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803086" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803086">(Mar 18 2022 at 13:38)</a>:</h4>
<p>but in all seriousness, it is a kind of specification: it only covers MIR and back, obviously, and it's incomplete and all the things.</p>



<a name="275803174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803174">(Mar 18 2022 at 13:38)</a>:</h4>
<p>and back... to Rust syntax, yes?</p>



<a name="275803178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803178" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803178">(Mar 18 2022 at 13:38)</a>:</h4>
<p>I also think a "full spec" would wind up including other details we'll maybe never get to</p>



<a name="275803191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803191" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803191">(Mar 18 2022 at 13:38)</a>:</h4>
<p>no, it doesn't include rust syntax right now</p>



<a name="275803201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803201">(Mar 18 2022 at 13:38)</a>:</h4>
<p>it starts at MIR</p>



<a name="275803209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803209">(Mar 18 2022 at 13:38)</a>:</h4>
<p>and goes "back" to ... well, not LLVM exactly, but miri</p>



<a name="275803228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Schwartz-Narbonne <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803228">(Mar 18 2022 at 13:39)</a>:</h4>
<p>How do object layouts fit into this spec?</p>



<a name="275803245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803245">(Mar 18 2022 at 13:39)</a>:</h4>
<p>let's throw that one in the doc</p>



<a name="275803294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803294">(Mar 18 2022 at 13:39)</a>:</h4>
<p>I guess, <span class="user-mention" data-user-id="232957">@Jack Huey</span>, I can pick some items for discussion :)</p>



<a name="275803326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803326">(Mar 18 2022 at 13:39)</a>:</h4>
<p>I think I answered all the inline questions</p>



<a name="275803414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803414">(Mar 18 2022 at 13:40)</a>:</h4>
<p>I guess maybe this is a good one, it's a question from <em>me</em> :)</p>



<a name="275803419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803419" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803419">(Mar 18 2022 at 13:40)</a>:</h4>
<h2>If this is a complete model, isn't that just an implementation?</h2>



<a name="275803430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803430">(Mar 18 2022 at 13:40)</a>:</h4>
<p>so far I wrote</p>



<a name="275803432"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803432" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803432">(Mar 18 2022 at 13:40)</a>:</h4>
<p>Not really. It leaves out a ton of stuff:</p>
<ul>
<li>diagnostics</li>
<li>low-level ABI details</li>
<li>parser and concrete rust syntax</li>
</ul>



<a name="275803439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803439">(Mar 18 2022 at 13:40)</a>:</h4>
<p>I'm imagining the mdbook for this eventually including a mini Redex intro tailored to understand this codebase itself.</p>



<a name="275803454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803454">(Mar 18 2022 at 13:40)</a>:</h4>
<p>however, I would also say</p>



<a name="275803484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803484">(Mar 18 2022 at 13:40)</a>:</h4>
<p>if it turns out that my ambitions are too high, and it's not practical to model as much as I want, that we would optimize for "understanding and deciding if new lang features are sound"</p>



<a name="275803520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803520">(Mar 18 2022 at 13:41)</a>:</h4>
<p>and I kind of feel like--- we have to be able to model enough to do that</p>



<a name="275803527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803527" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803527">(Mar 18 2022 at 13:41)</a>:</h4>
<p>or we are in serious trouble :)</p>



<a name="275803565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803565">(Mar 18 2022 at 13:41)</a>:</h4>
<p>if that means we can leave out some details of Rust's type system ... ok</p>



<a name="275803577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803577" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803577">(Mar 18 2022 at 13:41)</a>:</h4>
<p>I really <em>like</em> the incremental nature of the project.</p>



<a name="275803579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803579">(Mar 18 2022 at 13:41)</a>:</h4>
<p>So, what kind of performance are you expecting here?</p>



<a name="275803584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803584">(Mar 18 2022 at 13:41)</a>:</h4>
<p>but it is not obvious to me how we'd be able to do that</p>



<a name="275803608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803608">(Mar 18 2022 at 13:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275803579">said</a>:</p>
<blockquote>
<p>So, what kind of performance are you expecting here?</p>
</blockquote>
<p>toy programs work</p>



<a name="275803623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803623">(Mar 18 2022 at 13:41)</a>:</h4>
<p>Is this something we can reasonably lower+test the entire Rust test suuite on?</p>



<a name="275803642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803642" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803642">(Mar 18 2022 at 13:42)</a>:</h4>
<p>What about Chalk tests?</p>



<a name="275803661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803661">(Mar 18 2022 at 13:42)</a>:</h4>
<p>probably taht, yes</p>



<a name="275803690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803690">(Mar 18 2022 at 13:42)</a>:</h4>
<p>chalk tests too</p>



<a name="275803706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803706">(Mar 18 2022 at 13:42)</a>:</h4>
<p>well, maybe</p>



<a name="275803710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803710">(Mar 18 2022 at 13:42)</a>:</h4>
<p>libstd might be hard :)</p>



<a name="275803752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803752">(Mar 18 2022 at 13:42)</a>:</h4>
<p>I could think we could have something that extracts a "subset" of Rust tests</p>



<a name="275803770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803770">(Mar 18 2022 at 13:42)</a>:</h4>
<p>maybe if we do more like the chalk model, where things are "lowered as needed"</p>



<a name="275803795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803795" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803795">(Mar 18 2022 at 13:42)</a>:</h4>
<p>I think we'll want to be clear about what this model <em>doesn't cover</em>: both what it doesn't cover _yet_ and what it never aims to cover</p>



<a name="275803848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803848">(Mar 18 2022 at 13:43)</a>:</h4>
<p>yes, I think it makes sense to define a "first goal", and then evaluate whether to bring other things in</p>



<a name="275803872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803872">(Mar 18 2022 at 13:43)</a>:</h4>
<p>to loop back to <span class="user-mention" data-user-id="324174">@Daniel Schwartz-Narbonne</span>'s question about layouts, I am expecting to exclude operational semantics from that first goal</p>



<a name="275803889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803889" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803889">(Mar 18 2022 at 13:43)</a>:</h4>
<p>well</p>



<a name="275803901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803901">(Mar 18 2022 at 13:43)</a>:</h4>
<p>not sure :) depends how many people want to contribute!</p>



<a name="275803920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275803920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275803920">(Mar 18 2022 at 13:43)</a>:</h4>
<p>but I think that layouts become quite relevant at that point</p>



<a name="275804029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804029">(Mar 18 2022 at 13:44)</a>:</h4>
<p>I mean, layouts are already import for <em>some</em> trait solving</p>



<a name="275804033"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804033" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804033">(Mar 18 2022 at 13:44)</a>:</h4>
<p>right?</p>



<a name="275804041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804041">(Mar 18 2022 at 13:44)</a>:</h4>
<p>(Is it <code>DispatchFromDyn</code>?)</p>



<a name="275804044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804044">(Mar 18 2022 at 13:44)</a>:</h4>
<p>sigh</p>



<a name="275804052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804052">(Mar 18 2022 at 13:44)</a>:</h4>
<p>yes, probably</p>



<a name="275804056"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804056" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804056">(Mar 18 2022 at 13:44)</a>:</h4>
<p>What's an example of something op semantics covers in this context? <span aria-label="innocent" class="emoji emoji-1f607" role="img" title="innocent">:innocent:</span>  ( Might not be a well-formed Q)</p>



<a name="275804059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804059">(Mar 18 2022 at 13:44)</a>:</h4>
<p>so we'll have to handle enough of that</p>



<a name="275804071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804071">(Mar 18 2022 at 13:44)</a>:</h4>
<p><span class="user-mention" data-user-id="316352">@pierwill</span> the idea of operational semantics is this</p>



<a name="275804121"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804121" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804121">(Mar 18 2022 at 13:45)</a>:</h4>
<p>what I've shown so far is basically a definition for a program P</p>



<a name="275804133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804133">(Mar 18 2022 at 13:45)</a>:</h4>
<p>operational semantics adds in a machine state M</p>



<a name="275804146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804146">(Mar 18 2022 at 13:45)</a>:</h4>
<p>think of it is "all the RAM, registers, etc"</p>



<a name="275804163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804163">(Mar 18 2022 at 13:45)</a>:</h4>
<p>then it defines a function <code>step((M, P)) -&gt; (M, P)</code></p>



<a name="275804206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804206">(Mar 18 2022 at 13:45)</a>:</h4>
<p>i.e., given a program P and some machine M that is executing the program, take one step</p>



<a name="275804215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804215">(Mar 18 2022 at 13:45)</a>:</h4>
<p>(there are different ways to do it, this is the "small step" style, and it's what I would expect to do)</p>



<a name="275804277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804277">(Mar 18 2022 at 13:46)</a>:</h4>
<p>So it's the reduction rules? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="275804282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804282">(Mar 18 2022 at 13:46)</a>:</h4>
<p>yes</p>



<a name="275804342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804342">(Mar 18 2022 at 13:46)</a>:</h4>
<p>but layouts are clearly important here because we want to model unsafe code -- roughly at the level miri does</p>



<a name="275804371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804371">(Mar 18 2022 at 13:46)</a>:</h4>
<p>so you could have type punning</p>



<a name="275804387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804387">(Mar 18 2022 at 13:47)</a>:</h4>
<p>[memory] layouts ?</p>



<a name="275804398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804398">(Mar 18 2022 at 13:47)</a>:</h4>
<p>right</p>



<a name="275804435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804435" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804435">(Mar 18 2022 at 13:47)</a>:</h4>
<p>so e.g. you could have some block of memory that was written with a <code>u32</code> and then you union it with a <code>[u8; 4]</code> and read from that array... etc</p>



<a name="275804440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804440">(Mar 18 2022 at 13:47)</a>:</h4>
<p>I expect we could have a higher level view of the operational semantics? Depending on the goals (I mean the steps would be the same, but you don't need layouts etc for soundness proofs, I think?)</p>



<a name="275804478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804478">(Mar 18 2022 at 13:47)</a>:</h4>
<p>if we wanted to exclude unsafe code</p>



<a name="275804482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804482">(Mar 18 2022 at 13:47)</a>:</h4>
<p>I imagine yes?</p>



<a name="275804543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804543">(Mar 18 2022 at 13:48)</a>:</h4>
<p>might be a good first step :)</p>



<a name="275804548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804548">(Mar 18 2022 at 13:48)</a>:</h4>
<p>but I feel like miri has already done the hard work there</p>



<a name="275804557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804557">(Mar 18 2022 at 13:48)</a>:</h4>
<p>actually I wonder</p>



<a name="275804566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804566">(Mar 18 2022 at 13:48)</a>:</h4>
<p>we might want to take layouts as <em>inputs</em> to the semantics</p>



<a name="275804581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804581">(Mar 18 2022 at 13:48)</a>:</h4>
<p>that is probably one of those "platform specific" things we want to exclude from this model</p>



<a name="275804638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804638">(Mar 18 2022 at 13:49)</a>:</h4>
<p>I'm basically happy to add inputs for things we don't feel like modeling right now-- another example might be "variance inference"</p>



<a name="275804649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804649">(Mar 18 2022 at 13:49)</a>:</h4>
<p>(that's not too hard to do, just tedious)</p>



<a name="275804679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804679">(Mar 18 2022 at 13:49)</a>:</h4>
<p>obviously "rust surface syntax -&gt; MIR" is the big one :)</p>



<a name="275804693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804693">(Mar 18 2022 at 13:49)</a>:</h4>
<p>eventually I would like to model name resolution and stuff</p>



<a name="275804737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804737">(Mar 18 2022 at 13:50)</a>:</h4>
<p>(Back to your question, <span class="user-mention" data-user-id="316352">@pierwill</span>, of how this differs from a true "Rust specification")</p>



<a name="275804831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804831" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804831">(Mar 18 2022 at 13:50)</a>:</h4>
<p>(though I wouldn't object if people wanted to toy with modeling that already, it's not part of my first set of goals nor needed for most of the questions I consider most pressing)</p>



<a name="275804839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804839">(Mar 18 2022 at 13:50)</a>:</h4>
<p>arguably hygiene is pressing I guess :)</p>



<a name="275804891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804891">(Mar 18 2022 at 13:51)</a>:</h4>
<p>ok, next question?</p>



<a name="275804905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804905">(Mar 18 2022 at 13:51)</a>:</h4>
<h2>Are there any fundamental differences to Chalk, so far?</h2>
<blockquote>
<p>Yes. Chalk does not have the concept of invariants and handles implied bounds in a different way (<code>FromEnv</code> goals). Chalk also has one structural setup that has to be ported to formality -- it generates program clauses "on demand". This is required because actually the set of program clauses for a Rust program is potentially infinite (think of e.g. auto traits). I've been debating the best way to model this with PLT Redex and in particular whether it's important to preserve the various layers I've shown here, it might be easier if we merged everything into one.</p>
</blockquote>



<a name="275804951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804951">(Mar 18 2022 at 13:51)</a>:</h4>
<p>At one point should we adjust Chalk?</p>



<a name="275804971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804971">(Mar 18 2022 at 13:51)</a>:</h4>
<p>(I guess that bleeds into my other question)</p>



<a name="275804987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804987" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804987">(Mar 18 2022 at 13:52)</a>:</h4>
<p>maybe we jump to that?</p>



<a name="275804989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275804989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275804989">(Mar 18 2022 at 13:52)</a>:</h4>
<h2>Is this an "ideal" Rust model, or a "practical" one?</h2>
<ul>
<li>Current Rust semantics, or the one we want</li>
</ul>
<blockquote>
<p>You're asking the right question, and it's something I wanted to discuss. Right now it's the "ideal" model in the sense that I am using it to show how some extensions to Rust would work, but I think it's important that it be the "practical" one too. It's not hard to disable the implied bounds (actually, limit them to supertraits) and remove support for cycles. What's a bit more interesting, and I'm not sure about it, is the best way to have "feature gates" so that we can show the "diff required" to support a new feature.</p>
</blockquote>



<a name="275805079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805079">(Mar 18 2022 at 13:52)</a>:</h4>
<p>this comes back to that "feature gate" thing</p>



<a name="275805097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805097">(Mar 18 2022 at 13:52)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="232957">@Jack Huey</span> that I wouldn't adjust chalk <em>now</em></p>



<a name="275805103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805103">(Mar 18 2022 at 13:52)</a>:</h4>
<p>I'd like to write an RFC for those new features</p>



<a name="275805126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805126">(Mar 18 2022 at 13:52)</a>:</h4>
<p>that said, one of the next things I want to tackle is modeling associated type equality and a different approach to inference</p>



<a name="275805138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805138">(Mar 18 2022 at 13:53)</a>:</h4>
<p>and <em>that</em> I would want to port to chalk once we validate that it works</p>



<a name="275805166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805166">(Mar 18 2022 at 13:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275805103">said</a>:</p>
<blockquote>
<p>I'd like to write an RFC for those new features</p>
</blockquote>
<p>implied bounds had an RFC, but I think it should be "refreshed"</p>



<a name="275805194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805194">(Mar 18 2022 at 13:53)</a>:</h4>
<p>You're thinking some Racket wizardry might be needed in order to not maintain a bunch of different branches or something? Making it easy to turn on/off different parts of the model?</p>



<a name="275805212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805212">(Mar 18 2022 at 13:53)</a>:</h4>
<p>yes--</p>



<a name="275805240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805240">(Mar 18 2022 at 13:54)</a>:</h4>
<p>not super deep wizardry</p>



<a name="275805271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805271">(Mar 18 2022 at 13:54)</a>:</h4>
<p>That is... a little concerning i must admit.</p>



<a name="275805278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805278">(Mar 18 2022 at 13:54)</a>:</h4>
<p>Okay</p>



<a name="275805288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805288">(Mar 18 2022 at 13:54)</a>:</h4>
<p>basically just macros</p>



<a name="275805300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805300">(Mar 18 2022 at 13:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275805126">said</a>:</p>
<blockquote>
<p>that said, one of the next things I want to tackle is modeling associated type equality and a different approach to inference</p>
</blockquote>
<p>what inference?</p>



<a name="275805318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805318">(Mar 18 2022 at 13:54)</a>:</h4>
<p>type variable inference</p>



<a name="275805336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805336" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805336">(Mar 18 2022 at 13:54)</a>:</h4>
<p>(and region)</p>



<a name="275805373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805373">(Mar 18 2022 at 13:54)</a>:</h4>
<p>Is this the set thing</p>



<a name="275805381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805381">(Mar 18 2022 at 13:55)</a>:</h4>
<p>I forget the name :)</p>



<a name="275805411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805411">(Mar 18 2022 at 13:55)</a>:</h4>
<p>it's not row typing, though I still want to work through that to see if it's useful; I think not</p>



<a name="275805451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805451" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805451">(Mar 18 2022 at 13:55)</a>:</h4>
<p>I've been working through the "simple essence of algebraic subtyping" paper</p>



<a name="275805455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805455">(Mar 18 2022 at 13:55)</a>:</h4>
<p>I actually reimplemented it</p>



<a name="275805464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805464">(Mar 18 2022 at 13:55)</a>:</h4>
<p>and I think that <em>is</em> relevant :)</p>



<a name="275805512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805512">(Mar 18 2022 at 13:56)</a>:</h4>
<p><a href="https://icfp20.sigplan.org/details/icfp-2020-papers/37/The-Simple-Essence-of-Algebraic-Subtyping-Principal-Type-Inference-with-Subtyping-Ma">https://icfp20.sigplan.org/details/icfp-2020-papers/37/The-Simple-Essence-of-Algebraic-Subtyping-Principal-Type-Inference-with-Subtyping-Ma</a></p>



<a name="275805628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805628">(Mar 18 2022 at 13:56)</a>:</h4>
<p>that's a good topci for a separate meeting</p>



<a name="275805636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805636">(Mar 18 2022 at 13:56)</a>:</h4>
<p>How much does racket help here? i.e. how much further could we go past chalk into the "executable semantics"  territory while writing everything in Rust?</p>



<a name="275805652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805652">(Mar 18 2022 at 13:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275805455">said</a>:</p>
<blockquote>
<p>I actually reimplemented it</p>
</blockquote>
<p><a href="https://github.com/nikomatsakis/great-pl-papers/tree/main/simple-sub">in PLT redex of course</a>, lol</p>



<a name="275805672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805672">(Mar 18 2022 at 13:57)</a>:</h4>
<p>There's a youtube video for that :)</p>



<a name="275805678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805678">(Mar 18 2022 at 13:57)</a>:</h4>
<p>That's helpful</p>



<a name="275805759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805759">(Mar 18 2022 at 13:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275805512">said</a>:</p>
<blockquote>
<p><a href="https://icfp20.sigplan.org/details/icfp-2020-papers/37/The-Simple-Essence-of-Algebraic-Subtyping-Principal-Type-Inference-with-Subtyping-Ma">https://icfp20.sigplan.org/details/icfp-2020-papers/37/The-Simple-Essence-of-Algebraic-Subtyping-Principal-Type-Inference-with-Subtyping-Ma</a></p>
</blockquote>
<p>"in particular, no abstract algebra is inflicted on readers" <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="275805844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805844">(Mar 18 2022 at 13:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="216206">lcnr</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275805636">said</a>:</p>
<blockquote>
<p>How much does racket help here? i.e. how much further could we go past chalk into the "executable semantics"  territory while writing everything in Rust?</p>
</blockquote>
<p>I imagine at some point we could port PLT Redex to Rust, but I've found racket/PLT Redex very helpful in a few ways:</p>
<ul>
<li>the racket pattern matching is super useful, no need to worry about parsers (at the cost of a lot of parentheses)</li>
<li>PLT redex lets us write code in a very high-level style, very close to what you would read in a paper</li>
</ul>



<a name="275805856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805856">(Mar 18 2022 at 13:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275805672">said</a>:</p>
<blockquote>
<p>There's a youtube video for that :)</p>
</blockquote>
<p>link?</p>



<a name="275805872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805872">(Mar 18 2022 at 13:58)</a>:</h4>
<p>I think I would basically want to reimplement this scheme, and I don't see the point in that</p>



<a name="275805973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805973">(Mar 18 2022 at 13:59)</a>:</h4>
<p><a href="https://www.youtube.com/watch?v=d10q-b8jNKg">https://www.youtube.com/watch?v=d10q-b8jNKg</a></p>
<div class="youtube-video message_inline_image"><a data-id="d10q-b8jNKg" href="https://www.youtube.com/watch?v=d10q-b8jNKg"><img src="https://uploads.zulipusercontent.net/a48aee76a848cc89b37ce60c62bc853a36a657d6/68747470733a2f2f692e7974696d672e636f6d2f76692f643130712d62386a4e4b672f64656661756c742e6a7067"></a></div>



<a name="275805990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275805990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275805990">(Mar 18 2022 at 13:59)</a>:</h4>
<p>it seems like questions are tapering off--</p>



<a name="275806021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806021" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806021">(Mar 18 2022 at 13:59)</a>:</h4>
<p>are there things people wanted to ask that didn't get answered?</p>



<a name="275806025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806025">(Mar 18 2022 at 13:59)</a>:</h4>
<p>should we talk about next steps?</p>



<a name="275806042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806042" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806042">(Mar 18 2022 at 13:59)</a>:</h4>
<p>I added a new question</p>



<a name="275806063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806063">(Mar 18 2022 at 14:00)</a>:</h4>
<p>ah:</p>
<h2>How/where does coercion fit in?</h2>



<a name="275806138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806138">(Mar 18 2022 at 14:00)</a>:</h4>
<p>that's one of those things we don't have to model yet :)</p>



<a name="275806181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806181">(Mar 18 2022 at 14:00)</a>:</h4>
<p>because it's "already done" by the time we get to MIR</p>



<a name="275806202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806202">(Mar 18 2022 at 14:00)</a>:</h4>
<p><em>but</em>, if we wanted to</p>



<a name="275806209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Schwartz-Narbonne <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806209">(Mar 18 2022 at 14:00)</a>:</h4>
<p>What will the process be for verifying the specification itself. e.g. making sure that it doesn't allow infering unsound behaviour?</p>



<a name="275806237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806237">(Mar 18 2022 at 14:00)</a>:</h4>
<p>ah, that's a good one. So PLT Redex includes a builtin fuzzer.</p>



<a name="275806254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806254" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806254">(Mar 18 2022 at 14:00)</a>:</h4>
<p>I've not tried it yet but</p>



<a name="275806303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806303" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806303">(Mar 18 2022 at 14:01)</a>:</h4>
<p>I would expect to use it, and one of my projects was going to be using it to test the scheme I talked about for implied bounds</p>



<a name="275806333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806333" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806333">(Mar 18 2022 at 14:01)</a>:</h4>
<p>(e.g., to show that we can't generate rust programs that both (a) pass the various conditions and (b) allow you to prove <code>Implemented(T: Foo)</code> when there is no impl)</p>



<a name="275806363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806363">(Mar 18 2022 at 14:01)</a>:</h4>
<p>more than that, I guess it bottoms out in the "what about coq" question --</p>



<a name="275806386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806386" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806386">(Mar 18 2022 at 14:01)</a>:</h4>
<p>we can of course to do some "paper and pen" proofs or argumentation</p>



<a name="275806398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806398">(Mar 18 2022 at 14:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275806181">said</a>:</p>
<blockquote>
<p>because it's "already done" by the time we get to MIR</p>
</blockquote>
<p>so, it's a little embarassing, but is the <code>rustc_middle::ty::sty</code> representation <code>MIR</code>?</p>



<a name="275806399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806399" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806399">(Mar 18 2022 at 14:01)</a>:</h4>
<p>I kind of want to leave the proofs to the academics :P</p>



<a name="275806501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806501">(Mar 18 2022 at 14:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275804566">said</a>:</p>
<blockquote>
<p>we might want to take layouts as <em>inputs</em> to the semantics</p>
</blockquote>
<p>I wanted to ask about what this means. What do we lose by doing this? I assume we miss some potential unsoundness, is that just if the layout algorithm is wrong, or something more general?</p>



<a name="275806522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806522">(Mar 18 2022 at 14:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275806398">said</a>:</p>
<blockquote>
<p>so, it's a little embarassing, but is the <code>rustc_middle::ty::sty</code> representation <code>MIR</code>?</p>
</blockquote>
<p>in my mind, yes</p>



<a name="275806545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806545">(Mar 18 2022 at 14:02)</a>:</h4>
<p>because MIR embeds references to <code>Ty&lt;'tcx&gt;</code></p>



<a name="275806653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806653">(Mar 18 2022 at 14:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310518">Jake</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275806501">said</a>:</p>
<blockquote>
<p>I wanted to ask about what this means. What do we lose by doing this? I assume we miss some potential unsoundness, is that just if the layout algorithm is wrong, or something more general?</p>
</blockquote>
<p>right. it basically means we take the layout of a struct to be an "axiom" -- if it's bogus, or doesn't match what the compiler actually does, we will reach wrong conclusions</p>



<a name="275806695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806695" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806695">(Mar 18 2022 at 14:04)</a>:</h4>
<p>Then we definitely do coercions there</p>



<a name="275806711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806711">(Mar 18 2022 at 14:04)</a>:</h4>
<p>how so?</p>



<a name="275806723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806723" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806723">(Mar 18 2022 at 14:04)</a>:</h4>
<p>coercions are introduced by the HIR-based type checker</p>



<a name="275806736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806736">(Mar 18 2022 at 14:04)</a>:</h4>
<p>but in MIR, they are represented as explicit operations</p>



<a name="275806771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806771">(Mar 18 2022 at 14:04)</a>:</h4>
<p>we probably do have to represent unsizing coercions and some other things</p>



<a name="275806788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806788">(Mar 18 2022 at 14:04)</a>:</h4>
<p>so <code>MIR</code> is <code>rustc_middle::ty</code> + the <code>mir::Body</code> (completely ignoring <code>hir</code> typeck)</p>



<a name="275806794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275806794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275806794">(Mar 18 2022 at 14:04)</a>:</h4>
<p>(which does touch on layout, too)</p>



<a name="275807008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807008">(Mar 18 2022 at 14:06)</a>:</h4>
<p>that said, <span class="user-mention" data-user-id="232957">@Jack Huey</span>, I'd like to try and model coercions</p>



<a name="275807032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807032">(Mar 18 2022 at 14:07)</a>:</h4>
<p>I think we can do some "higher-level experiments" that are outside the model proper</p>



<a name="275807070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807070">(Mar 18 2022 at 14:07)</a>:</h4>
<p>I guess that brings us to next steps</p>



<a name="275807085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807085">(Mar 18 2022 at 14:07)</a>:</h4>
<p>unless there's anything else?</p>



<a name="275807130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807130">(Mar 18 2022 at 14:07)</a>:</h4>
<p>(Side note, if folks think my answers don't make sense, I trust you'll tell me...)</p>



<a name="275807143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807143">(Mar 18 2022 at 14:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275806653">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="310518">Jake</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275806501">said</a>:</p>
<blockquote>
<p>I wanted to ask about what this means. What do we lose by doing this? I assume we miss some potential unsoundness, is that just if the layout algorithm is wrong, or something more general?</p>
</blockquote>
<p>right. it basically means we take the layout of a struct to be an "axiom" -- if it's bogus, or doesn't match what the compiler actually does, we will reach wrong conclusions</p>
</blockquote>
<p>Ah, I see. Is there a possible road here where we can do something similar to <code>-Z randomize-layout</code>, ie fuzzing the layout as part of an input to the model? (I don't have any particular reason to think this is a good idea or necessary, I'm just trying to understand the implications)</p>



<a name="275807184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807184" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807184">(Mar 18 2022 at 14:08)</a>:</h4>
<p>yes</p>



<a name="275807200"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807200" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807200">(Mar 18 2022 at 14:08)</a>:</h4>
<p>I actually think that could be a very good idea</p>



<a name="275807219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807219" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807219">(Mar 18 2022 at 14:08)</a>:</h4>
<p>in particular, I think you might want to show that your code is resilient to different layouts</p>



<a name="275807234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807234">(Mar 18 2022 at 14:08)</a>:</h4>
<p>you probably don't want an arbitrary fuzzer, but doing things like</p>



<a name="275807242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807242">(Mar 18 2022 at 14:08)</a>:</h4>
<p>reordering struct fields to every permutation</p>



<a name="275807267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807267">(Mar 18 2022 at 14:08)</a>:</h4>
<p>or adding random padding in strange places</p>



<a name="275807338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807338" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807338">(Mar 18 2022 at 14:09)</a>:</h4>
<p>\<em>chanting</em>\ next steps, next steps <span aria-label="clap" class="emoji emoji-1f44f" role="img" title="clap">:clap:</span></p>



<a name="275807339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807339">(Mar 18 2022 at 14:09)</a>:</h4>
<h1>next steps</h1>



<a name="275807415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807415">(Mar 18 2022 at 14:10)</a>:</h4>
<p>So, Niko, do you have a TODO list for a-mir-formality?</p>



<a name="275807424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807424">(Mar 18 2022 at 14:10)</a>:</h4>
<p>well, I guess there are two questions</p>
<ul>
<li>does this endeavor make sense? (I think yes)</li>
<li>how to get more people involved? are folks wanting to try and hack on it? should it stay a "nikomatsakis blunt" for a bit longer?</li>
</ul>



<a name="275807461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807461">(Mar 18 2022 at 14:10)</a>:</h4>
<p>In other words, if someone wanted to help out, would they have a place to start</p>



<a name="275807462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807462">(Mar 18 2022 at 14:10)</a>:</h4>
<p>I have a to-do list in my head</p>



<a name="275807484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807484">(Mar 18 2022 at 14:10)</a>:</h4>
<p>but I could start opening issues</p>



<a name="275807510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807510">(Mar 18 2022 at 14:10)</a>:</h4>
<p>and doing a bit of scaffolding there</p>



<a name="275807526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807526">(Mar 18 2022 at 14:10)</a>:</h4>
<p>if people wanted to start closing them :)</p>



<a name="275807549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807549">(Mar 18 2022 at 14:11)</a>:</h4>
<blockquote>
<p>does this endeavor make sense? (I think yes)</p>
</blockquote>



<a name="275807551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807551">(Mar 18 2022 at 14:11)</a>:</h4>
<p>I think there's a number of things that would make sense</p>



<a name="275807554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807554">(Mar 18 2022 at 14:11)</a>:</h4>
<p>yes</p>



<a name="275807562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807562">(Mar 18 2022 at 14:11)</a>:</h4>
<p>Issues would be good. It'll be crucial to get people playing with Redex</p>



<a name="275807586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807586" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807586">(Mar 18 2022 at 14:11)</a>:</h4>
<p>I have to think about good incremental extensions</p>



<a name="275807604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807604">(Mar 18 2022 at 14:11)</a>:</h4>
<p>there are still a few "fundamentals" to work out, that's a bigger task</p>



<a name="275807632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807632">(Mar 18 2022 at 14:11)</a>:</h4>
<p>Ill probably keep those on my plate for the time being until we get more people conversant with redex, but if somebody wants to try a bigger job, that's cool too</p>



<a name="275807663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807663">(Mar 18 2022 at 14:11)</a>:</h4>
<p>I've got one in particular in mind :)</p>



<a name="275807737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807737">(Mar 18 2022 at 14:12)</a>:</h4>
<p>which is adjusting how we handle hypotheses to be "bottom-up"</p>



<a name="275807742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807742">(Mar 18 2022 at 14:12)</a>:</h4>
<p>Maybe there's work to do writing example programs and explaining them like the ones in the doc you shared? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="275807744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807744">(Mar 18 2022 at 14:12)</a>:</h4>
<blockquote>
<p>how to get more people involved? are folks wanting to try and hack on it? should it stay a "nikomatsakis blunt" for a bit longer?</p>
</blockquote>
<p>The thing I like about PLT Redex in, in theory, it's good for "prototyping designs"</p>



<a name="275807746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807746">(Mar 18 2022 at 14:12)</a>:</h4>
<p>one other thing:</p>



<a name="275807773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807773" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807773">(Mar 18 2022 at 14:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="316352">pierwill</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275807742">said</a>:</p>
<blockquote>
<p>Maybe there's work to do writing example programs and explaining them like the ones in the doc you shared? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>
</blockquote>
<p>yes--- and also maybe trying to get the fuzzer up and going</p>



<a name="275807782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807782">(Mar 18 2022 at 14:12)</a>:</h4>
<p>But that assumes you're proficient enough to <em>write</em> it</p>



<a name="275807794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807794">(Mar 18 2022 at 14:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275807746">said</a>:</p>
<blockquote>
<p>one other thing:</p>
</blockquote>
<p>the other thing is that I plan to present this at the upcoming workshop in ETAPS 2020</p>



<a name="275807801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807801">(Mar 18 2022 at 14:12)</a>:</h4>
<p>probably roughly this same document</p>



<a name="275807822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807822">(Mar 18 2022 at 14:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275807782">said</a>:</p>
<blockquote>
<p>But that assumes you're proficient enough to <em>write</em> it</p>
</blockquote>
<p>yes, my assumption is, the types team will get conversant,and we'll help others get going</p>



<a name="275807837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807837">(Mar 18 2022 at 14:13)</a>:</h4>
<p>it is pretty accessible, though it's quite the contrast from Rust</p>



<a name="275807844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807844">(Mar 18 2022 at 14:13)</a>:</h4>
<p>no static checking :)</p>



<a name="275807858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807858">(Mar 18 2022 at 14:13)</a>:</h4>
<p>but lots of contracts, which can be quite useful in narrowing down problems</p>



<a name="275807866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807866">(Mar 18 2022 at 14:13)</a>:</h4>
<p>Writing programs that are valid in the model should be significantly easier than writing the model</p>



<a name="275807870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807870">(Mar 18 2022 at 14:13)</a>:</h4>
<p>Oh gosh it's a heavy constrast</p>



<a name="275807899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807899">(Mar 18 2022 at 14:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="316352">pierwill</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275807866">said</a>:</p>
<blockquote>
<p>Writing programs that are valid in the model should be significantly easier than writing the model</p>
</blockquote>
<p>ironically I find this one of the hardest asks-- there's a style to it I can show you</p>



<a name="275807916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807916">(Mar 18 2022 at 14:14)</a>:</h4>
<p>the problem is that you have to get all the parentheses right :)</p>



<a name="275807967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807967">(Mar 18 2022 at 14:14)</a>:</h4>
<p>Ah interesting</p>



<a name="275807969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807969">(Mar 18 2022 at 14:14)</a>:</h4>
<p>if you try to write too big of a program, you just get an error like 'that's not a program"</p>



<a name="275807982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807982">(Mar 18 2022 at 14:14)</a>:</h4>
<p>but no clue as to <em>why</em></p>



<a name="275807993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275807993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275807993">(Mar 18 2022 at 14:14)</a>:</h4>
<p>so you have to break it into smaller pieces</p>



<a name="275808023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808023" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808023">(Mar 18 2022 at 14:14)</a>:</h4>
<p>actually, another nice bit of work:</p>



<a name="275808028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808028">(Mar 18 2022 at 14:14)</a>:</h4>
<p>a <code>-Z</code> flag for rustc to emit programs :)</p>



<a name="275808032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808032">(Mar 18 2022 at 14:14)</a>:</h4>
<p>We should also consider when is an appropriate time to start incorporating the model into e.g. Chalk</p>



<a name="275808051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808051">(Mar 18 2022 at 14:15)</a>:</h4>
<p>i.e. what are the "requirements"</p>



<a name="275808092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808092">(Mar 18 2022 at 14:15)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> , could we schedule a live hacking session where you do a show and tell?</p>



<a name="275808094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808094">(Mar 18 2022 at 14:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275807993">said</a>:</p>
<blockquote>
<p>so you have to break it into smaller pieces</p>
</blockquote>
<p>you can <a href="https://github.com/nikomatsakis/a-mir-formality/blob/47eceea34b5f56a55d781acc73dca86c996b15c5/src/decl/tests/coinductive/magic-issue-xxx.rkt#L15-L34">see that here</a></p>



<a name="275808112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808112">(Mar 18 2022 at 14:15)</a>:</h4>
<p>yeah, we could do that</p>



<a name="275808123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808123">(Mar 18 2022 at 14:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="316352">pierwill</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275808092">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> , could we schedule a live hacking session where you do a show and tell?</p>
</blockquote>
<p>I'd be a big fan of this</p>



<a name="275808127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808127">(Mar 18 2022 at 14:15)</a>:</h4>
<p>that would be fun</p>



<a name="275808134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808134">(Mar 18 2022 at 14:15)</a>:</h4>
<p>I didn't really try to do a whole "intro to redex"</p>



<a name="275808146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808146">(Mar 18 2022 at 14:15)</a>:</h4>
<p>it'd be good to have that recorded</p>



<a name="275808149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808149">(Mar 18 2022 at 14:15)</a>:</h4>
<p>and maybe some docs about it</p>



<a name="275808205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808205">(Mar 18 2022 at 14:16)</a>:</h4>
<p>One way or another, this will be a big learning challenge for the teams.</p>



<a name="275808207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808207">(Mar 18 2022 at 14:16)</a>:</h4>
<p>e.g. what might not be obvious here</p>
<div class="codehilite" data-code-language="Scheme"><pre><span></span><code><span class="c1">; struct Foo { counter: i32 }</span>
     <span class="nv">AdtDecl_Foo</span> <span class="p">(</span><span class="nf">term</span> <span class="p">(</span><span class="nf">Foo</span> <span class="p">(</span><span class="nf">struct</span> <span class="p">()</span> <span class="p">()</span> <span class="p">((</span><span class="nf">struct-variant</span> <span class="p">((</span><span class="nf">counter</span> <span class="p">(</span><span class="nf">scalar-ty</span> <span class="nv">i32</span><span class="p">)))))))))</span>
</code></pre></div>



<a name="275808218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808218">(Mar 18 2022 at 14:16)</a>:</h4>
<p>is that <code>AdtDecl_</code>, that part has to refer to something from the grammar</p>



<a name="275808224"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808224" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808224">(Mar 18 2022 at 14:16)</a>:</h4>
<p>and it is checked that it matches the pattern</p>



<a name="275808276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808276">(Mar 18 2022 at 14:16)</a>:</h4>
<p>(what comes after the <code>_</code> is the "name" of the variable, what comes before is effectively its type)</p>



<a name="275808280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808280">(Mar 18 2022 at 14:16)</a>:</h4>
<p>And this is just a simple <code>struct</code>, huh</p>



<a name="275808304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808304">(Mar 18 2022 at 14:17)</a>:</h4>
<p>yes, you see why I mentioned it'd be nice to have an automated testing harness</p>



<a name="275808316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808316">(Mar 18 2022 at 14:17)</a>:</h4>
<p>that said, we could also write more macros and scaffolding there</p>



<a name="275808352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808352" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808352">(Mar 18 2022 at 14:17)</a>:</h4>
<p>I really am going to have to get one of those IDE extensions for color code parentheses</p>



<a name="275808371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808371">(Mar 18 2022 at 14:17)</a>:</h4>
<p>oh, yes, you want that :P</p>



<a name="275808390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808390">(Mar 18 2022 at 14:17)</a>:</h4>
<p>Dr. Racket is a fairly nice IDE</p>



<a name="275808394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808394">(Mar 18 2022 at 14:17)</a>:</h4>
<p>though I've been using vscode with magic-racket</p>



<a name="275808403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808403">(Mar 18 2022 at 14:18)</a>:</h4>
<p>because I like to run over ssh</p>



<a name="275808458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808458">(Mar 18 2022 at 14:18)</a>:</h4>
<p>this bug is annoying <a href="https://github.com/Eugleo/magic-racket/issues/74">https://github.com/Eugleo/magic-racket/issues/74</a></p>



<a name="275808465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808465">(Mar 18 2022 at 14:18)</a>:</h4>
<p>I was going to ask if you were using DrRacket...</p>



<a name="275808468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808468">(Mar 18 2022 at 14:18)</a>:</h4>
<p>I'm going to complain everywhere about it</p>



<a name="275808480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808480">(Mar 18 2022 at 14:18)</a>:</h4>
<p>including here where there is zero chance it will help it to get fixed</p>



<a name="275808515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808515">(Mar 18 2022 at 14:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="316352">pierwill</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275808465">said</a>:</p>
<blockquote>
<p>I was going to ask if you were using DrRacket...</p>
</blockquote>
<p>I did for a long time.</p>



<a name="275808605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808605">(Mar 18 2022 at 14:19)</a>:</h4>
<p>It'll be interesting to see what the first real code issue that someone other than Niko works on produces :)</p>



<a name="275808616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808616" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808616">(Mar 18 2022 at 14:19)</a>:</h4>
<p>I "use" magic-racket</p>



<a name="275808618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808618" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808618">(Mar 18 2022 at 14:19)</a>:</h4>
<p>OK, well, I guess we're about at time-- meta point:</p>



<a name="275808631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808631">(Mar 18 2022 at 14:19)</a>:</h4>
<p>this was our first "Deep dive"</p>



<a name="275808646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808646">(Mar 18 2022 at 14:19)</a>:</h4>
<p>brief discussion about the format?</p>



<a name="275808648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808648">(Mar 18 2022 at 14:19)</a>:</h4>
<p>By that, I mean I have it installed for when I tried looking at this</p>



<a name="275808652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808652">(Mar 18 2022 at 14:19)</a>:</h4>
<p>I was happy with the zulip chat</p>



<a name="275808714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808714">(Mar 18 2022 at 14:20)</a>:</h4>
<p>I think Zulip chat worked for this</p>



<a name="275808746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808746">(Mar 18 2022 at 14:20)</a>:</h4>
<p>I'm not sure if we had another topic in mind, <span class="user-mention" data-user-id="232957">@Jack Huey</span>, I forget :) but we should pick one for next week, if we're going to do another</p>



<a name="275808771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808771">(Mar 18 2022 at 14:20)</a>:</h4>
<p>I was going to make a poll with topics...and didn't...</p>



<a name="275808776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808776">(Mar 18 2022 at 14:20)</a>:</h4>
<p><em>but</em></p>



<a name="275808784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808784">(Mar 18 2022 at 14:20)</a>:</h4>
<p>I have a few ideas</p>



<a name="275808795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808795" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808795">(Mar 18 2022 at 14:20)</a>:</h4>
<p>though I've forgotten what they are</p>



<a name="275808802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808802">(Mar 18 2022 at 14:20)</a>:</h4>
<p>how would folks feel like going over the variance docs PR?</p>



<a name="275808821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808821">(Mar 18 2022 at 14:21)</a>:</h4>
<p>that was one of them</p>



<a name="275808827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808827">(Mar 18 2022 at 14:21)</a>:</h4>
<p>I can lead that</p>



<a name="275808844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808844">(Mar 18 2022 at 14:21)</a>:</h4>
<p>I think the other was the rustc-guide chapter for <span class="user-mention" data-user-id="124288">@oli</span>'s PR</p>



<a name="275808864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808864" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808864">(Mar 18 2022 at 14:21)</a>:</h4>
<p>But it would be kind of nice in "testing" out the the different deep-dive "kinds"</p>



<a name="275808872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808872">(Mar 18 2022 at 14:21)</a>:</h4>
<p>and/or the writeup I did trying to document the semantiics of lazy tait</p>



<a name="275808904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808904">(Mar 18 2022 at 14:21)</a>:</h4>
<p>Another thing I could lead would be a GATs related deep-dive</p>



<a name="275808907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275808907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275808907">(Mar 18 2022 at 14:21)</a>:</h4>
<p>I also like that it's getting the types team engaged in different ways, e.g., I'd like us to be giving more feedback and shaping rust reference too</p>



<a name="275809035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809035">(Mar 18 2022 at 14:22)</a>:</h4>
<p>Is the team being launched soon?</p>



<a name="275809066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809066">(Mar 18 2022 at 14:22)</a>:</h4>
<p>From the sounds of things, there's no plan to do UCG related stuff in connection with T-ypes in the near future?</p>



<a name="275809068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809068">(Mar 18 2022 at 14:22)</a>:</h4>
<p>Need an RFC first before launching the team</p>



<a name="275809150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809150">(Mar 18 2022 at 14:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310518">Jake</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275809066">said</a>:</p>
<blockquote>
<p>From the sounds of things, there's no plan to do UCG related stuff in connection with T-ypes in the near future?</p>
</blockquote>
<p>I think not yet, we have to walk before we can run, but I do see this team as being well-equipped to assist with that effort</p>



<a name="275809160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809160">(Mar 18 2022 at 14:23)</a>:</h4>
<p>that said</p>



<a name="275809177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809177">(Mar 18 2022 at 14:23)</a>:</h4>
<p>I think that unsafe code can't exist without an undersatnding of the <em>safe</em> foundation it builds on</p>



<a name="275809201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809201">(Mar 18 2022 at 14:24)</a>:</h4>
<p>so I figure modeling that is getting us in the right direction</p>



<a name="275809274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809274">(Mar 18 2022 at 14:24)</a>:</h4>
<p>side note, <span class="user-mention" data-user-id="120791">@RalfJ</span> wasn't here, I wonder what he thinks of all this :) I know he has some plans for an operational semantics document</p>



<a name="275809324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809324">(Mar 18 2022 at 14:24)</a>:</h4>
<p>Any other ideas for deep dives for next week?</p>



<a name="275809355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809355">(Mar 18 2022 at 14:25)</a>:</h4>
<p>(or really, things people would really like to see sooner rather than later)</p>



<a name="275809428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809428" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809428">(Mar 18 2022 at 14:25)</a>:</h4>
<p>thanks to everyone for coming <span aria-label="purple heart" class="emoji emoji-1f49c" role="img" title="purple heart">:purple_heart:</span> !</p>



<a name="275809497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809497">(Mar 18 2022 at 14:26)</a>:</h4>
<p>I'll post a poll today or this weekend (I promise?)</p>



<a name="275809518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809518">(Mar 18 2022 at 14:26)</a>:</h4>
<p>For a couple topics that I could realistically lead next week</p>



<a name="275809537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809537">(Mar 18 2022 at 14:26)</a>:</h4>
<p>But this was awesome :)</p>



<a name="275809547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809547" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809547">(Mar 18 2022 at 14:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275809068">said</a>:</p>
<blockquote>
<p>Need an RFC first before launching the team</p>
</blockquote>
<p>not very clear, for subteams, but I figure I'll write one anyway :) I like RFCs...</p>



<a name="275809578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809578" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809578">(Mar 18 2022 at 14:27)</a>:</h4>
<p>Thank you all for attending and participating. It's really great.</p>



<a name="275809665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809665">(Mar 18 2022 at 14:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275809547">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275809068">said</a>:</p>
<blockquote>
<p>Need an RFC first before launching the team</p>
</blockquote>
<p>not very clear, for subteams, but I figure I'll write one anyway :) I like RFCs...</p>
</blockquote>
<p>I think this is a "precedent setting" milestone and is a strong candidate for RFC</p>



<a name="275809761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809761">(Mar 18 2022 at 14:28)</a>:</h4>
<p>yes, I also think this is a bit more independent than most subteams</p>



<a name="275809802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275809802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275809802">(Mar 18 2022 at 14:28)</a>:</h4>
<p>in general I think establishing something intended to be "permanent" (and that is a distinguishing feature of a team...) ought to have an RFC</p>



<a name="275846896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275846896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275846896">(Mar 18 2022 at 18:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275809274">said</a>:</p>
<blockquote>
<p>side note, <span class="user-mention silent" data-user-id="120791">RalfJ</span> wasn't here, I wonder what he thinks of all this :) I know he has some plans for an operational semantics document</p>
</blockquote>
<p>yeah I do. :D I was going to use pseudo-Rust for the "precise" parts of it, but that might just be due to my unfamiliarity with Racket (and because Rust is the one syntax we can actually expect people to understand)</p>



<a name="275847024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275847024" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275847024">(Mar 18 2022 at 18:52)</a>:</h4>
<p>I'd also be interested in working on formalizing the trait system and proving things about it (or rather, having a PhD student do that :D ), seeing as how many soundness issues are coming from that corner of the compiler. However I haven't even started looking into what that would take.</p>



<a name="275862879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/275862879" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#275862879">(Mar 18 2022 at 21:07)</a>:</h4>
<p>One way to potentially bridge the gap between racket and rust syntax while retaining the advantages of PLT redex checking / evaluation / fuzzing stuff is to have a "pseudo-Rust" <em>pretty printer</em> for the project</p>



<a name="276775128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/deep%20dive%202022-03-18%3A%20intro%20to%20formality/near/276775128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Zabka <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality.html#276775128">(Mar 27 2022 at 08:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/deep.20dive.202022-03-18.3A.20intro.20to.20formality/near/275808652">said</a>:</p>
<blockquote>
<p>I was happy with the zulip chat</p>
</blockquote>
<p>Fwiw, being able to read back the entire chat log afterwards is really helpful for people trying to catch up :)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>