<html>
<head><meta charset="utf-8"><title>Getting started with Chalk · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html">Getting started with Chalk</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="249529799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249529799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249529799">(Aug 15 2021 at 20:48)</a>:</h4>
<p>Hi! I would like to do some Chalk hacking, could somebody suggest a good issue to get started with please? (And also some tips to get started on the issue) I had a look at the issue tracker but all the issues look to be assigned already or pretty complex.</p>



<a name="249530788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249530788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249530788">(Aug 15 2021 at 21:14)</a>:</h4>
<p>Hmm, let me look</p>



<a name="249530805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249530805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249530805">(Aug 15 2021 at 21:15)</a>:</h4>
<p>Firstly, I wouldn't worry too much about issues being assigned. There really hasn't been any recent activity</p>



<a name="249530847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249530847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249530847">(Aug 15 2021 at 21:16)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/issues/604">chalk#604</a> is potentially a good one</p>



<a name="249530860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249530860" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249530860">(Aug 15 2021 at 21:16)</a>:</h4>
<p>but I would have to look more into what exactly needs to be done</p>



<a name="249530887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249530887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249530887">(Aug 15 2021 at 21:17)</a>:</h4>
<p>Digging into <a href="https://github.com/rust-lang/chalk/issues/587">chalk#587</a> would be nice</p>



<a name="249530933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249530933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249530933">(Aug 15 2021 at 21:18)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/issues/518">chalk#518</a> is also pretty easy</p>



<a name="249530961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249530961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249530961">(Aug 15 2021 at 21:19)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/issues/512">chalk#512</a> is "bigger", but I think <span class="user-mention" data-user-id="251766">@Areredify</span> had a branch that was mostly working</p>



<a name="249531096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531096" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531096">(Aug 15 2021 at 21:23)</a>:</h4>
<p>The canonicalization is a prereq for pushing the rustc integration further</p>



<a name="249531401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531401">(Aug 15 2021 at 21:31)</a>:</h4>
<p>604 seems pretty self-contained. Seems like the remaining work is just auto traits for foreign types, but I'm not clear what that means. Is it that if we have some <code>extern { type A; }</code> and <code>A</code> is used as the type of a field in a struct, then Chalk should take into account whether <code>A</code> is <code>Send</code>, etc.?</p>



<a name="249531452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531452">(Aug 15 2021 at 21:32)</a>:</h4>
<p>Or about deriving <code>Send</code> for <code>A</code> (which I have no idea how it works)</p>



<a name="249531538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531538">(Aug 15 2021 at 21:35)</a>:</h4>
<p>Oh, seens to be about the leaking of auto traits</p>



<a name="249531539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531539">(Aug 15 2021 at 21:35)</a>:</h4>
<p>That makes more sense</p>



<a name="249531585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531585">(Aug 15 2021 at 21:36)</a>:</h4>
<p>I don't quite remember :)</p>



<a name="249531599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531599" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531599">(Aug 15 2021 at 21:37)</a>:</h4>
<p>related: <a href="https://github.com/rust-lang/wg-traits/issues/26">https://github.com/rust-lang/wg-traits/issues/26</a></p>



<a name="249531710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531710">(Aug 15 2021 at 21:40)</a>:</h4>
<p>Hmm, I'm not sure how this works for foreign types. Do you know where this kind of auto trait handling is done in rustc?</p>



<a name="249531728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531728">(Aug 15 2021 at 21:41)</a>:</h4>
<p>See <a href="https://github.com/rust-lang/rust/blob/2d2bc94c8c3aa778e191f80261c726e4777439f1/compiler/rustc_trait_selection/src/traits/select/candidate_assembly.rs#L520">https://github.com/rust-lang/rust/blob/2d2bc94c8c3aa778e191f80261c726e4777439f1/compiler/rustc_trait_selection/src/traits/select/candidate_assembly.rs#L520</a></p>



<a name="249531789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531789">(Aug 15 2021 at 21:43)</a>:</h4>
<p>This might just be done: <a href="https://github.com/rust-lang/chalk/blob/master/tests/test/auto_traits.rs">https://github.com/rust-lang/chalk/blob/master/tests/test/auto_traits.rs</a></p>



<a name="249531912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531912">(Aug 15 2021 at 21:47)</a>:</h4>
<p>Okay, if <a href="https://rust-lang.github.io/chalk/book/clauses/well_known_traits.html">https://rust-lang.github.io/chalk/book/clauses/well_known_traits.html</a> is accurate, we need generator witness, opaque,  and foreign types</p>



<a name="249531965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531965">(Aug 15 2021 at 21:48)</a>:</h4>
<p>I played with that test, and the behaviour for foreign types is as expected</p>



<a name="249531981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249531981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249531981">(Aug 15 2021 at 21:49)</a>:</h4>
<p>There is code for opaque and generator witness types</p>



<a name="249532037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532037">(Aug 15 2021 at 21:51)</a>:</h4>
<p>and tests</p>



<a name="249532183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532183">(Aug 15 2021 at 21:55)</a>:</h4>
<p>Yeah, seems like the book needs to be updated and the issue closed</p>



<a name="249532245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532245">(Aug 15 2021 at 21:57)</a>:</h4>
<p>I think we need to add  <code>WellKnownTrait::Generator</code></p>



<a name="249532292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532292">(Aug 15 2021 at 21:58)</a>:</h4>
<p>Ah yeah, that is here <a href="https://github.com/rust-lang/chalk/issues/363">chalk#363</a></p>



<a name="249532300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532300">(Aug 15 2021 at 21:58)</a>:</h4>
<p>That wouldn't be a terrible thing to work on: adding <code>DispatchFromDyn</code> and <code>Generator</code></p>



<a name="249532305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532305">(Aug 15 2021 at 21:58)</a>:</h4>
<p>It would be <em>really</em> nice to finally close that issue</p>



<a name="249532315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532315">(Aug 15 2021 at 21:59)</a>:</h4>
<p>And then trying to clean up the last X's in <a href="https://rust-lang.github.io/chalk/book/clauses/well_known_traits.html">https://rust-lang.github.io/chalk/book/clauses/well_known_traits.html</a></p>



<a name="249532482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532482">(Aug 15 2021 at 22:02)</a>:</h4>
<p>ok, cool, I'll take a look at that</p>



<a name="249532496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532496">(Aug 15 2021 at 22:02)</a>:</h4>
<p>Also, unsure why that table says <code>Unsize</code> for arrays isn't implemented: <a href="https://github.com/rust-lang/chalk/blob/9a8674f64fa9b6e800d80e3d4afcec5cec5910d8/chalk-solve/src/clauses/builtin_traits/unsize.rs#L320">https://github.com/rust-lang/chalk/blob/9a8674f64fa9b6e800d80e3d4afcec5cec5910d8/chalk-solve/src/clauses/builtin_traits/unsize.rs#L320</a></p>



<a name="249532512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532512">(Aug 15 2021 at 22:03)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/blob/9a8674f64fa9b6e800d80e3d4afcec5cec5910d8/tests/test/unsize.rs#L395">https://github.com/rust-lang/chalk/blob/9a8674f64fa9b6e800d80e3d4afcec5cec5910d8/tests/test/unsize.rs#L395</a></p>



<a name="249532857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249532857" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249532857">(Aug 15 2021 at 22:12)</a>:</h4>
<p>Ping me if you have questions. Gonna be doing other things, so might miss a message otherwise.</p>



<a name="249544810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249544810" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249544810">(Aug 16 2021 at 03:36)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> I'm trying to test the associated types in the <code>Generator</code> trait and want to check the syntax for such a goal. Is it ok to write <code>&lt;empty_gen as Generator&lt;()&gt;&gt;::Yield = ()</code>? Or do I need <code>Normalize(&lt;empty_gen as Generator&lt;()&gt;&gt;::Yield -&gt; ())</code>? I'm not sure what <code>Normalize</code> is doing?</p>



<a name="249544816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249544816" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249544816">(Aug 16 2021 at 03:36)</a>:</h4>
<p>(Neither is working, so I think there is a bug in my code too, but first things first :-) )</p>



<a name="249545304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249545304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249545304">(Aug 16 2021 at 03:49)</a>:</h4>
<p>Either should work, I think</p>



<a name="249545362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249545362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249545362">(Aug 16 2021 at 03:50)</a>:</h4>
<p>I think eq goals get converted to <code>ProjectionEq</code> when one is a projection</p>



<a name="249545379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249545379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249545379">(Aug 16 2021 at 03:50)</a>:</h4>
<p>I think <code>Normalize</code> is more used: see <a href="https://github.com/rust-lang/chalk/blob/9a8674f64fa9b6e800d80e3d4afcec5cec5910d8/tests/test/fn_def.rs#L95">https://github.com/rust-lang/chalk/blob/9a8674f64fa9b6e800d80e3d4afcec5cec5910d8/tests/test/fn_def.rs#L95</a> for example</p>



<a name="249545401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249545401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249545401">(Aug 16 2021 at 03:51)</a>:</h4>
<p><code>Normalize</code> basically means "given this impl of a trait, what is the value of this associated type"</p>



<a name="249545446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249545446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249545446">(Aug 16 2021 at 03:52)</a>:</h4>
<p>Well, specifically, what is the <em>defined</em> value</p>



<a name="249545453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249545453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249545453">(Aug 16 2021 at 03:52)</a>:</h4>
<p>(versus <code>ProjectionEq</code>, which can have an answer of associated type placeholder)</p>



<a name="249545885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249545885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249545885">(Aug 16 2021 at 04:03)</a>:</h4>
<p>"specifically, what is the defined value" - what does this mean?</p>



<a name="249547529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249547529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249547529">(Aug 16 2021 at 04:28)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> I'm looking at the Fn traits as a reference, but I think they are a bit more complicated due to early and late bound regions? In particular, when pushing clauses, Chalk uses the substitution from the TyKind and <code>builder::push_binders</code>. With generators, it seems like I should only use the substitution from the TyKind, and don't need to push_binders. Is that correct?</p>



<a name="249550685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249550685" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249550685">(Aug 16 2021 at 05:31)</a>:</h4>
<p>Another question, when dealing with associated types for FnOnce,  Chalk generalizes the self type (comment: "If <code>self_ty</code> contains bound vars, we want to universally quantify them."). Can generators have generic self_ty? I'm guessing not because they are like closures, but I'm not sure</p>



<a name="249649599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249649599" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249649599">(Aug 16 2021 at 21:22)</a>:</h4>
<p>PR for Generator trait: <a href="https://github.com/rust-lang/chalk/pull/723">https://github.com/rust-lang/chalk/pull/723</a></p>



<a name="249649616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249649616" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249649616">(Aug 16 2021 at 21:22)</a>:</h4>
<p>(I think I figured out the answers to the above questions)</p>



<a name="249724374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249724374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249724374">(Aug 17 2021 at 14:11)</a>:</h4>
<p>Sorry I couldn't respond yesterday. I'll try to take a look at the PR soon</p>



<a name="249772091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/249772091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#249772091">(Aug 17 2021 at 20:08)</a>:</h4>
<p>Thanks!</p>



<a name="250241436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250241436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250241436">(Aug 21 2021 at 22:53)</a>:</h4>
<p>Ping <span class="user-mention" data-user-id="232957">@Jack Huey</span> did you get a chance to look at the PR?</p>



<a name="250243230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250243230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250243230">(Aug 21 2021 at 23:35)</a>:</h4>
<p>I took a brief skim and I didn't see anything off the bat. Going to look here in a bit</p>



<a name="250245069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250245069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250245069">(Aug 22 2021 at 00:26)</a>:</h4>
<p><span class="user-mention" data-user-id="256841">@Nick Cameron</span> I just have one question, see my comment</p>



<a name="250245072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250245072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250245072">(Aug 22 2021 at 00:26)</a>:</h4>
<p>But looks pretty good to me</p>



<a name="250253551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250253551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250253551">(Aug 22 2021 at 04:14)</a>:</h4>
<p>Thanks for the review (and your help earlier)!</p>



<a name="250253552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250253552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250253552">(Aug 22 2021 at 04:14)</a>:</h4>
<p>I've replied to the question</p>



<a name="250253937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250253937" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250253937">(Aug 22 2021 at 04:26)</a>:</h4>
<p>r+ed, misread :)</p>



<a name="250253938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250253938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250253938">(Aug 22 2021 at 04:27)</a>:</h4>
<p>Nice job btw</p>



<a name="250253942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250253942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250253942">(Aug 22 2021 at 04:27)</a>:</h4>
<p>still planning on doing <code>DispatchFromDyn</code>?</p>



<a name="250260041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250260041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250260041">(Aug 22 2021 at 07:15)</a>:</h4>
<p>Yes, will get it done early this week</p>



<a name="250742278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/250742278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#250742278">(Aug 26 2021 at 08:55)</a>:</h4>
<p>Well, that was optimistic! I did get started this evening though :-)</p>



<a name="251017087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251017087" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251017087">(Aug 28 2021 at 01:26)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> is there a pretty printer (or just a printer) for Chalk ASTs?</p>



<a name="251017120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251017120" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251017120">(Aug 28 2021 at 01:26)</a>:</h4>
<p>Well, for Chalk <em>programs</em>, there is</p>



<a name="251017125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251017125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251017125">(Aug 28 2021 at 01:27)</a>:</h4>
<p>One second</p>



<a name="251017248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251017248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251017248">(Aug 28 2021 at 01:29)</a>:</h4>
<p>See <a href="https://github.com/rust-lang/chalk/blob/dbe241e18301cb4688c4b9c277d78dae2913073a/chalk-solve/src/logging_db.rs#L32">https://github.com/rust-lang/chalk/blob/dbe241e18301cb4688c4b9c277d78dae2913073a/chalk-solve/src/logging_db.rs#L32</a></p>



<a name="251017345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251017345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251017345">(Aug 28 2021 at 01:31)</a>:</h4>
<p>I don't think its fully complete (for things like closures) but I might be wrong</p>



<a name="251018867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251018867" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251018867">(Aug 28 2021 at 02:00)</a>:</h4>
<p>Cool, thanks!</p>



<a name="251169033"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251169033" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251169033">(Aug 30 2021 at 00:18)</a>:</h4>
<p>So, it seems Chalk is not aware of size and alignment of types. Is that correct? Should I add this information? (A WF requirement of DispatchFromDyn is for fields which are not 1-ZST)</p>



<a name="251169181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251169181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251169181">(Aug 30 2021 at 00:20)</a>:</h4>
<p>Yep, this is correct. That needs to be added to the rust_ir types</p>



<a name="251169282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251169282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251169282">(Aug 30 2021 at 00:22)</a>:</h4>
<p>Thanks!</p>



<a name="251170672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251170672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251170672">(Aug 30 2021 at 00:46)</a>:</h4>
<p>Some info is directly on AdtDatum (e.g., flags, kind), and some needs looking up in a DB (e.g., the repr). What is the reasoning for where some data should go?</p>



<a name="251171352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251171352" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251171352">(Aug 30 2021 at 00:59)</a>:</h4>
<p>I think we eventually want to transition more to using functions on DB</p>



<a name="251171475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251171475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251171475">(Aug 30 2021 at 01:00)</a>:</h4>
<p>See <a href="https://github.com/rust-lang/chalk/issues/518">chalk#518</a></p>



<a name="251171484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Getting%20started%20with%20Chalk/near/251171484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Getting.20started.20with.20Chalk.html#251171484">(Aug 30 2021 at 01:00)</a>:</h4>
<p>And <a href="https://github.com/rust-lang/chalk/issues/506">chalk#506</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>