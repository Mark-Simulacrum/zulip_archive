<html>
<head><meta charset="utf-8"><title>Chalk PR to identify which impl provides a function · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html">Chalk PR to identify which impl provides a function</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="251979132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/251979132" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jade <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#251979132">(Sep 04 2021 at 06:55)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/pull/726">https://github.com/rust-lang/chalk/pull/726</a></p>
<p>Here is a thread to discuss the above PR.</p>



<a name="251979451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/251979451" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jade <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#251979451">(Sep 04 2021 at 07:01)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="252471606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/252471606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#252471606">(Sep 08 2021 at 14:39)</a>:</h4>
<p><span class="user-mention" data-user-id="325709">@Jade</span> awesome!</p>



<a name="252539856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/252539856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#252539856">(Sep 08 2021 at 21:57)</a>:</h4>
<p>wow this is really cool!</p>



<a name="253468246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/253468246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#253468246">(Sep 15 2021 at 18:55)</a>:</h4>
<p><span class="user-mention" data-user-id="325709">@Jade</span> </p>
<blockquote>
<p>Not quite: I want one domain goal for identifying the appropriate definition in impls, for all item types including constants and associated types, as proposed on the original r-a thread. Normalize would be kept as is and NormalizeFn would be changed.</p>
</blockquote>
<p>This seems reasonable, but should we merge the PR in the meantime?</p>



<a name="253468670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/253468670" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jade <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#253468670">(Sep 15 2021 at 18:57)</a>:</h4>
<p>I'm not sure. I'll look at how hard it is to make it work today.</p>



<a name="255048912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/255048912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#255048912">(Sep 27 2021 at 13:37)</a>:</h4>
<p><span class="user-mention" data-user-id="325709">@Jade</span> any thoughts here?</p>



<a name="255048935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/255048935" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#255048935">(Sep 27 2021 at 13:37)</a>:</h4>
<p>feel free to schedule something at <a href="https://calendly.com/nikomatsakis">https://calendly.com/nikomatsakis</a></p>



<a name="255073995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/255073995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jade <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#255073995">(Sep 27 2021 at 16:04)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span>  I am unfortunately currently completely swamped with the triple of school, personal stuff, and burnout, and haven't looked at it since writing the extra tests. I believe there's a bug to find that was revealed by those added tests but I have not been in the right headspace to do so for a long time.</p>



<a name="275970448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/275970448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#275970448">(Mar 20 2022 at 14:42)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <span class="user-mention" data-user-id="116883">@tmandry</span> <br>
I'm wondering about what Niko wrote on the PR:</p>
<blockquote>
<p>I've been talking with @tmandry about the idea of exposing an associated type for every associated function. I think that is very likely to happen. That suggests that I was wrong to encourage you to split associated functions and associated types, and it would be better to combine the two.</p>
</blockquote>
<p>This seems to disregard associated consts, which we also need to be able to find the impl for. So it seem to me we still need something like this PR, even if we also have associated types for functions? Or do you see some other solution for consts?</p>



<a name="276005112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/276005112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#276005112">(Mar 21 2022 at 04:22)</a>:</h4>
<p>no context on this PR, but it doesn’t seem that unreasonable to have a similar thing for consts where using the name in type context (particularly bounds) gives you the type of the const. it would be useful if we allowed consts in traits to have <code>impl Trait</code> types</p>



<a name="276005207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/276005207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#276005207">(Mar 21 2022 at 04:25)</a>:</h4>
<p>though there’s some uncertainty on whether the function case should give you the <em>function type</em> (which is more general) or go straight to the return type of the function (which is pretty much always what you want)</p>



<a name="276005271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/276005271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#276005271">(Mar 21 2022 at 04:26)</a>:</h4>
<p><span class="user-mention" data-user-id="129457">@Florian Diebold</span> ^</p>



<a name="276041430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/276041430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#276041430">(Mar 21 2022 at 12:19)</a>:</h4>
<p>this is for finding the actual implementation, so we don't need the type of the const, but rather the actual const item in the impl. same for functions, but there the idea was that the function type is enough since every function has its own type. but that's not going to work for consts</p>



<a name="276100192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/276100192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#276100192">(Mar 21 2022 at 19:10)</a>:</h4>
<p>I'm somewhat changing my opinion <em>again</em></p>



<a name="276100289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/276100289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#276100289">(Mar 21 2022 at 19:10)</a>:</h4>
<p>in part because I think we may not have those "Associated types per method"</p>



<a name="276100336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/276100336" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#276100336">(Mar 21 2022 at 19:11)</a>:</h4>
<p><span class="user-mention" data-user-id="426609">@Michael Goulet (compiler-errors)</span> are you still looking into this?</p>



<a name="276100834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/276100834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#276100834">(Mar 21 2022 at 19:15)</a>:</h4>
<p>haven't gotten started on it yet</p>



<a name="276100892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20PR%20to%20identify%20which%20impl%20provides%20a%20function/near/276100892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Chalk.20PR.20to.20identify.20which.20impl.20provides.20a.20function.html#276100892">(Mar 21 2022 at 19:15)</a>:</h4>
<p>was waiting on <a href="https://github.com/rust-lang/chalk/issues/745">chalk#745</a> which split out the different associated kinds, was wondering if i should build on that or not</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>