<html>
<head><meta charset="utf-8"><title>Question about Chalk tests · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20Chalk.20tests.html">Question about Chalk tests</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="263775929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20Chalk%20tests/near/263775929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20Chalk.20tests.html#263775929">(Dec 05 2021 at 16:22)</a>:</h4>
<p>In the unsize tests, from line 54 down (<a href="https://github.com/rust-lang/chalk/blob/master/tests/test/unsize.rs#L54">https://github.com/rust-lang/chalk/blob/master/tests/test/unsize.rs#L54</a>),  all the tests have a <code>forall&lt;'a&gt;</code> and use <code>'a</code> as a lifetime bound on a dyn type.  This doesn't seem to be being tested, so why is it necessary (I assume it's a quirk of Chalk)?</p>



<a name="263776112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20Chalk%20tests/near/263776112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20Chalk.20tests.html#263776112">(Dec 05 2021 at 16:26)</a>:</h4>
<p>Trait objects always need a certain lifetime, right? Rustc infers it in most cases (eg <code>'static</code> for <code>Box&lt;dyn Foo&gt;</code> or <code>'a</code> for <code>&amp;'a dyn Foo</code>), but chalk doesn't. <a href="https://github.com/rust-lang/chalk/blob/e0c94db8a497eee4ed1f49534fb0714801cb90e8/chalk-ir/src/lib.rs#L1035">https://github.com/rust-lang/chalk/blob/e0c94db8a497eee4ed1f49534fb0714801cb90e8/chalk-ir/src/lib.rs#L1035</a></p>



<a name="263776647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20Chalk%20tests/near/263776647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20Chalk.20tests.html#263776647">(Dec 05 2021 at 16:37)</a>:</h4>
<p>Cool, thanks!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>