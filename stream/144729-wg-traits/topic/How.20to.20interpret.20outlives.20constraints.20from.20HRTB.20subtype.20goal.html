<html>
<head><meta charset="utf-8"><title>How to interpret outlives constraints from HRTB subtype goal · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html">How to interpret outlives constraints from HRTB subtype goal</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="265763320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265763320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265763320">(Dec 22 2021 at 03:51)</a>:</h4>
<p>The following Chalk test case is a one-way version of <a href="https://github.com/rust-lang/chalk/blob/977b0a5e3aec60cc70c1ef3783b68ad506e57c04/tests/test/subtype.rs#L80-L88">this one</a></p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">goal</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">Subtype</span><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">),</span><span class="w"> </span><span class="k">for</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">yields</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s">"Unique; for&lt;?U1&gt; { substitution [], lifetime constraints [\</span>
<span class="s">        InEnvironment { environment: Env([]), goal: '!1_0: '^0.0 }, \</span>
<span class="s">        InEnvironment { environment: Env([]), goal: '!1_1: '^0.0 }\</span>
<span class="s">    ] }"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>To my untrained eye, this goal should be true unconditionally. How am I supposed to interpret the resulting bounds? I think I understand how they arise: We convert the <code>for&lt;'c&gt;</code> on the left-hand side to <code>exists&lt;'c&gt;</code> (still unsure of the name of this rule), then convert to prenex normal form and solve. However, I don't understand how to make use of them</p>



<a name="265765952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265765952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265765952">(Dec 22 2021 at 04:47)</a>:</h4>
<p>I don't know the answer to your question, but if I can talk through it a bit: The goal here should be solved like so:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">'</span><span class="na">a</span>: <span class="o">'</span><span class="na">c</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span>: <span class="o">'</span><span class="na">c</span> <span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>I don't know how to read those skolemized printouts, but my impression is that the output is equivalent to this last expression. And AFAIK this statement is true unconditionally.</p>



<a name="265766132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766132" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766132">(Dec 22 2021 at 04:51)</a>:</h4>
<p>(BTW, is there any documentation in e.g. the chalk book for how to read those <code>'!1_0: '^0.0</code> goals? I can make some educated guesses but it seems like a good candidate for a page of the book.)</p>



<a name="265766257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766257">(Dec 22 2021 at 04:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265765952">said</a>:</p>
<blockquote>
<p>I don't know the answer to your question, but if I can talk through it a bit: The goal here should be solved like so:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">'</span><span class="na">a</span>: <span class="o">'</span><span class="na">c</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span>: <span class="o">'</span><span class="na">c</span> <span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>I don't know how to read those skolemized printouts, but my impression is that the output is equivalent to this last expression. And AFAIK this statement is true unconditionally.</p>
</blockquote>
<p>This looks right, but this has always been a bit...lost upon me. Niko would be able to explain better.</p>



<a name="265766265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766265" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766265">(Dec 22 2021 at 04:54)</a>:</h4>
<p>Heh <span class="user-mention" data-user-id="271719">@Mario Carneiro</span>, I grepped for debug impls. <code>!0_1</code> is the placeholder variable in universe 0 with index 1 , <code>^0.1</code> is a bound variable in universe 0 with index 1 (<code>'b</code> in forall&lt;'a, 'b&gt;).</p>



<a name="265766267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766267">(Dec 22 2021 at 04:54)</a>:</h4>
<p>(Though, the final statement there is precisely what the constraints are)</p>



<a name="265766282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766282">(Dec 22 2021 at 04:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="118594">Dylan MacKenzie (ecstatic-morse)</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265766265">said</a>:</p>
<blockquote>
<p>Heh <span class="user-mention silent" data-user-id="271719">Mario Carneiro</span>, I grepped for debug impls. <code>!0_1</code> is the placeholder variable in universe 0 with index 1 , <code>^0.1</code> is a bound variable in universe 0 with index 1 (<code>'b</code> in forall&lt;'a, 'b&gt;).</p>
</blockquote>
<p>This is pretty close. In <code>^0.1</code>, <code>0</code> is the debruijn, not universe.</p>



<a name="265766298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766298" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766298">(Dec 22 2021 at 04:55)</a>:</h4>
<p>Found this: <a href="https://rust-lang.github.io/chalk/book/glossary.html#de-bruijn-index">https://rust-lang.github.io/chalk/book/glossary.html#de-bruijn-index</a></p>



<a name="265766343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766343">(Dec 22 2021 at 04:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265765952">said</a>:</p>
<blockquote>
<p>I don't know the answer to your question, but if I can talk through it a bit: The goal here should be solved like so:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span>:<span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">'</span><span class="na">a</span>: <span class="o">'</span><span class="na">c</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span>: <span class="o">'</span><span class="na">c</span> <span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>I don't know how to read those skolemized printouts, but my impression is that the output is equivalent to this last expression. And AFAIK this statement is true unconditionally.</p>
</blockquote>
<p>As <span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> has already figured out, this is a prelude to integrating the QE stuff into chalk.</p>



<a name="265766363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766363">(Dec 22 2021 at 04:57)</a>:</h4>
<p>It still seems unnecessarily opaque to print things like this. I would at least use a notation like <code>forall&lt;v0_0, v0_1&gt; exists&lt;v1_0&gt;{ 'v0_0: 'v1_0, 'v0_1: 'v1_0 }</code></p>



<a name="265766433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766433" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766433">(Dec 22 2021 at 04:59)</a>:</h4>
<p>We can ignore universes for simple subset goals (like the one in my example), but things probably get more complex when actual trait solving is involved</p>



<a name="265766668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766668">(Dec 22 2021 at 05:02)</a>:</h4>
<p>And I was hoping for some info on how we handle cases like this one from the test suite:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">for</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">Ref</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="n">Ref</span><span class="o">&lt;'</span><span class="na">b</span><span class="p">,</span><span class="w"> </span><span class="n">Ref</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="n">Unit</span><span class="o">&gt;&gt;&gt;</span><span class="p">)</span>: <span class="nb">Eq</span><span class="o">&lt;</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">c</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">d</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">Ref</span><span class="o">&lt;'</span><span class="na">c</span><span class="p">,</span><span class="w"> </span><span class="n">Ref</span><span class="o">&lt;'</span><span class="na">d</span><span class="p">,</span><span class="w"> </span><span class="n">Ref</span><span class="o">&lt;'</span><span class="na">d</span><span class="p">,</span><span class="w"> </span><span class="n">Unit</span><span class="o">&gt;&gt;&gt;</span><span class="p">)</span><span class="o">&gt;</span><span class="w"></span>
</code></pre></div>



<a name="265766672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766672">(Dec 22 2021 at 05:02)</a>:</h4>
<p>Assuming I have read the meanings of "placeholder" and "bound variable" correctly, it seems like the output is in fact <code>for&lt;'c&gt; { 'a: 'c, 'b: 'c }</code> where <code>'a</code> and <code>'b</code> are fixed (i.e. universally quantified). But if <code>for</code> is to be read as <code>forall</code> then this is not the same as the goal I wrote, which has an <code>exists&lt;'c&gt;</code> instead</p>



<a name="265766674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766674" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766674">(Dec 22 2021 at 05:02)</a>:</h4>
<p>Though I thought there was an easier one.</p>



<a name="265766688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766688" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766688">(Dec 22 2021 at 05:03)</a>:</h4>
<p>Unless this is one of those sat things where the goal is negated and we're proving unsat</p>



<a name="265766777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766777" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766777">(Dec 22 2021 at 05:04)</a>:</h4>
<p>Does Chalk treats placeholders and existentials interchangably?</p>



<a name="265766785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766785">(Dec 22 2021 at 05:05)</a>:</h4>
<p>Like, they're implicitly existentially quantified?</p>



<a name="265766800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766800">(Dec 22 2021 at 05:05)</a>:</h4>
<p>Oh, I think you might be right... it would make sense if it was <code>exists&lt;'a, 'b&gt; forall&lt;'c&gt; ...</code></p>



<a name="265766801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766801">(Dec 22 2021 at 05:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265766672">said</a>:</p>
<blockquote>
<p>Assuming I have read the meanings of "placeholder" and "bound variable" correctly, it seems like the output is in fact <code>for&lt;'c&gt; { 'a: 'c, 'b: 'c }</code> where <code>'a</code> and <code>'b</code> are fixed (i.e. universally quantified). But if <code>for</code> is to be read as <code>forall</code> then this is not the same as the goal I wrote, which has an <code>exists&lt;'c&gt;</code> instead</p>
</blockquote>
<p>This <code>for</code> here <em>might</em> be existential. Generally, no, placeholders and existentitals aren't the same, I don't think.</p>



<a name="265766859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766859" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766859">(Dec 22 2021 at 05:07)</a>:</h4>
<p>and now I'm doubting my derivation. Is there a reference for the rules on solving subtyping relations on <code>for&lt;_&gt; fn</code>?</p>



<a name="265766930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766930" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766930">(Dec 22 2021 at 05:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265766859">said</a>:</p>
<blockquote>
<p>and now I'm doubting my derivation. Is there a reference for the rules on solving subtyping relations on <code>for&lt;_&gt; fn</code>?</p>
</blockquote>
<p>one sec, I'll point to the code</p>



<a name="265766941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265766941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265766941">(Dec 22 2021 at 05:08)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/blob/884cd715c6a168afd6723d4f248b919d1e0cb842/chalk-solve/src/infer/unify.rs#L393">https://github.com/rust-lang/chalk/blob/884cd715c6a168afd6723d4f248b919d1e0cb842/chalk-solve/src/infer/unify.rs#L393</a></p>



<a name="265767038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767038">(Dec 22 2021 at 05:11)</a>:</h4>
<p>Hm, that seems to match my derivation. So I'm not sure how the exists and forall are coming out flipped</p>



<a name="265767181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767181">(Dec 22 2021 at 05:14)</a>:</h4>
<p>Do <code>:</code> (outlives) and <code>&lt;:</code> (subtype) go the same direction? They do right?</p>



<a name="265767205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767205">(Dec 22 2021 at 05:15)</a>:</h4>
<p>I think it's right if the <code>for&lt;?U1&gt;</code> is really an <code>exists</code>. And the "<code>forall</code>" is implicit (they're now placeholders <code>1_0</code> and <code>1_1</code>)</p>



<a name="265767210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767210">(Dec 22 2021 at 05:15)</a>:</h4>
<p>Nope</p>



<a name="265767217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767217" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767217">(Dec 22 2021 at 05:15)</a>:</h4>
<p><code>'static: 'a</code> =&gt; <code>'static &lt;: 'a</code></p>



<a name="265767256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767256">(Dec 22 2021 at 05:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265767210">said</a>:</p>
<blockquote>
<p>Nope</p>
</blockquote>
<p>That's why Mario used <code>:&gt;</code> above I guess, so they would agree.</p>



<a name="265767293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767293">(Dec 22 2021 at 05:17)</a>:</h4>
<p>But the original problem had the single lifetime HRTB as the subset and the double lifetime as the superset, whereas Mario's has them flipped, right?</p>



<a name="265767343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767343">(Dec 22 2021 at 05:18)</a>:</h4>
<p>I don't think so</p>



<a name="265767355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767355">(Dec 22 2021 at 05:18)</a>:</h4>
<p>In the test output, <code>'a</code> and <code>'b</code> are <code>!1_0</code> and <code>!1_1</code>; <code>'c</code> is <code>^0.0</code></p>



<a name="265767390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767390">(Dec 22 2021 at 05:19)</a>:</h4>
<p>So, <code>forall&lt;'a, 'b&gt; exists&lt;'c&gt; { 'a: 'c, 'b: 'c }</code> becomes something like <code>exists&lt;'_&gt; { '!1_0: '^0.0, '1_1: '^0.0 }</code></p>



<a name="265767482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767482">(Dec 22 2021 at 05:21)</a>:</h4>
<p>Oops, I didn't mean to flip the subtype relation</p>



<a name="265767532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767532">(Dec 22 2021 at 05:22)</a>:</h4>
<p>pretend I wrote <code>&lt;:</code> not <code>:&gt;</code></p>



<a name="265767548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767548">(Dec 22 2021 at 05:23)</a>:</h4>
<p>but there shouldn't be any flipping with covariant lifetimes; <code>&amp;'a u32 &lt;: &amp;'b u32</code> iff <code>'a: 'b</code></p>



<a name="265767574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767574" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767574">(Dec 22 2021 at 05:23)</a>:</h4>
<p>wait, aren't function arguments contravariant?</p>



<a name="265767614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767614">(Dec 22 2021 at 05:24)</a>:</h4>
<p>yes, that one does flip</p>



<a name="265767623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767623">(Dec 22 2021 at 05:24)</a>:</h4>
<p>I think I got that part right in my derivation</p>



<a name="265767633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767633" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767633">(Dec 22 2021 at 05:24)</a>:</h4>
<p>You got that part right</p>



<a name="265767676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767676">(Dec 22 2021 at 05:25)</a>:</h4>
<p>But then at the end, you need to flip again to go from subset (<code>&lt;:</code>) to outlives (<code>:</code>)</p>



<a name="265767748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767748">(Dec 22 2021 at 05:26)</a>:</h4>
<p>I don't think so, per <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265767548">https://rust-lang.zulipchat.com/#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265767548</a></p>



<a name="265767749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767749" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767749">(Dec 22 2021 at 05:26)</a>:</h4>
<p>I think that's why they disagree</p>



<a name="265767771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767771">(Dec 22 2021 at 05:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265767217">said</a>:</p>
<blockquote>
<p><code>'static: 'a</code> =&gt; <code>'static &lt;: 'a</code></p>
</blockquote>



<a name="265767777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767777" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767777">(Dec 22 2021 at 05:27)</a>:</h4>
<p>that seems to agree with me though</p>



<a name="265767787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767787">(Dec 22 2021 at 05:27)</a>:</h4>
<p>there is no flipping</p>



<a name="265767792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767792">(Dec 22 2021 at 05:28)</a>:</h4>
<p>that is, the outlives relation is the equivalent of subtyping for lifetimes</p>



<a name="265767860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767860" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767860">(Dec 22 2021 at 05:28)</a>:</h4>
<p>I wouldn't usually use the <code>&lt;:</code> relation on lifetimes at all, but Jack's definition is reasonable in this context</p>



<a name="265767865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767865">(Dec 22 2021 at 05:29)</a>:</h4>
<p>Oh, it does. That "nope" must have been for something else.</p>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265767210">said</a>:</p>
<blockquote>
<p>Nope</p>
</blockquote>



<a name="265767878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767878">(Dec 22 2021 at 05:29)</a>:</h4>
<p>Wow. I'm off to  a poor start.</p>



<a name="265767952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767952">(Dec 22 2021 at 05:31)</a>:</h4>
<p>One thing that I might have still gotten confused about is what the original goal means. <code>(for&lt;'c&gt; fn(&amp;'c u32, &amp;'c u32)) :&gt; (for&lt;'a, 'b&gt; fn(&amp;'a u32, &amp;'b u32))</code> says that if you have <code>f: for&lt;'c&gt; fn(&amp;'c u32, &amp;'c u32)</code> then you can use it somewhere where <code>for&lt;'a, 'b&gt; fn(&amp;'a u32, &amp;'b u32)</code> is required, and that does not sound unconditionally true to me</p>



<a name="265767962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265767962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265767962">(Dec 22 2021 at 05:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265767860">said</a>:</p>
<blockquote>
<p>I wouldn't usually use the <code>&lt;:</code> relation on lifetimes at all, but Jack's definition is reasonable in this context</p>
</blockquote>
<p>True...</p>



<a name="265768027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768027">(Dec 22 2021 at 05:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265767952">said</a>:</p>
<blockquote>
<p>One thing that I might have still gotten confused about is what the original goal means. <code>(for&lt;'c&gt; fn(&amp;'c u32, &amp;'c u32)) :&gt; (for&lt;'a, 'b&gt; fn(&amp;'a u32, &amp;'b u32))</code> says that if you have <code>f: for&lt;'c&gt; fn(&amp;'c u32, &amp;'c u32)</code> then you can use it somewhere where <code>for&lt;'a, 'b&gt; fn(&amp;'a u32, &amp;'b u32)</code> is required, and that does not sound unconditionally true to me</p>
</blockquote>
<p>The test suite asserts that these types are equal.</p>



<a name="265768039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768039">(Dec 22 2021 at 05:32)</a>:</h4>
<p>So, both directions are true, which is surprising.</p>



<a name="265768041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768041">(Dec 22 2021 at 05:32)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/blob/977b0a5e3aec60cc70c1ef3783b68ad506e57c04/tests/test/subtype.rs#L80-L88">https://github.com/rust-lang/chalk/blob/977b0a5e3aec60cc70c1ef3783b68ad506e57c04/tests/test/subtype.rs#L80-L88</a></p>



<a name="265768061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768061">(Dec 22 2021 at 05:33)</a>:</h4>
<p>I believe I've seen Niko talk about why this is true before.</p>



<a name="265768066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768066">(Dec 22 2021 at 05:33)</a>:</h4>
<p>He has</p>



<a name="265768089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768089">(Dec 22 2021 at 05:34)</a>:</h4>
<p>If we do the subtyping relation that goes the other way, it works out like:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"> </span><span class="o">&lt;</span>: <span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">))</span><span class="w"> </span><span class="o">&lt;</span>: <span class="nc">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">a</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">b</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span>: <span class="nc">fn</span><span class="p">(</span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span><span class="o">&lt;</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">a</span> <span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;'</span><span class="na">c</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span><span class="o">&lt;</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">b</span> <span class="kt">u32</span> <span class="p">}</span><span class="w"></span>
<span class="n">forall</span><span class="o">&lt;'</span><span class="na">c</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exists</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">b</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">'</span><span class="na">c</span>: <span class="o">'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">c</span>: <span class="o">'</span><span class="na">b</span> <span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>and this one does look unconditionally true: given <code>'c</code> we can set <code>'a = 'b = 'c</code> to solve the goal</p>



<a name="265768116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768116">(Dec 22 2021 at 05:34)</a>:</h4>
<p>He's explained it to at least once or twice and I still can't figure it out in my head</p>



<a name="265768217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768217" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768217">(Dec 22 2021 at 05:36)</a>:</h4>
<p>I guess you can solve the original direction using lifetime intersections. Given <code>'a</code> and <code>'b</code>, set <code>'c = 'a ∩ 'b</code> and then we get that <code>'a</code> and <code>'b</code> both outlive <code>'c</code> as desired</p>



<a name="265768239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768239">(Dec 22 2021 at 05:37)</a>:</h4>
<p>(there is a lot of possibility for "sign errors" when working this out by hand...)</p>



<a name="265768249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768249">(Dec 22 2021 at 05:37)</a>:</h4>
<p>This is NIko from 2016</p>
<blockquote>
<p>you can consider for&lt;'a&gt; fn(&amp;'a, &amp;'a) to be a subtype of for&lt;'b, 'c&gt; fn(&amp;'b, &amp;'c) because, no matter what regions 'b and 'c are instantated with when the function is called, 'a will just be the intersection of them.</p>
</blockquote>



<a name="265768316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768316">(Dec 22 2021 at 05:38)</a>:</h4>
<p>So, what's up with the test case? Is it supposed to produce <code>True</code> as the result, or is it just producing a normalized goal before QE?</p>



<a name="265768418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768418">(Dec 22 2021 at 05:40)</a>:</h4>
<p>I mean, Chalk doesn't necessarily know that these constraints might be trivially solvable</p>



<a name="265768425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768425">(Dec 22 2021 at 05:40)</a>:</h4>
<p>It's not Chalk's <em>job</em> to know</p>



<a name="265768476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768476">(Dec 22 2021 at 05:41)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> After chalk generates the constraints, am I correct to assume that all placeholders not in the root universe came from an <code>exists</code> and all bound variables came from a <code>forall</code>?</p>



<a name="265768549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768549">(Dec 22 2021 at 05:43)</a>:</h4>
<p>I don't think placeholders come from an <code>exists</code></p>



<a name="265768578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768578" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768578">(Dec 22 2021 at 05:43)</a>:</h4>
<p>you might have that backwards</p>



<a name="265768742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan MacKenzie (ecstatic-morse) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768742">(Dec 22 2021 at 05:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265768578">said</a>:</p>
<blockquote>
<p>you might have that backwards</p>
</blockquote>
<p>Yes, it's reversed in my original test case. You're right. Is there some intuition for why that is?</p>



<a name="265768803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768803">(Dec 22 2021 at 05:48)</a>:</h4>
<p>Does chalk's output syntax have constructors for forall and exists, or is it just <code>for</code>?</p>



<a name="265768804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768804">(Dec 22 2021 at 05:48)</a>:</h4>
<p>I mean, I suppose everything <em>could</em> be bound vars (and have the explicit <code>forall</code> in the substitution/constraints)</p>



<a name="265768814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768814">(Dec 22 2021 at 05:48)</a>:</h4>
<p>both <code>forall</code> and <code>exists</code></p>



<a name="265768818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768818">(Dec 22 2021 at 05:48)</a>:</h4>
<p><code>for</code> is only used in a couple spots</p>



<a name="265768830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768830">(Dec 22 2021 at 05:49)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/blob/884cd715c6a168afd6723d4f248b919d1e0cb842/chalk-parse/src/parser.lalrpop#L38">https://github.com/rust-lang/chalk/blob/884cd715c6a168afd6723d4f248b919d1e0cb842/chalk-parse/src/parser.lalrpop#L38</a></p>



<a name="265768837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768837">(Dec 22 2021 at 05:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265768425">said</a>:</p>
<blockquote>
<p>It's not Chalk's <em>job</em> to know</p>
</blockquote>
<p>Right, this was my question. So Chalk does not do any actual solving of constraints, it just generates constraints IIUC</p>



<a name="265768880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768880">(Dec 22 2021 at 05:50)</a>:</h4>
<p>Correct</p>



<a name="265768956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265768956" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265768956">(Dec 22 2021 at 05:52)</a>:</h4>
<p>That link looks like the input parser. Is output syntax (i.e. the <code>Unique; for&lt;?U1&gt; ...</code> thing that is printed in the test) using the same grammar?</p>



<a name="265769009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265769009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265769009">(Dec 22 2021 at 05:54)</a>:</h4>
<p>Ah right. Tbh I haven't looked at that in a while (if really ever). I don't think there will ever be a <code>forall</code>, just a <code>for</code> for "exists" and the placeholders for whatever the <code>forall</code> would be</p>



<a name="265769149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265769149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265769149">(Dec 22 2021 at 05:57)</a>:</h4>
<p>Well, I guess there can be multiple universes that placeholders can be - which would correspond to either the HRTBs or <code>forall</code> goals, I suppose</p>



<a name="265769205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265769205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265769205">(Dec 22 2021 at 05:58)</a>:</h4>
<p>In that case, I think the grammar is limited to <code>forall&lt;_&gt; exists&lt;_&gt; { ... }</code> statements (impress your friends by calling them <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="normal">Π</mi><mn>1</mn><mn>0</mn></msubsup></mrow><annotation encoding="application/x-tex">\Pi^0_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord">Π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span> sentences), although maybe that's not a problem if that is indeed all it takes to express rust WF goals</p>



<a name="265769324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265769324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265769324">(Dec 22 2021 at 06:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal/near/265769205">said</a>:</p>
<blockquote>
<p>impress your friends by calling them <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="normal">Π</mi><mn>1</mn><mn>0</mn></msubsup></mrow><annotation encoding="application/x-tex">\Pi^0_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord">Π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span> sentences</p>
</blockquote>
<p>I so wish I had a more formal understanding of this area</p>



<a name="265769366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265769366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265769366">(Dec 22 2021 at 06:00)</a>:</h4>
<p>But yes, I think it's limited to <code>forall&lt;_&gt; exists&lt;_&gt; { ... }</code></p>



<a name="265769384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265769384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265769384">(Dec 22 2021 at 06:01)</a>:</h4>
<p>Specifically, the final "solution" is a <code>Canonical&lt;Substitution&gt;</code></p>



<a name="265769459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/How%20to%20interpret%20outlives%20constraints%20from%20HRTB%20subtype%20goal/near/265769459" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/How.20to.20interpret.20outlives.20constraints.20from.20HRTB.20subtype.20goal.html#265769459">(Dec 22 2021 at 06:02)</a>:</h4>
<p>Have a look at <a href="https://en.wikipedia.org/wiki/Arithmetical_hierarchy#The_arithmetical_hierarchy_of_formulas">https://en.wikipedia.org/wiki/Arithmetical_hierarchy#The_arithmetical_hierarchy_of_formulas</a> if you are curious (but seriously, it's not all that useful except as linguistic shorthand for the cognoscenti)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>