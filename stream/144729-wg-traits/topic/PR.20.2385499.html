<html>
<head><meta charset="utf-8"><title>PR #85499 · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html">PR #85499</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="250536436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250536436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250536436">(Aug 24 2021 at 19:32)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="232957">@Jack Huey</span> -- I'm reviewing <a href="https://github.com/rust-lang/rust/issues/85499">#85499</a> and I saw your comment about normalizing before inserting into <code>local_decls</code> -- do you want me to tell you where that is :)</p>



<a name="250536546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250536546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250536546">(Aug 24 2021 at 19:33)</a>:</h4>
<p>Well, I did actually find it</p>



<a name="250536556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250536556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250536556">(Aug 24 2021 at 19:33)</a>:</h4>
<p>eventually</p>



<a name="250536584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250536584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250536584">(Aug 24 2021 at 19:33)</a>:</h4>
<p>but doing that led to other problems</p>



<a name="250536644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250536644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250536644">(Aug 24 2021 at 19:34)</a>:</h4>
<p>Oh?</p>



<a name="250536692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250536692" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250536692">(Aug 24 2021 at 19:34)</a>:</h4>
<p>Maybe update the comment then</p>



<a name="250536794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250536794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250536794">(Aug 24 2021 at 19:35)</a>:</h4>
<p>I can do that when I rebase</p>



<a name="250537701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250537701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250537701">(Aug 24 2021 at 19:42)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> left various comments</p>



<a name="250537728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250537728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250537728">(Aug 24 2021 at 19:42)</a>:</h4>
<p>looking</p>



<a name="250542022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250542022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250542022">(Aug 24 2021 at 20:13)</a>:</h4>
<p>responded to some of your comments; will make requested changes</p>



<a name="250570708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250570708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250570708">(Aug 25 2021 at 01:22)</a>:</h4>
<p>Welp one of the new tests fails when rebasing</p>



<a name="250570718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250570718" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250570718">(Aug 25 2021 at 01:23)</a>:</h4>
<p>Let me finish rebasing and double check</p>



<a name="250571159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250571159" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250571159">(Aug 25 2021 at 01:30)</a>:</h4>
<p>Okay thank goodness. Finishing the rebase makes the test pass</p>



<a name="250574274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250574274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250574274">(Aug 25 2021 at 02:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I've resolved your comments</p>



<a name="250580788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250580788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250580788">(Aug 25 2021 at 05:11)</a>:</h4>
<p>do you remember if this PR changes the NLL tests in any way ? (I’m hoping it fixes a couple of normalization cases in the type ops queries for example)</p>



<a name="250581088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250581088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250581088">(Aug 25 2021 at 05:18)</a>:</h4>
<p>I...don't think I've run it under compare mode NLL</p>



<a name="250581976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250581976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250581976">(Aug 25 2021 at 05:41)</a>:</h4>
<p>ok thanks for the answer, I’ll try it locally and see if it can normalize the one case I’m thinking of</p>



<a name="250581989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250581989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250581989">(Aug 25 2021 at 05:41)</a>:</h4>
<p>I'll test under compare mode NLL tomorrow</p>



<a name="250675450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250675450" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250675450">(Aug 25 2021 at 20:09)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> btw this PR doesn't change NLL output</p>



<a name="250675682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250675682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250675682">(Aug 25 2021 at 20:10)</a>:</h4>
<p>good to know, thanks a bunch for testing it. </p>
<p>I'll need to look at this again by re-unifying the HRTB diagnostics code with the actual type op query and see where normalization breaks</p>



<a name="250675847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250675847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250675847">(Aug 25 2021 at 20:12)</a>:</h4>
<p>If you can give me a little bit of info of what I'm looking for, I could also potentially take a look</p>



<a name="250677968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250677968" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250677968">(Aug 25 2021 at 20:29)</a>:</h4>
<p>Yay, I’ll definitely do so :)</p>



<a name="250678975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250678975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250678975">(Aug 25 2021 at 20:37)</a>:</h4>
<p>Yeah, definitely let me know</p>



<a name="250694883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250694883" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250694883">(Aug 25 2021 at 23:01)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/85499">#85499</a> has been merged <span aria-label="hearts" class="emoji emoji-2665" role="img" title="hearts">:hearts:</span></p>



<a name="250695106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250695106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250695106">(Aug 25 2021 at 23:03)</a>:</h4>
<p>wow that's incredibly exciting!</p>



<a name="250695158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250695158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250695158">(Aug 25 2021 at 23:03)</a>:</h4>
<p>And just like that, so many ICEs gone</p>



<a name="250698011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250698011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250698011">(Aug 25 2021 at 23:36)</a>:</h4>
<p>The best part is, along with the several issues closed as part of the PR, I have another 10 or so that I just need to verify are fixed once the nightly hits the playground</p>



<a name="250741346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/PR%20%2385499/near/250741346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/PR.20.2385499.html#250741346">(Aug 26 2021 at 08:44)</a>:</h4>
<p><span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>