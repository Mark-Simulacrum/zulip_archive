<html>
<head><meta charset="utf-8"><title>publishing to crates.io · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html">publishing to crates.io</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="195763652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195763652" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195763652">(Apr 29 2020 at 20:11)</a>:</h4>
<p>OK, <span class="user-mention" data-user-id="232957">@Jack Huey</span>, I adjusted the ownership of the chalk-macros and chalk-engine crates to be more modernized</p>



<a name="195763668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195763668" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195763668">(Apr 29 2020 at 20:11)</a>:</h4>
<p>I believe you would now be able to publish crates</p>



<a name="195763705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195763705" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195763705">(Apr 29 2020 at 20:11)</a>:</h4>
<p>Awesome</p>



<a name="195763765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195763765" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195763765">(Apr 29 2020 at 20:12)</a>:</h4>
<p>I think I'm just gonna publish the crates as 0.10.0</p>



<a name="195763774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195763774" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195763774">(Apr 29 2020 at 20:12)</a>:</h4>
<p>Since chalk-engine was at 0.9.0</p>



<a name="195763911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195763911" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195763911">(Apr 29 2020 at 20:13)</a>:</h4>
<p>I'll probably do this later this evening</p>



<a name="195764074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764074" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764074">(Apr 29 2020 at 20:15)</a>:</h4>
<p>seems good</p>



<a name="195764086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764086" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764086">(Apr 29 2020 at 20:15)</a>:</h4>
<p>I do think we should try to adopt a tolerable workflow</p>



<a name="195764094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764094" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764094">(Apr 29 2020 at 20:15)</a>:</h4>
<p>the cargo-release package you mentioned sounds good</p>



<a name="195764102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764102" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764102">(Apr 29 2020 at 20:15)</a>:</h4>
<p>we should document it</p>



<a name="195764137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764137" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764137">(Apr 29 2020 at 20:15)</a>:</h4>
<p>I thnk that </p>
<p>(a) logging what is done, and<br>
(b) bumping release  number immediately before release</p>
<p>usually works pretty well?</p>



<a name="195764192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764192" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764192">(Apr 29 2020 at 20:16)</a>:</h4>
<p>Yes</p>



<a name="195764216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764216" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764216">(Apr 29 2020 at 20:16)</a>:</h4>
<p>(but I think it'd also be ok to "pre-bump" the number (so that "master" has the next revision) and -- as part of a PR that makes a breaking change -- make "major version bumps")</p>



<a name="195764235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764235" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764235">(Apr 29 2020 at 20:16)</a>:</h4>
<p>at the moment I thnk we're always going to be doing fresh major versions anyway</p>



<a name="195764255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764255" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764255">(Apr 29 2020 at 20:16)</a>:</h4>
<p>I also do wonder if it makes sense to simplify our crate structure, but it's probably best to discuss that separately</p>



<a name="195764290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764290" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764290">(Apr 29 2020 at 20:17)</a>:</h4>
<p>cargo-release does that. It bumps the version, publishes, then bumps to an "alpha"</p>



<a name="195764341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764341" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764341">(Apr 29 2020 at 20:17)</a>:</h4>
<p>I <em>think</em> we can publish with github actions using that. We just need a <a href="http://crates.io" title="http://crates.io">crates.io</a> key in the github secrets</p>



<a name="195764427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195764427" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195764427">(Apr 29 2020 at 20:18)</a>:</h4>
<p>but also maybe just not worth it and easy enough to do manually</p>



<a name="195798515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing%20to%20crates.io/near/195798515" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/publishing.20to.20crates.2Eio.html#195798515">(Apr 30 2020 at 04:54)</a>:</h4>
<p>0.10.0 is published <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>