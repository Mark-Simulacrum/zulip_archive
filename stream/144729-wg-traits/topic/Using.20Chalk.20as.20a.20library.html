<html>
<head><meta charset="utf-8"><title>Using Chalk as a library · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20Chalk.20as.20a.20library.html">Using Chalk as a library</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="270230511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20Chalk%20as%20a%20library/near/270230511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JosephBond <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20Chalk.20as.20a.20library.html#270230511">(Feb 01 2022 at 15:35)</a>:</h4>
<p>Hi all, I'm a student currently working on a project related to the trait system. I am relatively new to Rust in general but will need to be able to use something like chalk to perform queries on input code. I have read through much of the chalk book, but most of the examples contained therein rely on using the repl to demonstrate. Is there a way to use the premade implementations in  chalk_integration/ or import them into my project without having to copy the files over wholesale? Or will I need to write my own interners, databases and the like in order to do my tests? Apologies if this is the wrong place to ask!</p>



<a name="270232155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20Chalk%20as%20a%20library/near/270232155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20Chalk.20as.20a.20library.html#270232155">(Feb 01 2022 at 15:43)</a>:</h4>
<p>Copying the files or adding a <code>git</code> dependency wouldn't be that bad. But do you want to run queries against real Rust code?</p>



<a name="270234365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20Chalk%20as%20a%20library/near/270234365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JosephBond <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20Chalk.20as.20a.20library.html#270234365">(Feb 01 2022 at 15:55)</a>:</h4>
<p>If needs must, then yeah I can copy those files over yes. The intention is to run queries on small portions of real code, but I wanted to prototype things using chalk to demonstrate to my teammates how we might want things to look</p>



<a name="270248452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20Chalk%20as%20a%20library/near/270248452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20Chalk.20as.20a.20library.html#270248452">(Feb 01 2022 at 17:13)</a>:</h4>
<p>So, Chalk's builtin "testing infra" doesn't actually parse "real" Rust code - it's a close approximation</p>



<a name="270248716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20Chalk%20as%20a%20library/near/270248716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20Chalk.20as.20a.20library.html#270248716">(Feb 01 2022 at 17:14)</a>:</h4>
<p>You would either have to look at rust-analyzer's code and dump a chalk program (I dont remember how this is done, but I think it mostly works). Or that functionality would have to be implemented into rustc</p>



<a name="270248874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20Chalk%20as%20a%20library/near/270248874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20Chalk.20as.20a.20library.html#270248874">(Feb 01 2022 at 17:15)</a>:</h4>
<p>If you don't mind using the pseudo-Rust code, then I would look at the test/mod.rs file for an example of how to parse/solve that</p>



<a name="270266899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20Chalk%20as%20a%20library/near/270266899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20Chalk.20as.20a.20library.html#270266899">(Feb 01 2022 at 19:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/Using.20Chalk.20as.20a.20library/near/270248716">said</a>:</p>
<blockquote>
<p>You would either have to look at rust-analyzer's code and dump a chalk program (I dont remember how this is done, but I think it mostly works). Or that functionality would have to be implemented into rustc</p>
</blockquote>
<p><code>CHALK_DEBUG</code>, I think, but I've never used it.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>