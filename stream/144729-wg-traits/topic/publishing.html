<html>
<head><meta charset="utf-8"><title>publishing · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html">publishing</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="197803300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803300">(May 16 2020 at 16:27)</a>:</h4>
<p><span class="user-mention" data-user-id="129457">@Florian Diebold</span> Hey, As you read from <a href="https://github.com/rust-analyzer/rust-analyzer/pull/4405">this</a> PR, we want to setup auto publishing of rust-analyzer so that other analysis tools can use it. While working on that, I realized that chalk needs to be auto published too since it's a dependency of RA. So, my question is, are there any attempts currently to do that? If not, can we do that?</p>



<a name="197803309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803309">(May 16 2020 at 16:27)</a>:</h4>
<p>Also, looks like <code>chalk</code> already exists on <a href="http://crates.io">crates.io</a>, created by someone else</p>



<a name="197803352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803352" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803352">(May 16 2020 at 16:28)</a>:</h4>
<p>that version is not likely to be compatible with the one that RA depends on, though</p>



<a name="197803356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803356">(May 16 2020 at 16:28)</a>:</h4>
<p>since chalk breaks the interface RA uses regularly</p>



<a name="197803366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803366">(May 16 2020 at 16:29)</a>:</h4>
<p>The one on <a href="http://crates.io">crates.io</a> is not even this chalk. It's a terminal color related library created by someone in 2015</p>



<a name="197803417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803417">(May 16 2020 at 16:30)</a>:</h4>
<p>But yeah, is there any objection to do a weekly release like the one I proposed in that PR?</p>



<a name="197803422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803422">(May 16 2020 at 16:30)</a>:</h4>
<p>hm, I think there is a version of Chalk on <a href="http://crates.io">crates.io</a> though, but I don't really know a lot about it</p>



<a name="197803428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803428" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803428">(May 16 2020 at 16:30)</a>:</h4>
<p>I'm not really the person to ask</p>



<a name="197803430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803430">(May 16 2020 at 16:30)</a>:</h4>
<p>maybe <span class="user-mention" data-user-id="232957">@Jack Huey</span> can help</p>



<a name="197803440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803440">(May 16 2020 at 16:31)</a>:</h4>
<p>Also, chalk_rs is a terminal color library, <a href="https://crates.io/crates/chalk_rs">https://crates.io/crates/chalk_rs</a></p>



<a name="197803507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803507">(May 16 2020 at 16:33)</a>:</h4>
<p>Looks like it is this library, <a href="https://crates.io/crates/chalk-solve">https://crates.io/crates/chalk-solve</a></p>



<a name="197803742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197803742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197803742">(May 16 2020 at 16:39)</a>:</h4>
<p>yeah</p>



<a name="197804287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197804287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197804287">(May 16 2020 at 16:51)</a>:</h4>
<p>See <a href="https://rust-lang.github.io/chalk/book/publishing.html">https://rust-lang.github.io/chalk/book/publishing.html</a> for the list of published crates</p>



<a name="197804308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197804308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197804308">(May 16 2020 at 16:51)</a>:</h4>
<p>If we can get "automatic" publishing,  that would be fantastic</p>



<a name="197804356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197804356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197804356">(May 16 2020 at 16:52)</a>:</h4>
<p>I looked into it a bit but didn't really figure it out</p>



<a name="197804370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197804370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197804370">(May 16 2020 at 16:52)</a>:</h4>
<p>I aay "automatic" because we don't want actual scheduled releases. But releasing on a tag would be awesome</p>



<a name="197804894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197804894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197804894">(May 16 2020 at 17:05)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> I can setup an automatic publishing github action using <a href="https://github.com/pksunkara/cargo-workspaces">https://github.com/pksunkara/cargo-workspaces</a>. Though the <code>-dev</code> wont work.</p>



<a name="197804964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197804964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197804964">(May 16 2020 at 17:06)</a>:</h4>
<p>But, "scheduled releases" is what I need here. Rust Analyzer's development speed is too fast and if we want it to published every week/month/bi-weekly, then we would need chalk to help with that</p>



<a name="197805069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805069">(May 16 2020 at 17:09)</a>:</h4>
<p>I mean, do you need a chalk republish every week? I think ideally we want rust-analyzer to use a published chalk. And it will have to be manual upgrades, since right now the API isn't really stable.</p>



<a name="197805223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805223" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805223">(May 16 2020 at 17:13)</a>:</h4>
<p>I'm not a fan of using a published Chalk, since we upgrade much more frequently than Chalk is currently published</p>



<a name="197805225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805225">(May 16 2020 at 17:13)</a>:</h4>
<blockquote>
<p>since right now the API isn't really stable.</p>
</blockquote>



<a name="197805229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805229">(May 16 2020 at 17:13)</a>:</h4>
<p>i.e. I would only be ok with using a published Chalk if it actually published quite frequently</p>



<a name="197805234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805234">(May 16 2020 at 17:13)</a>:</h4>
<p>Which is the main reason I was proposing weekly publish</p>



<a name="197805240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805240">(May 16 2020 at 17:13)</a>:</h4>
<p>we can just bump the minor version every week</p>



<a name="197805284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805284" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805284">(May 16 2020 at 17:14)</a>:</h4>
<p>According to semver, since we are &lt;1.0, minor bump is always breaking change</p>



<a name="197805288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805288">(May 16 2020 at 17:14)</a>:</h4>
<p>So, we don't actually have to care that we are breaking stuff</p>



<a name="197805296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805296" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805296">(May 16 2020 at 17:14)</a>:</h4>
<p>until it is much more mature and rust-analyzer and chalk become stable</p>



<a name="197805387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805387">(May 16 2020 at 17:16)</a>:</h4>
<p>Basically, I am trying to get this publishing issue solved because I am building a code analysis based tool which I would want to release. <span class="user-mention" data-user-id="116009">@nikomatsakis</span> did talk about the librarification and I think chalk and rust-analyzer being published on <a href="http://crates.io">crates.io</a> is very important first step.</p>



<a name="197805647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805647">(May 16 2020 at 17:22)</a>:</h4>
<p>Well, bumping chalk could break stuff. So it can't be automatic</p>



<a name="197805791"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805791" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805791">(May 16 2020 at 17:26)</a>:</h4>
<p>I don't see why it being automatic would be a problem, whether it's automatic or not we need to manually bump on the rust-analyzer/rustc side after a new Chalk version has been published</p>



<a name="197805793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805793">(May 16 2020 at 17:26)</a>:</h4>
<blockquote>
<p>bumping chalk could break stuff</p>
</blockquote>
<p>Can you explain what you mean? If we bump chalk's minor version, anything using chalk won't be broken because <code>cargo</code> adds <code>^</code></p>



<a name="197805803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Drobnak <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805803">(May 16 2020 at 17:27)</a>:</h4>
<p>The minor version is still a breaking change as it's &lt; 1.0</p>



<a name="197805805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197805805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197805805">(May 16 2020 at 17:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="129457">Florian Diebold</span> <a href="#narrow/stream/144729-wg-traits/topic/publishing/near/197805791">said</a>:</p>
<blockquote>
<p>we need to manually bump on the rust-analyzer/rustc side after a new Chalk version has been published</p>
</blockquote>
<p>Exactly</p>



<a name="197806820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197806820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197806820">(May 16 2020 at 17:50)</a>:</h4>
<p>Well, chalk having automatic publishing isn't a problem. It's the upgrading of chalk on rust-analyzer or rustc side that can't be automatic. Again, I'm fine with releasing on tag. (Which <span class="user-mention" data-user-id="129457">@Florian Diebold</span> has the perms to do) But I don't know if we have the activity to justify a regular weekly release. We've talked about this before, but maybe <span class="user-mention" data-user-id="116009">@nikomatsakis</span> can weigh in.</p>



<a name="197806943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197806943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197806943">(May 16 2020 at 17:53)</a>:</h4>
<blockquote>
<p>Again, I'm fine with releasing on tag. (Which @Florian Diebold has the perms to do)</p>
</blockquote>
<p>hm, I didn't know that. If I could just trigger a release of Chalk whenever we want to upgrade it in RA, that would be fine, I think.</p>
<blockquote>
<p>It's the upgrading of chalk on rust-analyzer or rustc side that can't be automatic.</p>
</blockquote>
<p>I don't think it would be in either case. We'd have <code>chalk-solve = "0.123"</code>, and upgrade that when we want/need to.</p>



<a name="197808166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197808166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197808166">(May 16 2020 at 18:22)</a>:</h4>
<p>Okay, <span class="user-mention" data-user-id="254853">@pksunkara</span> if you want to make a PR that publishes the chalk crates on github tag, then I'll look it over</p>



<a name="197808174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197808174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197808174">(May 16 2020 at 18:22)</a>:</h4>
<p>Thanks, will do</p>



<a name="197837757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197837757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197837757">(May 17 2020 at 08:32)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> Hey, just to confirm, you want to tag <code>0.123</code> and the action would update the versions in <code>Cargo.toml</code> and publishes them, right?</p>



<a name="197837771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197837771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197837771">(May 17 2020 at 08:33)</a>:</h4>
<p>My question is, but the <code>Cargo.toml</code>s of the tagged version commit on github will not contain the correct version information. Are we okay with that?</p>



<a name="197859263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197859263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197859263">(May 17 2020 at 17:19)</a>:</h4>
<p>Oh yeah...ugh that's less than ideal</p>



<a name="197859276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197859276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197859276">(May 17 2020 at 17:19)</a>:</h4>
<p>What's the best way to get around this</p>



<a name="197874317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197874317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197874317">(May 17 2020 at 23:10)</a>:</h4>
<p>Either we schedule it or we could try this tool, <a href="https://www.actionspanel.app/">https://www.actionspanel.app/</a></p>



<a name="197884010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197884010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197884010">(May 18 2020 at 03:04)</a>:</h4>
<p>That's neat. Let's see what <span class="user-mention" data-user-id="116009">@nikomatsakis</span> thinks</p>



<a name="197971786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197971786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197971786">(May 18 2020 at 17:47)</a>:</h4>
<p>Hmm, I don't have a strong opinion, but I think I personally favor the idea of weekly releases</p>



<a name="197971793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197971793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197971793">(May 18 2020 at 17:47)</a>:</h4>
<p>or releases on some cadence</p>



<a name="197971842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197971842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197971842">(May 18 2020 at 17:48)</a>:</h4>
<p>just because it's less headache for us to think about</p>



<a name="197971848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197971848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197971848">(May 18 2020 at 17:48)</a>:</h4>
<p>"when it's time for a release"</p>



<a name="197971915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197971915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197971915">(May 18 2020 at 17:48)</a>:</h4>
<p>at some point I would think that we would want to move to a 1.0 status, and at that point, we would have to have some tooling to know when we've issued breaking changes, or maybe we'd move off of the cadence</p>



<a name="197972379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197972379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197972379">(May 18 2020 at 17:52)</a>:</h4>
<p>Oh, okay then weekly releases are good</p>



<a name="197972491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197972491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197972491">(May 18 2020 at 17:53)</a>:</h4>
<p>it would definitely be a "caveat emptor" sort of release</p>



<a name="197972496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197972496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197972496">(May 18 2020 at 17:53)</a>:</h4>
<p>but that's ok</p>



<a name="197972720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197972720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197972720">(May 18 2020 at 17:54)</a>:</h4>
<p>yeah, that's fine I think</p>



<a name="197973009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197973009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197973009">(May 18 2020 at 17:56)</a>:</h4>
<p>I imagine that this will give rust-analyzer some cadence with which to schedule upgrades? though maybe <span class="user-mention" data-user-id="129457">@Florian Diebold</span> can say if they're prefer something faster</p>



<a name="197973099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/197973099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#197973099">(May 18 2020 at 17:57)</a>:</h4>
<p>I think weekly would be fine</p>



<a name="198036838"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198036838" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198036838">(May 19 2020 at 08:43)</a>:</h4>
<p>Thanks guys, I will start on the action code to make a weekly release.</p>



<a name="198170908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198170908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198170908">(May 20 2020 at 09:00)</a>:</h4>
<p>Here's the PR for setting up the publishing, <a href="https://github.com/rust-lang/chalk/pull/461">https://github.com/rust-lang/chalk/pull/461</a></p>



<a name="198849991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198849991" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198849991">(May 27 2020 at 05:05)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> Hey, setting the tag as <code>dev</code> only without the <code>.0</code> will take some time. I assume you really want it to be like that. Just wanted to let you know</p>



<a name="198850046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198850046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198850046">(May 27 2020 at 05:06)</a>:</h4>
<p>I don't really care <em>that</em> much</p>



<a name="198850048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198850048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198850048">(May 27 2020 at 05:06)</a>:</h4>
<p>I think we're just waiting for <span class="user-mention" data-user-id="116009">@nikomatsakis</span> to add a <a href="http://crates.io">crates.io</a> token</p>



<a name="198850049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198850049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198850049">(May 27 2020 at 05:06)</a>:</h4>
<p>Then I'm good to merge</p>



<a name="198850051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198850051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198850051">(May 27 2020 at 05:06)</a>:</h4>
<p>Ok, thanks</p>



<a name="198850058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198850058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198850058">(May 27 2020 at 05:07)</a>:</h4>
<p>This will actually be really nice</p>



<a name="198850060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198850060" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198850060">(May 27 2020 at 05:07)</a>:</h4>
<p>Thanks :)</p>



<a name="198956190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198956190" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198956190">(May 27 2020 at 21:31)</a>:</h4>
<p>So what ended up being the problem with making the bot?</p>



<a name="198984061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/198984061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#198984061">(May 28 2020 at 05:31)</a>:</h4>
<p>Anything I can help with?</p>



<a name="199042972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199042972" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199042972">(May 28 2020 at 16:05)</a>:</h4>
<p>OK, so <span class="user-mention" data-user-id="121055">@Pietro Albini</span> created a <code>rust-lang-chalk-publish-bot</code> user</p>



<a name="199042998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199042998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199042998">(May 28 2020 at 16:05)</a>:</h4>
<p>I added it as owner to some chalk crates but I think there are some fresh ones that have never been published</p>



<a name="199043083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199043083" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199043083">(May 28 2020 at 16:06)</a>:</h4>
<ul>
<li>chalk-base (I think we renamed this?)</li>
<li>chalk-parse (maybe we never expect to publish this?)</li>
<li>chalk-integration (I guess we never expect to publish this)</li>
</ul>



<a name="199043124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199043124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199043124">(May 28 2020 at 16:06)</a>:</h4>
<p>Not sure if <span class="user-mention" data-user-id="121055">@Pietro Albini</span> added the token for this already or not</p>



<a name="199043145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199043145" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199043145">(May 28 2020 at 16:07)</a>:</h4>
<p>Yeah. Parse and integration we don't publish</p>



<a name="199043153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199043153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199043153">(May 28 2020 at 16:07)</a>:</h4>
<p>Base hasn't been published</p>



<a name="199043341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199043341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199043341">(May 28 2020 at 16:08)</a>:</h4>
<p>ok so we should do an initial publish and setup the appropriate owners</p>



<a name="199043780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199043780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199043780">(May 28 2020 at 16:12)</a>:</h4>
<p>Yes. Wonder if its worth just doing another round of releases</p>



<a name="199043858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199043858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199043858">(May 28 2020 at 16:13)</a>:</h4>
<p>accepted all invitations</p>



<a name="199043878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199043878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199043878">(May 28 2020 at 16:13)</a>:</h4>
<p>this should work now!</p>



<a name="199045373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199045373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199045373">(May 28 2020 at 16:24)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> can you manage the releasing etc?</p>



<a name="199045390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199045390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199045390">(May 28 2020 at 16:25)</a>:</h4>
<p>to fixup chalk-base I mean</p>



<a name="199045708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199045708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199045708">(May 28 2020 at 16:27)</a>:</h4>
<p>Yep</p>



<a name="199045822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199045822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199045822">(May 28 2020 at 16:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> can you look at/merge <a href="https://github.com/rust-lang/chalk/pull/477">https://github.com/rust-lang/chalk/pull/477</a> first though</p>



<a name="199045886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199045886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199045886">(May 28 2020 at 16:28)</a>:</h4>
<p>Pretty small, but if we're doing an upgrade, I want to upgrade version in rustc and it needs that change</p>



<a name="199046665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199046665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199046665">(May 28 2020 at 16:35)</a>:</h4>
<p>done</p>



<a name="199048026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Drobnak <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048026">(May 28 2020 at 16:46)</a>:</h4>
<p>Now that chalk-engine relies on chalk-ir, can we avoid the need for chalk-base?</p>



<a name="199048172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048172">(May 28 2020 at 16:47)</a>:</h4>
<p>That's...a good question</p>



<a name="199048250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Drobnak <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048250">(May 28 2020 at 16:48)</a>:</h4>
<p>It mostly contains common engine internal types (Floundered) and debugging macros</p>



<a name="199048266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048266" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048266">(May 28 2020 at 16:48)</a>:</h4>
<p>Yeah</p>



<a name="199048321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048321">(May 28 2020 at 16:48)</a>:</h4>
<p>Would anyone (<span class="user-mention" data-user-id="116009">@nikomatsakis</span>) object to me just moving chalk-base into chalk-ir and publishing</p>



<a name="199048324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Drobnak <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048324">(May 28 2020 at 16:48)</a>:</h4>
<p>So not quite what we want in a public API like chalk-ir, so maybe it's fine as an internal dependency?</p>



<a name="199048385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048385">(May 28 2020 at 16:49)</a>:</h4>
<p>I mean,  they get included regardless</p>



<a name="199048467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Drobnak <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048467">(May 28 2020 at 16:50)</a>:</h4>
<p>They do? I mean, are users of chalk-ir currently able to use the types from chalk-base? I don't think so, unless they're re-exported?</p>



<a name="199048573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048573">(May 28 2020 at 16:51)</a>:</h4>
<p>Ah, maybe not</p>



<a name="199048597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048597" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048597">(May 28 2020 at 16:51)</a>:</h4>
<p>Err wait</p>



<a name="199048623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048623">(May 28 2020 at 16:51)</a>:</h4>
<p>I mean, chalk-ir depends on chalk-base</p>



<a name="199048633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048633" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048633">(May 28 2020 at 16:51)</a>:</h4>
<p>And uses types like <code>NoSolution</code></p>



<a name="199048725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048725">(May 28 2020 at 16:52)</a>:</h4>
<p>I guess <code>Floundered</code> isn't used in chalk-ir directly</p>



<a name="199048748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199048748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Drobnak <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199048748">(May 28 2020 at 16:52)</a>:</h4>
<p>Ya, <del>all</del> most of <code>results.rs</code> in chalk-base can be moved</p>



<a name="199050582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199050582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199050582">(May 28 2020 at 17:07)</a>:</h4>
<p>I think the bot can do the initial publishing this sunday</p>



<a name="199050636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199050636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199050636">(May 28 2020 at 17:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/publishing/near/199048321">said</a>:</p>
<blockquote>
<p>Would anyone (<span class="user-mention silent" data-user-id="116009">nikomatsakis</span>) object to me just moving chalk-base into chalk-ir and publishing</p>
</blockquote>
<p>I have no objection to fewer crates :)</p>



<a name="199050661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199050661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199050661">(May 28 2020 at 17:07)</a>:</h4>
<p>But if you still want to do the initial version, you can publish a 0.0.1 and immediately yank it</p>



<a name="199050779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199050779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199050779">(May 28 2020 at 17:08)</a>:</h4>
<p>I'm not too concerned about chalk-ir having a narrow set of types just yet</p>



<a name="199050794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199050794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199050794">(May 28 2020 at 17:08)</a>:</h4>
<p>I'm sure that will evolve over time</p>



<a name="199051281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199051281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199051281">(May 28 2020 at 17:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/publishing/near/199050636">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/publishing/near/199048321">said</a>:</p>
<blockquote>
<p>Would anyone (<span class="user-mention silent" data-user-id="116009">nikomatsakis</span>) object to me just moving chalk-base into chalk-ir and publishing</p>
</blockquote>
<p>I have no objection to fewer crates :)</p>
</blockquote>
<p>I figured hehe</p>



<a name="199051397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199051397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199051397">(May 28 2020 at 17:12)</a>:</h4>
<p>I'm getting rid of chalk-base now. So technically don't need to do a release now?</p>



<a name="199051459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199051459" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199051459">(May 28 2020 at 17:12)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> Should I still do a release or do we want to just wait until Sunday</p>



<a name="199054961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199054961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199054961">(May 28 2020 at 17:35)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/pull/479">https://github.com/rust-lang/chalk/pull/479</a> for anyone who wants to take a look (<span class="user-mention" data-user-id="116009">@nikomatsakis</span> or <span class="user-mention" data-user-id="218805">@Mark Drobnak</span>)</p>



<a name="199057446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199057446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199057446">(May 28 2020 at 17:55)</a>:</h4>
<p>Okay, so <em>theoretically</em> we can merge the publishing PR now and it should work</p>



<a name="199057573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199057573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199057573">(May 28 2020 at 17:56)</a>:</h4>
<p>Before Sunday, someone should update the RELEASES.md for the unreleased changes so far :)</p>



<a name="199078075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199078075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199078075">(May 28 2020 at 20:03)</a>:</h4>
<p>PR looks good</p>



<a name="199078105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199078105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199078105">(May 28 2020 at 20:03)</a>:</h4>
<p>Do we have the key setup in github actions etc now?</p>



<a name="199081446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199081446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199081446">(May 28 2020 at 20:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/144729-wg-traits/topic/publishing/near/199043878">said</a>:</p>
<blockquote>
<p>this should work now!</p>
</blockquote>
<p><span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span>‍♀️</p>



<a name="199086879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199086879" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199086879">(May 28 2020 at 21:08)</a>:</h4>
<p>I think we can go ahead. I will keep an eye on the Sunday publishing</p>



<a name="199086910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199086910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199086910">(May 28 2020 at 21:08)</a>:</h4>
<p>If any issues pop up, I will send follow-up PRs</p>



<a name="199087319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199087319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199087319">(May 28 2020 at 21:12)</a>:</h4>
<p>I see a CARGO_REGISTRY_TOKEN in the repository settings</p>



<a name="199087322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199087322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199087322">(May 28 2020 at 21:12)</a>:</h4>
<p>added 7 hours ago</p>



<a name="199087328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199087328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199087328">(May 28 2020 at 21:12)</a>:</h4>
<p>so .. probably yes!</p>



<a name="199094172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199094172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199094172">(May 28 2020 at 22:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> should we merge then?</p>



<a name="199131804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199131804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199131804">(May 29 2020 at 09:23)</a>:</h4>
<p>yes</p>



<a name="199166424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199166424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199166424">(May 29 2020 at 15:04)</a>:</h4>
<p>Merged</p>



<a name="199291404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199291404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199291404">(May 31 2020 at 05:18)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> Corrected the small mistake in the publishing script. <a href="https://github.com/rust-lang/chalk/pull/482">https://github.com/rust-lang/chalk/pull/482</a></p>



<a name="199291405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199291405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199291405">(May 31 2020 at 05:18)</a>:</h4>
<p>Do you think we can merge it today?</p>



<a name="199291542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199291542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199291542">(May 31 2020 at 05:22)</a>:</h4>
<p>yes</p>



<a name="199291596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199291596" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199291596">(May 31 2020 at 05:24)</a>:</h4>
<p>Thanks</p>



<a name="199291598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199291598" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199291598">(May 31 2020 at 05:24)</a>:</h4>
<p>It should run the publishing tonight and I will check tomorrow</p>



<a name="199338277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199338277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199338277">(Jun 01 2020 at 05:28)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> New morning, new PR. <a href="https://github.com/rust-lang/chalk/pull/483">https://github.com/rust-lang/chalk/pull/483</a>. Also, please delete this tag, <a href="https://github.com/rust-lang/chalk/releases/tag/v0.10.1">https://github.com/rust-lang/chalk/releases/tag/v0.10.1</a></p>



<a name="199338283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199338283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199338283">(Jun 01 2020 at 05:29)</a>:</h4>
<p>I explained in the PR what went wrong and how I fixed it</p>



<a name="199338290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199338290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199338290">(Jun 01 2020 at 05:29)</a>:</h4>
<p>Let's get it merged today</p>



<a name="199378961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199378961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199378961">(Jun 01 2020 at 14:57)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/pull/484">https://github.com/rust-lang/chalk/pull/484</a>. Thanks for the catch <span class="user-mention" data-user-id="218805">@Mark Drobnak</span></p>



<a name="199379366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199379366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199379366">(Jun 01 2020 at 15:00)</a>:</h4>
<p>bleh ok</p>



<a name="199379449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199379449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199379449">(Jun 01 2020 at 15:01)</a>:</h4>
<p>how sure are we this is correct now</p>



<a name="199379585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199379585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199379585">(Jun 01 2020 at 15:02)</a>:</h4>
<p>I tested this command before, but in the morning while updating, I mistakenly used the alias I generally use locally</p>



<a name="199379978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199379978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199379978">(Jun 01 2020 at 15:06)</a>:</h4>
<p>Can you set it to just publish in like an hour?</p>



<a name="199381770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199381770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199381770">(Jun 01 2020 at 15:19)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> Done</p>



<a name="199381940"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199381940" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199381940">(Jun 01 2020 at 15:20)</a>:</h4>
<p>Okay fingers crossed</p>



<a name="199389187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199389187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199389187">(Jun 01 2020 at 16:18)</a>:</h4>
<p>Sometimes, I feel like I shouldn't do programming at all. <span aria-label="distraught" class="emoji emoji-1f629" role="img" title="distraught">:distraught:</span></p>



<a name="199389189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199389189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199389189">(Jun 01 2020 at 16:18)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/pull/485">https://github.com/rust-lang/chalk/pull/485</a></p>



<a name="199390278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199390278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199390278">(Jun 01 2020 at 16:26)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> ^^</p>



<a name="199396256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199396256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199396256">(Jun 01 2020 at 17:15)</a>:</h4>
<p>Again bleh</p>



<a name="199404853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199404853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199404853">(Jun 01 2020 at 18:24)</a>:</h4>
<p><span class="user-mention" data-user-id="254853">@pksunkara</span> release failed</p>



<a name="199404961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199404961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199404961">(Jun 01 2020 at 18:25)</a>:</h4>
<p>The cargo package verifying is weird. Would love if someone can help me design the workflow.</p>



<a name="199404990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199404990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199404990">(Jun 01 2020 at 18:25)</a>:</h4>
<p><code>cargo-workspaces</code> builds the DAG correctly</p>



<a name="199405097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199405097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199405097">(Jun 01 2020 at 18:26)</a>:</h4>
<p>It currently verifies all packages first and then publishes them</p>



<a name="199405169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199405169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199405169">(Jun 01 2020 at 18:27)</a>:</h4>
<p>But I guess the package which has a dependency (<code>chalk-ir</code> in this case) fails the verification because the dependency (<code>chalk-derive</code> in this case) is not yet published to <a href="http://crates.io">crates.io</a></p>



<a name="199405267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199405267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199405267">(Jun 01 2020 at 18:27)</a>:</h4>
<p>We could verify and publish each package individually.</p>



<a name="199405331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199405331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199405331">(Jun 01 2020 at 18:28)</a>:</h4>
<p>But what happens when a verification fails in the middle?</p>



<a name="199405349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199405349" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199405349">(Jun 01 2020 at 18:28)</a>:</h4>
<p>Only some packages would end up being published</p>



<a name="199405704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199405704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199405704">(Jun 01 2020 at 18:32)</a>:</h4>
<p>I don't know if there's an alternative</p>



<a name="199405721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199405721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199405721">(Jun 01 2020 at 18:32)</a>:</h4>
<p>Probably not even worth doing verification</p>



<a name="199422559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199422559" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199422559">(Jun 01 2020 at 21:00)</a>:</h4>
<p>Even if we don't do verification, the publish will still fail because <a href="http://crates.io">crates.io</a> doesn't seem to update the index fast enough</p>



<a name="199422690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199422690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199422690">(Jun 01 2020 at 21:01)</a>:</h4>
<p>An example publish I just tried</p>
<div class="codehilite"><pre><span></span><code>    Updating crates.io index
   Packaging reign_derive v0.2.0 (/Users/pksunkara/Coding/pksunkara/reign/reign_derive)
   Uploading reign_derive v0.2.0 (/Users/pksunkara/Coding/pksunkara/reign/reign_derive)
info published reign_derive
    Updating crates.io index
   Packaging reign v0.2.0 (/Users/pksunkara/Coding/pksunkara/reign)
error: failed to prepare local package for uploading

Caused by:
  failed to select a version for the requirement `reign_derive = &quot;^0.2.0&quot;`
  candidate versions found which didn&#39;t match: 0.1.2
  location searched: crates.io index
</code></pre></div>



<a name="199422851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199422851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199422851">(Jun 01 2020 at 21:02)</a>:</h4>
<p>I wonder what I can do here to refresh the <a href="http://crates.io">crates.io</a> index for every publish command. Maybe <span class="user-mention" data-user-id="121055">@Pietro Albini</span> can help me here?</p>



<a name="199425735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199425735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199425735">(Jun 01 2020 at 21:23)</a>:</h4>
<p>This is something that I saw when publishing: <a href="http://rust-lang.github.io/chalk/book/publishing.html">http://rust-lang.github.io/chalk/book/publishing.html</a></p>



<a name="199425746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199425746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Drobnak <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199425746">(Jun 01 2020 at 21:23)</a>:</h4>
<p>So, it seems the issue is due to the "cycle" in the DAG due to the dev-dependency? What I've done to solve this is remove the version from the dev-dependency so it's just the path that remains. Not sure if we've already done that though</p>
<p>Edit: might be talking about the wrong issue</p>



<a name="199425755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199425755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199425755">(Jun 01 2020 at 21:23)</a>:</h4>
<blockquote>
<p>You will probably have to wait a couple seconds between each to let the index update</p>
</blockquote>



<a name="199425850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199425850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199425850">(Jun 01 2020 at 21:24)</a>:</h4>
<p><span class="user-mention" data-user-id="218805">@Mark Drobnak</span> that's not the issue :)</p>



<a name="199425878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199425878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Drobnak <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199425878">(Jun 01 2020 at 21:24)</a>:</h4>
<p>Darn, I had such a good solution ;)</p>



<a name="199425887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199425887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199425887">(Jun 01 2020 at 21:24)</a>:</h4>
<p><span class="user-mention" data-user-id="254853">@pksunkara</span> Honestly, you can just wait 5 seconds between each publish</p>



<a name="199425902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199425902" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199425902">(Jun 01 2020 at 21:24)</a>:</h4>
<p><span class="user-mention" data-user-id="218805">@Mark Drobnak</span> what was the solution</p>



<a name="199425926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199425926" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199425926">(Jun 01 2020 at 21:24)</a>:</h4>
<p>oh</p>



<a name="199425931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199425931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199425931">(Jun 01 2020 at 21:25)</a>:</h4>
<p>you wrote it</p>



<a name="199426020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199426020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199426020">(Jun 01 2020 at 21:25)</a>:</h4>
<p>I can do the wait. That was my first thought too</p>



<a name="199426062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199426062" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199426062">(Jun 01 2020 at 21:26)</a>:</h4>
<p>But I wanted to ask if anyone knows what the time I should wait for is</p>



<a name="199426101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199426101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199426101">(Jun 01 2020 at 21:26)</a>:</h4>
<p>Is it 5s or 1 minute or something else?</p>



<a name="199426174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199426174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Drobnak <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199426174">(Jun 01 2020 at 21:27)</a>:</h4>
<p>cargo-release seems to have some code for this: <a href="https://github.com/sunng87/cargo-release/pull/194">https://github.com/sunng87/cargo-release/pull/194</a></p>



<a name="199426187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199426187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199426187">(Jun 01 2020 at 21:27)</a>:</h4>
<p>I've found that just 5 seconds is enough</p>



<a name="199426298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199426298" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199426298">(Jun 01 2020 at 21:28)</a>:</h4>
<p><span class="user-mention" data-user-id="218805">@Mark Drobnak</span> Thanks. That PR is helpful</p>



<a name="199426308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199426308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199426308">(Jun 01 2020 at 21:28)</a>:</h4>
<p>using the <code>crates-index</code> crate might not be a bad solution either</p>



<a name="199426371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199426371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Drobnak <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199426371">(Jun 01 2020 at 21:29)</a>:</h4>
<p>Here's the current method:<br>
<a href="https://github.com/sunng87/cargo-release/blob/109de52c204ac274fe5e6ec07d33cc28737d1db0/src/cargo.rs#L59">https://github.com/sunng87/cargo-release/blob/109de52c204ac274fe5e6ec07d33cc28737d1db0/src/cargo.rs#L59</a><br>
And how it's used:<br>
<a href="https://github.com/sunng87/cargo-release/blob/a9aa11a521c4a2c1ce4ae4d32bb9731c340e21c9/src/main.rs#L704">https://github.com/sunng87/cargo-release/blob/a9aa11a521c4a2c1ce4ae4d32bb9731c340e21c9/src/main.rs#L704</a></p>
<p>They use a timeout of 5 minutes, but check every second.</p>



<a name="199429001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199429001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199429001">(Jun 01 2020 at 21:56)</a>:</h4>
<p>the <a href="http://crates.io">crates.io</a> index is updated in a background task</p>



<a name="199429019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199429019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199429019">(Jun 01 2020 at 21:57)</a>:</h4>
<p>so depending on the background queue it <em>might</em> take a while</p>



<a name="199429038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199429038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199429038">(Jun 01 2020 at 21:57)</a>:</h4>
<p>if it takes too long I'm paged so let's hope it doesn't do that <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="199430655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199430655" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199430655">(Jun 01 2020 at 22:15)</a>:</h4>
<p><span class="user-mention" data-user-id="254853">@pksunkara</span> are you going to be able to do this today? If not, I am probably going to manually publish</p>



<a name="199451457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199451457" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199451457">(Jun 02 2020 at 05:21)</a>:</h4>
<p>Yes, I will do it today</p>



<a name="199458315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199458315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199458315">(Jun 02 2020 at 07:35)</a>:</h4>
<p>Done. <a href="https://github.com/rust-lang/chalk/pull/486">https://github.com/rust-lang/chalk/pull/486</a></p>



<a name="199458370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199458370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199458370">(Jun 02 2020 at 07:36)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> ^^</p>



<a name="199528413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528413">(Jun 02 2020 at 17:49)</a>:</h4>
<p><span class="user-mention" data-user-id="254853">@pksunkara</span> release was successful but there was a failure in the workflow</p>



<a name="199528423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528423">(Jun 02 2020 at 17:49)</a>:</h4>
<p>so no release commit was generated</p>



<a name="199528494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528494" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528494">(Jun 02 2020 at 17:50)</a>:</h4>
<p>Yeah, because you updated the master branch</p>



<a name="199528506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528506" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528506">(Jun 02 2020 at 17:50)</a>:</h4>
<p>yeah just realized</p>



<a name="199528528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528528">(Jun 02 2020 at 17:50)</a>:</h4>
<p>my bad</p>



<a name="199528534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528534">(Jun 02 2020 at 17:50)</a>:</h4>
<p>Np</p>



<a name="199528581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528581">(Jun 02 2020 at 17:51)</a>:</h4>
<p>If you have cargo-workspaces installed, you can fix it</p>



<a name="199528588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528588">(Jun 02 2020 at 17:51)</a>:</h4>
<p>by running the following command on master</p>



<a name="199528594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528594" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528594">(Jun 02 2020 at 17:51)</a>:</h4>
<p>by running the following command on master</p>



<a name="199528595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528595">(Jun 02 2020 at 17:51)</a>:</h4>
<p>If you have cargo-workspaces installed, you can fix it</p>



<a name="199528596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528596" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528596">(Jun 02 2020 at 17:51)</a>:</h4>
<p>(I thought github didn't pick up the schedule in time)</p>



<a name="199528701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528701">(Jun 02 2020 at 17:52)</a>:</h4>
<p>Actually do you want the versioned commit in the master branch now?</p>



<a name="199528736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528736">(Jun 02 2020 at 17:52)</a>:</h4>
<p>what do you mean?</p>



<a name="199528754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528754">(Jun 02 2020 at 17:52)</a>:</h4>
<p>Or can you just update the whole repo to <code>0.12.0-dev</code> and say good enough?</p>



<a name="199528802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528802">(Jun 02 2020 at 17:52)</a>:</h4>
<p>Mmm, I think I'm just gonna update to 0.12.0-dev and call it good enough</p>



<a name="199528819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528819">(Jun 02 2020 at 17:53)</a>:</h4>
<p>(or is it <code>0.12.0-dev.0</code>?)</p>



<a name="199528820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528820">(Jun 02 2020 at 17:53)</a>:</h4>
<p>Yeah, sounds better to me too</p>



<a name="199528840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528840" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528840">(Jun 02 2020 at 17:53)</a>:</h4>
<p>Doesn't matter</p>



<a name="199528869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528869">(Jun 02 2020 at 17:53)</a>:</h4>
<p>And please change the schedule to <code>0 0 * * 0</code></p>



<a name="199528910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199528910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199528910">(Jun 02 2020 at 17:53)</a>:</h4>
<p>mhm</p>



<a name="199529067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529067">(Jun 02 2020 at 17:55)</a>:</h4>
<p>I am sorry that it had so many issues. But it should hopefully run smoothly from now on</p>



<a name="199529357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529357">(Jun 02 2020 at 17:57)</a>:</h4>
<p>Yeah, should be good now :)</p>



<a name="199529379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529379">(Jun 02 2020 at 17:57)</a>:</h4>
<p>All in the name of automation :)</p>



<a name="199529384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529384">(Jun 02 2020 at 17:57)</a>:</h4>
<p>thanks</p>



<a name="199529423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529423">(Jun 02 2020 at 17:57)</a>:</h4>
<p>Thank you for helping me too <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="199529518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529518">(Jun 02 2020 at 17:58)</a>:</h4>
<p>Did you want to help to get bors-ng up?</p>



<a name="199529573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529573">(Jun 02 2020 at 17:58)</a>:</h4>
<p>I am afraid I will have similar issues getting it set up. I don't have access to settings and it is always tough to do so</p>



<a name="199529588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529588">(Jun 02 2020 at 17:58)</a>:</h4>
<p>But I did set it up on <a href="https://github.com/clap-rs/clap">https://github.com/clap-rs/clap</a></p>



<a name="199529608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529608">(Jun 02 2020 at 17:59)</a>:</h4>
<p>If you need guidance on what to do, I can help</p>



<a name="199529701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529701">(Jun 02 2020 at 17:59)</a>:</h4>
<p>The <code>bors.toml</code> file should be easier here</p>



<a name="199529730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529730" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529730">(Jun 02 2020 at 17:59)</a>:</h4>
<p>It's a little unfortunate you can't give per-repo admin accesss, for settings</p>



<a name="199529884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199529884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199529884">(Jun 02 2020 at 18:00)</a>:</h4>
<p>You can in github. Just create a new team for just that one member. :D</p>



<a name="199530164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199530164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199530164">(Jun 02 2020 at 18:02)</a>:</h4>
<p>oh</p>



<a name="199530207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199530207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199530207">(Jun 02 2020 at 18:03)</a>:</h4>
<p>I didn't know that</p>



<a name="199530652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199530652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199530652">(Jun 02 2020 at 18:07)</a>:</h4>
<p>You would need one CI job that is basically the status of all the other CI jobs in <code>ci.yml</code> and then use it in bors config</p>



<a name="199530969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199530969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199530969">(Jun 02 2020 at 18:09)</a>:</h4>
<p>hmm</p>



<a name="199531231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199531231" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199531231">(Jun 02 2020 at 18:12)</a>:</h4>
<p>As I said, you can copy this CI job and the config from clap repo (except for the merge blocked labels and cut body after setting). After that's done, you should disallow everyone from merging into master except for bors. Also need to make the bors status check required</p>



<a name="199531332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199531332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199531332">(Jun 02 2020 at 18:12)</a>:</h4>
<p>The configs are just a small part of setting this up. Most of the other stuff requires admin access</p>



<a name="199552151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199552151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199552151">(Jun 02 2020 at 20:55)</a>:</h4>
<p>btw <span class="user-mention" data-user-id="254853">@pksunkara</span> I was talking to <span class="user-mention" data-user-id="121055">@Pietro Albini</span> and he thought we can just use regular bors, it has its own queue that is indep. from rust-lang/rust, and I think he said that the infra folks can set it up easily enough</p>



<a name="199552551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199552551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199552551">(Jun 02 2020 at 20:58)</a>:</h4>
<p>What do you mean by regular bors here?</p>



<a name="199552570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199552570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199552570">(Jun 02 2020 at 20:58)</a>:</h4>
<p>bors-ng or @bors?</p>



<a name="199554594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199554594" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199554594">(Jun 02 2020 at 21:11)</a>:</h4>
<p>heh @bors</p>



<a name="199560939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199560939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199560939">(Jun 02 2020 at 22:20)</a>:</h4>
<p>Then, I think that's the best approach here</p>



<a name="199891490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199891490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199891490">(Jun 05 2020 at 15:17)</a>:</h4>
<p>ok, so there are two things that needs to be done on your end before we can enable bors on the repository</p>



<a name="199891566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199891566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199891566">(Jun 05 2020 at 15:18)</a>:</h4>
<p>first, a PR to the <code>rust-lang/team</code> repository needs to be sent, choosing which people will have access to bors</p>



<a name="199891753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199891753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199891753">(Jun 05 2020 at 15:19)</a>:</h4>
<p><code>chalk</code> needs to be added to the list of repos <a href="https://github.com/rust-lang/team/blob/67c3ad78ff90550caffd1f61b55a19a6e4d95aa1/src/permissions.rs#L170-L186">in <code>permissions.rs</code></a>, and the <code>bors.chalk.review = true</code> permission needs to be assigned to all the members you want to allow to merge changes</p>



<a name="199891882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199891882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199891882">(Jun 05 2020 at 15:20)</a>:</h4>
<p>then bors needs a single job to gate on, which is not really possible on github actions</p>



<a name="199891924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199891924" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199891924">(Jun 05 2020 at 15:20)</a>:</h4>
<p>what we've been doing is creating a <code>bors build finished</code> job that depends on all the other jobs in the workflow, like <a href="https://github.com/rust-lang/crater/blob/c3f462bdab37a93c24b2b172b90564749e892cbc/.github/workflows/bors.yml#L126-L150">what I did with crater</a></p>



<a name="199891938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199891938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199891938">(Jun 05 2020 at 15:20)</a>:</h4>
<p>once those two things are done I can setup bors on infra's end</p>



<a name="199891964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199891964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199891964">(Jun 05 2020 at 15:21)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <span class="user-mention" data-user-id="254853">@pksunkara</span> ^</p>



<a name="199896006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199896006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199896006">(Jun 05 2020 at 15:48)</a>:</h4>
<p>ok</p>



<a name="199896025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199896025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199896025">(Jun 05 2020 at 15:48)</a>:</h4>
<p>the permission has to be assigned on the individual level?</p>



<a name="199896041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199896041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199896041">(Jun 05 2020 at 15:49)</a>:</h4>
<p>or can it be assigned on a "team" level, <span class="user-mention" data-user-id="121055">@Pietro Albini</span> ?</p>



<a name="199896059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199896059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199896059">(Jun 05 2020 at 15:49)</a>:</h4>
<p>it can be assigned to teams</p>



<a name="199896093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/199896093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#199896093">(Jun 05 2020 at 15:49)</a>:</h4>
<p>it's the usual</p>
<div class="codehilite"><pre><span></span><code><span class="k">[permissions]</span>
<span class="n">bors</span><span class="p">.</span><span class="n">chalk</span><span class="p">.</span><span class="n">review</span> <span class="o">=</span> <span class="kc">true</span>
</code></pre></div>



<a name="200036565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036565">(Jun 07 2020 at 18:39)</a>:</h4>
<p><span class="user-mention" data-user-id="254853">@pksunkara</span> automatic publishing didn't complete (completely) successfully</p>



<a name="200036611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036611" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036611">(Jun 07 2020 at 18:40)</a>:</h4>
<p>failed during chalk-engine</p>



<a name="200036619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036619">(Jun 07 2020 at 18:40)</a>:</h4>
<p><code>failed to select a version for the requirement chalk-ir = "= 0.12.0"</code></p>



<a name="200036645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036645">(Jun 07 2020 at 18:41)</a>:</h4>
<p>So seems like the fix for registry updates didn't work</p>



<a name="200036704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036704">(Jun 07 2020 at 18:42)</a>:</h4>
<p>Wow. <a href="http://Crates.io">Crates.io</a> index did refresh since we saw <code>wait.. and published</code>, but verifying still failed</p>



<a name="200036733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036733">(Jun 07 2020 at 18:44)</a>:</h4>
<p>interesting</p>



<a name="200036775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036775">(Jun 07 2020 at 18:44)</a>:</h4>
<p><code>chalk-ir</code> depended on <code>chalk-derive</code> which worked. You can see the <code>Downloaded chalk-derive v0.12.0</code> part</p>



<a name="200036785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036785">(Jun 07 2020 at 18:44)</a>:</h4>
<p>But <code>chalk-engine</code> depending on <code>chalk-ir</code> didn't work</p>



<a name="200036793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036793">(Jun 07 2020 at 18:44)</a>:</h4>
<p>Right</p>



<a name="200036795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036795" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036795">(Jun 07 2020 at 18:44)</a>:</h4>
<p>Seems racy too me</p>



<a name="200036876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036876">(Jun 07 2020 at 18:46)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> Is it possible that <a href="http://crates.io">crates.io</a> index does not show updates for a later request once it had shown an update for an earlier request?</p>



<a name="200036970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200036970" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200036970">(Jun 07 2020 at 18:48)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> I will fix this during this week. You might want to update the versions to <code>0.13.0-dev</code> in the repo before next publish</p>



<a name="200037001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200037001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200037001">(Jun 07 2020 at 18:49)</a>:</h4>
<p>Yeah, I'll do that</p>



<a name="200037046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200037046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200037046">(Jun 07 2020 at 18:50)</a>:</h4>
<p>I guess some crates aren't getting a <code>0.12.0</code></p>



<a name="200037051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200037051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200037051">(Jun 07 2020 at 18:50)</a>:</h4>
<p>mostly because I don't feel like manually publishing</p>



<a name="200037053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200037053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200037053">(Jun 07 2020 at 18:50)</a>:</h4>
<p><span class="user-mention" data-user-id="254853">@pksunkara</span> hmm do you have a log? I'll take a look at it tomorrow</p>



<a name="200037067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200037067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200037067">(Jun 07 2020 at 18:50)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> <a href="https://github.com/rust-lang/chalk/runs/746123579?check_suite_focus=true">https://github.com/rust-lang/chalk/runs/746123579?check_suite_focus=true</a></p>



<a name="200037081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200037081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200037081">(Jun 07 2020 at 18:51)</a>:</h4>
<p>specifically</p>
<blockquote>
<p>info waiting ...<br>
info published chalk-ir</p>
</blockquote>



<a name="200037086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200037086" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200037086">(Jun 07 2020 at 18:51)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/runs/746123579?check_suite_focus=true#step:5:75">https://github.com/rust-lang/chalk/runs/746123579?check_suite_focus=true#step:5:75</a> happens when we find <code>chalk-ir = 0.12.0</code> in crates index.</p>



<a name="200037132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200037132" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200037132">(Jun 07 2020 at 18:52)</a>:</h4>
<p>But you can see this message after that saying it's not available. <a href="https://github.com/rust-lang/chalk/runs/746123579?check_suite_focus=true#step:5:82">https://github.com/rust-lang/chalk/runs/746123579?check_suite_focus=true#step:5:82</a></p>



<a name="200037246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200037246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200037246">(Jun 07 2020 at 18:55)</a>:</h4>
<p>The checking for index related code is here, <a href="https://github.com/pksunkara/cargo-workspaces/blob/master/cargo-workspaces/src/utils/cargo.rs#L185">https://github.com/pksunkara/cargo-workspaces/blob/master/cargo-workspaces/src/utils/cargo.rs#L185</a></p>



<a name="200073551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200073551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200073551">(Jun 08 2020 at 09:12)</a>:</h4>
<p>wat</p>



<a name="200073622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200073622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200073622">(Jun 08 2020 at 09:13)</a>:</h4>
<p>ok, so my current theory is that updating the cargo index with <code>crates-index</code> is not invalidating cargo's caches</p>



<a name="200073748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200073748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200073748">(Jun 08 2020 at 09:15)</a>:</h4>
<p>cargo caches the contents of the index for chalk-ir, then you update the index without invalidating such caches and finally when you try to publish the dependent cargo loads the stale cache</p>



<a name="200073776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200073776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200073776">(Jun 08 2020 at 09:15)</a>:</h4>
<p>I'm not familiar enough with cargo's internals to know that for sure</p>



<a name="200073795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200073795" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200073795">(Jun 08 2020 at 09:15)</a>:</h4>
<p>so I'd either ask someone on the cargo team for their opinion, or try using another clone of the index in your code</p>



<a name="200166061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200166061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200166061">(Jun 08 2020 at 23:02)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> Thanks. But the <code>cargo</code> commands are being run by calling the binary, so the cache shouldn't be shared between multiple publishes. I don't know anyone from cargo team. Any suggestion on whom to ping?</p>



<a name="200203568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200203568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200203568">(Jun 09 2020 at 10:06)</a>:</h4>
<blockquote>
<p>But the cargo commands are being run by calling the binary, so the cache shouldn't be shared between multiple publishes. </p>
</blockquote>
<p>There is a filesystem cache in <code>.cargo/registry/index/{name}/.cache</code>. I'd ask in <code>#cargo</code> on Discord.</p>



<a name="200277269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200277269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200277269">(Jun 09 2020 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> The cargo team says it shouldn't happen. If the index master is updated, then the cache would be invalidated. <a href="https://discord.com/channels/442252698964721669/459149260232065034/719899648470548589">https://discord.com/channels/442252698964721669/459149260232065034/719899648470548589</a></p>



<a name="200277357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200277357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200277357">(Jun 09 2020 at 19:21)</a>:</h4>
<p>Hmm, interesting</p>



<a name="200295226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200295226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200295226">(Jun 09 2020 at 21:47)</a>:</h4>
<p>I think I found the issue, just waiting for some confirmations. <code>crates-index</code> is updating the <code>master</code> ref for the index</p>



<a name="200295252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200295252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200295252">(Jun 09 2020 at 21:47)</a>:</h4>
<p>While <code>cargo</code> seems to read the <code>origin/master</code> ref directly</p>



<a name="200295301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200295301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200295301">(Jun 09 2020 at 21:48)</a>:</h4>
<p>I can't find the <code>origin</code> remote in the index at all and the modern <code>cargo</code> doesn't need it</p>



<a name="200300242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200300242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200300242">(Jun 09 2020 at 22:40)</a>:</h4>
<p>So, I fixed this and tested it. The <code>origin/remote</code> for index is now getting updated</p>



<a name="200301438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200301438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200301438">(Jun 09 2020 at 22:54)</a>:</h4>
<p>I'm confused</p>



<a name="200301443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200301443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200301443">(Jun 09 2020 at 22:54)</a>:</h4>
<p>But it should be fixed?</p>



<a name="200398984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200398984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200398984">(Jun 10 2020 at 10:21)</a>:</h4>
<p>Yeah, once I refresh the crates-index and see that the just published crate is added, I would also update the <code>origin/master</code> ref so that <code>cargo</code> invalidates its cache and properly picks up the published crate</p>



<a name="200399039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200399039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200399039">(Jun 10 2020 at 10:21)</a>:</h4>
<p>And that's what <a href="https://github.com/pksunkara/cargo-workspaces/commit/99598a1397fde6575bda6ef4efc9575f0df4c7a8">this</a> commit does</p>



<a name="200706793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200706793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200706793">(Jun 12 2020 at 18:27)</a>:</h4>
<p>Okay does any in <span class="user-group-mention" data-user-group-id="692">@WG-traits</span> want to make a commit to update all the crates to <code>0.13.0-dev.0</code>? Maybe <span class="user-mention" data-user-id="116009">@nikomatsakis</span> I'm not sure if I'll have time today, but would rather it not slip through the cracks before next release.</p>



<a name="200716327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200716327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200716327">(Jun 12 2020 at 19:46)</a>:</h4>
<p>I can try to do that <span class="user-mention" data-user-id="232957">@Jack Huey</span> -- I'm not 100% sure <em>why</em> it needs to be done, but maybe if I read back in this topic I would know why :)</p>



<a name="200716459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200716459" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200716459">(Jun 12 2020 at 19:47)</a>:</h4>
<p>TLDR: publishing failed last week, but to publish, we drop the <code>.dev.0</code> suffix. So, if it's not changed, it'll try to publish <code>0.12</code>, which some crates were successfully published and others failed</p>



<a name="200727974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200727974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200727974">(Jun 12 2020 at 21:45)</a>:</h4>
<p>Ok, I'm pushing up a branch with  the new versions</p>



<a name="200728406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200728406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200728406">(Jun 12 2020 at 21:51)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> <a href="https://github.com/rust-lang/chalk/pull/522">https://github.com/rust-lang/chalk/pull/522</a></p>



<a name="200802797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200802797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200802797">(Jun 14 2020 at 06:26)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> Woo! It should be okay from now. Just ping me here if you ever have issues with it later</p>



<a name="200828478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/200828478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#200828478">(Jun 14 2020 at 18:48)</a>:</h4>
<p><span class="user-mention" data-user-id="254853">@pksunkara</span> fantastic! Thanks for getting this set up :)</p>



<a name="201823080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201823080" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201823080">(Jun 24 2020 at 08:33)</a>:</h4>
<p>can we trigger a release easily now? we'd like to update in RA, but it's blocked on <a href="https://github.com/rust-lang-nursery/chalk/issues/541">chalk#541</a>. Of course it <em>could</em> wait a week, but it'd be nice</p>



<a name="201852811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201852811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201852811">(Jun 24 2020 at 14:18)</a>:</h4>
<p><span class="user-mention" data-user-id="129457">@Florian Diebold</span> so you can't trigger a github action manually</p>



<a name="201852870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201852870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201852870">(Jun 24 2020 at 14:19)</a>:</h4>
<p>So, we either would have to publish manually, or change the schedule on master to publish now, then change back after</p>



<a name="201853075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201853075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201853075">(Jun 24 2020 at 14:20)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> I've always wondered, how do you manually trigger the RA releases?</p>



<a name="201853626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201853626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201853626">(Jun 24 2020 at 14:24)</a>:</h4>
<p>Publishing is triggered on pushes to the <code>release</code> branch, so I just push the release</p>



<a name="201853658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201853658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201853658">(Jun 24 2020 at 14:24)</a>:</h4>
<p>There's also the specific hook to trigger github actions through the github api, but the workflow has to be set up for it. Maybe it might be work setting that up as a secondary trigger</p>



<a name="201853710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201853710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201853710">(Jun 24 2020 at 14:24)</a>:</h4>
<p>Ooh, a release branch wouldn't be terrible</p>



<a name="201854399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854399" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854399">(Jun 24 2020 at 14:29)</a>:</h4>
<blockquote>
<p>As minor version bumps</p>
</blockquote>
<p>Do you plan to bump the actual version of Cargo.toml? For auto-publishing, I think it might make sense to use build number as a version.</p>



<a name="201854491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854491">(Jun 24 2020 at 14:30)</a>:</h4>
<p>Yeah, the actual minor versions are getting bumped</p>



<a name="201854533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854533">(Jun 24 2020 at 14:30)</a>:</h4>
<p>This is all pre 1.0.0, which I think is fine</p>



<a name="201854664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854664" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854664">(Jun 24 2020 at 14:31)</a>:</h4>
<p>I think once we hit 1.0.0, I would be more inclined to switch to manual releases</p>



<a name="201854764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854764">(Jun 24 2020 at 14:31)</a>:</h4>
<p>It's just that development is moving pretty quick right now.</p>



<a name="201854770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854770">(Jun 24 2020 at 14:32)</a>:</h4>
<p>I would imagine the "end state" would be that both Chalk and RA get stable releases in sync with rustc?</p>



<a name="201854829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854829">(Jun 24 2020 at 14:32)</a>:</h4>
<p>Indeed</p>



<a name="201854869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854869">(Jun 24 2020 at 14:32)</a>:</h4>
<p>Well, in sync</p>



<a name="201854871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854871">(Jun 24 2020 at 14:32)</a>:</h4>
<p>Or</p>



<a name="201854874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854874">(Jun 24 2020 at 14:32)</a>:</h4>
<p>not sure how nightlies would fit into that though</p>



<a name="201854880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854880">(Jun 24 2020 at 14:32)</a>:</h4>
<p>More often</p>



<a name="201854909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854909">(Jun 24 2020 at 14:32)</a>:</h4>
<p>Or less often, I suppose</p>



<a name="201854992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201854992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201854992">(Jun 24 2020 at 14:33)</a>:</h4>
<p>I don't think we can provide semver relases of RA API during the next few years, so optimizing for that seems wrong. </p>
<p>Not sure about chalk -- would it be feasible to provide semver API "soon"?</p>



<a name="201855113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201855113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201855113">(Jun 24 2020 at 14:34)</a>:</h4>
<p>For chalk, I say no</p>



<a name="201855191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201855191" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201855191">(Jun 24 2020 at 14:34)</a>:</h4>
<p>We still have more big things being added</p>



<a name="201855201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201855201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201855201">(Jun 24 2020 at 14:34)</a>:</h4>
<p>And refactors being done</p>



<a name="201855321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201855321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201855321">(Jun 24 2020 at 14:35)</a>:</h4>
<p>I would say that we'll be close to semver ready when chalk is ready to be used in rustc without everything not working</p>



<a name="201855518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201855518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201855518">(Jun 24 2020 at 14:37)</a>:</h4>
<p>Going back to <span class="user-mention" data-user-id="129457">@Florian Diebold</span>'s point, I don't necessarily think chalk needs to track rustc. I think actually the opposite, since I think we want chalk to be a "stable trait solver implementation"</p>



<a name="201855576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201855576" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201855576">(Jun 24 2020 at 14:37)</a>:</h4>
<p>well, it's a side point anyway</p>



<a name="201855639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201855639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201855639">(Jun 24 2020 at 14:38)</a>:</h4>
<p>But I think this is less known, yeah</p>



<a name="201857514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201857514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201857514">(Jun 24 2020 at 14:51)</a>:</h4>
<p>I agree that I would expect chalk / rustc releases to be relatively "independent"</p>



<a name="201861956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201861956" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201861956">(Jun 24 2020 at 15:22)</a>:</h4>
<blockquote>
<p>why does this need a manual publishing process?</p>
</blockquote>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> because you need to review that you don't actually break the semver, and check which part of the version to increment. Well, I suppose, once you have a good coverage of public API by integration tests, you might want to setup continuous publishing, but that is needs even <em>more</em> guaratees than manual publishing. </p>
<p>I guess what I am trying to say is the property that really matters is "does it semver"? If it doesn't automatic publishing is just an elaborate way to pick a specific git hash.</p>



<a name="201870435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201870435" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201870435">(Jun 24 2020 at 16:25)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> I would imagine you do that when you land the PR, and you bump the version then</p>



<a name="201870497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201870497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201870497">(Jun 24 2020 at 16:26)</a>:</h4>
<p>put another way, rustc manages nightly and timed releases ...</p>



<a name="201870509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201870509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201870509">(Jun 24 2020 at 16:26)</a>:</h4>
<p>...of course our semver is fairly trivial</p>



<a name="201870748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/201870748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#201870748">(Jun 24 2020 at 16:28)</a>:</h4>
<p>(I guess people have looked into what the best workflows are here...I'm not sure. But it seems like automated releases + stable semver are not incompatible.)</p>



<a name="202505026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/202505026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#202505026">(Jun 30 2020 at 22:52)</a>:</h4>
<p>Automatic publishing in this case is only until people want to start tracking semver stuff</p>



<a name="202505059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/202505059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#202505059">(Jun 30 2020 at 22:53)</a>:</h4>
<p>But yes, the intention behind auto publishing chalk is to pick a specific git hash but in such a way the tools that use this can be published to <a href="http://crates.io">crates.io</a></p>



<a name="203635702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/203635702" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#203635702">(Jul 12 2020 at 09:26)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> Some commit broke the crate structure. <a href="https://github.com/rust-lang/chalk/runs/861796621?check_suite_focus=true#step:5:279">https://github.com/rust-lang/chalk/runs/861796621?check_suite_focus=true#step:5:279</a></p>



<a name="203698694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/203698694" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#203698694">(Jul 13 2020 at 10:26)</a>:</h4>
<p>I've been idly thinking about this, and I've realized that I have been missing an important reason why publishing is better than direct git repos: for downloading dependencies, <a href="http://crates.io">crates.io</a> has higher availability than GitHub.</p>



<a name="203737827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/203737827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#203737827">(Jul 13 2020 at 16:35)</a>:</h4>
<p>-ish. Recall that the <a href="http://crates.io">crates.io</a> index is distributed via GitHub.</p>



<a name="203878752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/203878752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#203878752">(Jul 14 2020 at 19:49)</a>:</h4>
<p>fyi <span class="user-mention" data-user-id="254853">@pksunkara</span>, regenerated the <a href="http://crates.io">crates.io</a> token for chalk publishing</p>



<a name="203878791"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/203878791" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#203878791">(Jul 14 2020 at 19:49)</a>:</h4>
<p>so it should still work after today's revocation</p>



<a name="203887809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/203887809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#203887809">(Jul 14 2020 at 21:02)</a>:</h4>
<p>Wait, what happened?</p>



<a name="203891368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/203891368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#203891368">(Jul 14 2020 at 21:33)</a>:</h4>
<p>Presumably <a href="https://blog.rust-lang.org/2020/07/14/crates-io-security-advisory.html">this</a></p>



<a name="203892403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/203892403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#203892403">(Jul 14 2020 at 21:46)</a>:</h4>
<p>ohh</p>



<a name="204324766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204324766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204324766">(Jul 19 2020 at 00:42)</a>:</h4>
<p>Looks like the publishing workflow <a href="https://github.com/rust-lang/chalk/actions/runs/174163297">failed</a>. I <em>suspect</em> it's an issue with the cargo registry token due to the recent revocation, but I'm not entirely positive.</p>



<a name="204324828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204324828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204324828">(Jul 19 2020 at 00:44)</a>:</h4>
<p>Huh weird. "Unable to auto-detect email address"</p>



<a name="204324829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204324829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204324829">(Jul 19 2020 at 00:44)</a>:</h4>
<p>Seems like a git thing</p>



<a name="204324843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204324843" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204324843">(Jul 19 2020 at 00:45)</a>:</h4>
<p>It's weird it hasn't been a problem before</p>



<a name="204324848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204324848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204324848">(Jul 19 2020 at 00:45)</a>:</h4>
<p>Seems like setting the email for git in the script would fix it</p>



<a name="204325242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204325242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204325242">(Jul 19 2020 at 00:59)</a>:</h4>
<p>Ah yeah looks like it usually sets the email automatically but failed this time <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="204343367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204343367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204343367">(Jul 19 2020 at 10:42)</a>:</h4>
<p>Heh, I will send a PR updating the things to make it better non-scheduled publishing too <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="204547583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204547583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204547583">(Jul 21 2020 at 13:34)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> <span class="user-mention" data-user-id="230601">@Nathan Whitaker</span> <a href="https://github.com/rust-lang/chalk/pull/578">https://github.com/rust-lang/chalk/pull/578</a></p>



<a name="204547634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204547634" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204547634">(Jul 21 2020 at 13:34)</a>:</h4>
<p>Now, when rust-analyzer needs chalk to be published, it can be easily done. And no more changing the workflows too when publishes fail</p>



<a name="204865434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204865434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204865434">(Jul 23 2020 at 23:37)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="121055">@Pietro Albini</span>,  the steps on our end for setting up bors should be done now. Whenever you have free time, I think now all that's left is for bors to be setup on infra's end :)</p>



<a name="204902159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204902159" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204902159">(Jul 24 2020 at 10:52)</a>:</h4>
<p>once <a href="https://travis-ci.com/github/rust-lang/rust-central-station/builds/177016439">https://travis-ci.com/github/rust-lang/rust-central-station/builds/177016439</a> I'll deploy the changes :)</p>



<a name="204904466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204904466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204904466">(Jul 24 2020 at 11:22)</a>:</h4>
<p>it should be up now!</p>



<a name="204957984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204957984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204957984">(Jul 24 2020 at 19:41)</a>:</h4>
<p>What do we actually have to do for bors to work and merge PRs? I tried <code>@bors r+</code> but it didn't work</p>



<a name="204958803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204958803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204958803">(Jul 24 2020 at 19:49)</a>:</h4>
<p>Maybe bors also needs R/W access to the chalk repo on Github? (i.e. <a href="https://github.com/orgs/rust-lang/teams/bots/repositories">here</a>)</p>



<a name="204958822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204958822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204958822">(Jul 24 2020 at 19:49)</a>:</h4>
<p>But that's an absolute guess</p>



<a name="204960188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204960188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DPC <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204960188">(Jul 24 2020 at 20:02)</a>:</h4>
<p>is bors integrated on the repo? you can test by doing <code>@bors ping</code> or <code>bors: ping</code></p>



<a name="204960756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204960756" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204960756">(Jul 24 2020 at 20:07)</a>:</h4>
<p>Hmm pinging bors had no effect</p>



<a name="204963643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204963643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204963643">(Jul 24 2020 at 20:37)</a>:</h4>
<p>(Sorry to keep pinging you, but) any ideas <span class="user-mention" data-user-id="121055">@Pietro Albini</span>?</p>



<a name="204969702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204969702" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204969702">(Jul 24 2020 at 21:38)</a>:</h4>
<p><span class="user-mention" data-user-id="230601">@Nathan Whitaker</span> try again?</p>



<a name="204969703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204969703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204969703">(Jul 24 2020 at 21:38)</a>:</h4>
<p>gave perms to bors</p>



<a name="204969895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204969895" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204969895">(Jul 24 2020 at 21:41)</a>:</h4>
<p>Yup that fixed it, thanks for the help!</p>



<a name="204970088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/204970088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#204970088">(Jul 24 2020 at 21:44)</a>:</h4>
<p>&lt;3</p>



<a name="206529270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/206529270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#206529270">(Aug 11 2020 at 00:31)</a>:</h4>
<p>So, I would consider the automated releases a success and say it's done. Unless I missed something</p>



<a name="206630267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/206630267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#206630267">(Aug 11 2020 at 20:56)</a>:</h4>
<p>Indeed, it is working great! The only thing that I think is left to do (not needed currently) is allowing to specify the version during manual publishing</p>



<a name="206640653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/206640653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#206640653">(Aug 11 2020 at 22:53)</a>:</h4>
<p>Manual publishing should always be done from command line. I would keep the auto until 1.0 and then we can remove it</p>



<a name="206695051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/206695051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#206695051">(Aug 12 2020 at 13:44)</a>:</h4>
<p>Nevermind, I realise you are talking about this line, <a href="https://github.com/rust-lang/chalk/blob/master/.github/workflows/publish.yml#L3">https://github.com/rust-lang/chalk/blob/master/.github/workflows/publish.yml#L3</a></p>



<a name="206728346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/206728346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#206728346">(Aug 12 2020 at 17:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="254853">pksunkara</span> <a href="#narrow/stream/144729-wg-traits/topic/publishing/near/206640653">said</a>:</p>
<blockquote>
<p>Manual publishing should always be done from command line. I would keep the auto until 1.0 and then we can remove it</p>
</blockquote>
<p>I disagree. A big benefit of having the actions set up for publishing is it makes <em>manual</em> publishing seemless <em>too</em>. Nobody has to go and figure out the exact process for publishing.</p>



<a name="206769571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/206769571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#206769571">(Aug 13 2020 at 00:26)</a>:</h4>
<p>Okay yeah. The comment I wrote on that publish workflow will allow the kind of publish you want. Just need to improve it. I guess it's something for later</p>



<a name="216741161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216741161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216741161">(Nov 14 2020 at 17:49)</a>:</h4>
<p>Anyone know what happened here?</p>



<a name="216741163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216741163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216741163">(Nov 14 2020 at 17:49)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/runs/1368992799?check_suite_focus=true">https://github.com/rust-lang/chalk/runs/1368992799?check_suite_focus=true</a></p>



<a name="216741198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216741198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216741198">(Nov 14 2020 at 17:49)</a>:</h4>
<p><a href="https://crates.io/crates/chalk-derive">https://crates.io/crates/chalk-derive</a> is released but the process exited</p>



<a name="216741295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216741295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216741295">(Nov 14 2020 at 17:51)</a>:</h4>
<p>When did we add bors?</p>



<a name="216750930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216750930" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216750930">(Nov 14 2020 at 21:26)</a>:</h4>
<p>No clue what happened here. Bors was added a while ago.</p>



<a name="216750935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216750935" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216750935">(Nov 14 2020 at 21:26)</a>:</h4>
<p>This seems potentially spurious given that the prior releases worked fine.</p>



<a name="216750945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216750945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216750945">(Nov 14 2020 at 21:27)</a>:</h4>
<p>This might break the next release because it will try to publish the same version again.</p>



<a name="216750946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216750946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216750946">(Nov 14 2020 at 21:27)</a>:</h4>
<p>But...this is probably going to break</p>



<a name="216750948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216750948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216750948">(Nov 14 2020 at 21:27)</a>:</h4>
<p>Oh, beat me</p>



<a name="216750987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216750987" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216750987">(Nov 14 2020 at 21:28)</a>:</h4>
<p>Yeah, I will fix version when I get home in a bit</p>



<a name="216750996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216750996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216750996">(Nov 14 2020 at 21:28)</a>:</h4>
<p>Kind of time sensitive since it's going to try to publish tonight.</p>



<a name="216751010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751010">(Nov 14 2020 at 21:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/publishing/near/216750935">said</a>:</p>
<blockquote>
<p>This seems potentially spurious given that the prior releases worked fine.</p>
</blockquote>
<p><del>It broke because it was merging my PR</del></p>



<a name="216751032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751032">(Nov 14 2020 at 21:30)</a>:</h4>
<p>So if anyone can get to pushing a bump to 0.39.0-dev.0 before I can, feel free.</p>



<a name="216751059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751059">(Nov 14 2020 at 21:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/publishing/near/216751032">said</a>:</p>
<blockquote>
<p>So if anyone can get to pushing a bump to 0.39.0-dev.0 before I can, feel free.</p>
</blockquote>
<p>It's just modifying the <code>Cargo.toml</code> file? Can do :D</p>



<a name="216751061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751061">(Nov 14 2020 at 21:30)</a>:</h4>
<p>Every Cargo.toml</p>



<a name="216751073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751073">(Nov 14 2020 at 21:31)</a>:</h4>
<p>Basically, just search for 0.38.0-dev.0 and replace with 0.39.0-dev.0</p>



<a name="216751163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751163">(Nov 14 2020 at 21:32)</a>:</h4>
<p>It should look similar to <a href="https://github.com/rust-lang/chalk/commit/65daa08f07fcea1314c0bffd731e1fef1b76d619">https://github.com/rust-lang/chalk/commit/65daa08f07fcea1314c0bffd731e1fef1b76d619</a></p>



<a name="216751320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751320">(Nov 14 2020 at 21:35)</a>:</h4>
<p>So 38 changes, which is what I'm getting with a basic find and replace, so that's good</p>



<a name="216751513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751513">(Nov 14 2020 at 21:38)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> <a href="https://github.com/rust-lang/chalk/issues/653">chalk#653</a></p>



<a name="216751596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751596" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751596">(Nov 14 2020 at 21:40)</a>:</h4>
<p>Thanks :)</p>



<a name="216751607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751607">(Nov 14 2020 at 21:40)</a>:</h4>
<p>If there is a problem tonight with the auto-publish, I will look into it more tomorrow</p>



<a name="216751632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751632">(Nov 14 2020 at 21:41)</a>:</h4>
<p>Side note, there's a problem in the book</p>



<a name="216751652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216751652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216751652">(Nov 14 2020 at 21:41)</a>:</h4>
<p>Linkcheck fails on <a href="https://mozilla.hosted.panopto.com/rust-meetup-march-2017/">https://mozilla.hosted.panopto.com/rust-meetup-march-2017/</a> which returns a 403 Forbidden error</p>



<a name="216752433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216752433" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216752433">(Nov 14 2020 at 21:54)</a>:</h4>
<p>I noticed that. I had hoped that it was temporary. Guess not.</p>



<a name="216752461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216752461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216752461">(Nov 14 2020 at 21:55)</a>:</h4>
<p>That shouldn't affect publishing. But yeah, should be a simple fix.</p>



<a name="216764118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/publishing/near/216764118" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pksunkara <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/publishing.html#216764118">(Nov 15 2020 at 02:27)</a>:</h4>
<p>I was wondering if we changed any github branch protection setting after we added bors. The action pushes some commits to master after publishing is finished.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>