<html>
<head><meta charset="utf-8"><title>Using TAIT semantics for async fn lifetimes · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20TAIT.20semantics.20for.20async.20fn.20lifetimes.html">Using TAIT semantics for async fn lifetimes</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="263623181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20TAIT%20semantics%20for%20async%20fn%20lifetimes/near/263623181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20TAIT.20semantics.20for.20async.20fn.20lifetimes.html#263623181">(Dec 03 2021 at 19:01)</a>:</h4>
<p>I'd like to draw your attention to <a href="https://github.com/rust-lang/rust/issues/91403">#91403</a>. This seems to me like a simplification for lifetime handling. Could there be unintended interactions between async &amp; TAIT semantics ?</p>



<a name="263623509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20TAIT%20semantics%20for%20async%20fn%20lifetimes/near/263623509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20TAIT.20semantics.20for.20async.20fn.20lifetimes.html#263623509">(Dec 03 2021 at 19:04)</a>:</h4>
<p>Woo very cool</p>



<a name="263623967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20TAIT%20semantics%20for%20async%20fn%20lifetimes/near/263623967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20TAIT.20semantics.20for.20async.20fn.20lifetimes.html#263623967">(Dec 03 2021 at 19:08)</a>:</h4>
<p>There could be some unexpected TAIT hidden type resolution at call sites, but that can only cause errors to change as you can never specify the type of the desugared async block, even by using TAIT or type_of</p>



<a name="263624088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20TAIT%20semantics%20for%20async%20fn%20lifetimes/near/263624088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20TAIT.20semantics.20for.20async.20fn.20lifetimes.html#263624088">(Dec 03 2021 at 19:09)</a>:</h4>
<p>This is really cool and I hope we make it work for RPIT the same way</p>



<a name="263624306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20TAIT%20semantics%20for%20async%20fn%20lifetimes/near/263624306" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20TAIT.20semantics.20for.20async.20fn.20lifetimes.html#263624306">(Dec 03 2021 at 19:11)</a>:</h4>
<p>I'm trying to, by capturing everything and erasing only some of them in astconv based on explicit_bounds. There is still a lot of ICEs to thaw.</p>



<a name="263627222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Using%20TAIT%20semantics%20for%20async%20fn%20lifetimes/near/263627222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Using.20TAIT.20semantics.20for.20async.20fn.20lifetimes.html#263627222">(Dec 03 2021 at 19:35)</a>:</h4>
<p>I'll only get to reviewing properly on Tuesday, so if you find someone else, don't let me stop you</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>