<html>
<head><meta charset="utf-8"><title>GATs tests · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html">GATs tests</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="235422308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235422308" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235422308">(Apr 20 2021 at 21:52)</a>:</h4>
<p>So just adding tests like <a href="https://github.com/rust-lang/rust/pull/84379">https://github.com/rust-lang/rust/pull/84379</a> is actually helpful?</p>



<a name="235422969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235422969" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235422969">(Apr 20 2021 at 21:59)</a>:</h4>
<p><span class="user-mention" data-user-id="281572">@marmeladema</span> it is</p>



<a name="235422976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235422976" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235422976">(Apr 20 2021 at 21:59)</a>:</h4>
<p>however, that is not passing :)</p>



<a name="235422990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235422990" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235422990">(Apr 20 2021 at 21:59)</a>:</h4>
<p>it probably just needs a <code>fn main() { }</code></p>



<a name="235423259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235423259" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235423259">(Apr 20 2021 at 22:01)</a>:</h4>
<p>oh right! I thought check-pass would accept it as-is</p>



<a name="235423385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235423385" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235423385">(Apr 20 2021 at 22:02)</a>:</h4>
<p>Should be fixed now</p>



<a name="235424437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235424437" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235424437">(Apr 20 2021 at 22:12)</a>:</h4>
<p>Hum I tried adding a test for <a href="https://github.com/rust-lang/rust/issues/79636">https://github.com/rust-lang/rust/issues/79636</a> but I end up with a <em>very</em> weird error:</p>
<div class="codehilite"><pre><span></span><code>error[E0107]: missing generics for associated type `Monad::Wrapped`
 --&gt; src/test/ui/generic-associated-types/issue-79636-1.rs:6:10
  |
6 |     type Wrapped&lt;B&gt;;
  |          ^^^^^^^ expected 1 type argument
  |
note: associated type defined here, with 1 type parameter: `B`
 --&gt; src/test/ui/generic-associated-types/issue-79636-1.rs:6:10
  |
6 |     type Wrapped&lt;B&gt;;
  |          ^^^^^^^ -
help: use angle brackets to add missing type argument
  |
6 |     type Wrapped&lt;B&gt;&lt;B&gt;;
  |                 ^^^

error: aborting due to previous error
</code></pre></div>



<a name="235424502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235424502" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235424502">(Apr 20 2021 at 22:13)</a>:</h4>
<p>That'll be fixed in the diagnostics PR</p>



<a name="235424881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235424881" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235424881">(Apr 20 2021 at 22:17)</a>:</h4>
<p>(changed topics)</p>



<a name="235424897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235424897" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235424897">(Apr 20 2021 at 22:17)</a>:</h4>
<p>Ok, I left a note on the issue</p>



<a name="235424913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235424913" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235424913">(Apr 20 2021 at 22:17)</a>:</h4>
<p>Thank you, I don't know how to do this^^</p>



<a name="235424930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235424930" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235424930">(Apr 20 2021 at 22:17)</a>:</h4>
<p>Don't worry about leaving note on issues</p>



<a name="235424941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235424941" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235424941">(Apr 20 2021 at 22:17)</a>:</h4>
<p>Just add the tests as-is</p>



<a name="235425005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235425005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235425005">(Apr 20 2021 at 22:18)</a>:</h4>
<p>The diagnostics will get fixed when the other issue lands and is orthogonal</p>



<a name="235425026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235425026" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235425026">(Apr 20 2021 at 22:18)</a>:</h4>
<p>The bug that causes the issue is fixed</p>



<a name="235425064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235425064" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235425064">(Apr 20 2021 at 22:18)</a>:</h4>
<p>oh ok</p>



<a name="235425091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235425091" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235425091">(Apr 20 2021 at 22:19)</a>:</h4>
<p>so I that case I add a test the check the error is properly emited with a stderr file?</p>



<a name="235425101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235425101" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235425101">(Apr 20 2021 at 22:19)</a>:</h4>
<p>and when the diagnostic is fixed, it'll get updated?</p>



<a name="235425140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235425140" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235425140">(Apr 20 2021 at 22:20)</a>:</h4>
<p>yes, just the tests and <code>--bless</code></p>



<a name="235425193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235425193" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235425193">(Apr 20 2021 at 22:20)</a>:</h4>
<p>The wrong stderr files will get updated with the other PR</p>



<a name="235425203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235425203" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235425203">(Apr 20 2021 at 22:20)</a>:</h4>
<p>ok</p>



<a name="235425950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235425950" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235425950">(Apr 20 2021 at 22:28)</a>:</h4>
<p><span class="user-mention" data-user-id="281572">@marmeladema</span> I'm wondering if it's also worth adding all the tests that were directly caused by not handling GATs in trait paths to a subdirectory specifically for that</p>



<a name="235425966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235425966" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235425966">(Apr 20 2021 at 22:28)</a>:</h4>
<p>I'm gonna guess probably not</p>



<a name="235426001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235426001" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235426001">(Apr 20 2021 at 22:28)</a>:</h4>
<p>A lot of these tests essentially just cover the same issue in different ways and it would be nice to somehow make that more clear</p>



<a name="235429100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235429100" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235429100">(Apr 20 2021 at 23:00)</a>:</h4>
<p>Ok I've added a bunch of tests for 5 issues</p>



<a name="235429179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235429179" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235429179">(Apr 20 2021 at 23:01)</a>:</h4>
<p>What about <a href="https://github.com/rust-lang/rust/issues/71176">#71176</a>?</p>



<a name="235429235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235429235" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235429235">(Apr 20 2021 at 23:01)</a>:</h4>
<p>Oupsie</p>



<a name="235429247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235429247" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235429247">(Apr 20 2021 at 23:01)</a>:</h4>
<p>I missed it</p>



<a name="235429496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235429496" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235429496">(Apr 20 2021 at 23:03)</a>:</h4>
<p>:)</p>



<a name="235429565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235429565" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235429565">(Apr 20 2021 at 23:04)</a>:</h4>
<p>Also can you remove the <code>#![allow(incomplete_features)]</code>?</p>



<a name="235429780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235429780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235429780">(Apr 20 2021 at 23:06)</a>:</h4>
<p>But the tests fail without it. By what should I replace it?</p>



<a name="235429820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235429820" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235429820">(Apr 20 2021 at 23:07)</a>:</h4>
<p>I check for the error explicitly?</p>



<a name="235429836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235429836" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235429836">(Apr 20 2021 at 23:07)</a>:</h4>
<p>Eh, nevermind. I'll just be sure to double check that when we remove that warning</p>



<a name="235430062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/235430062" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#235430062">(Apr 20 2021 at 23:09)</a>:</h4>
<p>All done now</p>



<a name="236165398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/236165398" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#236165398">(Apr 26 2021 at 12:36)</a>:</h4>
<p>I think I am going to add tests for  F-type_alias_impl_trait issues too</p>



<a name="236165425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/GATs%20tests/near/236165425" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/GATs.20tests.html#236165425">(Apr 26 2021 at 12:37)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aissue+is%3Aopen+label%3AE-needs-test+label%3AF-type_alias_impl_trait">https://github.com/rust-lang/rust/issues?q=is%3Aissue+is%3Aopen+label%3AE-needs-test+label%3AF-type_alias_impl_trait</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>