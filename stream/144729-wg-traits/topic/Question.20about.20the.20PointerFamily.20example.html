<html>
<head><meta charset="utf-8"><title>Question about the PointerFamily example · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html">Question about the PointerFamily example</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="249319701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249319701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249319701">(Aug 13 2021 at 03:52)</a>:</h4>
<p>Looking at the GATs blog post, the second example with PointerFamily, etc. Am I correct that the only point of the 'Family' abstraction here is so we can use the Pointer associated type? I.e., if we had HKTs at the trait level we could just have something like <code>P&lt;T&gt;: Pointer&lt;T&gt;</code> and we wouldn't need the PointerFamily trait? Or is there some advantage in having the PointerFamily trait rather than just a Pointer trait?</p>



<a name="249338574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249338574" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249338574">(Aug 13 2021 at 09:16)</a>:</h4>
<p>Currently, neither generic types nor generic traits can be used separately, without generic parameters being "filled" in.  So in today's Rust,  <code>Vec</code> doesn't make sense without the <code>&lt;T&gt;</code> part.</p>



<a name="249338794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249338794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249338794">(Aug 13 2021 at 09:18)</a>:</h4>
<p>By supplying the ability of HKT in a more direct approach,  <code>trait Pointer&lt;T&gt;{}</code>'s  <code>Pointer</code> will be able to be type-checked and used separately. This will challenge Rust's existing syntax usages, and diagnostics directly.</p>



<a name="249338835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249338835" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249338835">(Aug 13 2021 at 09:19)</a>:</h4>
<p>Also, it will be inconsistent to disallow user to use <code>Vec</code> in its own right.</p>



<a name="249338870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249338870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249338870">(Aug 13 2021 at 09:19)</a>:</h4>
<p>And the current <code>Vec::new()</code> syntax will become very confusing...</p>



<a name="249339179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249339179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249339179">(Aug 13 2021 at 09:23)</a>:</h4>
<p>By adopting the generic associated item approach, i think it's quite a nice balance between usability and type system power. This allow the expressiveness be provided when absolutely necessary, while prevented almost all unintended usages. </p>
<p>This also doesn't prevent the more direct approach be adopted later if necessary, but personally i don't really feel it's worth it at this point.</p>



<a name="249343816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249343816" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249343816">(Aug 13 2021 at 10:24)</a>:</h4>
<p>My question is more if there would be more in The family trait in ‘real life’, or if it would exist purely as a ‘wrapper’ for the HKT, rather than the relative merits of first class HKTs vs GATs</p>



<a name="249345006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249345006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jplatte <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249345006">(Aug 13 2021 at 10:40)</a>:</h4>
<p>I think if your theoretical HKT implementation allows both <code>impl Pointer for Box&lt;_, alloc::Global&gt;</code> and <code>impl Pointer for MyBox&lt;alloc::Global, _&gt;</code> (reversed generics order) then it would be equivalent to such a family trait</p>



<a name="249345153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249345153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jplatte <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249345153">(Aug 13 2021 at 10:42)</a>:</h4>
<p>There's a comparison between family traits and HKT in an old blog post by Niko: <a href="https://smallcultfollowing.com/babysteps/blog/2016/11/04/associated-type-constructors-part-3-what-higher-kinded-types-might-look-like/">https://smallcultfollowing.com/babysteps/blog/2016/11/04/associated-type-constructors-part-3-what-higher-kinded-types-might-look-like/</a></p>



<a name="249345169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249345169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jplatte <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249345169">(Aug 13 2021 at 10:43)</a>:</h4>
<p>Oh, and one more: <a href="https://smallcultfollowing.com/babysteps/blog/2016/11/09/associated-type-constructors-part-4-unifying-atc-and-hkt/">https://smallcultfollowing.com/babysteps/blog/2016/11/09/associated-type-constructors-part-4-unifying-atc-and-hkt/</a></p>



<a name="249419944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Question%20about%20the%20PointerFamily%20example/near/249419944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/Question.20about.20the.20PointerFamily.20example.html#249419944">(Aug 13 2021 at 22:06)</a>:</h4>
<p>I'm currently attempting to define something that might simplify pseudo-HKT via GATs in <a class="stream-topic" data-stream-id="144729" href="/#narrow/stream/144729-wg-traits/topic/Self-update.20syntax.20and.20HKT.20via.20GATs">#wg-traits &gt; Self-update syntax and HKT via GATs</a> if anyone is  interested in taking a look. It might simplify what you're doing with PointerFamily here.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>