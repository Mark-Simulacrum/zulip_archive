<html>
<head><meta charset="utf-8"><title>recursive solver vs. implied env · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html">recursive solver vs. implied env</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="273403647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273403647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273403647">(Feb 27 2022 at 13:29)</a>:</h4>
<p>I've been looking into <a href="https://github.com/rust-lang/chalk/issues/727">chalk#727</a> and related examples (<a href="https://github.com/rust-lang/chalk/issues/750">chalk#750</a>), and I think maybe the implied env rules are too hard for the recursive solver to deal with. I think these rules are not implemented by the current rustc trait solver, or am I wrong? If that's the case, my suggestion would be to make them toggleable by the database, so that we can turn them off in rust-analyzer and in some tests for now. We can then add those test cases to the Chalk test suite as well to make sure we don't forget about them.</p>



<a name="273405354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273405354" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273405354">(Feb 27 2022 at 14:02)</a>:</h4>
<p>I think we should consider what these implied env rules get us; i.e. do we <em>need</em> them for anything</p>



<a name="273408964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273408964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273408964">(Feb 27 2022 at 15:24)</a>:</h4>
<p>oh hmm well actually simple things like</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">trait</span><span class="w"> </span><span class="n">Super</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">fn</span> <span class="nf">foo</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="k">trait</span><span class="w"> </span><span class="n">Sub</span>: <span class="nc">Super</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">bar</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">t</span>: <span class="nc">T</span><span class="p">)</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">T</span>: <span class="nc">Sub</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">t</span><span class="p">.</span><span class="n">foo</span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>also come from the implied env rules, don't they?</p>



<a name="273409044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409044">(Feb 27 2022 at 15:26)</a>:</h4>
<p>I think so</p>



<a name="273409063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409063">(Feb 27 2022 at 15:27)</a>:</h4>
<p>and even the rule for that leads to problems in <a href="https://github.com/rust-lang/chalk/issues/727">chalk#727</a></p>



<a name="273409109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409109" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409109">(Feb 27 2022 at 15:28)</a>:</h4>
<p>now I wonder whether we can find an example where we have to apply the implied env rule legitimately in a way that the recursive solver can't deal with</p>



<a name="273409330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409330">(Feb 27 2022 at 15:31)</a>:</h4>
<p>yeah <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span> </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#[test]</span><span class="w"></span>
<span class="k">fn</span> <span class="nf">implied_env_ambig</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">test</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="n">disable_coherence</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">program</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">trait</span><span class="w"> </span><span class="n">Super</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">            </span><span class="k">trait</span><span class="w"> </span><span class="n">Sub</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="bp">Self</span>: <span class="nc">Super</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>

<span class="w">        </span><span class="n">goal</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">forall</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">FromEnv</span><span class="p">(</span><span class="n">T</span>: <span class="nc">Sub</span><span class="o">&lt;</span><span class="kt">u32</span><span class="o">&gt;</span><span class="p">);</span><span class="w"> </span><span class="n">FromEnv</span><span class="p">(</span><span class="n">T</span>: <span class="nc">Sub</span><span class="o">&lt;</span><span class="kt">usize</span><span class="o">&gt;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="n">T</span>: <span class="nc">Super</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="cm">/*yields[SolverChoice::slg_default()] {</span>
<span class="cm">            expect![["Unique"]]</span>
<span class="cm">        }*/</span><span class="w"> </span><span class="n">yields</span><span class="p">[</span><span class="n">SolverChoice</span>::<span class="n">recursive_default</span><span class="p">()]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// fails: "Ambiguous; no inference guidance"</span>
<span class="w">            </span><span class="n">expect</span><span class="o">!</span><span class="p">[[</span><span class="s">"Unique"</span><span class="p">]]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>fails, and rustc can handle that</p>



<a name="273409453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409453">(Feb 27 2022 at 15:33)</a>:</h4>
<p>Hmm so this is a problem</p>



<a name="273409544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409544" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409544">(Feb 27 2022 at 15:35)</a>:</h4>
<p>I was going to ask if removing the non-enumerability fixes this, but maybe not</p>



<a name="273409595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409595">(Feb 27 2022 at 15:36)</a>:</h4>
<p>not in this case, yeah. In some cases it helps, but only by making another subgoal fail completely which gets rid of the ambiguity</p>



<a name="273409615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409615">(Feb 27 2022 at 15:36)</a>:</h4>
<p>Does SLG not solve the case above</p>



<a name="273409622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409622">(Feb 27 2022 at 15:37)</a>:</h4>
<p>it probably does</p>



<a name="273409631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409631">(Feb 27 2022 at 15:37)</a>:</h4>
<p>I would be surprised if it didn't</p>



<a name="273409650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409650" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409650">(Feb 27 2022 at 15:37)</a>:</h4>
<p>yeah, it does</p>



<a name="273409659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409659">(Feb 27 2022 at 15:37)</a>:</h4>
<p>Oh good</p>



<a name="273409709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409709">(Feb 27 2022 at 15:38)</a>:</h4>
<p>I think it handles all of these, except the ones involving associated types</p>



<a name="273409717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409717">(Feb 27 2022 at 15:38)</a>:</h4>
<p>I have some vague ideas about changing how the recursive solver deals with ambiguous results -- like, in some sense, when the <code>FromEnv(T: Sub&lt;?0&gt;)</code> subgoal returns ambiguous it should treat that as a success, since it doesn't care about specific values for <code>?0</code></p>



<a name="273409747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409747">(Feb 27 2022 at 15:39)</a>:</h4>
<p>Hmm</p>



<a name="273409822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409822">(Feb 27 2022 at 15:40)</a>:</h4>
<p>solving <a href="https://github.com/rust-lang/chalk/issues/234">chalk#234</a> would of course be another avenue <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="273409836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409836">(Feb 27 2022 at 15:41)</a>:</h4>
<blockquote>
<p>because of the impl IntoIterator for I where I: Iterator, we consider whether we can solve &lt;A as Iterator&gt;::Item = ?0 (this makes sense)</p>
</blockquote>
<p>Is this true? Should we be considering <code>Iterator::Item</code>? Seems like we should only be considering <code>IntoIterator::Item</code> (since <code>Item</code> is "shadowed")</p>



<a name="273409897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409897">(Feb 27 2022 at 15:42)</a>:</h4>
<p>Or is just because of the <code>type Item = &lt;I as Iterator&gt;::Item;</code></p>



<a name="273409908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273409908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273409908">(Feb 27 2022 at 15:42)</a>:</h4>
<p>yes, because of that</p>



<a name="273410027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410027">(Feb 27 2022 at 15:45)</a>:</h4>
<p>of course that whole subtree is kind of pointless in that example, because <code>A</code> doesn't implement <code>Iterator</code>, just <code>IntoIterator</code></p>



<a name="273410040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410040">(Feb 27 2022 at 15:45)</a>:</h4>
<p>but because it gives an ambiguous result instead of failing as it should, it makes the whole thing ambiguous</p>



<a name="273410274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410274">(Feb 27 2022 at 15:50)</a>:</h4>
<p>Ok, I think I've actually woken up fully and wrapped my head around what's happening</p>



<a name="273410469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410469">(Feb 27 2022 at 15:56)</a>:</h4>
<p>Not really sure how to fix this</p>



<a name="273410595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410595">(Feb 27 2022 at 15:58)</a>:</h4>
<p>it feels wrong that a query without variables (like in the test above) can give an ambiguous result at all</p>



<a name="273410611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410611" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410611">(Feb 27 2022 at 15:59)</a>:</h4>
<p>and I guess in the SLG solver it can't</p>



<a name="273410834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410834">(Feb 27 2022 at 16:00)</a>:</h4>
<p>Not sure for the above case how we end up being ambiguous</p>



<a name="273410870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410870">(Feb 27 2022 at 16:01)</a>:</h4>
<p>I guess because there are multiple answers for <code>T: Sub&lt;?0&gt;</code></p>



<a name="273410875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410875">(Feb 27 2022 at 16:01)</a>:</h4>
<p>trying to prove <code>FromEnv(T: Super)</code> -&gt; using implied env rule, trying to prove <code>FromEnv(T: Sub&lt;?0&gt;)</code> for any <code>?0</code> -&gt; that goal has two answers, so it's ambiguous</p>



<a name="273410877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410877">(Feb 27 2022 at 16:01)</a>:</h4>
<p>yeah</p>



<a name="273410921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410921">(Feb 27 2022 at 16:02)</a>:</h4>
<p>It's kind of a similar problem in rustc</p>



<a name="273410931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410931">(Feb 27 2022 at 16:02)</a>:</h4>
<p>But I guess it's a bit different</p>



<a name="273410935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410935" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410935">(Feb 27 2022 at 16:02)</a>:</h4>
<p>how does rustc solve this case?</p>



<a name="273410937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410937" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410937">(Feb 27 2022 at 16:02)</a>:</h4>
<p>Because we elaborate the super bounds</p>



<a name="273410951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410951">(Feb 27 2022 at 16:03)</a>:</h4>
<p>So we don't "pick" a <code>?0</code></p>



<a name="273410952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410952">(Feb 27 2022 at 16:03)</a>:</h4>
<p>aah so it just elaborates both bounds to <code>T: Super</code></p>



<a name="273410953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273410953" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273410953">(Feb 27 2022 at 16:03)</a>:</h4>
<p>Yes</p>



<a name="273411103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411103">(Feb 27 2022 at 16:06)</a>:</h4>
<p>I'm guessing the clause is <code>for&lt;T, U&gt; FromEnv(T: Super) :- FromEnv(T: Sub&lt;U&gt;)</code></p>



<a name="273411157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411157" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411157">(Feb 27 2022 at 16:07)</a>:</h4>
<p>yeah</p>



<a name="273411225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411225">(Feb 27 2022 at 16:08)</a>:</h4>
<p>Should it be <code>for&lt;T&gt; { FromEnv(T: Super) :- exists&lt;U&gt; { FromEnv(T: Sub&lt;U&gt;) } }</code></p>



<a name="273411385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411385">(Feb 27 2022 at 16:12)</a>:</h4>
<p>I'm trying to think if you can...generalize that</p>



<a name="273411396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411396" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411396">(Feb 27 2022 at 16:13)</a>:</h4>
<p>hmm would that make a difference?</p>



<a name="273411492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411492">(Feb 27 2022 at 16:15)</a>:</h4>
<p>maybe</p>



<a name="273411560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411560">(Feb 27 2022 at 16:17)</a>:</h4>
<p><code>for&lt;T&gt; exists&lt;U&gt; FromEnv(T: Sub&lt;U&gt;)</code> would be true for T = !T in all cases of <code>U</code> (<code>u32</code> and <code>usize</code>)</p>



<a name="273411633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411633" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411633">(Feb 27 2022 at 16:18)</a>:</h4>
<p>yeah, but I think the recursive solver can only prove that if it's smarter about ambiguous results than it currently is</p>



<a name="273411638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411638">(Feb 27 2022 at 16:18)</a>:</h4>
<p>The problem is once you add a type parameter to <code>Super</code> it becomes a bit more complicated:</p>
<div class="codehilite"><pre><span></span><code>trait Super&lt;T&gt; {}
trait Sub&lt;T&gt; where Self: Super&lt;T&gt; {}
`for&lt;X, T&gt; FromEnv(X: Super&lt;T&gt;) :- FromEnv(X: Sub&lt;T&gt;)`
</code></pre></div>



<a name="273411711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411711">(Feb 27 2022 at 16:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="129457">Florian Diebold</span> <a href="#narrow/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env/near/273411633">said</a>:</p>
<blockquote>
<p>yeah, but I think the recursive solver can only prove that if it's smarter about ambiguous results than it currently is</p>
</blockquote>
<p>hmm</p>



<a name="273411726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411726">(Feb 27 2022 at 16:21)</a>:</h4>
<p>I guess it runs into the same problem</p>



<a name="273411785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411785">(Feb 27 2022 at 16:22)</a>:</h4>
<p>another idea might be returning more information with the ambiguous result, like "variable ?0 has multiple possible solutions", so the next level up can make a smarter decision. extending <code>Guidance</code> basically</p>



<a name="273411952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273411952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273411952">(Feb 27 2022 at 16:27)</a>:</h4>
<p>Hmm</p>



<a name="273412018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273412018" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273412018">(Feb 27 2022 at 16:28)</a>:</h4>
<p>sounds a bit like the SLG "strands"</p>



<a name="273497319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/273497319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#273497319">(Feb 28 2022 at 14:32)</a>:</h4>
<p>maybe <span class="user-mention" data-user-id="116009">@nikomatsakis</span> has some input here</p>



<a name="274767361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274767361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274767361">(Mar 09 2022 at 23:21)</a>:</h4>
<p>reading now :)</p>



<a name="274767368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274767368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274767368">(Mar 09 2022 at 23:21)</a>:</h4>
<p>sorry for the delay!</p>



<a name="274767371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274767371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274767371">(Mar 09 2022 at 23:21)</a>:</h4>
<p>I do have some thoughts</p>



<a name="274767376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274767376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274767376">(Mar 09 2022 at 23:21)</a>:</h4>
<p>but I have to experiment a bit first</p>



<a name="274767783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274767783" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274767783">(Mar 09 2022 at 23:25)</a>:</h4>
<p>I'm poking a bit at this, but can I just say <strong>how !@$!@$ cool it is</strong> that rust-analyzer can reduce test cases like this?!</p>



<a name="274767833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274767833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274767833">(Mar 09 2022 at 23:26)</a>:</h4>
<p>though it looks like the automated tool didn't <em>quite</em> pull through here</p>



<a name="274767857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274767857" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274767857">(Mar 09 2022 at 23:26)</a>:</h4>
<p>but debugging this with a reduced test case in chalk is so much nicer than digging through tons of unrelated rustc output</p>



<a name="274767872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274767872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274767872">(Mar 09 2022 at 23:26)</a>:</h4>
<p>tl;dr library-ification ftw</p>



<a name="274768348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274768348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274768348">(Mar 09 2022 at 23:32)</a>:</h4>
<p>ok, so I can reproduce the problem. I will poke a bit more at this later-- I feel like the recursive solver should be able to handle this <em>particular</em> case, though I agree that this is close to the class of problem in which it hits its limits</p>



<a name="274775359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274775359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274775359">(Mar 10 2022 at 00:50)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> um so how do I enable debug logs? :)</p>



<a name="274775401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274775401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274775401">(Mar 10 2022 at 00:50)</a>:</h4>
<p><code>CHALK_DEBUG=debug</code></p>



<a name="274846356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274846356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274846356">(Mar 10 2022 at 15:00)</a>:</h4>
<p>thanks!</p>



<a name="274898383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274898383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274898383">(Mar 10 2022 at 21:38)</a>:</h4>
<p>fix -- or at least partial fix -- here <a href="https://github.com/rust-lang/chalk/issues/727#issuecomment-1064522393">https://github.com/rust-lang/chalk/issues/727#issuecomment-1064522393</a></p>



<a name="274898402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274898402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274898402">(Mar 10 2022 at 21:38)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="129457">@Florian Diebold</span> <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span> are there more tests beyond the ones I see in <a href="https://github.com/rust-lang/chalk/issues/727">rust-lang/chalk#727</a> ?</p>



<a name="274898497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274898497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274898497">(Mar 10 2022 at 21:39)</a>:</h4>
<p>there's one further up in this thread</p>



<a name="274898554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274898554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274898554">(Mar 10 2022 at 21:39)</a>:</h4>
<p>or generally <a href="https://github.com/rust-lang/chalk/issues/750">chalk#750</a></p>



<a name="274904972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274904972" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274904972">(Mar 10 2022 at 22:29)</a>:</h4>
<p>ok, that seems to be the case I didn't solve yet, I think it's solve<em>able</em></p>



<a name="274912775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/274912775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#274912775">(Mar 10 2022 at 23:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env/near/274898383">said</a>:</p>
<blockquote>
<p>fix -- or at least partial fix -- here <a href="https://github.com/rust-lang/chalk/issues/727#issuecomment-1064522393">https://github.com/rust-lang/chalk/issues/727#issuecomment-1064522393</a></p>
</blockquote>
<p>hmm yeah that's something I was also looking into doing <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="275406796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275406796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Diebold <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275406796">(Mar 15 2022 at 17:26)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I'd really like to get <a href="https://github.com/rust-lang/chalk/issues/754">chalk#754</a> merged, let me know if I can help</p>



<a name="275406865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275406865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275406865">(Mar 15 2022 at 17:26)</a>:</h4>
<p><span class="user-mention" data-user-id="129457">@Florian Diebold</span> ok great! I'm not sure what is missing now? I'll check it in a bit</p>



<a name="275406883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275406883" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275406883">(Mar 15 2022 at 17:26)</a>:</h4>
<p>I've been thinking about some further follow-ups</p>



<a name="275454356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275454356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275454356">(Mar 16 2022 at 00:31)</a>:</h4>
<p><span class="user-mention" data-user-id="129457">@Florian Diebold</span> pushed some changes</p>



<a name="275458126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275458126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275458126">(Mar 16 2022 at 01:36)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I left some questions</p>



<a name="275858998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275858998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275858998">(Mar 18 2022 at 20:31)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> posted answers and a kinda 80% fix to SLG solver</p>



<a name="275859032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859032">(Mar 18 2022 at 20:31)</a>:</h4>
<p>seems ready to be merged</p>



<a name="275859202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859202">(Mar 18 2022 at 20:32)</a>:</h4>
<p>looking</p>



<a name="275859334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859334">(Mar 18 2022 at 20:34)</a>:</h4>
<p>looks like CI is running into the nightly ICE</p>



<a name="275859340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859340">(Mar 18 2022 at 20:34)</a>:</h4>
<p>oh, dear</p>



<a name="275859377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859377">(Mar 18 2022 at 20:34)</a>:</h4>
<p>that ICE should be fixed on next nightly, just barely didn't make it into yesterday's :/</p>



<a name="275859390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859390">(Mar 18 2022 at 20:35)</a>:</h4>
<p>(if you're talking about that debuginfo ICE, that is)</p>



<a name="275859584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859584">(Mar 18 2022 at 20:36)</a>:</h4>
<p>yes, I know it will be</p>



<a name="275859603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859603" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859603">(Mar 18 2022 at 20:36)</a>:</h4>
<p>Now I more understand why we got so many duplicates</p>



<a name="275859630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859630">(Mar 18 2022 at 20:37)</a>:</h4>
<p>I think that issue probably should have been left pinned until the nightly hit</p>



<a name="275859777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859777" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859777">(Mar 18 2022 at 20:38)</a>:</h4>
<p>So <span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="275859803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275859803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275859803">(Mar 18 2022 at 20:38)</a>:</h4>
<p>There is still more to do here, right? This is only a partial fix?</p>



<a name="275860005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860005">(Mar 18 2022 at 20:40)</a>:</h4>
<p>I left a kind of FIXME</p>



<a name="275860014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860014">(Mar 18 2022 at 20:40)</a>:</h4>
<p>depends what you mean</p>



<a name="275860020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860020">(Mar 18 2022 at 20:41)</a>:</h4>
<p>there's a lot more to do in multiple dimensions</p>



<a name="275860053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860053">(Mar 18 2022 at 20:41)</a>:</h4>
<p>e.g. this is just handling the most obvious case of one answer subsuming another</p>



<a name="275860065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860065" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860065">(Mar 18 2022 at 20:41)</a>:</h4>
<p>but for the SLG case <em>in particular</em> I'm not sure if <em>even this</em> case is fully handled</p>



<a name="275860334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860334">(Mar 18 2022 at 20:44)</a>:</h4>
<p>I guess tests need blessing :) So some of my comments might be wrong</p>



<a name="275860340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860340">(Mar 18 2022 at 20:44)</a>:</h4>
<p>oh</p>



<a name="275860367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860367">(Mar 18 2022 at 20:44)</a>:</h4>
<p>By partial fix, I was meaning one of the 727 tests still has a FIXME with wrong output</p>



<a name="275860381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860381">(Mar 18 2022 at 20:45)</a>:</h4>
<p>let me take a look</p>



<a name="275860388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860388">(Mar 18 2022 at 20:45)</a>:</h4>
<p>oh, I see</p>



<a name="275860392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860392" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860392">(Mar 18 2022 at 20:45)</a>:</h4>
<p>yes, it's still partial in other ways too</p>



<a name="275860417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860417">(Mar 18 2022 at 20:45)</a>:</h4>
<p>interestingly the mir-formality stuff is relevant there</p>



<a name="275860496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860496">(Mar 18 2022 at 20:46)</a>:</h4>
<p>how do I update expect again...?</p>



<a name="275860510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860510">(Mar 18 2022 at 20:46)</a>:</h4>
<p>oh, I guess I can't</p>



<a name="275860557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860557">(Mar 18 2022 at 20:47)</a>:</h4>
<p>there are a lot of tests that SLG solves now that recursive doesn't</p>



<a name="275860559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860559" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860559">(Mar 18 2022 at 20:47)</a>:</h4>
<p>bother</p>



<a name="275860575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860575">(Mar 18 2022 at 20:47)</a>:</h4>
<p>oof</p>



<a name="275860602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860602">(Mar 18 2022 at 20:47)</a>:</h4>
<p>tempted to leave the SLG part for a follow-up PR</p>



<a name="275860611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860611" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860611">(Mar 18 2022 at 20:47)</a>:</h4>
<p>I want to double check I didn't mess something up :)</p>



<a name="275860757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/recursive%20solver%20vs.%20implied%20env/near/275860757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/144729-wg-traits/topic/recursive.20solver.20vs.2E.20implied.20env.html#275860757">(Mar 18 2022 at 20:48)</a>:</h4>
<p>Also fine with that</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>