<html>
<head><meta charset="utf-8"><title>Chalk refactoring, oh my · wg-traits · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/index.html">wg-traits</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html">Chalk refactoring, oh my</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="214086457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214086457" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214086457">(Oct 21 2020 at 17:33)</a>:</h4>
<p>Made a PR for <code>TyData</code> to <code>TyKind</code> change: <a href="https://github.com/rust-lang/chalk/issues/628">chalk#628</a></p>



<a name="214086573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214086573" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214086573">(Oct 21 2020 at 17:34)</a>:</h4>
<p>It would be nice to get it reviewed quickly (or at least merged before others), since it'll bitrot quickly</p>



<a name="214088636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214088636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214088636">(Oct 21 2020 at 17:49)</a>:</h4>
<p>I'll take a quick look</p>



<a name="214088678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214088678" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214088678">(Oct 21 2020 at 17:49)</a>:</h4>
<p>why was this done?</p>



<a name="214091017"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214091017" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Whitaker <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214091017">(Oct 21 2020 at 18:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my/near/214086457">said</a>:</p>
<blockquote>
<p>Made a PR for <code>TyData</code> to <code>TyKind</code> change: <a href="https://github.com/rust-lang/chalk/issues/628">chalk#628</a></p>
</blockquote>
<p>Left a couple comments, but pretty straightforward</p>



<a name="214092706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214092706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214092706">(Oct 21 2020 at 18:20)</a>:</h4>
<p><span class="user-mention" data-user-id="281739">@oliver</span> <a href="#narrow/stream/144729-wg-traits/topic/meeting.202020-10-20/near/213977817">https://rust-lang.zulipchat.com/#narrow/stream/144729-wg-traits/topic/meeting.202020-10-20/near/213977817</a></p>



<a name="214093055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214093055" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214093055">(Oct 21 2020 at 18:23)</a>:</h4>
<p>so a <code>Kind</code> is a struct and data is values</p>



<a name="214093314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214093314" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214093314">(Oct 21 2020 at 18:25)</a>:</h4>
<p>Well</p>



<a name="214093447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214093447" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214093447">(Oct 21 2020 at 18:26)</a>:</h4>
<p>In rustc, types are interned as a <code>TyS</code>, which has both the <code>TyKind</code> (an enum of different values), but also the flags that tracks different bits of info</p>



<a name="214093485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214093485" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214093485">(Oct 21 2020 at 18:26)</a>:</h4>
<p>In Chalk so far, we've <em>only</em> interned the equivalent of <code>TyKind</code> (<code>TyData</code>)</p>



<a name="214093547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214093547" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214093547">(Oct 21 2020 at 18:27)</a>:</h4>
<p>but, going forward, we're trying to unify these two, so we're choosing to rename Chalk's <code>TyData</code> to <code>TyKind</code></p>



<a name="214093637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214093637" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214093637">(Oct 21 2020 at 18:27)</a>:</h4>
<p>^elegant</p>



<a name="214140871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/144729-wg-traits/topic/Chalk%20refactoring%2C%20oh%20my/near/214140871" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/144729-wg-traits/topic/Chalk.20refactoring.2C.20oh.20my.html#214140871">(Oct 22 2020 at 03:47)</a>:</h4>
<p><a href="https://github.com/rust-lang/chalk/issues/629">chalk#629</a> another bit-rotty PR: removing <code>TypeName</code></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>