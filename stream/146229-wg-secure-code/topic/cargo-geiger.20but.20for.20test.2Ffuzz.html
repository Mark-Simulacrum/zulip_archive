<html>
<head><meta charset="utf-8"><title>cargo-geiger but for test/fuzz · wg-secure-code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/index.html">wg-secure-code</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/cargo-geiger.20but.20for.20test.2Ffuzz.html">cargo-geiger but for test/fuzz</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="271723704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/cargo-geiger%20but%20for%20test/fuzz/near/271723704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Addison Crump <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/cargo-geiger.20but.20for.20test.2Ffuzz.html#271723704">(Feb 13 2022 at 03:05)</a>:</h4>
<p>Howdy; I'm trying to find a tool like geiger but for testing/fuzzing. Seems like something that should exist, but I'm not finding it. I would imagine this as, say, something that runs tests on and collects coverage data for all dependencies with given features and checks for the presence of fuzzers (not sure how one would evaluate this effectively, esp. without corpus; maybe fuzzer code size/lib code size ratio?). I found <a href="https://github.com/Relrin/cargo-test-all">cargo-test-all</a> but it's not quite what I'm looking for and it's completely unmaintained.</p>
<p>Is this something that the working group has considered making? I'd pursue this on my own, but I'm just one person with a 50-hour work week and not a whole lot of cargo knowledge <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="272879319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/cargo-geiger%20but%20for%20test/fuzz/near/272879319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shnatsel <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/cargo-geiger.20but.20for.20test.2Ffuzz.html#272879319">(Feb 22 2022 at 23:03)</a>:</h4>
<p><span class="user-mention" data-user-id="376571">@Addison Crump</span> <code>cargo fuzz coverage</code> provides fuzzing coverage information. Sadly <code>cargo fuzz</code> puts the corpus directory in the <code>.gitignore</code> by default, so the fuzzing results don't get checked in and every fuzzing session ends up being run from scratch, so coverage is 0 until you actually run the fuzzer (and then it's worse than if we started from a corpus of valid files).</p>
<p>The implementation doesn't sound terribly complex; just get the list of all the dependencies using <code>cargo metadata</code>, download them from <a href="http://crates.io">crates.io</a> using <code>ureq</code> (you don't need a library, the paths are very predictable) and then run <code>cargo test</code> with the <a href="https://blog.rust-lang.org/inside-rust/2020/11/12/source-based-code-coverage.html">shiny new source-based coverage enabled</a>. This sounds like it would be a 50-line shell script, ignoring the aggregation/post-processing of the results.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>