<html>
<head><meta charset="utf-8"><title>Hidden unsafe due to unintentionally abusable macros · wg-secure-code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/146229-wg-secure-code/index.html">wg-secure-code</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/146229-wg-secure-code/topic/Hidden.20unsafe.20due.20to.20unintentionally.20abusable.20macros.html">Hidden unsafe due to unintentionally abusable macros</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="227491663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Hidden%20unsafe%20due%20to%20unintentionally%20abusable%20macros/near/227491663" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tony Arcieri <a href="https://rust-lang.github.io/zulip_archive/stream/146229-wg-secure-code/topic/Hidden.20unsafe.20due.20to.20unintentionally.20abusable.20macros.html#227491663">(Feb 23 2021 at 19:45)</a>:</h4>
<p><a href="https://internals.rust-lang.org/t/hidden-unsafe-due-to-unintentionally-abusable-macros-and-include/14107/10">https://internals.rust-lang.org/t/hidden-unsafe-due-to-unintentionally-abusable-macros-and-include/14107/10</a></p>



<a name="227493176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Hidden%20unsafe%20due%20to%20unintentionally%20abusable%20macros/near/227493176" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tony Arcieri <a href="https://rust-lang.github.io/zulip_archive/stream/146229-wg-secure-code/topic/Hidden.20unsafe.20due.20to.20unintentionally.20abusable.20macros.html#227493176">(Feb 23 2021 at 19:55)</a>:</h4>
<p>Ooh <a href="https://github.com/rust-lang/rust/pull/72209">https://github.com/rust-lang/rust/pull/72209</a></p>



<a name="227493181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Hidden%20unsafe%20due%20to%20unintentionally%20abusable%20macros/near/227493181" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tony Arcieri <a href="https://rust-lang.github.io/zulip_archive/stream/146229-wg-secure-code/topic/Hidden.20unsafe.20due.20to.20unintentionally.20abusable.20macros.html#227493181">(Feb 23 2021 at 19:55)</a>:</h4>
<p>that's super cool</p>



<a name="227493244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Hidden%20unsafe%20due%20to%20unintentionally%20abusable%20macros/near/227493244" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tony Arcieri <a href="https://rust-lang.github.io/zulip_archive/stream/146229-wg-secure-code/topic/Hidden.20unsafe.20due.20to.20unintentionally.20abusable.20macros.html#227493244">(Feb 23 2021 at 19:56)</a>:</h4>
<p>it'd be great if <code>forbid(unsafe_code)</code> actually, you know, meant that</p>



<a name="227495691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Hidden%20unsafe%20due%20to%20unintentionally%20abusable%20macros/near/227495691" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shnatsel <a href="https://rust-lang.github.io/zulip_archive/stream/146229-wg-secure-code/topic/Hidden.20unsafe.20due.20to.20unintentionally.20abusable.20macros.html#227495691">(Feb 23 2021 at 20:11)</a>:</h4>
<p>It used to, but then people complained that <code>lazy_static!</code> trips it even though the unsafe code doesn't come from _this_ crate, and it got changed.</p>



<a name="227677240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Hidden%20unsafe%20due%20to%20unintentionally%20abusable%20macros/near/227677240" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tony Arcieri <a href="https://rust-lang.github.io/zulip_archive/stream/146229-wg-secure-code/topic/Hidden.20unsafe.20due.20to.20unintentionally.20abusable.20macros.html#227677240">(Feb 24 2021 at 21:36)</a>:</h4>
<p>opened a tracking issue for other "unsafe attributes" <a href="https://github.com/rust-lang/rust/issues/82499">https://github.com/rust-lang/rust/issues/82499</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>