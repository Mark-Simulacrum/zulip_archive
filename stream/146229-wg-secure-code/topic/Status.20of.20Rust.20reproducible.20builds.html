<html>
<head><meta charset="utf-8"><title>Status of Rust reproducible builds · wg-secure-code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/index.html">wg-secure-code</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/Status.20of.20Rust.20reproducible.20builds.html">Status of Rust reproducible builds</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="248916227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Status%20of%20Rust%20reproducible%20builds/near/248916227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/Status.20of.20Rust.20reproducible.20builds.html#248916227">(Aug 09 2021 at 22:19)</a>:</h4>
<p>Hello all,</p>



<a name="248916269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Status%20of%20Rust%20reproducible%20builds/near/248916269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/Status.20of.20Rust.20reproducible.20builds.html#248916269">(Aug 09 2021 at 22:19)</a>:</h4>
<p>A co-worker recently asked me if Rust is able to do reproducible builds. I did some searching on this....and it seems like the answer is "Kind of"?</p>



<a name="248916326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Status%20of%20Rust%20reproducible%20builds/near/248916326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/Status.20of.20Rust.20reproducible.20builds.html#248916326">(Aug 09 2021 at 22:20)</a>:</h4>
<p>could someone share some more info on the state of reproducible builds in Rust?</p>



<a name="248916479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Status%20of%20Rust%20reproducible%20builds/near/248916479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/Status.20of.20Rust.20reproducible.20builds.html#248916479">(Aug 09 2021 at 22:21)</a>:</h4>
<ol>
<li>You will need to configure <code>--remap-path-prefix</code> to remap any absolute paths not to contain your home directory. There's an open RFC to do this by default.</li>
<li>Reproducible builds are supported on a best-effort basis: bugs are usually fixed fairly quickly, but it's not tested in CI and usually no one notices them until a regressed release (because that's when distros build from source)</li>
</ol>



<a name="248916590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Status%20of%20Rust%20reproducible%20builds/near/248916590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/Status.20of.20Rust.20reproducible.20builds.html#248916590">(Aug 09 2021 at 22:22)</a>:</h4>
<p>TY so much!</p>



<a name="249472583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Status%20of%20Rust%20reproducible%20builds/near/249472583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/Status.20of.20Rust.20reproducible.20builds.html#249472583">(Aug 14 2021 at 18:45)</a>:</h4>
<p>The answer remains "kind of". I haven't encountered any major issues with this, but back when I started my attempts to make my builds reproducible, the most prominent problem was (and remains, most of the days) <code>build.rs</code> scripts cargo builds and runs as part of the crate build process.</p>



<a name="249472600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Status%20of%20Rust%20reproducible%20builds/near/249472600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/Status.20of.20Rust.20reproducible.20builds.html#249472600">(Aug 14 2021 at 18:46)</a>:</h4>
<p>The compilation itself doesn't pose much of an issue most days, once you set up what Joshua mentioned.</p>



<a name="250095713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/146229-wg-secure-code/topic/Status%20of%20Rust%20reproducible%20builds/near/250095713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shnatsel <a href="https://zulip-archive.rust-lang.org/stream/146229-wg-secure-code/topic/Status.20of.20Rust.20reproducible.20builds.html#250095713">(Aug 20 2021 at 09:19)</a>:</h4>
<p><span class="user-mention" data-user-id="225192">@Nell Shamrell-Harrington</span> <a href="https://github.com/kpcyrd/i-probably-didnt-backdoor-this">https://github.com/kpcyrd/i-probably-didnt-backdoor-this</a> - this just dropped today, it's an end-to-end recipe for reproducible builds</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>