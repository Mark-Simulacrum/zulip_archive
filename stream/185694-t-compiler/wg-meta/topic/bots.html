<html>
<head><meta charset="utf-8"><title>bots · t-compiler/wg-meta · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/index.html">t-compiler/wg-meta</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html">bots</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="163681828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163681828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163681828">(Apr 18 2019 at 19:17)</a>:</h4>
<p>so, we discussed in the infra team meeting bots for the out-of-tree repositories</p>



<a name="163681853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163681853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163681853">(Apr 18 2019 at 19:17)</a>:</h4>
<p>and... there were some conflicting opinions</p>



<a name="163681990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163681990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163681990">(Apr 18 2019 at 19:19)</a>:</h4>
<p>on one hand we want configuring bots to be as easy as possible, ideally in a way y'all can do that without even notifying infra</p>



<a name="163682103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163682103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163682103">(Apr 18 2019 at 19:20)</a>:</h4>
<p>but on the other hand we don't want to give bots full permissions across the whole org, since having a god token is not really the best thing security wise</p>



<a name="163682319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163682319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163682319">(Apr 18 2019 at 19:23)</a>:</h4>
<p>there were also some doubts whether bors is really needed for out of tree repos</p>



<a name="163682327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163682327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163682327">(Apr 18 2019 at 19:23)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <span class="user-mention" data-user-id="116107">@davidtwco</span> ?</p>



<a name="163682466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163682466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163682466">(Apr 18 2019 at 19:25)</a>:</h4>
<p>the way I'm envisioning a possible "setting up bots" workflow (at least for triagebot) is:<br>
- adding a configuration file (like <code>triagebot.toml</code>) at the root of the repo with the bot configuration file<br>
- adding write access to a "bots" team in the settings</p>



<a name="163683010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163683010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163683010">(Apr 18 2019 at 19:31)</a>:</h4>
<p>I think the primary desire is to have a uniform contributing experience for compiler folks whether they work in tree or out.</p>



<a name="163683090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163683090" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163683090">(Apr 18 2019 at 19:32)</a>:</h4>
<p>And a decent part of that is bots.</p>



<a name="163684321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163684321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163684321">(Apr 18 2019 at 19:46)</a>:</h4>
<p>also cc <span class="user-mention" data-user-id="116122">@simulacrum</span></p>



<a name="163684376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163684376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163684376">(Apr 18 2019 at 19:47)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> hmm, ok</p>



<a name="163684483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163684483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163684483">(Apr 18 2019 at 19:48)</a>:</h4>
<p>setting up bors is going to require manually pinging the infra team for the foreseeable future, but we can make adding triagebot a thing you can do yourself as the compiler team</p>



<a name="163684509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163684509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163684509">(Apr 18 2019 at 19:48)</a>:</h4>
<p>and for highfive... I just want to reimplement it in triagebot in the near future</p>



<a name="163685088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163685088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163685088">(Apr 18 2019 at 19:55)</a>:</h4>
<p>I don't think we'll be creating out-of-tree crates <em>that</em> much, at least in the short term. So that sounds totally fine.</p>
<p>We've got <a href="https://github.com/rust-lang/compiler-team/issues/57" target="_blank" title="https://github.com/rust-lang/compiler-team/issues/57">compiler-team#57</a> to finish off our out-of-tree crates instructions, and most of that is documenting how to set up the bots and things like that.</p>



<a name="163687499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163687499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163687499">(Apr 18 2019 at 20:22)</a>:</h4>
<p>FWIW <span class="user-mention" data-user-id="116015">@Alex Crichton</span> has mentioned multiple times that bors is <em>probably</em> not needed for anything beyond rust-lang/rust</p>



<a name="163694700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163694700" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163694700">(Apr 18 2019 at 22:03)</a>:</h4>
<p>I .. am of mixed minds. I agree with <span class="user-mention" data-user-id="116107">@davidtwco</span> that it'd be nice to be uniform in our process and experience. I also agree that for most smaller repos I don't feel a strong need for bors. I'm curious what the downsides of using bors are.</p>



<a name="163694703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163694703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163694703">(Apr 18 2019 at 22:03)</a>:</h4>
<p>Like, if the setup is  easy...why not?</p>



<a name="163694716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163694716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163694716">(Apr 18 2019 at 22:03)</a>:</h4>
<blockquote>
<p>the way I'm envisioning a possible "setting up bots" workflow (at least for triagebot) is:<br>
- adding a configuration file (like <code>triagebot.toml</code>) at the root of the repo with the bot configuration file<br>
- adding write access to a "bots" team in the settings</p>
</blockquote>
<p>in general though this sounds pretty good</p>



<a name="163694899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163694899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163694899">(Apr 18 2019 at 22:06)</a>:</h4>
<p>I'll clarify that I feel the same way, I don't disagree that most of the repos probably don't warrant as heavyweight a tool as bors while simultaneously thinking it would be valuable to have a uniform experience across repositories.</p>



<a name="163696409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163696409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163696409">(Apr 18 2019 at 22:32)</a>:</h4>
<p>well, the setup of bors is a bit of a pain because it requires a RCS redeploy, which is not nice</p>



<a name="163696431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163696431" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163696431">(Apr 18 2019 at 22:33)</a>:</h4>
<p>but the upside is that bors configuration doesn't really change once setup, especially now that reviewers are moved to the team repo</p>



<a name="163699262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163699262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163699262">(Apr 18 2019 at 23:25)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> yeah I'd agree with <span class="user-mention" data-user-id="121055">@Pietro Albini</span> in that the setup is pretty nontrivial right now and runs a risk of putting too much burden on the infra team relative to the gains earned</p>



<a name="163699278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/185694-t-compiler/wg-meta/topic/bots/near/163699278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/185694-t-compiler/wg-meta/topic/bots.html#163699278">(Apr 18 2019 at 23:25)</a>:</h4>
<p>I definitely agree that having a good uniform experience is nice though</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>