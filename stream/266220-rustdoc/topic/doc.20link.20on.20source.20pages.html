<html>
<head><meta charset="utf-8"><title>doc link on source pages · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html">doc link on source pages</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="264214744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264214744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264214744">(Dec 08 2021 at 20:22)</a>:</h4>
<p>I updated <a href="https://github.com/rust-lang/rust/pull/89157">https://github.com/rust-lang/rust/pull/89157</a>:</p>
<ul>
<li>The doc link is only present on an item definition in the left margin.</li>
<li>If there are more than one definition on one line, only the first one gets a doc link.</li>
</ul>
<p>(It's mostly what <span class="user-mention" data-user-id="315412">@jsha</span> suggested :) ).</p>
<p><span class="user-mention" data-user-id="307537">@Noah Lev</span> had some concerns about that though. Mostly about the extra used space (please tell me if I missed something).</p>



<a name="264215961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264215961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264215961">(Dec 08 2021 at 20:31)</a>:</h4>
<p>I think the biggest concern was the yellow background on the doc link, which makes it stand out _very_ strongly.</p>



<a name="264217237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264217237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264217237">(Dec 08 2021 at 20:42)</a>:</h4>
<p>Haha. For the color I'll need help, please pick them, I'm very bad at that (as you can see). I wanted to make them stand out, but it's maybe "a bit" too much at this point. Do you have suggestions for the background color by any chance?</p>



<a name="264217447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264217447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264217447">(Dec 08 2021 at 20:43)</a>:</h4>
<p>I think they should not stand out very much. So I would use:</p>
<p>foreground color: same as default <code>a</code> (in other words no style required here)<br>
 background color: none (in other words no style required here)</p>



<a name="264217708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264217708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264217708">(Dec 08 2021 at 20:45)</a>:</h4>
<p>So just "raw" links? No border or anything? (confirming before sending the update)</p>



<a name="264217922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264217922" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264217922">(Dec 08 2021 at 20:47)</a>:</h4>
<p>My main concern was about the background (though the space is an issue as well), but also just having these links at all will add clutter, no matter how they are styled.</p>



<a name="264218002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264218002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264218002">(Dec 08 2021 at 20:48)</a>:</h4>
<p>So it was about the space used by them too.</p>



<a name="264218192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264218192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264218192">(Dec 08 2021 at 20:49)</a>:</h4>
<p>For that, I don't really know how to improve it... :-/</p>



<a name="264219129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264219129" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264219129">(Dec 08 2021 at 20:57)</a>:</h4>
<p>Oh indeed, without the background, it looks much better (I added screenshots in the last comment)</p>



<a name="264219180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264219180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264219180">(Dec 08 2021 at 20:57)</a>:</h4>
<p><span class="user-mention" data-user-id="307537">@Noah Lev</span> are you saying you'd prefer not to have the links at all, or to have a way to hide them when someone is not likely to use them (e.g. some of the ideas discussed on the PR, about hiding unless a line number is targeted)?</p>



<a name="264219187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264219187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264219187">(Dec 08 2021 at 20:57)</a>:</h4>
<p>(and also updated the online version)</p>



<a name="264219462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264219462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Howell <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264219462">(Dec 08 2021 at 20:59)</a>:</h4>
<p>I'd mark them up as <code>[doc]</code>, the natural opposite of <code>[src]</code>.</p>



<a name="264219468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264219468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264219468">(Dec 08 2021 at 20:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="315412">jsha</span> <a href="#narrow/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages/near/264219180">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="307537">Noah Lev</span> are you saying you'd prefer not to have the links at all, or to have a way to hide them when someone is not likely to use them (e.g. some of the ideas discussed on the PR, about hiding unless a line number is targeted)?</p>
</blockquote>
<p>All else being equal, I'd prefer not to have them at all. Do we have evidence that this is a feature that will be useful enough to bear its weight?</p>
<p>If we do end up adding it, I'd want it ideally to be hidden by default.</p>



<a name="264219904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264219904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264219904">(Dec 08 2021 at 21:02)</a>:</h4>
<blockquote>
<p>All else being equal, I'd prefer not to have them at all. Do we have evidence that this is a feature that will be useful enough to bear its weight?</p>
</blockquote>
<p>I know that it'll be quite useful (and I'm already using it) but I don't know for others. For me it's something obvious to be able to go back to an item documentation from the source code but maybe it's only me</p>



<a name="264220007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220007">(Dec 08 2021 at 21:03)</a>:</h4>
<p>and I don't really know how to get feedback from potential users</p>



<a name="264220021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220021" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220021">(Dec 08 2021 at 21:03)</a>:</h4>
<blockquote>
<p>Do we have evidence that this is a feature that will be useful enough to bear its weight?</p>
</blockquote>
<p>I'm taking as a given that "jump to definition" is useful enough to bear its weight. During early reviews of "jump to definition", some people gave feedback that they thought it was important to be able to get from a definition back to the rendered docs.</p>
<p>I think that makes sense. Say you click a definition link and it takes you to some type that is rather complicated or hard to understand, so you want to read the prose documentation. You can scroll up to see the documentation in its <code>///</code> form, but that can be hard to read, doesn't benefit from links, etc. So it's useful to be able to see the rendered documentation.</p>



<a name="264220288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220288">(Dec 08 2021 at 21:05)</a>:</h4>
<blockquote>
<p>If we do end up adding it, I'd want it ideally to be hidden by default.</p>
</blockquote>
<p>Btw, do you mean for both desktop and mobile or just mobile?</p>



<a name="264220359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220359">(Dec 08 2021 at 21:06)</a>:</h4>
<p>Both.</p>



<a name="264220367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220367">(Dec 08 2021 at 21:06)</a>:</h4>
<p>looking at the updated screenshot, it is much better without the background - but indeed it's still pretty distracting. The links break up the vertical rhythm of the gutter. Also, it's a little surprising the items with no doccomments have no doc link. Like <code>impl Struct</code>. I would recommend making the doc link available even for items with no doccomments, since they do have an entry in the doc view.</p>



<a name="264220403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220403">(Dec 08 2021 at 21:06)</a>:</h4>
<p>I guess part of my concern is that jump-to-definition keeps gaining more features.</p>



<a name="264220459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220459" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220459">(Dec 08 2021 at 21:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="315412">jsha</span> <a href="#narrow/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages/near/264220367">said</a>:</p>
<blockquote>
<p>looking at the updated screenshot, it is much better without the background - but indeed it's still pretty distracting. The links break up the vertical rhythm of the gutter. Also, it's a little surprising the items with no doccomments have no doc link. Like <code>impl Struct</code>. I would recommend making the doc link available even for items with no doccomments, since they do have an entry in the doc view.</p>
</blockquote>
<p>I'm pretty sure doc-less items get doc links as well; it's probably an issue with impls in particular.</p>



<a name="264220477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220477">(Dec 08 2021 at 21:07)</a>:</h4>
<p>This was always scheduled but maybe I didn't communicate it well enough. And for that I'm very sorry</p>



<a name="264220566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220566">(Dec 08 2021 at 21:08)</a>:</h4>
<blockquote>
<p>This was always scheduled </p>
</blockquote>
<p>I'm a bit confused, what do you mean?</p>



<a name="264220614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220614">(Dec 08 2021 at 21:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="315412">jsha</span> <a href="#narrow/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages/near/264220367">said</a>:</p>
<blockquote>
<p>looking at the updated screenshot, it is much better without the background - but indeed it's still pretty distracting. The links break up the vertical rhythm of the gutter. Also, it's a little surprising the items with no doccomments have no doc link. Like <code>impl Struct</code>. I would recommend making the doc link available even for items with no doccomments, since they do have an entry in the doc view.</p>
</blockquote>
<p>This is voluntary on my end: I didn't generate doc links for methods either, only for items' definition. I was wondering if it would be "too much" doc links</p>



<a name="264220711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264220711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264220711">(Dec 08 2021 at 21:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307537">Noah Lev</span> <a href="#narrow/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages/near/264220566">said</a>:</p>
<blockquote>
<blockquote>
<p>This was always scheduled </p>
</blockquote>
<p>I'm a bit confused, what do you mean?</p>
</blockquote>
<p>After the initial PR, I opened an issue to try to make it more clear what I had in mind: <a href="https://github.com/rust-lang/rust/issues/89095">https://github.com/rust-lang/rust/issues/89095</a></p>



<a name="264221203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221203">(Dec 08 2021 at 21:13)</a>:</h4>
<blockquote>
<p>I didn't generate doc links for methods either, only for items' definition. I was wondering if it would be "too much" doc links</p>
</blockquote>
<p>I think adding these would be good. Here's my logic: the "cost" of adding doc links on the left is that they stand out visually against the smooth flow of line numbers. Once we add any doc links, we've fully paid that cost and adding more more doc links doesn't make it worse.</p>
<p>That said, I think what we're finding in this conversation is we may not want to pay that cost at all. Or maybe we want to find another way that comes at a lower cost.</p>



<a name="264221333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221333" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221333">(Dec 08 2021 at 21:14)</a>:</h4>
<p>Seems so indeed.</p>



<a name="264221460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221460">(Dec 08 2021 at 21:15)</a>:</h4>
<p>(as an aside, I think we have similar logic about the "stable since" numbers: we try to hide them when they are the same as the top-level item's "stable since." Presumably this is to avoid having "too much" of those numbers. But I think it winds up being more confusing to have stable since numbers in some places than others, and we've already paid the cost of having numbers in some places. But that's a bit off topic for this thread :-D )</p>



<a name="264221544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221544" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221544">(Dec 08 2021 at 21:16)</a>:</h4>
<blockquote>
<p>Once we add any doc links, we've fully paid that cost and adding more more doc links doesn't make it worse.</p>
</blockquote>
<p>I don't really agree with this logic. It's true that interrupting the flow even a little bit has a cost, but the more links there are, the worse it is.</p>



<a name="264221583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221583">(Dec 08 2021 at 21:17)</a>:</h4>
<p>That said, I agree that consistency is valuable as well.</p>



<a name="264221764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221764">(Dec 08 2021 at 21:18)</a>:</h4>
<p>I'm starting to wonder if we could put the doc link directly on the right of the item</p>



<a name="264221794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221794">(Dec 08 2021 at 21:18)</a>:</h4>
<p>in smaller font</p>



<a name="264221799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221799">(Dec 08 2021 at 21:18)</a>:</h4>
<p>let me find an example</p>



<a name="264221923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221923">(Dec 08 2021 at 21:19)</a>:</h4>
<p>item&lt;sup&gt;doc&lt;/sup&gt;</p>



<a name="264221974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221974">(Dec 08 2021 at 21:20)</a>:</h4>
<p>complete failure...</p>



<a name="264221990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264221990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264221990">(Dec 08 2021 at 21:20)</a>:</h4>
<p>Another possibility: the item name could be the doc link. So for instance in:</p>
<div class="codehilite"><pre><span></span><code>let x: Foo;
</code></pre></div>
<p><code>Foo</code> would link to the definition. But in:</p>
<div class="codehilite"><pre><span></span><code>pub struct Foo{}
</code></pre></div>
<p><code>Foo</code> would link to the doc. Perhaps not the most obvious thing, but avoids taking up extra space.</p>



<a name="264222008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264222008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264222008">(Dec 08 2021 at 21:20)</a>:</h4>
<p>I can't copy the items like square power without having zulip sizing them correctly T_T</p>



<a name="264222031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264222031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264222031">(Dec 08 2021 at 21:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="315412">jsha</span> <a href="#narrow/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages/near/264221990">said</a>:</p>
<blockquote>
<p>Another possibility: the item name could be the doc link. So for instance in:</p>
<div class="codehilite"><pre><span></span><code>let x: Foo;
</code></pre></div>
<p><code>Foo</code> would link to the definition. But in:</p>
<div class="codehilite"><pre><span></span><code>pub struct Foo{}
</code></pre></div>
<p><code>Foo</code> would link to the doc. Perhaps not the most obvious thing, but avoids taking up extra space.</p>
</blockquote>
<p>:O</p>



<a name="264222050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264222050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264222050">(Dec 08 2021 at 21:20)</a>:</h4>
<p>it's okay; I don't think adding them directly on the right is a good plan. I think it would be confusing.</p>



<a name="264222054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264222054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264222054">(Dec 08 2021 at 21:20)</a>:</h4>
<p>this is so simple and yet I wonder how we could fail to think about it</p>



<a name="264222213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264222213" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264222213">(Dec 08 2021 at 21:22)</a>:</h4>
<p><span class="user-mention" data-user-id="307537">@Noah Lev</span> So two things: do you think the feature is worth it? Does this suggestion seems acceptable to you?</p>



<a name="264222316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264222316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264222316">(Dec 08 2021 at 21:23)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> I still think this feature needs an RFC</p>



<a name="264222325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264222325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264222325">(Dec 08 2021 at 21:23)</a>:</h4>
<p>Sorry, I don't have time right now to respond. I'll try to respond later.</p>



<a name="264222362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264222362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264222362">(Dec 08 2021 at 21:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages/near/264222316">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> I still think this feature needs an RFC</p>
</blockquote>
<p>I think it's a good point.</p>



<a name="264222367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264222367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264222367">(Dec 08 2021 at 21:23)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="315412">@jsha</span>'s suggestion of linking the definition to the doc is good though</p>



<a name="264222527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264222527" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264222527">(Dec 08 2021 at 21:24)</a>:</h4>
<p>I'll write something up so we have something a bit "stronger" than a tracking issue</p>



<a name="264223456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264223456" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264223456">(Dec 08 2021 at 21:31)</a>:</h4>
<p>my general thought on jump-to-definition: The source view is an enormously popular feature, particularly among experienced developers. When I talked about changing the display of the source link, people were worried that it would be harder to get to the source view.</p>
<p>Given that it's so popular and useful, it's worth investment in making it better and more useful. For instance, one concrete way in which the source view is currently inadequate: If I see a private type in source view, I have no way to figure out what file that private type is in. It doesn't show up in search. Jump to definition can fix that.</p>
<p>All that said, what I'd <em>really</em> like for a web based source view is something as powerful as rust-analyzer in my editor. Or at least as powerful as [GitHub's jump to definition features for other languages like Go, Java, Python, etc.](<a href="https://docs.github.com/en/repositories/working-with-files/using-files/navigating-code-on-github]">https://docs.github.com/en/repositories/working-with-files/using-files/navigating-code-on-github]</a></p>
<p>Is rustdoc the right place to implement such a powerful tool? Probably not, because we have a lot of complexity to burn down. Ideally what I'd like is some standalone tool that integrates rust-analyzer with HTML and JS to provide a robust source view; and then rustdoc could be a downstream consumer of that tool.</p>
<p>That said, such a tool is potentially a long way away and nobody is working on it. So are we okay with continuing on the jump to definition work that gets us part of the way there? That's the question I think we should strive to answer in an RFC.</p>



<a name="264223638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264223638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264223638">(Dec 08 2021 at 21:32)</a>:</h4>
<p>GitHub is actually working on exactly that tool, let me find the link</p>



<a name="264223659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264223659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264223659">(Dec 08 2021 at 21:32)</a>:</h4>
<p><a href="https://github.blog/2021-12-08-improving-github-code-search/">https://github.blog/2021-12-08-improving-github-code-search/</a></p>



<a name="264223713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264223713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264223713">(Dec 08 2021 at 21:33)</a>:</h4>
<p>So I think a reasonable alternative here is having [src] go to GitHub's source view where possible</p>



<a name="264224255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264224255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264224255">(Dec 08 2021 at 21:36)</a>:</h4>
<p>that's exciting! I think it's not _quite_ what I'm looking for, at least not yet. According to the FAQ (<a href="https://cs.github.com/about/faq">https://cs.github.com/about/faq</a>) it supports "symbol extraction" for Rust. But that doesn't get us things like "go to definition" and "find references." That's part of the navigating-code feature I linked above, AFAICT.</p>



<a name="264224308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264224308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264224308">(Dec 08 2021 at 21:37)</a>:</h4>
<p><span class="user-mention" data-user-id="315412">@jsha</span> And that's something I strongly disagree with. We have very different positions on this: I still think about the time when I was a student without an internet connection and the only doc I had was the manual pages from linux. The situation is kinda the same whenever we travel. If we start relying on an external tool, we restrict a lot of things for our users. I think the trade-off is acceptable considering that it doesn't require much code (but that's still something we need to support).</p>



<a name="264224542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264224542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264224542">(Dec 08 2021 at 21:38)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> I'm not proposing that such a tool must necessarily be an online-only tool like GitHub's is. I'm imagining a tool that would be possible to run locally. Although I will admit, if GitHub made their code navigation features strong enough it would be tempting to lean on them rather than going our own way with jump to definition.</p>



<a name="264224687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264224687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264224687">(Dec 08 2021 at 21:39)</a>:</h4>
<p>If it's an external tool, then its scope is limited. And if it's github, then you need an internet connection, so not a possibility either imo. Or did you mean something else?</p>



<a name="264225872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264225872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264225872">(Dec 08 2021 at 21:50)</a>:</h4>
<p>I think a lot of the concern is around maintenance burden on the rustdoc team. That's reasonable - to some extent source code navigation is tangential to the core purpose of rustdoc, which is around generating documentation. What I'm proposing is that a separate project outside the rust repo could iterate faster without putting too much burden on the rustdoc team. And the code could potentially be simpler by not intertwining with rustdoc's internals. For instance, rustdoc is complexly intertwined with rustc's internals. Does a source viewer need to be intertwined like that? I think no. It could probably use the public interface offered by rust-analyzer.</p>
<p>If you started such a project, and it was a success - people finding it useful, code is clean and maintainable - then I think it would make sense to add it as a dependency to rustdoc as a replacement for the current source view. Presumably that would be the ultimate goal - to make this useful thing and get it in front of as many people as possible, via rustdoc.</p>
<p>There is a risk to such an approach - for instance, the separate project might evolve into something the rustdoc team doesn't eventually want to use. That would limit its scope, as you say.</p>



<a name="264225931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264225931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264225931">(Dec 08 2021 at 21:51)</a>:</h4>
<p>By the way, a question about the offline use case: For that case, you presumably have the source code locally on your computer. Why not use an IDE's source code navigation?</p>



<a name="264226221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226221" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226221">(Dec 08 2021 at 21:53)</a>:</h4>
<p>I use sublime text, I can't code with auto-completion, I get distracted too quickly</p>



<a name="264226293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226293">(Dec 08 2021 at 21:54)</a>:</h4>
<p>Also, I originally tried the rust-analyzer approach: far too big</p>



<a name="264226378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226378">(Dec 08 2021 at 21:54)</a>:</h4>
<p>As for the maintenance burden, I'm paid to maintain and work on rustdoc (and I'm quite lucky), so does this concern still exist in this regard?</p>



<a name="264226405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226405">(Dec 08 2021 at 21:55)</a>:</h4>
<p>Do you keep a copy of vscode with rust-analyzer handy? Even if you don't use it for coding it could be useful for source code navigation. And I think it would be really great in terms of generating ideas for how a web-based source navigator should work.</p>



<a name="264226466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226466">(Dec 08 2021 at 21:55)</a>:</h4>
<p>I don't because it's just far too big :-/</p>



<a name="264226467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226467">(Dec 08 2021 at 21:55)</a>:</h4>
<p>Ooh that's awesome. I didn't realize you are paid to work on rustdoc! Still, as others have pointed out, you need reviewers and I think none of the reviewers on rustdoc are paid to work on it. :-)</p>



<a name="264226542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226542">(Dec 08 2021 at 21:56)</a>:</h4>
<p>Far too big in terms of memory? Disk space?</p>



<a name="264226554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226554">(Dec 08 2021 at 21:56)</a>:</h4>
<p>You are absolutely right on this point</p>



<a name="264226564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226564">(Dec 08 2021 at 21:56)</a>:</h4>
<p>Disk space and memory</p>



<a name="264226592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226592">(Dec 08 2021 at 21:56)</a>:</h4>
<p>Can your employer buy you a bigger computer?</p>



<a name="264226717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226717">(Dec 08 2021 at 21:57)</a>:</h4>
<p>They can but it took me 8 months to get this one, so better not ^^'</p>



<a name="264226778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226778">(Dec 08 2021 at 21:58)</a>:</h4>
<p>(I'm going to have to leave in a few minutes. Going to go see Dune on the big screen! Happy to continue chatting later)</p>



<a name="264226820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226820">(Dec 08 2021 at 21:58)</a>:</h4>
<p>(Dune was great)</p>



<a name="264226856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264226856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264226856">(Dec 08 2021 at 21:58)</a>:</h4>
<p>Well, now I'm really scared to be the only one in the team wanting this feature to be honest</p>



<a name="264227243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264227243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264227243">(Dec 08 2021 at 22:02)</a>:</h4>
<p>My main argument is that external tools are external tools and not provided by default, therefore it's not applicable for everyone. rust-analyzer was mainly based on JS, which is a problem in my opinion and their source code is far too big.</p>
<p>I thought about writing an external crate that rustdoc could use, except that I don't really see how I can integrate it into rustdoc. I don't think it's possible this way.</p>
<p>I see the problem for rustdoc's reviewers and I have no idea how to not make it an issue...</p>



<a name="264237587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264237587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264237587">(Dec 08 2021 at 23:43)</a>:</h4>
<p>Btw, not all crates are available on github. And when looking at a crate documentation on <a href="http://docs.rs">docs.rs</a>, I don't want to clone it locally to be able to browse its code "efficiently"</p>



<a name="264237863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264237863" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264237863">(Dec 08 2021 at 23:47)</a>:</h4>
<blockquote>
<p>rust-analyzer was mainly based on JS</p>
</blockquote>
<p>I'm not sure what you mean; rust-analyzer is written in Rust.</p>



<a name="264237999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264237999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264237999">(Dec 08 2021 at 23:49)</a>:</h4>
<p>I don't think we should integrate with potential future GitHub features, since rustdoc is supposed to work locally—and with non-GitHub–hosted repos too. And integrating with rust-analyzer would mean that we run rustc, and <em>then</em> run even more code.</p>
<p>TBH, I think implementing jump-to-definition ourselves would add less maintenance burden than integrating with another tool.</p>



<a name="264238154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264238154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264238154">(Dec 08 2021 at 23:51)</a>:</h4>
<p>I definitely see the value of jump-to-definition—I've used it a bit on the rustc docs myself—but it does add a decent amount of code to rustdoc.</p>



<a name="264244258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264244258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264244258">(Dec 09 2021 at 01:10)</a>:</h4>
<p>I don't see why you would need this feature locally; you can just use rust-analyzer for that.</p>



<a name="264244298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264244298" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264244298">(Dec 09 2021 at 01:11)</a>:</h4>
<p>I think it's ok to be slightly less featureful for non-github repos; gitlab has pretty similar code browsing and we can fall back to the current source rendering for everything else.</p>



<a name="264244308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264244308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264244308">(Dec 09 2021 at 01:11)</a>:</h4>
<p>but this is exactly the sort of reason I think there should be an RFC, there are <em>lots</em> of possible approaches here</p>



<a name="264244673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264244673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264244673">(Dec 09 2021 at 01:17)</a>:</h4>
<p>tbh I think the nicest version of this is Github Codespaces which has the benefit of already existing and being able to use rust-analyzer, but that only works for github hosted projects</p>



<a name="264244702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264244702" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264244702">(Dec 09 2021 at 01:17)</a>:</h4>
<p>that said the rustdoc version would let you switch between the docs and the source which could be nice</p>



<a name="264247031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264247031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264247031">(Dec 09 2021 at 01:54)</a>:</h4>
<blockquote>
<p>being able to use rust-analyzer,</p>
</blockquote>
<p>I've tried using Codespaces and it's said that rust-analyzer isn't currently supported. Have you been successful at using it?</p>



<a name="264247693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264247693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264247693">(Dec 09 2021 at 02:04)</a>:</h4>
<p>maybe it doesn't work currently; my point is that I think it would be nicer than anything we can simulate in rustdoc with links</p>



<a name="264252428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264252428" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264252428">(Dec 09 2021 at 03:29)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> you're not the only one who wants the feature. I want it too. I think it's quite useful. The question is mainly cost/benefit, where the cost is overall burden on the team, doc size, and UI complexity.</p>
<p>From the above conversation it sounds like some of your requirements are:</p>
<ol>
<li>Works locally.</li>
<li>Works on the web.</li>
<li>Works with JS turned off.</li>
<li>Works on low spec machines.</li>
</ol>
<p>If we only needed (1), rust-analyzer + an IDE would do. If we only needed (2), future GitHub features would do.</p>
<p>Also I will continue to quibble with (3). Basic features working without JS is great, but for more complex features like this one we shouldn't paint ourselves into a corner by ruling out JS.</p>



<a name="264252585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264252585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264252585">(Dec 09 2021 at 03:32)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> you're not the only one who wants the feature. I want it too. I think it's quite useful. The question is mainly cost/benefit, where the cost is overall burden on the team, doc size, and UI complexity.</p>
</blockquote>
<p>I second this.</p>
<blockquote>
<p>Also I will continue to quibble with (3). Basic features working without JS is great, but for more complex features like this one we shouldn't paint ourselves into a corner by ruling out JS.</p>
</blockquote>
<p>I agree with this as well.</p>



<a name="264273528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264273528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264273528">(Dec 09 2021 at 09:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307537">Noah Lev</span> <a href="#narrow/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages/near/264238154">said</a>:</p>
<blockquote>
<p>I definitely see the value of jump-to-definition—I've used it a bit on the rustc docs myself—but it does add a decent amount of code to rustdoc.</p>
</blockquote>
<p>I guess it depends what you call a decent amount of code:</p>
<div class="codehilite"><pre><span></span><code>https://github.com/rust-lang/rust/blob/master/src/librustdoc/html/render/span_map.rs (which is basically a visitor gathering span)
https://github.com/rust-lang/rust/blob/master/src/librustdoc/html/highlight.rs#L725-L753 (for generating links)
</code></pre></div>

<p>It's way under 300 lines (I counted the doc comments but excluded the tests). ;)</p>



<a name="264273767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264273767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264273767">(Dec 09 2021 at 09:14)</a>:</h4>
<p>But in any case, I'll finish to write the RFC so we can all discuss on it directly there and agree on what we want or don't want.</p>



<a name="264351465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264351465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264351465">(Dec 09 2021 at 19:10)</a>:</h4>
<p>By the way, there are two ways to convince people the cost/benefit is worthwhile: convince them the cost is lower than they think it is, or convince them the benefit is bigger than they think it is. I think you recognize this - you've mentioned it would be great to get more people to try out the feature so they could see how good it is. One thing you should make sure to do in the RFC is present some really compelling cases about why this lets people do a specific task they couldn't do before, or why some common task today would be much faster or more pleasant with this code. Using details like a specific crate, and specific types within that crate, would make things really clear. You could even host a version of that crate with jump-to-definition enabled, so people can see the difference.</p>



<a name="264352784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264352784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264352784">(Dec 09 2021 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="315412">@jsha</span> You are absolutely right: I'm a terrible seller. The more something is obvious to me, the more complicated it is to explain to others. However, this time I got lucky since you helped me last time, so I'm reusing some of this first work in the RFC. I added a link to the compiler docs in the RFC and a video. But a "story case" will be very helpful. I got some help from <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> as well who made some great suggestions so I'm gathering data to compare with alternatives. I'll certainly ask some of everyone's help here to ensure that:</p>
<ol>
<li>It's understandable for others than me.</li>
<li>I didn't forget something obvious.</li>
</ol>



<a name="264354315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264354315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264354315">(Dec 09 2021 at 19:32)</a>:</h4>
<p>(guillaume is working on a pre-rfc in <a href="https://github.com/rust-lang/rfcs/compare/master...GuillaumeGomez:rustdoc-jump-to-definition">https://github.com/rust-lang/rfcs/compare/master...GuillaumeGomez:rustdoc-jump-to-definition</a>; I left some comments on <a href="https://github.com/rust-lang/rfcs/commit/b198524057917f0191ee3c791199a56f7c51826a">https://github.com/rust-lang/rfcs/commit/b198524057917f0191ee3c791199a56f7c51826a</a>)</p>



<a name="264354376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264354376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264354376">(Dec 09 2021 at 19:33)</a>:</h4>
<p>I'll tell here once I update with new information provided btw</p>



<a name="264359778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264359778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264359778">(Dec 09 2021 at 20:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages/near/264273528">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="307537">Noah Lev</span> <a href="#narrow/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages/near/264238154">said</a>:</p>
<blockquote>
<p>I definitely see the value of jump-to-definition—I've used it a bit on the rustc docs myself—but it does add a decent amount of code to rustdoc.</p>
</blockquote>
<p>I guess it depends what you call a decent amount of code:</p>
<div class="codehilite"><pre><span></span><code>https://github.com/rust-lang/rust/blob/master/src/librustdoc/html/render/span_map.rs (which is basically a visitor gathering span)
https://github.com/rust-lang/rust/blob/master/src/librustdoc/html/highlight.rs#L725-L753 (for generating links)
</code></pre></div>

<p>It's way under 300 lines (I counted the doc comments but excluded the tests). ;)</p>
</blockquote>
<p>The original PR (<a href="https://github.com/rust-lang/rust/issues/84176">#84176</a>) was <code>+707 -131</code> lines; I think it changed a lot of other files.</p>



<a name="264361002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264361002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264361002">(Dec 09 2021 at 20:23)</a>:</h4>
<p>I cheated a bit: I updated the higlighter to pass the span map and updated some other places to allow it to work with the current code. A big part of this diff comes from tests and docs too. But if there is a bug in this feature, they are the two places you have to look at.</p>



<a name="264361075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264361075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264361075">(Dec 09 2021 at 20:24)</a>:</h4>
<p>I only took into account what was needed in case you needed to update something related to this feature.</p>



<a name="264377981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/264377981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#264377981">(Dec 09 2021 at 22:40)</a>:</h4>
<p>I updated the RFC. To make things simpler, I created a PR to my own repository so the comments aren't lost whenever I update: <a href="https://github.com/GuillaumeGomez/rfcs/pull/1">https://github.com/GuillaumeGomez/rfcs/pull/1</a></p>
<p>I left some comments in the document where I'm unsure of something. I hopefully didn't forget to fix any of Joshua's comments (when I reloaded the page of the previous commit, they disappeared...).</p>



<a name="266787929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/doc%20link%20on%20source%20pages/near/266787929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/doc.20link.20on.20source.20pages.html#266787929">(Jan 04 2022 at 09:48)</a>:</h4>
<p>Little ping in here (happy new year everyone!).</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>