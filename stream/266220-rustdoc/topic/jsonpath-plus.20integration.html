<html>
<head><meta charset="utf-8"><title>jsonpath-plus integration · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html">jsonpath-plus integration</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="272626436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272626436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272626436">(Feb 21 2022 at 00:10)</a>:</h4>
<p><span class="user-mention" data-user-id="319144">@CraftSpider</span> What needs to happen to replace <code>jsonpath_lib</code> with <code>jsonpath_plus</code> for <code>jsondocck</code>?</p>
<p>I want to write something like <code>"$.index[*][?(@.inner.for.inner=='u8')].id"</code>, but that currently isn't supported (<a href="https://github.com/freestrings/jsonpath/issues/91">issue</a>). How much work would it be to use your jsonpath engine? How close to being ready is it? Is it worth doing before <code>jsondocckng</code> (<a href="#narrow/stream/266220-rustdoc/topic/JSON.20tests.20in.20rust">https://rust-lang.zulipchat.com/#narrow/stream/266220-rustdoc/topic/JSON.20tests.20in.20rust</a>)</p>



<a name="272626878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272626878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CraftSpider <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272626878">(Feb 21 2022 at 00:19)</a>:</h4>
<p>My implementation doesn't require the intermediate <code>[*]</code>, as is.</p>



<a name="272626978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272626978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CraftSpider <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272626978">(Feb 21 2022 at 00:20)</a>:</h4>
<p>Per the json-path-comparison repo, my implementation tends to be more compliant when it comes to wildcard and filter behavior than the existing one, and in general I think not requiring the intermediate <code>[*]</code> is the more correct way, but I may be wrong.</p>



<a name="272627000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272627000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CraftSpider <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272627000">(Feb 21 2022 at 00:21)</a>:</h4>
<p>Just find-replacing to remove it makes most tests pass in my experience</p>



<a name="272627476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272627476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CraftSpider <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272627476">(Feb 21 2022 at 00:31)</a>:</h4>
<p>The difference is whether you interpret a filter on an object as acting on the object or its children. I say the children, as that's how all other selectors seem to work, and I think how it works on an array even in lib. The lib implementation says it instead acts on the current object itself, so requires the wildcard to first select all children to act upon, which I think is an odd interpretation.</p>



<a name="272628701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272628701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272628701">(Feb 21 2022 at 00:57)</a>:</h4>
<p>So switching to your implementation would require rewriting all the tests?</p>



<a name="272628713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272628713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272628713">(Feb 21 2022 at 00:57)</a>:</h4>
<p>Most of which can be done easily, but not all?</p>



<a name="272629548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272629548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CraftSpider <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272629548">(Feb 21 2022 at 01:12)</a>:</h4>
<p>I think even odd ones out are still 'easy', but yes it's a lot of churn. The primary advantage of my impl is that it would allow us to start testing things to current impl can't express, but so will ng. Basically, I don't think it's worth it if you think ng will be done soon</p>



<a name="272629581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272629581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CraftSpider <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272629581">(Feb 21 2022 at 01:13)</a>:</h4>
<p>I'd rather focus on one churn than two, I was primarily considering the one because I was still thinking of it as just a one-time switch to something better, which NG is even better than that.</p>



<a name="272629723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272629723" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> CraftSpider <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272629723">(Feb 21 2022 at 01:16)</a>:</h4>
<p>Kind of sad to say 'the reason I wrote this thing has become pointless', but hey, at least my implementation may be useful for other people :P</p>



<a name="272753291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/jsonpath-plus%20integration/near/272753291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/jsonpath-plus.20integration.html#272753291">(Feb 22 2022 at 02:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="319144">CraftSpider</span> <a href="#narrow/stream/266220-rustdoc/topic/jsonpath-plus.20integration/near/272629723">said</a>:</p>
<blockquote>
<p>Kind of sad to say 'the reason I wrote this thing has become pointless', but hey, at least my implementation may be useful for other people :P</p>
</blockquote>
<p>It's good to explore the solution space :)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>