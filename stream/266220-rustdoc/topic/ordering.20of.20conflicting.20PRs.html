<html>
<head><meta charset="utf-8"><title>ordering of conflicting PRs · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html">ordering of conflicting PRs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="268315696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268315696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268315696">(Jan 17 2022 at 21:12)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> thanks for all the reviews! Now I have three approved PRs in the queue that all have to touch the toggle-docs-mobile GUI test:</p>
<p><a href="https://github.com/rust-lang/rust/pull/92797/files#diff-b61c4ed850154129faa0917b2ad1e16e45105a7afcb781fa3ac35b6d647ad557">https://github.com/rust-lang/rust/pull/92797/files#diff-b61c4ed850154129faa0917b2ad1e16e45105a7afcb781fa3ac35b6d647ad557</a><br>
<a href="https://github.com/rust-lang/rust/pull/92629/files#diff-b61c4ed850154129faa0917b2ad1e16e45105a7afcb781fa3ac35b6d647ad557">https://github.com/rust-lang/rust/pull/92629/files#diff-b61c4ed850154129faa0917b2ad1e16e45105a7afcb781fa3ac35b6d647ad557</a><br>
<a href="https://github.com/rust-lang/rust/pull/92797/files#diff-b61c4ed850154129faa0917b2ad1e16e45105a7afcb781fa3ac35b6d647ad557">https://github.com/rust-lang/rust/pull/92797/files#diff-b61c4ed850154129faa0917b2ad1e16e45105a7afcb781fa3ac35b6d647ad557</a></p>
<p>The issue is that these are all slightly modifying the top of the page on mobile, and the toggle-docs-mobile test expects to click on a very specific pixel to hit the expand/collapse toggle (I tried to find a better way to do that, but document.querySelectorAll won't less us select the <code>::before</code> pseudo-element).</p>
<p>What's the best way to arrange these so they don't conflict?</p>



<a name="268315717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268315717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268315717">(Jan 17 2022 at 21:12)</a>:</h4>
<p>Bigger to smaller?</p>



<a name="268315729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268315729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268315729">(Jan 17 2022 at 21:12)</a>:</h4>
<p>*biggest to smallest?</p>



<a name="268315733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268315733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268315733">(Jan 17 2022 at 21:13)</a>:</h4>
<p>(not sure the correct wording)</p>



<a name="268315763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268315763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268315763">(Jan 17 2022 at 21:13)</a>:</h4>
<p>ok! so I should r- two of them, then patch them once the others land?</p>



<a name="268315851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268315851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268315851">(Jan 17 2022 at 21:14)</a>:</h4>
<p>ah, on second look it's maybe only two that conflict with each other - I double-counted one of the PRs in the list above</p>



<a name="268315862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268315862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268315862">(Jan 17 2022 at 21:15)</a>:</h4>
<p>(biggest to smallest)</p>



<a name="268315974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268315974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268315974">(Jan 17 2022 at 21:16)</a>:</h4>
<p>If you want to be sure of the order, you can r- them. Or you can create a rollup of your own? (you can do it on <a href="http://bors.rust-lang.org">bors.rust-lang.org</a>, it doesn't require any special right)</p>



<a name="268315996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268315996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268315996">(Jan 17 2022 at 21:16)</a>:</h4>
<p>Otherwise you can let luck decide of the order and fix the merge conflicts as they come</p>



<a name="268316171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268316171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268316171">(Jan 17 2022 at 21:20)</a>:</h4>
<p>I r-'ed <a href="https://github.com/rust-lang/rust/pull/92797">https://github.com/rust-lang/rust/pull/92797</a> for now. I don't feel confident about the mechanism and ettiquette of doing rollup PRs, particularly given the queue is pretty long right now and I don't want to step on toes.</p>



<a name="268316689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268316689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268316689">(Jan 17 2022 at 21:27)</a>:</h4>
<p>I can go through with you if you want. It's really simple ;)</p>



<a name="268316745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268316745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268316745">(Jan 17 2022 at 21:28)</a>:</h4>
<p>I can explain it to you? (maybe this formulation is better haha)</p>



<a name="268316917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268316917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268316917">(Jan 17 2022 at 21:31)</a>:</h4>
<p>Well, I went to <a href="https://bors.rust-lang.org/queue/rust">https://bors.rust-lang.org/queue/rust</a> and clicked "Create a rollup". It shows me:</p>
<blockquote>
<p>A rollup is useful for shortening the queue, but jumping the queue is unfair to older PRs who have waited too long.</p>
</blockquote>
<p>But I don't know how to evaluate what would consist of "jumping the queue".</p>



<a name="268317048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268317048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268317048">(Jan 17 2022 at 21:33)</a>:</h4>
<p>Well, generally you include a few other PRs alongside yours so PRs are merged faster for everyone.</p>



<a name="268317110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268317110" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268317110">(Jan 17 2022 at 21:34)</a>:</h4>
<p>right - I would assume any time I generate a rollup I would roll up all eligible PRs. Is that not the case?</p>



<a name="268317135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268317135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268317135">(Jan 17 2022 at 21:35)</a>:</h4>
<p>also I assume from context that rollup PRs get higher priority than other PRs?</p>



<a name="268317555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268317555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268317555">(Jan 17 2022 at 21:42)</a>:</h4>
<p>You're not forced to. It's just better, even more when there are a lot of PRs in the queue.</p>



<a name="268317586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268317586" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268317586">(Jan 17 2022 at 21:43)</a>:</h4>
<p>By default yes. I set the priority to the number of PRs it contains. So if I create a rollup of 7 PRs, I set <code>p=7</code>.</p>



<a name="268318084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268318084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268318084">(Jan 17 2022 at 21:51)</a>:</h4>
<p>lol, the more detailed docs at <a href="https://forge.rust-lang.org/release/rollups.html">https://forge.rust-lang.org/release/rollups.html</a> say "the text about fairness can be ignored" <span aria-label="sob" class="emoji emoji-1f62d" role="img" title="sob">:sob:</span></p>



<a name="268318210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ordering%20of%20conflicting%20PRs/near/268318210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ordering.20of.20conflicting.20PRs.html#268318210">(Jan 17 2022 at 21:52)</a>:</h4>
<p>Yes, iirc we had some "competitions" between rollups at some point ^^'</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>