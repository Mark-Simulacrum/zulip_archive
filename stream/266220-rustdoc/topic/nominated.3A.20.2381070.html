<html>
<head><meta charset="utf-8"><title>nominated: #81070 · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html">nominated: #81070</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="229056949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/229056949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#229056949">(Mar 06 2021 at 02:39)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3925">@T-rustdoc</span> issue <a href="https://github.com/rust-lang/rust/issues/81070">#81070</a> "Incorrect span used for doctests defined using <code>#[doc(include)]</code> or <code>#[doc = include_str!("...")]</code>" has been nominated for <code>T-rustdoc</code> discussion.</p>



<a name="229056951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/229056951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#229056951">(Mar 06 2021 at 02:39)</a>:</h4>
<p>It works! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="229056960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/229056960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#229056960">(Mar 06 2021 at 02:39)</a>:</h4>
<p>Although for some reason I had to add <code>T-rustdoc</code> and <code>I-nominated</code> in the same label change for it to work. Probably a triagebot bug.</p>



<a name="229057045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/229057045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#229057045">(Mar 06 2021 at 02:40)</a>:</h4>
<p>I nominated this because I think we should decide whether we want the source location to be based on the position of the <code>doc(include)</code>/<code>doc=include_str!</code> or based on the position in the included file. Then once we decide which location it should use we should fix the bugs.</p>



<a name="229057134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/229057134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#229057134">(Mar 06 2021 at 02:42)</a>:</h4>
<p>Like the OP, I think I lean towards using the position in the included file, though I'm not sure how feasible that would be for <code>doc=include_str!</code> since IIUC the macro expansion happens before rustdoc runs.</p>



<a name="231582119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/231582119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#231582119">(Mar 24 2021 at 04:19)</a>:</h4>
<p>using the place in the included file seems fine</p>



<a name="236497867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236497867" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236497867">(Apr 28 2021 at 12:31)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3925">@T-rustdoc</span> issue <a href="https://github.com/rust-lang/rust/issues/81070">#81070</a> "Incorrect span used for doctests defined using <code>#[doc(include)]</code> or <code>#[doc = include_str!("...")]</code>" has been nominated for <code>T-rustdoc</code> discussion.</p>



<a name="236517993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236517993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236517993">(Apr 28 2021 at 14:38)</a>:</h4>
<p><span class="user-mention" data-user-id="307537">@Camelid</span> I think triagebot has a bug, it should only have pinged once</p>



<a name="236518035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236518035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236518035">(Apr 28 2021 at 14:38)</a>:</h4>
<p>Can you turn off the ping until it's fixed to avoid spam?</p>



<a name="236518259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236518259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236518259">(Apr 28 2021 at 14:40)</a>:</h4>
<p>Oh it's because <span class="user-mention" data-user-id="250987">@apiraino</span> added T-rustdoc</p>



<a name="236518431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236518431" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236518431">(Apr 28 2021 at 14:41)</a>:</h4>
<p><span class="user-mention" data-user-id="132040">@Manish Goregaokar</span> are you sure the second label is worth it? If we run into another place where rustdoc should be consulted but not involved in the FCP we can just remove the label temporarily</p>



<a name="236518658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236518658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236518658">(Apr 28 2021 at 14:42)</a>:</h4>
<p>yes it was me. I thought the issue should have that label but <span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> instructed me that from now the rustdoc team will prefer <code>A-rustdoc</code> when the issue/pr does not need to be discussed by the whole team (iiuc)</p>



<a name="236527198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236527198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236527198">(Apr 28 2021 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> only one of the labels should ping imo</p>



<a name="236530852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236530852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236530852">(Apr 28 2021 at 15:45)</a>:</h4>
<p>Right yes, this happened because all the T-rustdoc labels got switched to A-rustdoc and then <span class="user-mention silent" data-user-id="250987">apiraino</span> added back T-rustdoc.</p>



<a name="236531005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236531005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236531005">(Apr 28 2021 at 15:46)</a>:</h4>
<p>I think it's confusing to have both</p>



<a name="236532709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236532709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236532709">(Apr 28 2021 at 15:57)</a>:</h4>
<p>I can revert my change, ofc (I did the wrong)</p>



<a name="236541005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236541005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236541005">(Apr 28 2021 at 16:49)</a>:</h4>
<p><span class="user-mention" data-user-id="250987">@apiraino</span> nah I think it's fine</p>



<a name="236740293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236740293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236740293">(Apr 29 2021 at 20:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/nominated.3A.20.2381070/near/236518431">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="132040">Manish Goregaokar</span> are you sure the second label is worth it? If we run into another place where rustdoc should be consulted but not involved in the FCP we can just remove the label temporarily</p>
</blockquote>
<p>Yeah, I think it's confusing to have two labels, especially since other teams only use one. I've also noticed people labeling issues with <code>T-rustdoc</code> because that's what we always used to do.</p>



<a name="236740375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236740375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236740375">(Apr 29 2021 at 20:32)</a>:</h4>
<p>We could also consider keeping <code>A-rustdoc</code> but only using it for triaging PRs that had it automatically added.</p>



<a name="236740414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236740414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236740414">(Apr 29 2021 at 20:32)</a>:</h4>
<p>But I think we should only have one human-applied label.</p>



<a name="236754741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236754741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236754741">(Apr 29 2021 at 22:06)</a>:</h4>
<p><span class="user-mention" data-user-id="307537">@Camelid</span> I think that label should be A-rustdoc and we use T-rustdoc when we need robots to do the thing</p>



<a name="236754787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236754787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236754787">(Apr 29 2021 at 22:06)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> all the other teams handle this this way</p>



<a name="236754796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236754796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236754796">(Apr 29 2021 at 22:06)</a>:</h4>
<p>i'm unclear why it's broken for us</p>



<a name="236755685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236755685" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236755685">(Apr 29 2021 at 22:15)</a>:</h4>
<p>The core issue is that we've been using the tool wrong for ages, and if we ever want to autolabel our PRs, this will be a problem</p>



<a name="236769163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236769163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236769163">(Apr 30 2021 at 00:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="132040">Manish Goregaokar</span> <a href="#narrow/stream/266220-rustdoc/topic/nominated.3A.20.2381070/near/236754787">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> all the other teams handle this this way</p>
</blockquote>
<p>I don't think they do? there's no A-compiler label or anything like that</p>



<a name="236776350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/236776350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#236776350">(Apr 30 2021 at 02:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="132040">Manish Goregaokar</span> <a href="#narrow/stream/266220-rustdoc/topic/nominated.3A.20.2381070/near/236754741">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="307537">Camelid</span> I think that label should be A-rustdoc and we use T-rustdoc when we need robots to do the thing</p>
</blockquote>
<p>Yeah, other teams use <code>T-</code>: <code>T-compiler</code>, <code>T-libs</code>, <code>T-libs-impl</code></p>
<p>Clippy and Rustfmt use <code>A-</code> labels, but they're out of tree, whereas (currently) rustdoc is in-tree.</p>



<a name="237898568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/237898568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#237898568">(May 07 2021 at 22:18)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3925">@T-rustdoc</span> issue <a href="https://github.com/rust-lang/rust/issues/81070">#81070</a> "Incorrect span used for doctests defined using <code>#[doc(include)]</code> or <code>#[doc = include_str!("...")]</code>" has been nominated for <code>T-rustdoc</code> discussion.</p>



<a name="237898614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/237898614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#237898614">(May 07 2021 at 22:19)</a>:</h4>
<p>Sorry for the ping; I just re-added <code>T-rustdoc</code> to the issue because this is a decision concerning the team, which is <em>I think</em> what <code>T-rustdoc</code> is for :)</p>



<a name="237898623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/237898623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#237898623">(May 07 2021 at 22:19)</a>:</h4>
<p>(I kept <code>A-rustdoc</code> too.)</p>



<a name="237898823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/237898823" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#237898823">(May 07 2021 at 22:21)</a>:</h4>
<p>There was some discussion here before regarding <code>A-rustdoc</code> vs <code>T-rustdoc</code> which I moved into its own topic as it's not related to this nominated issue: <a href="#narrow/stream/266220-rustdoc/topic/A-rustdoc.20vs.20T-rustdoc">https://rust-lang.zulipchat.com/#narrow/stream/266220-rustdoc/topic/A-rustdoc.20vs.20T-rustdoc</a></p>



<a name="244457239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/244457239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#244457239">(Jun 30 2021 at 17:12)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3925">@T-rustdoc</span> this issue still looks <code>I-nominated</code> but I've lost track if it was actually discussed or not :-)</p>



<a name="244470047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/nominated%3A%20%2381070/near/244470047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/nominated.3A.20.2381070.html#244470047">(Jun 30 2021 at 18:43)</a>:</h4>
<p>It wasn't as far as I know</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>