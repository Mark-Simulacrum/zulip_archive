<html>
<head><meta charset="utf-8"><title>word wrapping method signatures · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/word.20wrapping.20method.20signatures.html">word wrapping method signatures</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="270140800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/word%20wrapping%20method%20signatures/near/270140800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/word.20wrapping.20method.20signatures.html#270140800">(Feb 01 2022 at 02:18)</a>:</h4>
<p>One thing that's bugged me for a while on our mobile UI is how awkwardly method signatures wrap on mobile:</p>
<p><a href="/user_uploads/4715/CkjkshJliVL_bWmkI18g8ND9/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/CkjkshJliVL_bWmkI18g8ND9/image.png" title="image.png"><img src="/user_uploads/4715/CkjkshJliVL_bWmkI18g8ND9/image.png"></a></div><p>We have some code that "manually" wraps a method signature at 80 characters, but that's no help when the display is narrower than 80 characters. It would be great if we could convince the browser to break at more appropriate places.</p>
<p>For instance, in that example we wrapped _between_ the <code>-</code> and <code>&gt;</code> of a return arrow, which is just awful. I think we can avoid that by inserting the Word Joiner character between them: <a href="https://en.wikipedia.org/wiki/Word_joiner">https://en.wikipedia.org/wiki/Word_joiner</a>. And more generally, between punctuation that should stay grouped, like the <code>&amp;</code> and <code>[</code> in <code>&amp;[u16]</code>.</p>
<p>Also, between a parameter name and the parameter type, we could insert an nbsp. So like <code>v:&amp;nbsp;&amp;[u16]</code>. That would hopefully convince the browser to preferentially break after the comma rather than between a parameter and its type.</p>



<a name="270145016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/word%20wrapping%20method%20signatures/near/270145016" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/word.20wrapping.20method.20signatures.html#270145016">(Feb 01 2022 at 03:15)</a>:</h4>
<p>(We need TeX boxes-and-glue in the browser <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>)</p>



<a name="270146357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/word%20wrapping%20method%20signatures/near/270146357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/word.20wrapping.20method.20signatures.html#270146357">(Feb 01 2022 at 03:34)</a>:</h4>
<p>I haven't been able to find any good resources on what the browser considers break, but I made a small test page to check some possibilities. It seems like most punctuation sandwiched between letters is not considered breakable, but <code>-</code> is, and <code>&amp;[</code> is. Interestingly, <code>foo(bar</code> is not! But that's one of the places we'd most like to be able to break, right at the beginning of a function. That's an easy win, placing a <code>&lt;wbr&gt;</code> there.</p>
<p><a href="/user_uploads/4715/l_F2aqqdUECz8R8t4nm_zwjD/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/l_F2aqqdUECz8R8t4nm_zwjD/image.png" title="image.png"><img src="/user_uploads/4715/l_F2aqqdUECz8R8t4nm_zwjD/image.png"></a></div>



<a name="270163586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/word%20wrapping%20method%20signatures/near/270163586" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/word.20wrapping.20method.20signatures.html#270163586">(Feb 01 2022 at 07:35)</a>:</h4>
<p>We can make <code>-&gt;</code> non-breakable by putting U+2060 between the characters. I tried this and it works wonderfully.</p>
<p>Unfortunately I think realized we can't actually use it, because if you copy-paste it winds up in the paste buffer. Basically we'd have a repeat of <a href="https://github.com/rust-lang/rust/issues/16555">https://github.com/rust-lang/rust/issues/16555</a>, but with U+2060 Word Joiner instead of U+200B Zero Width Space. For <a href="https://github.com/rust-lang/rust/issues/16555">#16555</a> there was a nice HTML tag available that doesn't have the copy-paste problem. I think there's no HTML tag equivalent for Word Joiner but I'd love to find out I'm wrong.</p>



<a name="270163830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/word%20wrapping%20method%20signatures/near/270163830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/word.20wrapping.20method.20signatures.html#270163830">(Feb 01 2022 at 07:39)</a>:</h4>
<p>Ooh! If we wrap <code>-&gt;</code> in a span, and give that span <code>white-space: nowrap</code>, it will work.</p>



<a name="270233106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/word%20wrapping%20method%20signatures/near/270233106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/word.20wrapping.20method.20signatures.html#270233106">(Feb 01 2022 at 15:49)</a>:</h4>
<p>I was about to suggest putting <code>-&gt;</code> in a span but I arrived too late :p</p>



<a name="270612085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/word%20wrapping%20method%20signatures/near/270612085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/word.20wrapping.20method.20signatures.html#270612085">(Feb 03 2022 at 20:24)</a>:</h4>
<p>Btw, have you tried your test page in multiple browsers? Some may have different rules</p>



<a name="270612268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/word%20wrapping%20method%20signatures/near/270612268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/word.20wrapping.20method.20signatures.html#270612268">(Feb 03 2022 at 20:25)</a>:</h4>
<p>I tried it in Firefox and Chrome, but yeah I should also try Safari</p>



<a name="270612426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/word%20wrapping%20method%20signatures/near/270612426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/word.20wrapping.20method.20signatures.html#270612426">(Feb 03 2022 at 20:26)</a>:</h4>
<p>Also a friend pointed out that line breaking behavior is specified by Unicode: <a href="https://unicode.org/reports/tr14/#Hyphen">https://unicode.org/reports/tr14/#Hyphen</a></p>
<p>And Gecko uses this crate to figure it out: <a href="https://github.com/axelf4/unicode-linebreak/blob/master/LineBreak.txt#L67">https://github.com/axelf4/unicode-linebreak/blob/master/LineBreak.txt#L67</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>