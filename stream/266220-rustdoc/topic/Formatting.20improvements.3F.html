<html>
<head><meta charset="utf-8"><title>Formatting improvements? ¬∑ rustdoc ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html">Formatting improvements?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="268210772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268210772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268210772">(Jan 16 2022 at 22:32)</a>:</h4>
<p>I recently saw a <a href="https://twitter.com/ITStudiosi/status/1477637739080261638">twitter thread</a> complaining about rust docs. The original tweeter was very aggressive and non-constructive in his criticism, but he did post a screenshot that got me thinking that some tweaks to the HTML formatting could make docs easier to read.</p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/ITStudiosi/status/1477637739080261638"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/5c2b1dc8f66f281a53f407cb685ef5483f122ca7/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313434333830353434373637333332373632332f73327843343744435f6e6f726d616c2e6a7067"></a><p>Hint: I hate <a href="https://twitter.com/rustlang">@rustlang</a> documentation</p><span>- üè¥‚Äç‚ò†Ô∏èüá™üá∫David Gil de G√≥mez (@ITStudiosi)</span></div></div>



<a name="268210782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268210782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268210782">(Jan 16 2022 at 22:32)</a>:</h4>
<p><a href="/user_uploads/4715/-on0-hYDseeIxNVRVQeDJkj5/rustdoc.jpg">rustdoc.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/-on0-hYDseeIxNVRVQeDJkj5/rustdoc.jpg" title="rustdoc.jpg"><img src="/user_uploads/4715/-on0-hYDseeIxNVRVQeDJkj5/rustdoc.jpg"></a></div>



<a name="268210990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268210990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268210990">(Jan 16 2022 at 22:38)</a>:</h4>
<p>Possible areas for improvement.</p>
<ul>
<li>All the vertical gaps are the same: between <code>impl</code> sections, between functions, which makes it hard to see where one <code>impl</code> section ends and another begins.</li>
<li>Big gap between <code>[-]</code> and <code>fn</code>. This provides space for the <code>¬ß</code> symbol to be added when hovering. But there's only ever zero or one <code>¬ß</code> symbols being shown, so it's unfortunate the big gap is present on every entry.</li>
<li>Function description text is indented less than the type signature.</li>
</ul>



<a name="268211011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268211011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268211011">(Jan 16 2022 at 22:39)</a>:</h4>
<p>Possible solutions:</p>
<ul>
<li>More space (or even a horizontal line) between <code>impl</code> sections</li>
</ul>



<a name="268211018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268211018" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268211018">(Jan 16 2022 at 22:39)</a>:</h4>
<ul>
<li>swap position of the <code>[-]</code> and the <code>¬ß</code> slot</li>
</ul>



<a name="268211061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268211061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Urgau <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268211061">(Jan 16 2022 at 22:40)</a>:</h4>
<p>For reference this is the current (as of 1.58) docs for <code>Map</code>:<br>
<a href="/user_uploads/4715/1dk3k7pZzU1t9W_KJO_21UKm/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/1dk3k7pZzU1t9W_KJO_21UKm/image.png" title="image.png"><img src="/user_uploads/4715/1dk3k7pZzU1t9W_KJO_21UKm/image.png"></a></div>



<a name="268211070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268211070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268211070">(Jan 16 2022 at 22:41)</a>:</h4>
<p>Would people be open to these kinds of changes? I have no idea how finely honed the current formatting is, if the current formatting is the result of a lot of discussion or not</p>



<a name="268211153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268211153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268211153">(Jan 16 2022 at 22:43)</a>:</h4>
<p><span class="user-mention" data-user-id="327095">@Urgau</span> Good point. So the <code>¬ß</code> spacing issue is no longer a problem. But the boundaries between <code>impl</code> sections are even harder to see, because functions within <code>impl</code>s are no longer indented</p>



<a name="268211218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268211218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268211218">(Jan 16 2022 at 22:44)</a>:</h4>
<p>I see the <code>impl</code> line is a slightly larger font than the <code>fn</code> lines, but that's a very subtle way to mark the sections. A bit of vertical space between <code>impl</code> sections would really help</p>



<a name="268211246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268211246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268211246">(Jan 16 2022 at 22:45)</a>:</h4>
<p>I miss the indenting, too; I found that helpful to understand what the effect of folding would be</p>



<a name="268211795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268211795" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268211795">(Jan 16 2022 at 22:58)</a>:</h4>
<p><span class="user-mention" data-user-id="120989">@nnethercote</span> I like the idea of increasing vertical space between <code>impl</code> blocks! I also have a PR out to increase spacing between methods: <a href="https://github.com/rust-lang/rust/pull/92651">https://github.com/rust-lang/rust/pull/92651</a>. </p>
<p>I have heard a lot of critique that rustdoc is "too noisy," and I tend to agree. There's a great post from 2019 laying out some of the critique in detail, plus linked issues: <a href="https://github.com/rust-lang/rust/issues/59829">https://github.com/rust-lang/rust/issues/59829</a>. I've been working on some of those. I'd love additional collaboration!</p>



<a name="268212059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268212059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268212059">(Jan 16 2022 at 23:03)</a>:</h4>
<p>For indent of <code>impl</code> blocks vs methods: I'm actually the one who removed that, in <a href="https://github.com/rust-lang/rust/pull/90155">https://github.com/rust-lang/rust/pull/90155</a>. You can see from the before/after the problem I was trying to solve: methods weren't standing out enough from their bodies, because we "split the difference" on the indent for <code>impl</code> and <code>fn</code> respectively. <code>impl</code> blocks would get a 15px indent and <code>fn</code> blocks would get a 7px indent. Our standard indent is 24px.</p>
<p>The other approach here would be to indent <code>impl</code> blocks by 24px, and <code>fn</code> blocks by another 24px. But I think that's less preferable. Many types have only one or a few impls. Indenting the whole page by an extra 24px because everything is nested under an impl seems wasteful. I much prefer your idea of doubling down on font sizes and spacing.</p>
<p>Another thing that runs us into trouble: our biggest heading size (<code>h1</code>) is only 1.5em. The default size of an <code>h1</code> on an unstyled web page is 2em. If we let our <code>h1</code> be bigger, our other headings can be bigger too. Which gives us more room to distinguish <code>impl</code> headings by size.</p>



<a name="268212261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268212261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268212261">(Jan 16 2022 at 23:07)</a>:</h4>
<p>Also, I think a lot of the critique revolves around the <code>[-]</code> / <code>[+]</code> controls. I would really like to find something better to do with them. I think the best thing is actually to hide them when not in use. The idea is that people are unlikely to go through clicking to collapse each individual toggle, but they _are_ likely to hit the "collapse all" button (or use the "collapse all" settings, or use the keyboard shortcut). Once things are collapsed, it makes sense to show the toggles. I presented a demo of this some months ago but didn't have the time and energy to spend convincing people it was the right way to go. <a href="https://github.com/rust-lang/rust/pull/86154">https://github.com/rust-lang/rust/pull/86154</a></p>
<p>Anyhow, please dive in and help prototype some design fixes! Happy to help you get to know the codebase if you don't already. I'm heading out for a walk but will be back online this evening Pacific Time.</p>



<a name="268212538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268212538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268212538">(Jan 16 2022 at 23:13)</a>:</h4>
<p>Here's a rough cut of removing the toggles, increasing the spacing, and increasing the <code>impl</code> font size:</p>
<p><a href="/user_uploads/4715/lNvJhTdyMbNd-K1DLd3cyp7s/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/lNvJhTdyMbNd-K1DLd3cyp7s/image.png" title="image.png"><img src="/user_uploads/4715/lNvJhTdyMbNd-K1DLd3cyp7s/image.png"></a></div>



<a name="268212551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268212551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268212551">(Jan 16 2022 at 23:13)</a>:</h4>
<p><a href="/user_uploads/4715/6aWdZ-3LESjlr4RWXw4ir8Sh/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/6aWdZ-3LESjlr4RWXw4ir8Sh/image.png" title="image.png"><img src="/user_uploads/4715/6aWdZ-3LESjlr4RWXw4ir8Sh/image.png"></a></div>



<a name="268212711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268212711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268212711">(Jan 16 2022 at 23:16)</a>:</h4>
<p>@jsha I'm ambivalent about removing the folding controls, but I <strong>love</strong> the increased <code>impl</code> font size and vertical spacing in that second screenshot <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="268212743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268212743" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Urgau <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268212743">(Jan 16 2022 at 23:17)</a>:</h4>
<p>Whao! That looks so clean, much better that the current layout. <span aria-label="heart eyes" class="emoji emoji-1f60d" role="img" title="heart eyes">:heart_eyes:</span></p>



<a name="268212805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268212805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Urgau <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268212805">(Jan 16 2022 at 23:18)</a>:</h4>
<p>The only nit I have is that the spacing between the <code>impl</code>s look "to much" (out of the place).</p>



<a name="268213727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268213727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268213727">(Jan 16 2022 at 23:40)</a>:</h4>
<p>I think the spacing between <code>impls</code> is good, but the spacing after the "Trait Implementations" heading is possibly too big</p>



<a name="268223107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268223107" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268223107">(Jan 17 2022 at 03:06)</a>:</h4>
<p>the other thing I thought of after I stepped away: really our expand/collapse controls should have two different modes:</p>
<ul>
<li>for methods (i.e. intrinsic implementations), the expand/collapse should be on the individual methods.</li>
<li>for trait implementations, the expand/collapse should be on the <code>impl</code>.</li>
</ul>
<p>That way we avoid a lot of the noisiness inherent in having many levels of expand/collapse controls close to each other.</p>



<a name="268314688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268314688" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268314688">(Jan 17 2022 at 20:58)</a>:</h4>
<p><span class="user-mention" data-user-id="120989">@nnethercote</span> <span class="user-mention" data-user-id="327095">@Urgau</span> what do you think of this?</p>
<p><a href="https://rustdoc.crud.net/jsha/space-impls/std/string/struct.String.html#blanket-implementations">https://rustdoc.crud.net/jsha/space-impls/std/string/struct.String.html#blanket-implementations</a><br>
<a href="https://rustdoc.crud.net/jsha/space-impls/std/vec/struct.Vec.html#trait-implementations">https://rustdoc.crud.net/jsha/space-impls/std/vec/struct.Vec.html#trait-implementations</a><br>
<a href="https://rustdoc.crud.net/jsha/space-impls/std/iter/struct.Map.html#trait-implementations">https://rustdoc.crud.net/jsha/space-impls/std/iter/struct.Map.html#trait-implementations</a></p>



<a name="268314913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268314913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268314913">(Jan 17 2022 at 21:01)</a>:</h4>
<p><a href="https://github.com/jsha/rust/pull/new/space-impls">https://github.com/jsha/rust/pull/new/space-impls</a></p>



<a name="268316880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268316880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268316880">(Jan 17 2022 at 21:30)</a>:</h4>
<p>@jsha: the vertical spaces are lovely. I'm undecided about the folding changes... less noise on the left is nice, but for some impls with lots of methods only being able to fold the entire impl worries me a bit, e.g. <code>impl&lt;B, I, F&gt; Iterator for Map&lt;I, F&gt;</code></p>



<a name="268316907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268316907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268316907">(Jan 17 2022 at 21:30)</a>:</h4>
<p>Also, for <code>String</code> and <code>Vec</code> the "Trait implementations" and "Blanket implementations" methods are missing their text descriptions...</p>



<a name="268316945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268316945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268316945">(Jan 17 2022 at 21:31)</a>:</h4>
<p>Out of curiosity - do you often fold up individual methods as you're reading a doc?</p>



<a name="268317006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268317006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268317006">(Jan 17 2022 at 21:32)</a>:</h4>
<blockquote>
<p>Also, for String and Vec the "Trait implementations" and "Blanket implementations" methods are missing their text descriptions...</p>
</blockquote>
<p>I don't understand this.</p>



<a name="268317055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268317055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268317055">(Jan 17 2022 at 21:33)</a>:</h4>
<p>For <code>impl ... Iterator for Map...</code>: the content below each method is only one line long, so it's not that helpful to be able to individually fold the methods.</p>



<a name="268317112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268317112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Urgau <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268317112">(Jan 17 2022 at 21:34)</a>:</h4>
<p>Pretty good, I would prefer if the <code>impl</code> block was a little bit smaller ("1.1rem" instead of "1.2rem") but otherwise I love it.</p>



<a name="268317262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268317262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268317262">(Jan 17 2022 at 21:37)</a>:</h4>
<p>I swear the text descriptions were missing, but now they're back. Hmm, forget about that one <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="268317676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268317676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268317676">(Jan 17 2022 at 21:44)</a>:</h4>
<p>As for the folding... my most common use case is to fold everything and then skim the methods list, unfolding and refolding individual methods one at a time. With your change the way folding works in the "Implementations" and "Methods from..." sections is different to how it works in the "Trait Implementations" and "Auto Trait Implementations" and "Blanket Implementations" sections. The inconsistency is a concern. Often those latter impls are small, but sometimes they're not, e.g. <code>impl ... Iterator for Map...</code>. You say for that example that the text is only a line long, but that's still a lot of extra text when scanning through it.</p>



<a name="268317911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268317911" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268317911">(Jan 17 2022 at 21:48)</a>:</h4>
<p>Aha, I've worked out the missing text mystery. If I use the mouse to fold/unfold, things work fine. If I use the '-' key to fold everything and then use the mouse to unfold individual traits, the method text goes missing. This is in Firefox 96</p>



<a name="268317933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268317933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268317933">(Jan 17 2022 at 21:49)</a>:</h4>
<p>Ah now I see what you're saying. Yep, that's a bug in this demo that I'd need to fix.</p>



<a name="268317942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268317942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268317942">(Jan 17 2022 at 21:49)</a>:</h4>
<p>What about the use case when nothing is folded (i.e. the default view)? Is it important to you that there be lots of <code>[-]</code> buttons in the default view?</p>



<a name="268318135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318135">(Jan 17 2022 at 21:52)</a>:</h4>
<p>Probably not. "Shrink everything and then selectively unfold/refold" is my most common case, for sure.</p>



<a name="268318233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318233">(Jan 17 2022 at 21:52)</a>:</h4>
<p>Hmm, I see already that "fold everything" doesn't actually fold everything. E.g. for <code>String</code> the <code>impl String</code> is only partially folded, the method signatures are still visible. You can subsequently fold the entire <code>impl String</code>. Interesting. And the "Methods for..." section doesn't have a top-level <code>impl</code> into which all the methods can be folded.</p>



<a name="268318277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318277">(Jan 17 2022 at 21:53)</a>:</h4>
<p>Is it worth doing the vertical spacing change in one PR, since that seems uncontroversial, and then tinker with the folding in a follow-up?</p>



<a name="268318334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318334">(Jan 17 2022 at 21:54)</a>:</h4>
<p>Yes, that's intentional. Most (not all) types have one or a small number of inherent impls, and the most common use case is "skim the methods list." So there's no point in making people expand the single inherent impl.</p>



<a name="268318353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318353">(Jan 17 2022 at 21:54)</a>:</h4>
<p>Yeah, makes sense</p>



<a name="268318389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318389">(Jan 17 2022 at 21:55)</a>:</h4>
<p><code>Map</code> is an unusual case because it has no <code>impl</code> of its own, but it does have some very large Trait Implementations</p>



<a name="268318419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318419" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318419">(Jan 17 2022 at 21:55)</a>:</h4>
<p>Yep. And that will be common to most types that <code>impl Iterator</code>, I think.</p>



<a name="268318478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318478">(Jan 17 2022 at 21:56)</a>:</h4>
<p>If you were skimming the methods on a big impl like that, what would you be looking for?</p>



<a name="268318538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318538">(Jan 17 2022 at 21:57)</a>:</h4>
<p>TBH I probably wouldn't be skimming that section on <code>Map</code>, I'd be more likely to be looking at <a href="https://rustdoc.crud.net/jsha/space-impls/std/iter/trait.Iterator.html">https://rustdoc.crud.net/jsha/space-impls/std/iter/trait.Iterator.html</a> to find iterator methods</p>



<a name="268318606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318606">(Jan 17 2022 at 21:58)</a>:</h4>
<p>So, I don't hate the folding change, I can see pros and cons. I suspect people might wonder "why can I fold individual methods in this <code>impl</code>, but not this other <code>impl</code>", consistency-wise</p>



<a name="268318700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318700" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318700">(Jan 17 2022 at 22:00)</a>:</h4>
<p>I'll leave you with it. Thanks for looking into this, and I appreciate that this stuff is not easy and there are trade-offs involved <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="268318733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318733">(Jan 17 2022 at 22:00)</a>:</h4>
<p>the input is very much appreciated!</p>



<a name="268318740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318740">(Jan 17 2022 at 22:00)</a>:</h4>
<p>But I'm happy to answer any follow-up questions</p>



<a name="268318817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318817">(Jan 17 2022 at 22:01)</a>:</h4>
<p>I'll probably leave this on the shelf for now - I've been doing some large UI simplifications lately (particularly <a href="https://github.com/rust-lang/rust/pull/92692">https://github.com/rust-lang/rust/pull/92692</a>), and while I'm excited for the result, it's been a lot of work and I need to refocus on day job / pruning the pear tree / vacuuming the house. :-D</p>



<a name="268318848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268318848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268318848">(Jan 17 2022 at 22:01)</a>:</h4>
<p>But when I regain energy for UI changes, this will be one I'm excited to push to the forefront. And if you'd like to shepherd it through earlier, I'm happy to review.</p>



<a name="268319210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268319210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268319210">(Jan 17 2022 at 22:06)</a>:</h4>
<p>I would just remove the folding changes, keep the vertical space/font size changes, and then you'd effectively be reviewing your own code <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="268320146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268320146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268320146">(Jan 17 2022 at 22:21)</a>:</h4>
<p>well, there's also tests to write and further rounds of feedback to respond to. :-)</p>



<a name="268324245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268324245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268324245">(Jan 17 2022 at 23:17)</a>:</h4>
<p><span class="user-mention" data-user-id="315412">@jsha</span> what about indenting both the methods and their docs each 24px? Then it would be even easier to see what impl methods belong to.</p>



<a name="268324257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268324257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268324257">(Jan 17 2022 at 23:17)</a>:</h4>
<p>(i.e., the indent for the methods' docs would add up to 48px)</p>



<a name="268325207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268325207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268325207">(Jan 17 2022 at 23:31)</a>:</h4>
<p>yeah, I think that's probably a good idea</p>



<a name="268325313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268325313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268325313">(Jan 17 2022 at 23:33)</a>:</h4>
<p>I hesitated to do that for methods because it means effectively everything is double-indented. But this might be another place where it makes sense to have different styling for intrinsic impls and trait impls.</p>



<a name="268331001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268331001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268331001">(Jan 18 2022 at 01:10)</a>:</h4>
<p>I'd suggest indenting even the intrinsic impls? Indenting is good, especially when you're in the middle of a long <code>impl</code> body it's the only indicator that you are in an <code>impl</code> body</p>



<a name="268432001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268432001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268432001">(Jan 18 2022 at 18:02)</a>:</h4>
<p>Yeah, indentation doesn't seem that bad to me. If anything, it'll reduce the line length of the docs, which should improve readability</p>



<a name="268618874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268618874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael notriddle Howell <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268618874">(Jan 19 2022 at 23:23)</a>:</h4>
<p>On desktop, indentation seems fine. On mobile, it‚Äôs a bit more questionable.</p>



<a name="268626665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268626665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268626665">(Jan 20 2022 at 00:57)</a>:</h4>
<p>Maybe we could skip -- or reduce -- the indentation on mobile then</p>



<a name="268722533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268722533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268722533">(Jan 20 2022 at 16:54)</a>:</h4>
<p>One way stuff could be cleaned up quite a bit is if the derived instances of a trait were somehow much more terse. Like we don't need to know for the 10000th time that if a type derived clone it has <code>clone</code> and <code>clone_from</code>. Replacing that entire blob with something to the effect of "this was derived" is fine. Same for PartialEq and so on.</p>



<a name="268722856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268722856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268722856">(Jan 20 2022 at 16:57)</a>:</h4>
<p>Probably most all trait impls that don't have doc comments on the individual impl are simple enough they could be trimmed down into a simpler format.</p>



<a name="268725058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268725058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268725058">(Jan 20 2022 at 17:10)</a>:</h4>
<p>I like this idea in theory, but the problem is: you and I know that <code>impl Clone for Foo</code> on the doc page means that <code>Foo</code> has <code>clone</code> and <code>clone_from</code>. But new users don't necessarily. Or they may "know" that but it hasn't really sunk in yet through repetition. Where do we draw the line of sufficiently obvious / tedious trait implementations that we wouldn't show the methods? I think any reasonable definition would be so narrow as to not make much difference in complexity. We're better off sticking to something consistent, which is showing them all. After all, if you<br>
see some code that calls <code>foo.clone()</code> and you want to see what that <code>clone</code> method does, you'd expect to find it on the doc page for <code>Foo</code>.</p>
<p>(Also, fun note, I didn't know about <code>clone_from</code>, and I've been doing Rust for almost 2 years now)</p>



<a name="268906319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268906319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268906319">(Jan 21 2022 at 21:35)</a>:</h4>
<p>I don't know what it is specifically but I'm finding the new sidebar a lot harder to scan</p>



<a name="268906976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268906976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268906976">(Jan 21 2022 at 21:41)</a>:</h4>
<p>I think it's the blue text (light theme)</p>



<a name="268911575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268911575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268911575">(Jan 21 2022 at 22:24)</a>:</h4>
<p>Darkening the text seems reasonable.</p>



<a name="268913360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268913360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268913360">(Jan 21 2022 at 22:43)</a>:</h4>
<p>It is indeed!</p>



<a name="268924793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268924793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268924793">(Jan 22 2022 at 00:58)</a>:</h4>
<p>there's an interesting thing here - we're using the same link color everywhere (#3873AD), but sometimes it's on a white background and sometimes it's on a grey background:</p>
<p><a href="/user_uploads/4715/N9H-S6GYzgMfKidejjCbH5HU/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/N9H-S6GYzgMfKidejjCbH5HU/image.png" title="image.png"><img src="/user_uploads/4715/N9H-S6GYzgMfKidejjCbH5HU/image.png"></a></div>



<a name="268924808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268924808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268924808">(Jan 22 2022 at 00:59)</a>:</h4>
<p><a href="/user_uploads/4715/A4Hh14UmjQU5mzql6ctqb7qq/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/A4Hh14UmjQU5mzql6ctqb7qq/image.png" title="image.png"><img src="/user_uploads/4715/A4Hh14UmjQU5mzql6ctqb7qq/image.png"></a></div>



<a name="268924820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268924820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268924820">(Jan 22 2022 at 00:59)</a>:</h4>
<p><a href="/user_uploads/4715/HBgqCaSA-ThzjpG48Xqpbyf5/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/HBgqCaSA-ThzjpG48Xqpbyf5/image.png" title="image.png"><img src="/user_uploads/4715/HBgqCaSA-ThzjpG48Xqpbyf5/image.png"></a></div>



<a name="268924954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268924954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268924954">(Jan 22 2022 at 01:00)</a>:</h4>
<p>You can see that the contrast ratio is different depending on the background. Against a white background it's 4.97. Against a grey background it's 4.56. Not a huge difference, but noticeable.</p>
<p>If we darken the link color, I'd like to do it in a principled way - by adjusting it whenever the link is on a grey background, to maintain the same contrast ratio we would have if it were on a white background.</p>



<a name="268924982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268924982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268924982">(Jan 22 2022 at 01:01)</a>:</h4>
<p>Another thing I'd be interested in trying: What if we made the sidebar background white?</p>



<a name="268929916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268929916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268929916">(Jan 22 2022 at 02:21)</a>:</h4>
<p>I think I'd personally prefer having darker sidebar text rather than a lighter background: something close to black but with enough of a blue tint to be noticed.</p>



<a name="268929919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Formatting%20improvements%3F/near/268929919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Formatting.20improvements.3F.html#268929919">(Jan 22 2022 at 02:21)</a>:</h4>
<p>I'd at least like to try that as a possibility.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>