<html>
<head><meta charset="utf-8"><title>generating diagrams · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/generating.20diagrams.html">generating diagrams</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="267362756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/generating%20diagrams/near/267362756" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Good <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/generating.20diagrams.html#267362756">(Jan 09 2022 at 15:18)</a>:</h4>
<p>Hey folks. I've just put together a quick hack which adds <a href="https://ivanceras.github.io/svgbob-editor/">svgbob</a> support to doc comments. It works by converting code blocks fenced with <code>svgbob</code> into SVG. This is a feature I want because I want to be able to draw diagrams in my documentation and svgbob seemed like a good fit because the diagrams are also readable as text.</p>
<p>Is this a feature that's interesting to the rustdoc team? If so what would my next steps be? Is an RFC appropriate here or is that too heavyweight for this feature?</p>
<p>P.S I'm not committed to using svgbob, it just seemed like the best choice to me. I'm generally interested in being able to render diagrams in comments which are also readable as text.</p>



<a name="267362821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/generating%20diagrams/near/267362821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Good <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/generating.20diagrams.html#267362821">(Jan 09 2022 at 15:20)</a>:</h4>
<p>Here's an example:</p>
<p><a href="/user_uploads/4715/5Albu0LB-X6FYviYNRbVGz4C/code.png">code.png</a> <br>
<a href="/user_uploads/4715/bSn-KOJWSBHsswP06LoYHiCN/svg.png">svg.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/5Albu0LB-X6FYviYNRbVGz4C/code.png" title="code.png"><img src="/user_uploads/4715/5Albu0LB-X6FYviYNRbVGz4C/code.png"></a></div><div class="message_inline_image"><a href="/user_uploads/4715/bSn-KOJWSBHsswP06LoYHiCN/svg.png" title="svg.png"><img src="/user_uploads/4715/bSn-KOJWSBHsswP06LoYHiCN/svg.png"></a></div>



<a name="267363497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/generating%20diagrams/near/267363497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/generating.20diagrams.html#267363497">(Jan 09 2022 at 15:38)</a>:</h4>
<p>Hi Alex! This is a very cool demo, and I see the usefulness of it.</p>
<p>As it happens, we are thinking as a team about complexity, and how to say no to more features in the interest of long-term maintainability. I'd like to think about how this can be done elegantly without adding new features in rustdoc.</p>
<p>Markdown / Rustdoc already support inline images, so you could inline the produced SVG. But I think the idea here is that the ASCII art is visible when viewing the code, and the rendered diagram is visible in the HTML, right?</p>
<p>I wonder if there's some post-processing or macro magic you could do to support that.</p>
<p>Do proc_macros have access to comments?</p>



<a name="267363658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/generating%20diagrams/near/267363658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Good <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/generating.20diagrams.html#267363658">(Jan 09 2022 at 15:42)</a>:</h4>
<p>Completely understandable. The proc macro idea is a good one. I'll see if I can achieve anything fruitful there. Thanks!</p>



<a name="267365105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/generating%20diagrams/near/267365105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Howell <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/generating.20diagrams.html#267365105">(Jan 09 2022 at 16:20)</a>:</h4>
<p><a href="https://docs.rs/svgbobdoc/0.2.3/svgbobdoc/">https://docs.rs/svgbobdoc/0.2.3/svgbobdoc/</a></p>



<a name="267376502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/generating%20diagrams/near/267376502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Good <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/generating.20diagrams.html#267376502">(Jan 09 2022 at 20:36)</a>:</h4>
<p>Well, that's pretty much exactly what I wanted. Thanks!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>