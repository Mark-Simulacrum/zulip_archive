<html>
<head><meta charset="utf-8"><title>features · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html">features</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="267327673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267327673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267327673">(Jan 09 2022 at 01:32)</a>:</h4>
<p>It would be interesting to try and list all the medium-sized "features" that rustdoc supports, as a way of thinking about complexity. An initial list of ones I can think of:</p>
<ul>
<li>themes</li>
<li>custom HTML/CSS/JS/Markdown</li>
<li>expand/collapse toggles</li>
<li>mobile / desktop view</li>
<li>works without JS</li>
<li>works for local files</li>
<li>search</li>
<li>source view</li>
<li>render without source</li>
<li>intra-doc links</li>
<li>discovery of implementors</li>
<li>scrape examples</li>
<li>playground links</li>
<li>doctests</li>
<li>jump to def</li>
<li>doc(hidden)</li>
<li>document private items</li>
<li>doc lints</li>
<li>standalone markdown file processing</li>
</ul>
<p>Of course these focus heavily on the frontend side because that's what I've been getting to know. Curious to hear what things others would add to the list!</p>



<a name="267327862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267327862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267327862">(Jan 09 2022 at 01:36)</a>:</h4>
<p>Inlining is a huge source of complexity in rustdoc.</p>



<a name="267327881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267327881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267327881">(Jan 09 2022 at 01:37)</a>:</h4>
<p>Auto traits and blanket impls also add a lot of complexity.</p>



<a name="267328004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328004">(Jan 09 2022 at 01:39)</a>:</h4>
<p>what's inlining in this context?</p>



<a name="267328073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328073">(Jan 09 2022 at 01:40)</a>:</h4>
<p>E.g., <code>std::vec::Vec</code> existing, even though Vec is actually defined in alloc.</p>



<a name="267328086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328086" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328086">(Jan 09 2022 at 01:40)</a>:</h4>
<p>ah. that's not done with a type alias?</p>



<a name="267328087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328087" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328087">(Jan 09 2022 at 01:40)</a>:</h4>
<p>Also the <code>doc(inline)</code> and <code>doc(no_inline)</code> attributes, which allow configuring inlining.</p>



<a name="267328092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328092">(Jan 09 2022 at 01:40)</a>:</h4>
<p>I guess that makes sense.. type aliases are displayed differently.</p>



<a name="267328093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328093">(Jan 09 2022 at 01:40)</a>:</h4>
<p>Nope, it's a re-export.</p>



<a name="267328100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328100" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328100">(Jan 09 2022 at 01:40)</a>:</h4>
<p>And type aliases only work for types; inlining works for anything.</p>



<a name="267328103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328103">(Jan 09 2022 at 01:41)</a>:</h4>
<p>oh right. so inlining is what we do to make re-exports look right?</p>



<a name="267328115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328115">(Jan 09 2022 at 01:41)</a>:</h4>
<p>Yep, but the rules are complicated and the process of inlining is complicated in general</p>



<a name="267328193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328193">(Jan 09 2022 at 01:42)</a>:</h4>
<p>And there's a lot of subtle bugs (which should be reduced once we, at some point, stop using HIR), like how occurrences of type aliases in an item are always shown as their value in re-exported docs, but may be opaque in the item's defining crate</p>



<a name="267328257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328257">(Jan 09 2022 at 01:44)</a>:</h4>
<p>Of course, we can't really get rid of inlining at this point (especially because it's very helpful and is relied upon by tons of crates), but it's still worth thinking of it as a source of complexity.</p>



<a name="267328569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328569" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328569">(Jan 09 2022 at 01:49)</a>:</h4>
<p>yeah, I think almost all of the features we would list are irremovable. But it's useful to count them (well, count is the wrong measure, but metaphorically pull them out of the chest and look at them all in a pile :-D)</p>



<a name="267328877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/features/near/267328877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/features.html#267328877">(Jan 09 2022 at 01:54)</a>:</h4>
<p>I do wish we didn't support standalone Markdown file processing; it adds complexity and doesn't seem like rustdoc's job.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>