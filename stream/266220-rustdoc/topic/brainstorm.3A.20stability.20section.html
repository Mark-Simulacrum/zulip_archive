<html>
<head><meta charset="utf-8"><title>brainstorm: stability section · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html">brainstorm: stability section</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258730845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/258730845" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#258730845">(Oct 22 2021 at 15:49)</a>:</h4>
<p>One piece of feedback about clutter has been that the stability info on the right-hand side is clutter. That's only getting worse now that more things in std have a stabilized version _and_ a const stabilized version. I'd like to think of ways we can make it less noisy. Maybe move it to be under the heading rather than part of it?</p>
<p><a href="/user_uploads/4715/aM_oyebdD2SpABe7nyqn5Ti_/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/aM_oyebdD2SpABe7nyqn5Ti_/image.png" title="image.png"><img src="/user_uploads/4715/aM_oyebdD2SpABe7nyqn5Ti_/image.png"></a></div><p><a href="/user_uploads/4715/FnvGop2dpLhQBt1ysBEB4khA/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/FnvGop2dpLhQBt1ysBEB4khA/image.png" title="image.png"><img src="/user_uploads/4715/FnvGop2dpLhQBt1ysBEB4khA/image.png"></a></div><p><a href="/user_uploads/4715/YcOfBL9StzW1AQw2F9YeD0EN/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/YcOfBL9StzW1AQw2F9YeD0EN/image.png" title="image.png"><img src="/user_uploads/4715/YcOfBL9StzW1AQw2F9YeD0EN/image.png"></a></div><p>I'm thinking we should have a general "Can I use?" section that covers stabilization version, const stabilization version, deprecations, platform-specific features, arch-specific features, and so on. In most cases it would be empty. We could even consider omitting the stabilization version if it was more than N years ago.</p>
<p>Thoughts? Ideas?</p>



<a name="258730954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/258730954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#258730954">(Oct 22 2021 at 15:50)</a>:</h4>
<p>Oh and relatedly: We could omit the stabilization version and const stabilization version when something is deprecated.</p>



<a name="258759959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/258759959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#258759959">(Oct 22 2021 at 19:16)</a>:</h4>
<p>As always: it depends how it's displayed. At least currently you can see it directly when you arrive on an item. Downside: unless you know what it means, it's not very useful...</p>
<p>Any improvement in that area is very welcome!</p>



<a name="258773475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/258773475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#258773475">(Oct 22 2021 at 20:57)</a>:</h4>
<blockquote>
<p>We could even consider omitting the stabilization version if it was more than N years ago.</p>
</blockquote>
<p>Hmm, I don't think this is a good idea. Some people may have old MSRVs and it might make them think it's always been stable.</p>



<a name="258773524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/258773524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#258773524">(Oct 22 2021 at 20:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="315412">jsha</span> <a href="#narrow/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section/near/258730954">said</a>:</p>
<blockquote>
<p>Oh and relatedly: We could omit the stabilization version and const stabilization version when something is deprecated.</p>
</blockquote>
<p>That seems potentially reasonable. It'd be good to hear what others think too though.</p>



<a name="258784426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/258784426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#258784426">(Oct 22 2021 at 22:36)</a>:</h4>
<blockquote>
<p>We could even consider omitting the stabilization version if it was more than N years ago.</p>
</blockquote>
<p>Didn't see this part of the comment. So just like <span class="user-mention" data-user-id="307537">@Noah Lev</span> said: we strongly need this information. We had a lot of issues opened when the information was missing or invalid along the years. It's even more important because a lot of new items are added between versions.</p>



<a name="258813373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/258813373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#258813373">(Oct 23 2021 at 09:23)</a>:</h4>
<p>It doesn't track things like weakened trait bounds, though -- so if someone's on an old MSRV they should probably be using the docs for that version.</p>
<p>For example, <a href="https://doc.rust-lang.org/std/collections/struct.HashMap.html#method.new">https://doc.rust-lang.org/std/collections/struct.HashMap.html#method.new</a> -- stable since 1.0.0 -- doesn't tell you that it needed Hash+Eq back in <a href="https://doc.rust-lang.org/1.40.0/std/collections/struct.HashMap.html#method.new">https://doc.rust-lang.org/1.40.0/std/collections/struct.HashMap.html#method.new</a></p>
<p>So it feels to me more like it should be emphasizing "hey, this is new -- check it out!" than "this was stabilized in 1.27", since the older it is the less the information has value.</p>



<a name="258841379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/258841379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#258841379">(Oct 23 2021 at 20:32)</a>:</h4>
<p>That's an interesting point. We'll have to think this over some more.</p>



<a name="258849079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/258849079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#258849079">(Oct 23 2021 at 23:58)</a>:</h4>
<p>(Totally unrelated to this conversation: it's be cool to have a "API summary" text file generated from a crate, like what libs puts in tracking issues, that could be diffed between versions.  That's probably need to be regenerated for all past releases with the new code every release, though, since otherwise the format could never change, which sounds both slow and a pain.)</p>



<a name="258850433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/258850433" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#258850433">(Oct 24 2021 at 00:38)</a>:</h4>
<p><span class="user-mention" data-user-id="125270">@scottmcm</span> that sounds basically like --output-format json</p>



<a name="259280059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/259280059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#259280059">(Oct 27 2021 at 17:59)</a>:</h4>
<p>I wonder if the const stability should be a superscript hover on the const keyword instead</p>



<a name="259287032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/259287032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#259287032">(Oct 27 2021 at 18:42)</a>:</h4>
<p>It'd be a bit weird to get this stability information from hover when the others are directly readable, no?</p>



<a name="259350532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/259350532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#259350532">(Oct 28 2021 at 07:39)</a>:</h4>
<p>I would love to have a separate ‘can I use’ section that contains all the noise and is hidden by default. I find all these coloured boxes and numbers etc distracting</p>



<a name="259350629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/259350629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#259350629">(Oct 28 2021 at 07:40)</a>:</h4>
<p>IMO, the const-ness of the function should be in there and we could elide the ‘pub fn’ part of the signature too</p>



<a name="259354383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/brainstorm%3A%20stability%20section/near/259354383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section.html#259354383">(Oct 28 2021 at 08:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256841">Nick Cameron</span> <a href="#narrow/stream/266220-rustdoc/topic/brainstorm.3A.20stability.20section/near/259350629">said</a>:</p>
<blockquote>
<p>IMO, the const-ness of the function should be in there and we could elide the ‘pub fn’ part of the signature too</p>
</blockquote>
<p>Same opinion for the <code>pub fn</code> part haha (we were just discussing it). As for the separate "can I use", I'm not super confident about this but if a good UI is suggested, then I guess it'll be ok for me</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>