<html>
<head><meta charset="utf-8"><title>download-tidy · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html">download-tidy</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="266958674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/download-tidy/near/266958674" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html#266958674">(Jan 05 2022 at 16:44)</a>:</h4>
<p>idle wish: I wish <code>tidy</code> was downloaded when I enable download-rustc. It feels like I spend a significant amount of my dev time waiting on tidy to rebuild because it's in my precommit check.</p>



<a name="266962790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/download-tidy/near/266962790" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html#266962790">(Jan 05 2022 at 17:14)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> at one point suggested downloading bootstrap/tidy in the <code>rust-dev</code> component, alongside <code>download-ci-llvm</code></p>



<a name="266962814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/download-tidy/near/266962814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html#266962814">(Jan 05 2022 at 17:14)</a>:</h4>
<p>download-rustc is not a good fit for this, the caching is too fragile</p>



<a name="266962849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/download-tidy/near/266962849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html#266962849">(Jan 05 2022 at 17:15)</a>:</h4>
<p>yeah, expanding/caching bootstrap tools (bootstrap binary, tidy, etc.) if they're not modified locally is a potentially interesting idea</p>



<a name="266962887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/download-tidy/near/266962887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html#266962887">(Jan 05 2022 at 17:15)</a>:</h4>
<p>(i.e. changing tidy shouldn't force you to recompile all of rustc)</p>



<a name="266963583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/download-tidy/near/266963583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html#266963583">(Jan 05 2022 at 17:20)</a>:</h4>
<p>also I have an open PR for moving that to the pre-push hook instead but I haven't had time to follow up on it :(</p>



<a name="266963609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/download-tidy/near/266963609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html#266963609">(Jan 05 2022 at 17:20)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/88313">https://github.com/rust-lang/rust/pull/88313</a></p>



<a name="266983898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/download-tidy/near/266983898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html#266983898">(Jan 05 2022 at 20:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/download-tidy/near/266962887">said</a>:</p>
<blockquote>
<p>(i.e. changing tidy shouldn't force you to recompile all of rustc)</p>
</blockquote>
<p>Although changing bootstrap should, I think?</p>



<a name="266988482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/download-tidy/near/266988482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html#266988482">(Jan 05 2022 at 20:43)</a>:</h4>
<p>hmm, I suppose so since theoretically you could change arbitrary things about the build, but it seems like an awfully heavy hammer. We don't recompile rustc today if bootstrap has been changed</p>



<a name="266990852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/download-tidy/near/266990852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/download-tidy.html#266990852">(Jan 05 2022 at 21:04)</a>:</h4>
<blockquote>
<p>We don't recompile rustc today if bootstrap has been changed</p>
</blockquote>
<p>Hmm, whenever I've changed bootstrap, it's recompiled everything else...</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>