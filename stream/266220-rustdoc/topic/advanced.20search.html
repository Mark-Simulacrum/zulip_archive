<html>
<head><meta charset="utf-8"><title>advanced search · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html">advanced search</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="265431679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265431679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265431679">(Dec 18 2021 at 18:04)</a>:</h4>
<p>Right now our search box has a lot of functionality:</p>
<ul>
<li>filter by crate</li>
<li>filter by item type</li>
<li>search in returned values or parameters</li>
<li>exact match</li>
<li>pattern search (vec -&gt; usize)</li>
<li>multiple searches at once ("as_ref,as_mut_ref")</li>
</ul>
<p>Most of these require the user to type syntax in the search box, which is hard to remember. Also many people don't notice the <code>?</code> that explains the search syntax.</p>
<p>I propose that on a search results page, there should be an "advanced search" link that presents a form with multiple inputs to make it easier to construct a complex query.</p>
<p><a href="https://www.google.com/advanced_search">An example from Google</a>:</p>
<p><a href="/user_uploads/4715/Kj9-0SAcxIHC3DJdaTn4tdwe/image.png">image.png</a> </p>
<p>An <a href="https://github.com/search/advanced">example from GitHub</a>:</p>
<p><a href="/user_uploads/4715/P6fQmxoTGAtH25n_gc0YlUgY/image.png">image.png</a> </p>
<p>An <a href="https://www.flickr.com/search/advanced/">example from Flickr</a>:</p>
<p><a href="/user_uploads/4715/0VfoB5U9OpWgSUE2Ax2Xg8e5/image.png">image.png</a> </p>
<p>An <a href="https://twitter.com/search-advanced">example from Twitter</a>:</p>
<p><a href="/user_uploads/4715/cl1gr2v39J4XzhjhLYgRicmz/image.png">image.png</a></p>



<a name="265438426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265438426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265438426">(Dec 18 2021 at 19:44)</a>:</h4>
<p>Ah yes, that's what we discussed about. Thanks for opening the topic! For more context:</p>
<p>I'm currently splitting <a href="https://github.com/rust-lang/rust/pull/90630">https://github.com/rust-lang/rust/pull/90630</a> as much as possible in smaller PRs. Once this is done, <span class="user-mention" data-user-id="315412">@jsha</span> suggested this UI so users can handle the search much more efficiently. That would also allow us to remove this part from the help popup too.</p>



<a name="265443693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265443693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265443693">(Dec 18 2021 at 21:09)</a>:</h4>
<p>I'm not a fan of advanced search forms; they always feel like a pain to use.</p>



<a name="265443762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265443762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265443762">(Dec 18 2021 at 21:10)</a>:</h4>
<p>In the case of searches like <code>vec -&gt; usize</code>, I really think we should leave it as syntax like Hoogle rather than creating a form for it</p>



<a name="265443771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265443771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265443771">(Dec 18 2021 at 21:10)</a>:</h4>
<p>When I do a search in rustdoc, I want to be able to do it quickly; filling out a form, meanwhile, is slow</p>



<a name="265443861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265443861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265443861">(Dec 18 2021 at 21:12)</a>:</h4>
<p>I don't think I've ever even used Google's advanced search (I didn't even realize it existed)</p>



<a name="265457021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265457021" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265457021">(Dec 19 2021 at 02:49)</a>:</h4>
<p>the idea here is that advanced search is an on-ramp to the syntax. E.g. if you check the "exact match" box it puts quotes around whatever you have typed so far. If you filter by type <code>fn</code>, it puts <code>fn: </code> in front of your search.</p>
<p>I think the current way we have it, with syntax tucked away in a help menu, is incurring a big complexity burden without a corresponding benefit because many people don't realize what's possible.</p>
<p>There was a Discord thread <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> linked a while back where some folks were wishing for functionality that already existed. When told about the <code>?</code> menu they said approximately "nothing about <code>?</code> screams 'cool stuff here' to me." I think 'advanced search' does scream that a little more.</p>
<p>Also a big part of my personal motivation here is that I'd like to move the "all crates" dropdown onto the search results page, as part of the overall decluttering project. For most page visits it's not relevant, and it takes up super-prime real estate at the top of the page.</p>



<a name="265495457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265495457" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265495457">(Dec 19 2021 at 19:19)</a>:</h4>
<blockquote>
<p>the idea here is that advanced search is an on-ramp to the syntax. E.g. if you check the "exact match" box it puts quotes around whatever you have typed so far. If you filter by type fn, it puts fn:  in front of your search.</p>
</blockquote>
<p>Ah, that was not obvious to me from your description. I can see the value of that.</p>



<a name="265495537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265495537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265495537">(Dec 19 2021 at 19:20)</a>:</h4>
<blockquote>
<p>Also a big part of my personal motivation here is that I'd like to move the "all crates" dropdown onto the search results page, as part of the overall decluttering project. For most page visits it's not relevant, and it takes up super-prime real estate at the top of the page.</p>
</blockquote>
<p>I agree it'd be good to move the all crates dropdown out of the primary visual space; the only downside I see is that it might slow down searches since you'd be narrowing after the search was performed?</p>



<a name="265497824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265497824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265497824">(Dec 19 2021 at 20:12)</a>:</h4>
<p>The search takes less than 100ms to run, so that should be fine. ;)</p>



<a name="265509406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265509406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265509406">(Dec 20 2021 at 00:30)</a>:</h4>
<p>Are you sure that's true for large crates? IME rustdoc's output doesn't scale very well ...</p>



<a name="265537382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/advanced%20search/near/265537382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/advanced.20search.html#265537382">(Dec 20 2021 at 09:11)</a>:</h4>
<p>For very big crates, it's indeed a bit slower. But still under a second for the biggest I could find (stm32 iirc).</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>