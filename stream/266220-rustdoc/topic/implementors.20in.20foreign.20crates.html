<html>
<head><meta charset="utf-8"><title>implementors in foreign crates · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/implementors.20in.20foreign.20crates.html">implementors in foreign crates</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="264958001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/implementors%20in%20foreign%20crates/near/264958001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/implementors.20in.20foreign.20crates.html#264958001">(Dec 15 2021 at 02:34)</a>:</h4>
<p>Right now, a trait page has two sections listing the types that implement it: "Implementors" and "Implementations on Foreign Types."</p>
<p>The "Implementations" section contains two major categories, but doesn't break them out with headings: Local Implementors and Foreign Implementors. I dug into this a bit in <a href="https://github.com/rust-lang/rust/issues/85418">https://github.com/rust-lang/rust/issues/85418</a>. The Foreign Implementors are (by necessity) rendered by JS. That means their rendering is often out of sync with the rendering of Local Implementors. Also the distinction between (unmarked) Foreign Implementors and Implementations on Foreign Types is very confusing.</p>
<p>I propose that traits should have three sections:</p>
<ul>
<li>Local Implementations on Foreign Types</li>
<li>Local Implementors</li>
<li>Foreign Implementors</li>
</ul>



<a name="264958498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/implementors%20in%20foreign%20crates/near/264958498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/implementors.20in.20foreign.20crates.html#264958498">(Dec 15 2021 at 02:43)</a>:</h4>
<p>I think we should change "implementors" to "implementations" for consistency too.</p>



<a name="264958505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/implementors%20in%20foreign%20crates/near/264958505" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/implementors.20in.20foreign.20crates.html#264958505">(Dec 15 2021 at 02:43)</a>:</h4>
<p>What about just having two sections?</p>
<ul>
<li>Local Implementations</li>
<li>Implementations in Other Crates</li>
</ul>



<a name="264959672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/implementors%20in%20foreign%20crates/near/264959672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/implementors.20in.20foreign.20crates.html#264959672">(Dec 15 2021 at 03:06)</a>:</h4>
<p>I like the distinction between "Implementations" on a struct page (struct-&gt;traits) and "Implementors" on a trait page (trait-&gt;structs), since they contain different content and are formatted differently. But I don't feel very strongly about it.</p>
<blockquote>
<p>What about just having two sections?</p>
</blockquote>
<p>That works for me! To restate a bit: This would mean moving what's currently under "Implementations on Foreign Types" into "Implementors", and moving the "Implementations in Other Crates" out of their current home under "Implementors."</p>



<a name="264960338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/implementors%20in%20foreign%20crates/near/264960338" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/implementors.20in.20foreign.20crates.html#264960338">(Dec 15 2021 at 03:19)</a>:</h4>
<p>There's two places where a trait can be implemented:</p>
<ol>
<li>in its crate of definition (locally)</li>
<li>in downstream crates (crates that depend on the crate of definition)</li>
</ol>
<p>There's three kinds of trait implementors (types that implement the trait):</p>
<ol>
<li>upstream types</li>
<li>local types (types defined in the crate of definition)</li>
<li>downstream types</li>
</ol>
<p>That yields this table, but note that only some of the cells are possible:</p>
<table>
<thead>
<tr>
<th></th>
<th>Local impl</th>
<th>Downstream impl</th>
</tr>
</thead>
<tbody>
<tr>
<td>Upstream <code>for</code> type</td>
<td><span aria-label="check mark" class="emoji emoji-2714" role="img" title="check mark">:check_mark:</span></td>
<td><span aria-label="cross mark" class="emoji emoji-274c" role="img" title="cross mark">:cross_mark:</span></td>
</tr>
<tr>
<td>Local <code>for</code> type</td>
<td><span aria-label="check mark" class="emoji emoji-2714" role="img" title="check mark">:check_mark:</span></td>
<td><span aria-label="cross mark" class="emoji emoji-274c" role="img" title="cross mark">:cross_mark:</span></td>
</tr>
<tr>
<td>Downstream <code>for</code> type</td>
<td><span aria-label="cross mark" class="emoji emoji-274c" role="img" title="cross mark">:cross_mark:</span></td>
<td><span aria-label="check mark" class="emoji emoji-2714" role="img" title="check mark">:check_mark:</span></td>
</tr>
</tbody>
</table>



<a name="264960565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/implementors%20in%20foreign%20crates/near/264960565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/implementors.20in.20foreign.20crates.html#264960565">(Dec 15 2021 at 03:22)</a>:</h4>
<p>Downstream impls for downstream <code>for</code> types are the only combination that's possible and where rustdoc can't determine them in advance.</p>



<a name="264960604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/implementors%20in%20foreign%20crates/near/264960604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/implementors.20in.20foreign.20crates.html#264960604">(Dec 15 2021 at 03:23)</a>:</h4>
<p>So my suggestion is to have one section for the two varieties of local impls and one for the single variety of downstream impls.</p>



<a name="264960719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/implementors%20in%20foreign%20crates/near/264960719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/implementors.20in.20foreign.20crates.html#264960719">(Dec 15 2021 at 03:25)</a>:</h4>
<p>that makes sense!</p>



<a name="264960789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/implementors%20in%20foreign%20crates/near/264960789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/implementors.20in.20foreign.20crates.html#264960789">(Dec 15 2021 at 03:26)</a>:</h4>
<p>Now let's see what the rest of the team thinks :)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>