<html>
<head><meta charset="utf-8"><title>rustdoc/issue-80893.rs test · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html">rustdoc/issue-80893.rs test</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="223453865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rustdoc/issue-80893.rs%20test/near/223453865" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html#223453865">(Jan 20 2021 at 23:56)</a>:</h4>
<p>Hi rustdoc team,</p>
<p>The <code>rustdoc/issue-80893.rs</code> test has been failing randomly quite often lately, on unrelated PRs. Not sure what is going wrong, the only output is <code>status: signal: 13</code> aka <code>SIGPIPE</code>. Example of such a failure: <a href="https://github.com/rust-lang-ci/rust/runs/1738335854">https://github.com/rust-lang-ci/rust/runs/1738335854</a></p>
<p>Not sure what the problem is, but it's always on this specific test.</p>
<p>The only thing this test does, is checking that <code>--test-builder true</code> works. Apparently that causes some race condition with pipes when used in the test suite.</p>



<a name="223454628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rustdoc/issue-80893.rs%20test/near/223454628" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html#223454628">(Jan 21 2021 at 00:05)</a>:</h4>
<p><span class="user-mention" data-user-id="310399">@Mara</span> <a href="https://github.com/rust-lang/rust/pull/81197">https://github.com/rust-lang/rust/pull/81197</a></p>



<a name="223454639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rustdoc/issue-80893.rs%20test/near/223454639" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html#223454639">(Jan 21 2021 at 00:05)</a>:</h4>
<p>if you want to approve that works for me</p>



<a name="223454860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rustdoc/issue-80893.rs%20test/near/223454860" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html#223454860">(Jan 21 2021 at 00:08)</a>:</h4>
<p>Ah cool, thanks for fixing this!</p>



<a name="223454867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rustdoc/issue-80893.rs%20test/near/223454867" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html#223454867">(Jan 21 2021 at 00:08)</a>:</h4>
<p>I'm probably not the right person to review this though.</p>



<a name="223455341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rustdoc/issue-80893.rs%20test/near/223455341" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html#223455341">(Jan 21 2021 at 00:16)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> do you have a second to review? this is causing other spurious failures</p>



<a name="223455374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rustdoc/issue-80893.rs%20test/near/223455374" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html#223455374">(Jan 21 2021 at 00:16)</a>:</h4>
<p>or if you have a suggestion for another reviewer, that works too</p>



<a name="223455383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rustdoc/issue-80893.rs%20test/near/223455383" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html#223455383">(Jan 21 2021 at 00:16)</a>:</h4>
<p>Not today, likely not till this weekend at earliest. r=me on just dropping the test for now</p>



<a name="223455414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rustdoc/issue-80893.rs%20test/near/223455414" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html#223455414">(Jan 21 2021 at 00:17)</a>:</h4>
<p>hmm, ok, I'll make a PR for that</p>



<a name="223455607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rustdoc/issue-80893.rs%20test/near/223455607" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/266220-rustdoc/topic/rustdoc.2Fissue-80893.2Ers.20test.html#223455607">(Jan 21 2021 at 00:20)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/81231">https://github.com/rust-lang/rust/pull/81231</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>