<html>
<head><meta charset="utf-8"><title>include fragments (DRY) · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/include.20fragments.20(DRY).html">include fragments (DRY)</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="264963119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/include%20fragments%20%28DRY%29/near/264963119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/include.20fragments.20(DRY).html#264963119">(Dec 15 2021 at 04:11)</a>:</h4>
<p>hey, Im a rustdoc newb over here. Is there a way to indicate that I want the generated documentation to include some markdown that I have defined in one single place?</p>



<a name="264963203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/include%20fragments%20%28DRY%29/near/264963203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/include.20fragments.20(DRY).html#264963203">(Dec 15 2021 at 04:12)</a>:</h4>
<p>The use case is: There’s one method that defines how some environment variables are processed. But lots of other initialization routines call that methods. I want to write down one Markdown table as the source of truth for what  the environment variables are, and then let all those other methods include it (in the sense of <code>include!</code>) in their generated doc.</p>



<a name="264963273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/include%20fragments%20%28DRY%29/near/264963273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/include.20fragments.20(DRY).html#264963273">(Dec 15 2021 at 04:14)</a>:</h4>
<p>I think this is an example of what you want? <a href="https://github.com/rust-lang/rust/blob/master/src/test/rustdoc/external-doc.rs">https://github.com/rust-lang/rust/blob/master/src/test/rustdoc/external-doc.rs</a></p>



<a name="264964335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/include%20fragments%20%28DRY%29/near/264964335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/include.20fragments.20(DRY).html#264964335">(Dec 15 2021 at 04:30)</a>:</h4>
<p>oh <code>doc = include_str!</code> will compose with other uses of <code>///</code> on that same item? Neat!</p>



<a name="264983203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/include%20fragments%20%28DRY%29/near/264983203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/include.20fragments.20(DRY).html#264983203">(Dec 15 2021 at 09:26)</a>:</h4>
<p>You didn't read the blog post I guess: <a href="https://blog.guillaume-gomez.fr/articles/2021-08-03+Improvements+for+%23%5Bdoc%5D+attributes+in+Rust">https://blog.guillaume-gomez.fr/articles/2021-08-03+Improvements+for+%23%5Bdoc%5D+attributes+in+Rust</a> ;)</p>



<a name="265027881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/include%20fragments%20%28DRY%29/near/265027881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/include.20fragments.20(DRY).html#265027881">(Dec 15 2021 at 15:41)</a>:</h4>
<p>It makes total sense now that I see it in action.</p>



<a name="265028049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/include%20fragments%20%28DRY%29/near/265028049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/include.20fragments.20(DRY).html#265028049">(Dec 15 2021 at 15:41)</a>:</h4>
<p>and in fact the 1.54 release blog post even shows z<code>#[doc = …]</code> being composed with <code>///</code>, multiple times. I just missed it.</p>



<a name="265031437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/include%20fragments%20%28DRY%29/near/265031437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/include.20fragments.20(DRY).html#265031437">(Dec 15 2021 at 16:02)</a>:</h4>
<p>Well, mixing <code>///</code> and <code>#[doc = "..."]</code> is quite old, the big change is allowing to have macro calls in <code>#[doc = ]</code></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>