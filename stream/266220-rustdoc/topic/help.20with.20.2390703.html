<html>
<head><meta charset="utf-8"><title>help with #90703 · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html">help with #90703</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="260865414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Geary <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865414">(Nov 09 2021 at 21:37)</a>:</h4>
<p>Hi all, it's my first time contributing to rustdoc (or rust in general) so sorry if this is a bit of a basic question! It was recommended that the place to start with this issue would be to use <code>resolve_associated_trait_item</code> from <code>resolve_primitive_associated_item</code>, and I understand how that would help with the issue, but I'm having trouble figuring out how to call <code>resolve_associated_trait_item</code> because it requires a DefId for the type and the module it comes from, and I don't have that info available in <code>resolve_primitive_associated_item</code>. If anyone has any insights that might help, or can point me in the direction of any info I should read up on, I'd really appreciate it!</p>



<a name="260865576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865576" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865576">(Nov 09 2021 at 21:39)</a>:</h4>
<p>Hmm, you might be able to add an <code>as_def_id() -&gt; Option&lt;DefId&gt;</code> function to <code>PrimitiveType</code>: <a href="https://doc.rust-lang.org/stable/nightly-rustc/rustdoc/clean/types/enum.PrimitiveType.html#method.from_symbol">https://doc.rust-lang.org/stable/nightly-rustc/rustdoc/clean/types/enum.PrimitiveType.html#method.from_symbol</a></p>



<a name="260865673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865673">(Nov 09 2021 at 21:40)</a>:</h4>
<p>err uhh not sure if primitives actually have DefIds</p>



<a name="260865713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865713">(Nov 09 2021 at 21:40)</a>:</h4>
<p>This is a bit of a hack, but I think you could do <code>Type::Primitive(the_prim_in_question).def_id(&amp;cx.cache)</code></p>



<a name="260865757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865757">(Nov 09 2021 at 21:40)</a>:</h4>
<p><span class="user-mention" data-user-id="307537">@Noah Lev</span> no, that's not helpful - it gives the defid of the module with <code>doc(primitive)</code></p>



<a name="260865764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865764">(Nov 09 2021 at 21:40)</a>:</h4>
<p>which will never have associated items</p>



<a name="260865767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865767">(Nov 09 2021 at 21:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/help.20with.20.2390703/near/260865673">said</a>:</p>
<blockquote>
<p>err uhh not sure if primitives actually have DefIds</p>
</blockquote>
<p>They sort of do; IIRC they use the DefId of the primitive module</p>



<a name="260865877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865877">(Nov 09 2021 at 21:41)</a>:</h4>
<p>there's some query that takes a ty::Ty and gives you the trait impls I think</p>



<a name="260865878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865878">(Nov 09 2021 at 21:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/help.20with.20.2390703/near/260865757">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="307537">Noah Lev</span> no, that's not helpful - it gives the defid of the module with <code>doc(primitive)</code></p>
</blockquote>
<p>The link <code>[f32::to_le_bytes]</code> works, so somehow it's finding the assoc item</p>



<a name="260865905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865905">(Nov 09 2021 at 21:41)</a>:</h4>
<p>How does inherent assoc item lookup work?</p>



<a name="260865986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260865986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260865986">(Nov 09 2021 at 21:42)</a>:</h4>
<p>it hard-codes all the <code>#[lang = "f32_impl"]</code> items</p>



<a name="260866022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260866022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260866022">(Nov 09 2021 at 21:42)</a>:</h4>
<p>which uhhh doesn't work for traits lol</p>



<a name="260866043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260866043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260866043">(Nov 09 2021 at 21:42)</a>:</h4>
<p>Hmm, I see</p>



<a name="260866210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260866210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260866210">(Nov 09 2021 at 21:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/help.20with.20.2390703/near/260865877">said</a>:</p>
<blockquote>
<p>there's some query that takes a ty::Ty and gives you the trait impls I think</p>
</blockquote>
<p>^ <span class="user-mention" data-user-id="273271">@Ryan Geary</span> this is what I would suggest trying to figure out</p>



<a name="260866593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260866593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Geary <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260866593">(Nov 09 2021 at 21:47)</a>:</h4>
<p>Ok thanks, I'll look into it! Appreciate the help</p>



<a name="260866705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260866705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260866705">(Nov 09 2021 at 21:48)</a>:</h4>
<p>and uhh sorry for marking this issue as easy <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> I don't think it will be <em>terribly</em> difficult but definitely not as simple as "call this function"</p>



<a name="260866850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/260866850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Geary <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#260866850">(Nov 09 2021 at 21:49)</a>:</h4>
<p>No worries at all! I'm willing to dig deeper, just figured I would see if you all had any pointers in the right direction for me as i spent a decent amount of time looking around just now</p>



<a name="261071704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261071704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Geary <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261071704">(Nov 10 2021 at 23:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/help.20with.20.2390703/near/260866210">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/help.20with.20.2390703/near/260865877">said</a>:</p>
<blockquote>
<p>there's some query that takes a ty::Ty and gives you the trait impls I think</p>
</blockquote>
<p>^ <span class="user-mention silent" data-user-id="273271">Ryan Geary</span> this is what I would suggest trying to figure out</p>
</blockquote>
<p>I think you are referring to <code>traits_implemented_by</code>: <a href="https://github.com/rust-lang/rust/blob/495322d776fd6f679cd8cd4ca02b8fa834da654b/src/librustdoc/passes/collect_intra_doc_links.rs#L759">https://github.com/rust-lang/rust/blob/495322d776fd6f679cd8cd4ca02b8fa834da654b/src/librustdoc/passes/collect_intra_doc_links.rs#L759</a>, which is actually used by <code>resolve_associated_trait_item</code>. In order to use either, I require the DefId of the module. Can I get a nudge in the right direction for getting the module DefId for a primitive?</p>



<a name="261075355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261075355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261075355">(Nov 11 2021 at 00:13)</a>:</h4>
<p>this is actually the module where the <em>link</em> is being resolved, not the module where the primitive is defined (which is good, because primitives are lang items and not actually defined in a module)</p>



<a name="261075423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261075423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261075423">(Nov 11 2021 at 00:14)</a>:</h4>
<p>it's available as a parameter to <code>resolve_associated_item</code>: <a href="https://github.com/rust-lang/rust/blob/495322d776fd6f679cd8cd4ca02b8fa834da654b/src/librustdoc/passes/collect_intra_doc_links.rs#L582">https://github.com/rust-lang/rust/blob/495322d776fd6f679cd8cd4ca02b8fa834da654b/src/librustdoc/passes/collect_intra_doc_links.rs#L582</a></p>



<a name="261075508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261075508" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261075508">(Nov 11 2021 at 00:15)</a>:</h4>
<p>I was actually talking about <code>find_map_relevant_impl</code>, which traits_implemented_by uses, but most of the logic for <code>traits_implemented_by</code> and your primitive version will be the same</p>



<a name="261075583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261075583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261075583">(Nov 11 2021 at 00:16)</a>:</h4>
<p>so I think the proper thing is to change <code>traits_implemented_by</code> to take a <code>ty::Ty</code> instead of a DefId and change the current call to pass in <code>tcx.type_of(def_id)</code>: <a href="https://github.com/rust-lang/rust/blob/495322d776fd6f679cd8cd4ca02b8fa834da654b/src/librustdoc/passes/collect_intra_doc_links.rs#L742">https://github.com/rust-lang/rust/blob/495322d776fd6f679cd8cd4ca02b8fa834da654b/src/librustdoc/passes/collect_intra_doc_links.rs#L742</a></p>



<a name="261075779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261075779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261075779">(Nov 11 2021 at 00:18)</a>:</h4>
<p>err actually that will mean you have to duplicate the logic in <code>resolve_associated_trait_item</code> too which is not great</p>



<a name="261075948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261075948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261075948">(Nov 11 2021 at 00:20)</a>:</h4>
<p>so maybe change <code>resolve_associated_trait_item</code> to take a Ty instead - my idea is that <a href="https://github.com/rust-lang/rust/blob/495322d776fd6f679cd8cd4ca02b8fa834da654b/src/librustdoc/passes/collect_intra_doc_links.rs#L587">https://github.com/rust-lang/rust/blob/495322d776fd6f679cd8cd4ca02b8fa834da654b/src/librustdoc/passes/collect_intra_doc_links.rs#L587</a> will look like <code>self.resolve_primitive_associated_item(prim, ns, item_name).or_else(|| self.resolve_associated_trait_item(prim))</code> (and maybe also rename <code>resolve_primitive_associated_item</code> to <code>resolve_primitive_inherent_assoc_item</code> to make it clear it doesn't include traits)</p>



<a name="261342099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261342099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261342099">(Nov 13 2021 at 05:44)</a>:</h4>
<p><span class="user-mention" data-user-id="273271">@Ryan Geary</span> I know I kind of blasted a wall of text - did it make sense? Can I explain it better or do you just need some time to sit down and work on it?</p>



<a name="261358255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261358255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Geary <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261358255">(Nov 13 2021 at 12:37)</a>:</h4>
<p>Yeah sorry I didn't respond lol. I think it makes sense, I just need to take some time to work through it. I'm kindof wrapping my head around the structure of everything. I was wondering if there's a right way to generate the rust docs for the compiler and/or librustdoc cause I tried a couple things but no success</p>



<a name="261358323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261358323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261358323">(Nov 13 2021 at 12:39)</a>:</h4>
<p><span class="user-mention" data-user-id="273271">@Ryan Geary</span>  <code>x.py doc --stage 1 src/librustdoc</code> should work</p>



<a name="261358339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261358339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261358339">(Nov 13 2021 at 12:39)</a>:</h4>
<p>But also, the docs are on <a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustdoc/index.html">https://doc.rust-lang.org/nightly/nightly-rustc/rustdoc/index.html</a> if you don't need to see your local changes</p>



<a name="261358398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261358398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Geary <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261358398">(Nov 13 2021 at 12:40)</a>:</h4>
<p>Oh shoot I think my mistake was thinking I needed to do stage0 for some reason. But the hosted docs should be fine anyway, I don't know why I didn't think of that</p>



<a name="261358414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261358414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Geary <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261358414">(Nov 13 2021 at 12:41)</a>:</h4>
<p>Actually I think I was trying to generate them to include private items iirc</p>



<a name="261358470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261358470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261358470">(Nov 13 2021 at 12:42)</a>:</h4>
<p>They already include private items :)</p>



<a name="261358483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261358483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261358483">(Nov 13 2021 at 12:43)</a>:</h4>
<p>(basically all of rustdoc is private so they wouldn't be very useful otherwise)</p>



<a name="261358669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261358669" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Geary <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261358669">(Nov 13 2021 at 12:47)</a>:</h4>
<p>That makes a lot of sense <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> I probably should have done a little more research on that front</p>



<a name="261358675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261358675" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261358675">(Nov 13 2021 at 12:47)</a>:</h4>
<p>Haha no worries :)</p>



<a name="261453115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261453115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Geary <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261453115">(Nov 15 2021 at 03:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/help.20with.20.2390703/near/261075948">said</a>:</p>
<blockquote>
<p>so maybe change <code>resolve_associated_trait_item</code> to take a Ty instead - my idea is that <a href="https://github.com/rust-lang/rust/blob/495322d776fd6f679cd8cd4ca02b8fa834da654b/src/librustdoc/passes/collect_intra_doc_links.rs#L587">https://github.com/rust-lang/rust/blob/495322d776fd6f679cd8cd4ca02b8fa834da654b/src/librustdoc/passes/collect_intra_doc_links.rs#L587</a> will look like <code>self.resolve_primitive_associated_item(prim, ns, item_name).or_else(|| self.resolve_associated_trait_item(prim))</code> (and maybe also rename <code>resolve_primitive_associated_item</code> to <code>resolve_primitive_inherent_assoc_item</code> to make it clear it doesn't include traits)</p>
</blockquote>
<p>I'm not sure I'm convinced about this. <code>traits_implemented_by</code> uses <code>tcx::type_of</code>to go from the DefId passed in to a ty::Ty, but calling that with <code>Res::Primitive(prim).def_id()</code> is causing it to panic and say "Not a type" in the panic. I'll keep digging, probably tomorrow evening.</p>



<a name="261474850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/261474850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#261474850">(Nov 15 2021 at 09:32)</a>:</h4>
<p>Oh sorry - yeah you'll need to manually match on the primitive, you can't just call type_of (since that gives you the DefId of the module like I told Camelid above).</p>



<a name="262836175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/262836175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#262836175">(Nov 26 2021 at 21:33)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="273271">@Ryan Geary</span>, I know it's thanksgiving week but I just wanted to check on how things are going :) feel free to ask if things are confusing!</p>



<a name="262837105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/262837105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Geary <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#262837105">(Nov 26 2021 at 21:53)</a>:</h4>
<p>I am a bit confused and probably have a question or two for you, but I'll have to get back to you early next week! Thanks for bearing with me</p>



<a name="262837195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/262837195" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#262837195">(Nov 26 2021 at 21:55)</a>:</h4>
<p>Sounds like a plan! No worries, take your time :)</p>



<a name="266445528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/help%20with%20%2390703/near/266445528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mahdi Dibaiee <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/help.20with.20.2390703.html#266445528">(Dec 30 2021 at 17:54)</a>:</h4>
<p>For the record: I've picked up this task and there is now a PR: <a href="https://github.com/rust-lang/rust/pull/92443#issuecomment-1003126559">https://github.com/rust-lang/rust/pull/92443#issuecomment-1003126559</a><br>
Further discussions in the PR</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>