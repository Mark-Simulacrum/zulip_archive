<html>
<head><meta charset="utf-8"><title>Possible x.py error in rustdoc ch in dev guide · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Possible.20x.2Epy.20error.20in.20rustdoc.20ch.20in.20dev.20guide.html">Possible x.py error in rustdoc ch in dev guide</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="266384706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Possible%20x.py%20error%20in%20rustdoc%20ch%20in%20dev%20guide/near/266384706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick12 <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Possible.20x.2Epy.20error.20in.20rustdoc.20ch.20in.20dev.20guide.html#266384706">(Dec 29 2021 at 22:34)</a>:</h4>
<p><a href="https://rustc-dev-guide.rust-lang.org/rustdoc.html">https://rustc-dev-guide.rust-lang.org/rustdoc.html</a> says </p>
<blockquote>
<p>Run ./x.py setup tools before getting started. This will configure x.py with nice settings for developing rustdoc and other tools, including downloading a copy of rustc rather than building it.</p>
</blockquote>
<p>I just tried this and got</p>
<blockquote>
<p>error: unknown profile: 'tools'<br>
help: the available profiles are:<br>
- library: Contribute to the standard library<br>
- compiler: Contribute to the compiler or rustdoc<br>
- codegen: Contribute to the compiler, and also modify LLVM or codegen<br>
- user: Install Rust from source<br>
failed to run: D:\dev\rust\build\bootstrap\debug\bootstrap setup tools<br>
Build completed unsuccessfully in 0:01:24</p>
</blockquote>
<p>Are the docs wrong? Should I send a PR to change "setup tools" to "setup compiler" ?</p>



<a name="266387000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Possible%20x.py%20error%20in%20rustdoc%20ch%20in%20dev%20guide/near/266387000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Possible.20x.2Epy.20error.20in.20rustdoc.20ch.20in.20dev.20guide.html#266387000">(Dec 29 2021 at 23:10)</a>:</h4>
<p>that's odd! I wrote that part of the docs, and I just retested now- <code>./x.py setup tools</code> works for me. I assume you've got an up-to-date checkout?</p>



<a name="266387029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Possible%20x.py%20error%20in%20rustdoc%20ch%20in%20dev%20guide/near/266387029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Possible.20x.2Epy.20error.20in.20rustdoc.20ch.20in.20dev.20guide.html#266387029">(Dec 29 2021 at 23:11)</a>:</h4>
<p>Note: I'm testing on Linux. I guess it's possible there's a different set of profiles available on windows?</p>



<a name="266387115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Possible%20x.py%20error%20in%20rustdoc%20ch%20in%20dev%20guide/near/266387115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Possible.20x.2Epy.20error.20in.20rustdoc.20ch.20in.20dev.20guide.html#266387115">(Dec 29 2021 at 23:12)</a>:</h4>
<p>Here's a snippet of my output from -h setup:</p>
<div class="codehilite"><pre><span></span><code>./x.py -h setup
...
Arguments:
    This subcommand accepts a &#39;profile&#39; to use for builds. For example:

        ./x.py setup library

    The profile is optional and you will be prompted interactively if it is not given.
    The following profiles are available:

        library: Contribute to the standard library
        compiler: Contribute to the compiler itself
        codegen: Contribute to the compiler, and also modify LLVM or codegen
        tools: Contribute to tools which depend on the compiler, but do not modify it directly (e.g. rustdoc, clippy, miri)
        user: Install Rust from source
</code></pre></div>



<a name="266387923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Possible%20x.py%20error%20in%20rustdoc%20ch%20in%20dev%20guide/near/266387923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick12 <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Possible.20x.2Epy.20error.20in.20rustdoc.20ch.20in.20dev.20guide.html#266387923">(Dec 29 2021 at 23:25)</a>:</h4>
<p>Youre right, sorry! I'm 26500 commits behind. I did a git pull earlier but apparently it failed because of a conflict on some rustfmt files and I didn't check<br>
I guess I just wasted 30 mins compiling LLVM :P<br>
<a href="/user_uploads/4715/jBdh4fKDgFHW05cDAMl2Bb0Z/imagen.png">imagen.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/jBdh4fKDgFHW05cDAMl2Bb0Z/imagen.png" title="imagen.png"><img src="/user_uploads/4715/jBdh4fKDgFHW05cDAMl2Bb0Z/imagen.png"></a></div>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>