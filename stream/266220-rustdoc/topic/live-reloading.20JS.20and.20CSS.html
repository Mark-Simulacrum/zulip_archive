<html>
<head><meta charset="utf-8"><title>live-reloading JS and CSS · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html">live-reloading JS and CSS</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="260582794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260582794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260582794">(Nov 07 2021 at 16:23)</a>:</h4>
<p>As long as we're talking about rustdoc dev, it's doable by simply copying the files.</p>



<a name="260582861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260582861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260582861">(Nov 07 2021 at 16:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/unstable.20features/near/260582794">said</a>:</p>
<blockquote>
<p>As long as we're talking about rustdoc dev, it's doable by simply copying the files.</p>
</blockquote>
<p>that's annoying to do though, since you have to know the exact file paths and things - it would be nice to build it into x.py somehow</p>



<a name="260582877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260582877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260582877">(Nov 07 2021 at 16:25)</a>:</h4>
<p>no I meant automatically with bootstrap script</p>



<a name="260582878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260582878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260582878">(Nov 07 2021 at 16:25)</a>:</h4>
<p>right - and that's how I often do it. But you wind up with, for instance, the <code>[+]</code> disappearing because they are displayed by CSS, and the CSS is injected and doc-build time since it contains a path to an SVG.</p>



<a name="260582904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260582904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260582904">(Nov 07 2021 at 16:25)</a>:</h4>
<p>I'd love to have this as well considering it's quite annoying for now to debug</p>



<a name="260583035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260583035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260583035">(Nov 07 2021 at 16:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="315412">jsha</span> <a href="#narrow/stream/266220-rustdoc/topic/unstable.20features/near/260582878">said</a>:</p>
<blockquote>
<p>right - and that's how I often do it. But you wind up with, for instance, the <code>[+]</code> disappearing because they are displayed by CSS, and the CSS is injected and doc-build time since it contains a path to an SVG.</p>
</blockquote>
<p>If bootstrap /x.py copies files instead of recompiling everything, it should be fine no?</p>



<a name="260583475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260583475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260583475">(Nov 07 2021 at 16:38)</a>:</h4>
<p>I don't think I understand. Copies files from src/librustdoc/html/static? Or copies files from a previous build?</p>



<a name="260585873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260585873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260585873">(Nov 07 2021 at 17:25)</a>:</h4>
<p>From the static folder directly when doing local rustdoc debugging</p>



<a name="260585920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260585920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260585920">(Nov 07 2021 at 17:26)</a>:</h4>
<p>(in the rust repository)</p>



<a name="260610088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260610088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260610088">(Nov 08 2021 at 02:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS/near/260582733">said</a>:</p>
<blockquote>
<p>yeah, adding a compile-time "dev mode" feature seems like a better approach than exposing this to all users</p>
</blockquote>
<p>That sounds like a good idea, but even just renaming these flags to something like <code>-Z internal-disable-minification</code> might be a good start.</p>



<a name="260610145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260610145" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260610145">(Nov 08 2021 at 02:48)</a>:</h4>
<p>ehh, I would rather just have a tracking issue that mentions they're perma-unstable - rustc has plenty of perma-unstable options that don't have a prefix</p>



<a name="260610229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260610229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260610229">(Nov 08 2021 at 02:50)</a>:</h4>
<p>Sure, we could skip the <code>internal-</code> part. But using <code>-Z</code> once <a href="https://github.com/rust-lang/rust/issues/88831">#88831</a> lands might still give a stronger indication that the flags are internal-only</p>



<a name="260610314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260610314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260610314">(Nov 08 2021 at 02:52)</a>:</h4>
<p>I don't see -Z as a strong indicator of a difference though? e.g. <code>-Z gcc-ld</code> and <code>-Z emit-future-incompat-report</code> are debugging flags but they don't seem perma-unstable to me</p>



<a name="260610331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260610331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260610331">(Nov 08 2021 at 02:53)</a>:</h4>
<p>Hmm, I guess. Somehow <code>-Z</code> just hints slightly more to me that the flags are internal-only (like <code>-Z unpretty</code>)</p>



<a name="260610336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260610336" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260610336">(Nov 08 2021 at 02:53)</a>:</h4>
<blockquote>
<p>E.g., in rustdoc --document-private-items --disable-minification -Zunstable-options there's no way to tell what's unstable</p>
</blockquote>
<p>yeah that's fair - do you happen to know how much rustc uses unstable-options?</p>



<a name="260610707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/live-reloading%20JS%20and%20CSS/near/260610707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/live-reloading.20JS.20and.20CSS.html#260610707">(Nov 08 2021 at 03:01)</a>:</h4>
<p>I'm not sure, but IME much less than rustdoc</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>