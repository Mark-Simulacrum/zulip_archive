<html>
<head><meta charset="utf-8"><title>Intra-doc links for pointers? · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html">Intra-doc links for pointers?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="262639531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262639531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262639531">(Nov 24 2021 at 20:58)</a>:</h4>
<p>Hi folks!  I had <a href="https://github.com/rust-lang/rust/pull/91127">my PR</a> fail <a href="https://github.com/rust-lang/rust/runs/4285011951?check_suite_focus=true">(web)</a> <a href="https://github.com/rust-lang/rust/commit/875e01e6166d4b5dea370023564703968a3cd92a/checks/4285011951/logs">(plain)</a> when I tried to use intra-doc links to link to a pointer method.</p>
<div class="codehilite" data-code-language="plain"><pre><span></span><code>error: unresolved link to `Self::from_bits`
  --&gt; library/core/src/ptr/const_ptr.rs:54:33
   |
54 |     /// The inverse method is [`Self::from_bits`].
   |                                 ^^^^^^^^^^^^^^^ no item named `Self` in scope
</code></pre></div>
<p>I unblocked myself by linking manually, but is this supposed to work?  I could totally understand if "inherent" impls on primitive types are weird.</p>



<a name="262639844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262639844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262639844">(Nov 24 2021 at 21:00)</a>:</h4>
<p>uhh yeah raw pointers and references especially are kind of hacky, I wouldn't be surprised if there are bugs here/</p>



<a name="262639859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262639859" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262639859">(Nov 24 2021 at 21:00)</a>:</h4>
<p>could you open an issue?</p>



<a name="262639945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262639945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262639945">(Nov 24 2021 at 21:01)</a>:</h4>
<p>(support for <code>Self</code> in general is super hacky but it's a pain to fix)</p>



<a name="262643684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262643684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262643684">(Nov 24 2021 at 21:44)</a>:</h4>
<p>Yeah, and even using <code>[`pointer::from_bits`]</code> wouldn't quite work since it may not link to the correct mutability</p>



<a name="262644187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644187">(Nov 24 2021 at 21:50)</a>:</h4>
<p>IIRC I tried <code> [`&lt;*const T&gt;::from_bits`] </code> too, without that working.</p>
<p>I'll open an issue.</p>



<a name="262644233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644233">(Nov 24 2021 at 21:51)</a>:</h4>
<p><code>*const::</code> should have worked</p>



<a name="262644241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644241" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644241">(Nov 24 2021 at 21:51)</a>:</h4>
<p>(maybe not the most intuitive syntax)</p>



<a name="262644521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644521" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644521">(Nov 24 2021 at 21:55)</a>:</h4>
<p>Note that <code>*const</code> may actually link to <code>*mut</code> (that's why it requires a feature gate, since we should fix this)</p>



<a name="262644691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644691" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644691">(Nov 24 2021 at 21:57)</a>:</h4>
<p>Opened <a href="https://github.com/rust-lang/rust/issues/91204">https://github.com/rust-lang/rust/issues/91204</a></p>
<p>What would you suggest I use in the PR, if the <code>-1</code> isn't consistent and <code>*const</code> might link to the wrong one?</p>



<a name="262644711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644711">(Nov 24 2021 at 21:57)</a>:</h4>
<p>there is not a good alternative at this time</p>



<a name="262644721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644721">(Nov 24 2021 at 21:57)</a>:</h4>
<p>you can use relative links but those will break on re-exports</p>



<a name="262644779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644779">(Nov 24 2021 at 21:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F/near/262644721">said</a>:</p>
<blockquote>
<p>you can use relative links but those will break on re-exports</p>
</blockquote>
<p>I think just plain anchors work though? (Like in the current PR)</p>



<a name="262644787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644787">(Nov 24 2021 at 21:58)</a>:</h4>
<p>Roger.  I'll leave my PR as-is, then.</p>



<a name="262644804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644804">(Nov 24 2021 at 21:58)</a>:</h4>
<p>Yeah, the summary is basically "this doesn't work great right now" :P</p>



<a name="262644847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644847">(Nov 24 2021 at 21:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307537">Noah Lev</span> <a href="#narrow/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F/near/262644779">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F/near/262644721">said</a>:</p>
<blockquote>
<p>you can use relative links but those will break on re-exports</p>
</blockquote>
<p>I think just plain anchors work though? (Like in the current PR)</p>
</blockquote>
<p>they can break if this is a trait you implement I think ...</p>



<a name="262644875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262644875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262644875">(Nov 24 2021 at 21:59)</a>:</h4>
<p>or if another type derefs to the original type</p>



<a name="262645037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262645037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262645037">(Nov 24 2021 at 22:00)</a>:</h4>
<p>Or if it's in the first line</p>



<a name="262645057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262645057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262645057">(Nov 24 2021 at 22:01)</a>:</h4>
<p>(because the modules show the first lines of the visible items)</p>



<a name="262645175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262645175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262645175">(Nov 24 2021 at 22:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F/near/262645057">said</a>:</p>
<blockquote>
<p>(because the modules show the first lines of the visible items)</p>
</blockquote>
<p>Yeah, that's a good point too.</p>



<a name="262645317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Intra-doc%20links%20for%20pointers%3F/near/262645317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Intra-doc.20links.20for.20pointers.3F.html#262645317">(Nov 24 2021 at 22:04)</a>:</h4>
<p>I remember it well because it was one of the main cause of broken links a few years back</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>