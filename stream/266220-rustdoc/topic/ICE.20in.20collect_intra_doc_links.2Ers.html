<html>
<head><meta charset="utf-8"><title>ICE in collect_intra_doc_links.rs · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ICE.20in.20collect_intra_doc_links.2Ers.html">ICE in collect_intra_doc_links.rs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="276565722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ICE%20in%20collect_intra_doc_links.rs/near/276565722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ICE.20in.20collect_intra_doc_links.2Ers.html#276565722">(Mar 25 2022 at 02:46)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/runs/5686088352?check_suite_focus=true">https://github.com/rust-lang/rust/runs/5686088352?check_suite_focus=true</a></p>



<a name="276565880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ICE%20in%20collect_intra_doc_links.rs/near/276565880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ICE.20in.20collect_intra_doc_links.2Ers.html#276565880">(Mar 25 2022 at 02:47)</a>:</h4>
<p>Could use some help debugging this. (I'm guessing there's some issue with intra-doc links I added/edited, but without more than that ICE to go on I don't know what the issue is.)</p>



<a name="276586201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ICE%20in%20collect_intra_doc_links.rs/near/276586201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ICE.20in.20collect_intra_doc_links.2Ers.html#276586201">(Mar 25 2022 at 08:02)</a>:</h4>
<p>The issue is that rustdoc forgets to add traits in scope for <code>library/std/src/ffi/mod.rs</code>, so it ICEs when encountering any doc link with associated items there.<br>
This will certainly be fixed by <a href="https://github.com/rust-lang/rust/pull/94857">https://github.com/rust-lang/rust/pull/94857</a>, but it's possible to extract the fix to a separate PR too.</p>



<a name="276654619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ICE%20in%20collect_intra_doc_links.rs/near/276654619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ICE.20in.20collect_intra_doc_links.2Ers.html#276654619">(Mar 25 2022 at 17:39)</a>:</h4>
<p>Ah, thank you, that looks helpful. I'll go with the workaround for now and roll back the workaround when such a fix goes in.</p>



<a name="277954805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/ICE%20in%20collect_intra_doc_links.rs/near/277954805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/ICE.20in.20collect_intra_doc_links.2Ers.html#277954805">(Apr 05 2022 at 22:55)</a>:</h4>
<p>This should be fixed in <a href="https://github.com/rust-lang/rust/pull/95706">https://github.com/rust-lang/rust/pull/95706</a>.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>