<html>
<head><meta charset="utf-8"><title>deny warnings in rustdoc html tests · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/deny.20warnings.20in.20rustdoc.20html.20tests.html">deny warnings in rustdoc html tests</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="262835673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/deny%20warnings%20in%20rustdoc%20html%20tests/near/262835673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/deny.20warnings.20in.20rustdoc.20html.20tests.html#262835673">(Nov 26 2021 at 21:23)</a>:</h4>
<p>Warnings for tests in <code>src/test/rustdoc</code> are silently ignored because there's no stderr file for compiler output. What do you think of having compiletest deny warnings in those tests?</p>



<a name="262835733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/deny%20warnings%20in%20rustdoc%20html%20tests/near/262835733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/deny.20warnings.20in.20rustdoc.20html.20tests.html#262835733">(Nov 26 2021 at 21:24)</a>:</h4>
<p>oh that's an <em>excellent</em> idea</p>



<a name="262835735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/deny%20warnings%20in%20rustdoc%20html%20tests/near/262835735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/deny.20warnings.20in.20rustdoc.20html.20tests.html#262835735">(Nov 26 2021 at 21:24)</a>:</h4>
<p>I never thought of doing that <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="262835786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/deny%20warnings%20in%20rustdoc%20html%20tests/near/262835786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/deny.20warnings.20in.20rustdoc.20html.20tests.html#262835786">(Nov 26 2021 at 21:25)</a>:</h4>
<p>can you make a pr for that? :)</p>



<a name="262838073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/deny%20warnings%20in%20rustdoc%20html%20tests/near/262838073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/deny.20warnings.20in.20rustdoc.20html.20tests.html#262838073">(Nov 26 2021 at 22:11)</a>:</h4>
<p>Sure :)</p>



<a name="262838681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/deny%20warnings%20in%20rustdoc%20html%20tests/near/262838681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/deny.20warnings.20in.20rustdoc.20html.20tests.html#262838681">(Nov 26 2021 at 22:18)</a>:</h4>
<p>It would also be nice to add a tidy check for rustdoc/ tests without any checks in them, those don't actually do anything (I don't think they even check it compiles)</p>



<a name="262839498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/deny%20warnings%20in%20rustdoc%20html%20tests/near/262839498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/deny.20warnings.20in.20rustdoc.20html.20tests.html#262839498">(Nov 26 2021 at 22:34)</a>:</h4>
<p>Can you open an issue for that?</p>



<a name="262841955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/deny%20warnings%20in%20rustdoc%20html%20tests/near/262841955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/deny.20warnings.20in.20rustdoc.20html.20tests.html#262841955">(Nov 26 2021 at 23:24)</a>:</h4>
<p>PR for denying warnings (and fixing the existing warnings) is up: <a href="https://github.com/rust-lang/rust/issues/91275">#91275</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>