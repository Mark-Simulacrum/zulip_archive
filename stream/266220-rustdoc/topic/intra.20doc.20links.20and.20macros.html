<html>
<head><meta charset="utf-8"><title>intra doc links and macros · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html">intra doc links and macros</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="221182978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221182978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221182978">(Dec 30 2020 at 01:39)</a>:</h4>
<p><span class="user-mention" data-user-id="245610">@Jacob Pratt</span> about <a href="https://github.com/rust-lang/rust/issues/72243#issuecomment-719122429">https://github.com/rust-lang/rust/issues/72243#issuecomment-719122429</a> - I tried checking out <a href="https://github.com/time-rs/time/blob/3d07c20eb94670981a9fe7435bd0b2339cccdc96/src/lib.rs#L282-L297">https://github.com/time-rs/time/blob/3d07c20eb94670981a9fe7435bd0b2339cccdc96/src/lib.rs#L282-L297</a> to see the error, but git tells me the commit doesn't exist:</p>
<div class="codehilite"><pre><span></span><code>$ git checkout 3d07c20eb94670981a9fe7435bd0b2339cccdc96
fatal: reference is not a tree: 3d07c20eb94670981a9fe7435bd0b2339cccdc96
</code></pre></div>
<p>and then I tried a commit with the same name (<a href="https://github.com/time-rs/time/blob/5fa1ab1047b74ecb15b108d277ec7aedf7de83e6/src/lib.rs#L282-L297">https://github.com/time-rs/time/blob/5fa1ab1047b74ecb15b108d277ec7aedf7de83e6/src/lib.rs#L282-L297</a>) but that didn't give any errors</p>



<a name="221183021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183021" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183021">(Dec 30 2020 at 01:40)</a>:</h4>
<p>(yes, I'm just now getting back to that two months later)</p>



<a name="221183062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183062" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183062">(Dec 30 2020 at 01:41)</a>:</h4>
<p>I'd expect this to be related to <a href="https://github.com/rust-lang/rust/issues/74355">https://github.com/rust-lang/rust/issues/74355</a> somehow, though</p>



<a name="221183066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183066">(Dec 30 2020 at 01:41)</a>:</h4>
<p>there's a lot of bugs around macros currently</p>



<a name="221183494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183494" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183494">(Dec 30 2020 at 01:52)</a>:</h4>
<p>Unless the behavior has changed in the meantime, the current head commit on main will likely still have this.</p>



<a name="221183513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183513">(Dec 30 2020 at 01:53)</a>:</h4>
<p>oh I need to pass <code>--cfg __time_03_docs</code> I think</p>



<a name="221183519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183519">(Dec 30 2020 at 01:53)</a>:</h4>
<p>nope, still no errors</p>



<a name="221183623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183623">(Dec 30 2020 at 01:56)</a>:</h4>
<p><span class="user-mention" data-user-id="245610">@Jacob Pratt</span> what do you mean by 'have this'?</p>



<a name="221183636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183636">(Dec 30 2020 at 01:56)</a>:</h4>
<p>I don't think it actually errored, just silently didn't work. I'd have to check when I'm back on my laptop, though.</p>



<a name="221183640"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183640" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183640">(Dec 30 2020 at 01:57)</a>:</h4>
<p>hmm, ok, I'll take a look at the docs</p>



<a name="221183654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183654">(Dec 30 2020 at 01:57)</a>:</h4>
<blockquote>
<p>rename time-macros/{src =&gt; }/lib.rs (54%)</p>
</blockquote>
<p>ayy someone else who thinks <code>src/</code> in nested crates is dumb <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="221183699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183699">(Dec 30 2020 at 01:58)</a>:</h4>
<p>One file wasn't worth it in my editor lol</p>



<a name="221183717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183717">(Dec 30 2020 at 01:58)</a>:</h4>
<p>exactly <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="221183801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183801">(Dec 30 2020 at 02:00)</a>:</h4>
<p>The docs for main are published at <a href="http://time-rs.github.io">time-rs.github.io</a>, by the way.</p>



<a name="221183816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183816" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183816">(Dec 30 2020 at 02:01)</a>:</h4>
<p><span class="user-mention" data-user-id="245610">@Jacob Pratt</span> ok I found the issue, it links as <code>crate::PrimitiveDateTime</code> on stable and time/struct.PrimitiveDateTime.html on nightly</p>



<a name="221183830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183830">(Dec 30 2020 at 02:01)</a>:</h4>
<p>so this was <a href="https://github.com/rust-lang/rust/pull/77253">https://github.com/rust-lang/rust/pull/77253</a> and not related to macros at all</p>



<a name="221183875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183875">(Dec 30 2020 at 02:02)</a>:</h4>
<p>Guess you were on top of it the whole time!</p>



<a name="221183882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183882">(Dec 30 2020 at 02:02)</a>:</h4>
<p>It's been long enough that I don't even really remember what the bug was haha</p>



<a name="221183921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183921">(Dec 30 2020 at 02:03)</a>:</h4>
<p>yeah I really wish rustdoc would report these as errors instead of swallowing it <a href="https://github.com/rust-lang/rust/issues/77200">https://github.com/rust-lang/rust/issues/77200</a></p>



<a name="221183961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183961">(Dec 30 2020 at 02:04)</a>:</h4>
<p>but <span class="user-mention silent" data-user-id="132040">Manish Goregaokar</span> and others thought that getting warnings from your dependencies you can't fix is bad</p>



<a name="221183971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183971">(Dec 30 2020 at 02:04)</a>:</h4>
<p>Actually reading my previous comment, that no wholly longer applies as I removed the prelude.</p>



<a name="221183976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183976">(Dec 30 2020 at 02:04)</a>:</h4>
<p>But that might be misunderstanding what I said before</p>



<a name="221183993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183993">(Dec 30 2020 at 02:05)</a>:</h4>
<p>tbh since you don't remember what the issue was and this works on nightly I'm inclined to let it go :P</p>



<a name="221183997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221183997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221183997">(Dec 30 2020 at 02:05)</a>:</h4>
<p>Works for me <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span>‍♂️</p>



<a name="221184048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221184048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221184048">(Dec 30 2020 at 02:06)</a>:</h4>
<p>apparently zulip doesn't understand how emojis work lol <a href="/user_uploads/4715/pgAetZE_aFSRi5kMSEr_jxHs/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/pgAetZE_aFSRi5kMSEr_jxHs/image.png" title="image.png"><img src="/user_uploads/4715/pgAetZE_aFSRi5kMSEr_jxHs/image.png"></a></div>



<a name="221184062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/intra%20doc%20links%20and%20macros/near/221184062" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/intra.20doc.20links.20and.20macros.html#221184062">(Dec 30 2020 at 02:07)</a>:</h4>
<p>Same on mobile</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>