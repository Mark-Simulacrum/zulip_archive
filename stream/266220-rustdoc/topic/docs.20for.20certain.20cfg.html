<html>
<head><meta charset="utf-8"><title>docs for certain cfg · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/docs.20for.20certain.20cfg.html">docs for certain cfg</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261339928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/docs%20for%20certain%20cfg/near/261339928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/docs.20for.20certain.20cfg.html#261339928">(Nov 13 2021 at 04:55)</a>:</h4>
<p>Now that <code>doc_cfg</code> is in a relatively good state, how difficult would it be to add a setting where the enabled features/cfgs can be toggled? It would be pretty neat imo if I could say "I have these features enabled" and just see what I can use and nothing else. Would also be useful for OS-level differences.</p>



<a name="261341382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/docs%20for%20certain%20cfg/near/261341382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/docs.20for.20certain.20cfg.html#261341382">(Nov 13 2021 at 05:27)</a>:</h4>
<p>I have two comments:</p>
<ol>
<li>I think we should be focusing on stabilizing existing features, not adding new ones. Rustdoc has a <em>lot</em> of unstable features that have been in limbo for a very long time (see <a href="#narrow/stream/266220-rustdoc/topic/unstable.20features">https://rust-lang.zulipchat.com/#narrow/stream/266220-rustdoc/topic/unstable.20features</a>). It also has quite a lot of technical debt that I've been trying to pay down for over a year now.</li>
<li><code>doc_cfg</code> has not gone through RFC and people keep trying to add more features to it (or changing existing features). I would like to see an RFC for it before making any further changes.</li>
</ol>



<a name="261341459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/docs%20for%20certain%20cfg/near/261341459" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/docs.20for.20certain.20cfg.html#261341459">(Nov 13 2021 at 05:29)</a>:</h4>
<p>Also, anything that adds more buttons to the frontend is an especially tough sell because it's already quite crowded; <span class="user-mention silent" data-user-id="315412">jsha</span> has been spending quite a lot of time trying to make the UI easier to read and everything we add regresses that a bit even if it's a great feature in isolation.</p>



<a name="261341523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/docs%20for%20certain%20cfg/near/261341523" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/docs.20for.20certain.20cfg.html#261341523">(Nov 13 2021 at 05:30)</a>:</h4>
<p>In short I agree this is a really cool feature to have but I don't think rustdoc is in a good place to add it right now.</p>



<a name="261341681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/docs%20for%20certain%20cfg/near/261341681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/docs.20for.20certain.20cfg.html#261341681">(Nov 13 2021 at 05:35)</a>:</h4>
<p>That said you can do this pretty easily at compile time by passing exactly the cfgs you want to show</p>



<a name="261341772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/docs%20for%20certain%20cfg/near/261341772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/docs.20for.20certain.20cfg.html#261341772">(Nov 13 2021 at 05:37)</a>:</h4>
<p>Yeah...paying down existing technical debt is probably best. Some day! <span aria-label="fingers crossed" class="emoji emoji-1f91e" role="img" title="fingers crossed">:fingers_crossed:</span></p>



<a name="261341839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/docs%20for%20certain%20cfg/near/261341839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/docs.20for.20certain.20cfg.html#261341839">(Nov 13 2021 at 05:38)</a>:</h4>
<p>(I feel kind of guilty about saying this when rustdoc just added -Zscrape-examples and the jump to definition thing, but also the more big features we have baking the more reluctant it makes me to add more)</p>



<a name="261341859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/docs%20for%20certain%20cfg/near/261341859" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/docs.20for.20certain.20cfg.html#261341859">(Nov 13 2021 at 05:39)</a>:</h4>
<p>And FWIW I'm going to ask Guillaume to write an RFC for go to definition at some point</p>



<a name="261343211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/docs%20for%20certain%20cfg/near/261343211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/docs.20for.20certain.20cfg.html#261343211">(Nov 13 2021 at 06:10)</a>:</h4>
<p>Oh, don't worry about possibly hypocrisy haha. It was just a random thought I had that seemed interesting <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span> I fully understand that other things are and should be prioritized</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>