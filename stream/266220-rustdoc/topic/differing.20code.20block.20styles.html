<html>
<head><meta charset="utf-8"><title>differing code block styles · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/differing.20code.20block.20styles.html">differing code block styles</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="270173717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/differing%20code%20block%20styles/near/270173717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/differing.20code.20block.20styles.html#270173717">(Feb 01 2022 at 09:11)</a>:</h4>
<p>I realized today that we have two types of code block in rustdoc, and they use significantly different visual languages:</p>
<p>The top-doc code block only colors method and type names in traits:</p>
<p><a href="/user_uploads/4715/wia-S8kNQMHTGxX53zywBXVv/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/wia-S8kNQMHTGxX53zywBXVv/image.png" title="image.png"><img src="/user_uploads/4715/wia-S8kNQMHTGxX53zywBXVv/image.png"></a></div><p>The example code blocks use full syntax highlighting, coloring keywords and constants:</p>
<p><a href="/user_uploads/4715/jjWWyHvNkUh1-_QuXWEDav0F/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/jjWWyHvNkUh1-_QuXWEDav0F/image.png" title="image.png"><img src="/user_uploads/4715/jjWWyHvNkUh1-_QuXWEDav0F/image.png"></a></div><p>I'm not totally sure what to do about it, if anything. The links in the top-doc seem useful. But the inconsistency bugs me a little.</p>



<a name="270190017"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/differing%20code%20block%20styles/near/270190017" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/differing.20code.20block.20styles.html#270190017">(Feb 01 2022 at 11:09)</a>:</h4>
<p>I've noticed this! The source pages use the example colouring, but it looks different again because the examples are usually just a function body, whereas the source code includes signatures, attributes, etc</p>



<a name="270190133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/differing%20code%20block%20styles/near/270190133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/differing.20code.20block.20styles.html#270190133">(Feb 01 2022 at 11:10)</a>:</h4>
<p>I'd also note that although the syntax highlighting of signatures is useful, because the signatures are also titles I think it significantly contributes to the 'chaotic' feeling of rustdoc's design</p>



<a name="270200760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/differing%20code%20block%20styles/near/270200760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/differing.20code.20block.20styles.html#270200760">(Feb 01 2022 at 12:32)</a>:</h4>
<p>Yeah, agreed- and this was one of the suggestions in <a href="https://github.com/rust-lang/rust/issues/59845">https://github.com/rust-lang/rust/issues/59845</a>, to reduce the use of color somewhat. I think the colors of method signatures are probably too useful to get rid of, but I'd kind of like to get the code examples using a scheme that meaningfully relates to the scheme in use for the signature headings. For instance, the purple <code>let</code> above is close enough to the trait color that it might be confusing; there's also a blue for <code>mut</code> that is quite close to the link color.</p>



<a name="270200933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/differing%20code%20block%20styles/near/270200933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/differing.20code.20block.20styles.html#270200933">(Feb 01 2022 at 12:34)</a>:</h4>
<p>The top-doc example basically uses the same color scheme as the method signatures, though it looks slightly different from them because (a) it's on a grey background and (b) it's not bolded.</p>



<a name="270233307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/differing%20code%20block%20styles/near/270233307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/differing.20code.20block.20styles.html#270233307">(Feb 01 2022 at 15:50)</a>:</h4>
<p>Any improvement is very welcome! :D</p>



<a name="270612261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/differing%20code%20block%20styles/near/270612261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/differing.20code.20block.20styles.html#270612261">(Feb 03 2022 at 20:25)</a>:</h4>
<p>I've long been annoyed by the type-decl block not having full syntax highlighting. But it's somewhat tricky to "solve" because rustdoc wants to insert links etc. into it, so we can't just run the parser on it like with examples.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>