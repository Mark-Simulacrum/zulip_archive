<html>
<head><meta charset="utf-8"><title>UI design for scraped examples · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html">UI design for scraped examples</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269196385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269196385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269196385">(Jan 25 2022 at 01:25)</a>:</h4>
<p>(Migrating discussion from <a href="https://github.com/rust-lang/rust/issues/88791">#88791</a>)</p>
<p>I'd like to finalize the UI design for the scraped examples feature. Here are a few crates currently using it:</p>
<ul>
<li><a href="https://docs.rs/save/0.6.0-dev.1/save/cli/fn.init.html">save</a></li>
<li><a href="https://docs.rs/panda-re/0.26.0/panda/struct.Callback.html#method.new">panda-re</a></li>
<li><a href="https://docs.rs/with_lock/0.4.2/with_lock/struct.MutexCell.html">with_lock</a></li>
</ul>
<p>Based on the discussion in the thread, we have decided to highlight only function names and not the full call expression. It is unresolved whether to add further visual cues to distinguish the scraped examples block from the user-written documentation above it (cc <span class="user-mention" data-user-id="307537">@Noah Lev</span> and <span class="user-mention" data-user-id="315412">@jsha</span>).</p>



<a name="269197513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269197513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269197513">(Jan 25 2022 at 01:40)</a>:</h4>
<p>Thanks for starting the thread! <span class="user-mention" data-user-id="307537">@Noah Lev</span> what are your thoughts on why the scraped examples block should be visually distinct?</p>



<a name="269198654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269198654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269198654">(Jan 25 2022 at 01:53)</a>:</h4>
<p>also, I notice the scraped examples have line numbers by default, while doccomment examples do not. Was that intentional? I've been assuming it was meant as a contextual hint that there might be more lines not visible, but I figured I should ask rather than assume.</p>



<a name="269198729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269198729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269198729">(Jan 25 2022 at 01:55)</a>:</h4>
<p>I intentionally included line numbers in the scraped examples, since they correspond to real files. If the user opened up the file in a separate viewer, like Github or VSCode, it's helpful so they can quickly find the line range. </p>
<p>As to why doc-comment examples do not have line numbers, not sure.</p>



<a name="269198925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269198925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269198925">(Jan 25 2022 at 01:58)</a>:</h4>
<p>for the doccomment examples, I suspect it would just be distracting and redundant to see the numbers 1,2,3,4 over and over again. So many doccomments are so short they don't really need the line numbers.</p>



<a name="269199274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269199274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269199274">(Jan 25 2022 at 02:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="315412">jsha</span> <a href="#narrow/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples/near/269197513">said</a>:</p>
<blockquote>
<p>Thanks for starting the thread! <span class="user-mention silent" data-user-id="307537">Noah Lev</span> what are your thoughts on why the scraped examples block should be visually distinct?</p>
</blockquote>
<p><span class="user-mention" data-user-id="315412">@jsha</span> see <a href="https://github.com/rust-lang/rust/issues/88791#issuecomment-1020723808">https://github.com/rust-lang/rust/issues/88791#issuecomment-1020723808</a></p>



<a name="269199629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269199629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269199629">(Jan 25 2022 at 02:04)</a>:</h4>
<p>Got it. So, prior to Option 1/2/3, we have at least 2 visual distinguishers on scraped examples:</p>
<ul>
<li>Line numbers</li>
<li>The file name at the top of the example</li>
</ul>
<p>And that's in addition to the heading name "Examples found in the repository." Do you think those distinguishers are insufficient?</p>



<a name="269199750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269199750" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269199750">(Jan 25 2022 at 02:06)</a>:</h4>
<p>I just think it looks weird to render the heading "Examples found in the repository" the exact same way as a user-written heading.</p>



<a name="269199760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269199760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269199760">(Jan 25 2022 at 02:07)</a>:</h4>
<p>I don't have a great rational reason, other than it just looks off to me</p>



<a name="269200024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269200024" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269200024">(Jan 25 2022 at 02:11)</a>:</h4>
<p>ah, yeah - I see what you mean. It kind of "breaks the fourth wall" by mixing in rustdoc-generated UI with documentation author-generated UI. I feel like there are some other places we've run into that tricky issue.</p>



<a name="269200087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269200087" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269200087">(Jan 25 2022 at 02:12)</a>:</h4>
<p>But also, putting the example code in a box doesn't really resolve the fourth wall issue. The heading is still the same; and the contents could all have been written by the doc author.</p>



<a name="269200199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269200199" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269200199">(Jan 25 2022 at 02:14)</a>:</h4>
<p>ack, sorry, I have to bounce for dinner for a bit. <span class="user-mention" data-user-id="307537">@Noah Lev</span> would you be willing to try and proceed with the headings looking like they are now?</p>
<p>(I'll check back in a bit later this evening)</p>



<a name="269200485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269200485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269200485">(Jan 25 2022 at 02:19)</a>:</h4>
<p>Hmm, I'm not sure I'd want to turn the feature on by default with the headings this way. I could be convinced of it, but I would like to improve that aspect of the UI a bit before we stabilize/enable by default.</p>



<a name="269201346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269201346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269201346">(Jan 25 2022 at 02:31)</a>:</h4>
<p>Btw, once we get this question resolved, it would be good to merge <a href="https://github.com/rust-lang/rust/pull/93217">#93217</a>. Guillaume is on holiday so another reviewer would be appreciated.</p>



<a name="269202742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269202742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269202742">(Jan 25 2022 at 02:52)</a>:</h4>
<p>Ah, really? I didn't realize Guillaume was on holiday.</p>



<a name="269202848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269202848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269202848">(Jan 25 2022 at 02:54)</a>:</h4>
<p>I'll see if I can review it a bit, though I'm not sure how much time I'll have. I'll assign myself temporarily to remind myself.</p>



<a name="269209080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269209080" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269209080">(Jan 25 2022 at 04:38)</a>:</h4>
<p>I figured out where we ran into this before: <a href="https://github.com/rust-lang/rust/pull/90089#issuecomment-949960639">https://github.com/rust-lang/rust/pull/90089#issuecomment-949960639</a></p>
<p>For display of variant fields on enums, rustdoc generates a <code>Fields</code> heading. Based on feedback I went back and forth a little putting the <code>Fields</code> heading (and what came below it) either at the bottom of the docblock or the top.</p>
<p>We wound up deciding on the top, I think, because that made it look a little more like rustdoc-generated text. Alas we don't have that option here; the examples should definitely go at the bottom.</p>



<a name="269209803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269209803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269209803">(Jan 25 2022 at 04:56)</a>:</h4>
<p>a followup question from the issue:</p>
<blockquote>
<p>if someone sees an example that shouldn't show up (for whatever) reason, they may go look to edit the source, but get confused by not seeing the example there.</p>
</blockquote>
<p>Your concern here is about the documentation author, not the reader, right? My concern is for the reader. Specifically, the more distinguishers we layer on, the more the reader will stop and think "this example is really different from that other example in some important way. I need to figure out what that difference is." But really, from the reader's point of view, an example is an example. They both use the same syntax highlighting; they both use the same grey background; they both indicate how to use a thing. The fact that one example was written in the examples/ directory and one was written in doccomments is mostly immaterial to the reader, and we shouldn't make it one of the highest priority pieces of information we show them.</p>



<a name="269209869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269209869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269209869">(Jan 25 2022 at 04:58)</a>:</h4>
<p>Also, Options 2 and 3 would repeat the problems from <a href="https://github.com/rust-lang/rust/issues/90824">https://github.com/rust-lang/rust/issues/90824</a> that I fixed in <a href="https://github.com/rust-lang/rust/issues/90089">#90089</a>. They might look okay in isolation but in the context of the page they will produce virtual section separations where there aren't meant to be.</p>



<a name="269237309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269237309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269237309">(Jan 25 2022 at 10:33)</a>:</h4>
<p>Yup, I try to keep up with reviews but not as fast as usual. ^^'</p>



<a name="269308440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269308440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269308440">(Jan 25 2022 at 19:15)</a>:</h4>
<blockquote>
<p>Your concern here is about the documentation author, not the reader, right? My concern is for the reader. </p>
</blockquote>
<p>With open source software, users of a library may end up editing the library's docs. For example, if I'm reading the standard library's docs, and I notice a typo, I'll go and open a PR.</p>



<a name="269469003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269469003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269469003">(Jan 26 2022 at 19:36)</a>:</h4>
<p>Proposal: what if we added a question mark box beside each "found in repository" header (sketch below). If the user clicks the question mark, it will pop up a tooltip or modal that explains how this feature works, and that this section is automatically generated by Rustdoc.</p>
<p><a href="/user_uploads/4715/CbKGNcYgPQXq9AMPfyxoDRv8/proposal.jpg">proposal.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/CbKGNcYgPQXq9AMPfyxoDRv8/proposal.jpg" title="proposal.jpg"><img src="/user_uploads/4715/CbKGNcYgPQXq9AMPfyxoDRv8/proposal.jpg"></a></div>



<a name="269469339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269469339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269469339">(Jan 26 2022 at 19:38)</a>:</h4>
<p>I like the idea of an icon or a tooltip a lot better than the borders or horizontal lines. And that would be a reliable way to distinguish from regular Markdown, since the Markdown would never have such an icon (it's technically possible but they'd have to go out of their way)</p>



<a name="269483061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269483061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269483061">(Jan 26 2022 at 21:12)</a>:</h4>
<p>That seems like a good idea, though I think we might want to tweak the icon appearance a little to remove the border.</p>



<a name="269483573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269483573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269483573">(Jan 26 2022 at 21:16)</a>:</h4>
<p>Another UI comment: It's always bothered me that clicking more examples shows the examples with an indent and left border. Can it be changed so the other examples are shown the same as the first?</p>



<a name="269484465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269484465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269484465">(Jan 26 2022 at 21:23)</a>:</h4>
<p>One nice part of the left border is that the entire thing is clickable to hide the expanded section. I can get rid of it if you think that aspect isn't worth it though.</p>



<a name="269484692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269484692" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269484692">(Jan 26 2022 at 21:24)</a>:</h4>
<p>I think you could still have the left border without the indent though?</p>



<a name="269490609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269490609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269490609">(Jan 26 2022 at 22:12)</a>:</h4>
<p><a href="/user_uploads/4715/IhWuwkMA2tA9S_uB79Y-HJLu/Screen-Shot-2022-01-26-at-2.11.38-PM.png">Screen-Shot-2022-01-26-at-2.11.38-PM.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/IhWuwkMA2tA9S_uB79Y-HJLu/Screen-Shot-2022-01-26-at-2.11.38-PM.png" title="Screen-Shot-2022-01-26-at-2.11.38-PM.png"><img src="/user_uploads/4715/IhWuwkMA2tA9S_uB79Y-HJLu/Screen-Shot-2022-01-26-at-2.11.38-PM.png"></a></div><p>Like this?</p>



<a name="269492469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269492469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269492469">(Jan 26 2022 at 22:26)</a>:</h4>
<p>Yeah, but move it even farther left so the filenames line up perfectly.</p>



<a name="269492679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269492679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269492679">(Jan 26 2022 at 22:28)</a>:</h4>
<p>Like this:</p>
<p><a href="/user_uploads/4715/bcnOh0vG-gI0M4HeAjZqoiij/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/bcnOh0vG-gI0M4HeAjZqoiij/image.png" title="image.png"><img src="/user_uploads/4715/bcnOh0vG-gI0M4HeAjZqoiij/image.png"></a></div>



<a name="269492729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269492729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269492729">(Jan 26 2022 at 22:29)</a>:</h4>
<p>(and of course, adjusting the code block width so it matches as well)</p>



<a name="269500613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269500613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269500613">(Jan 26 2022 at 23:48)</a>:</h4>
<p>Is it ok if the [+] and [-] buttons move around like this?</p>
<p><a href="/user_uploads/4715/hR0bPuQWon3LQ8tOjK-4MEGS/moving.mp4">moving.mp4</a></p>



<a name="269503371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269503371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269503371">(Jan 27 2022 at 00:15)</a>:</h4>
<p>Also, is there a preference for how I should display the help text when users click the question mark button? Options:</p>
<ul>
<li>I could bring up a modal like global help button. The disadvantage is that this requires changing a fair amount of code, building the modal, etc.</li>
<li>I could insert the help text directly beneath the scraped examples section header. The disadvantage is that this is inconsistent with the global help button.</li>
</ul>



<a name="269512155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269512155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269512155">(Jan 27 2022 at 01:04)</a>:</h4>
<p>I think it should link to a page explaining the feature; not necessarily one inside the generated HTML. For instance it could be on <a href="http://doc.rust-lang.org">doc.rust-lang.org</a></p>
<p>For the moving buttons - it would be better if they didn't. By the way - what about making "more examples" go to a separate page too? I know one of the concerns about the RFC was that it would blow up page sizes, particularly if lots of examples are found. Going to a separate page would limit that. It would also reduce our reliance of <code>[-]</code> / <code>[+]</code> expansions.</p>



<a name="269607685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269607685" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269607685">(Jan 27 2022 at 17:31)</a>:</h4>
<p>That's a good idea. I can add a page to the Rustdoc book explaining the feature.</p>
<p>I don't think we should move the additional examples to a separate page. It's good to keep information in context, and if you're looking at an example of a function, the documentation of the function should be just above, not in another tab.</p>



<a name="269625134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269625134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269625134">(Jan 27 2022 at 19:31)</a>:</h4>
<blockquote>
<p>That's a good idea. I can add a page to the Rustdoc book explaining the feature.</p>
</blockquote>
<p>I thought it was already the case actually. Oh well, please add it in the unstable section for the moment and when we stabilize it, you'll move it to the "stable" section (or maybe create a whole chapter for it?).</p>



<a name="269631911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269631911" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269631911">(Jan 27 2022 at 20:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples/near/269625134">said</a>:</p>
<blockquote>
<p>I thought it was already the case actually. Oh well, please add it in the unstable section for the moment and when we stabilize it, you'll move it to the "stable" section (or maybe create a whole chapter for it?).</p>
</blockquote>
<p>It is currently in the book: <a href="https://doc.rust-lang.org/stable/rustdoc/unstable-features.html#--with-examples-include-examples-of-uses-of-items-as-documentation">https://doc.rust-lang.org/stable/rustdoc/unstable-features.html#--with-examples-include-examples-of-uses-of-items-as-documentation</a></p>
<p>But it's written as a technical reference, not as a quick explainer for the uninitiated. This feature probably deserves a standalone page that provides both a high-level explanation and the low-level details.</p>



<a name="269632162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269632162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269632162">(Jan 27 2022 at 20:21)</a>:</h4>
<p>so a new chapter. If you're motivated to write it, please do! :)</p>



<a name="269637716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269637716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269637716">(Jan 27 2022 at 21:04)</a>:</h4>
<blockquote>
<p>I don't think we should move the additional examples to a separate page. It's good to keep information in context, and if you're looking at an example of a function, the documentation of the function should be just above, not in another tab.</p>
</blockquote>
<p>I agree that we should keep the information on the same page.</p>



<a name="269637937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269637937" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269637937">(Jan 27 2022 at 21:06)</a>:</h4>
<p>Does this mockup address all concerns about positioning of the "more examples" section?</p>
<p><a href="/user_uploads/4715/lS8DSt6kY_HMDhhz7kM_7sT1/closed.jpg">closed.jpg</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/lS8DSt6kY_HMDhhz7kM_7sT1/closed.jpg" title="closed.jpg"><img src="/user_uploads/4715/lS8DSt6kY_HMDhhz7kM_7sT1/closed.jpg"></a></div><p><a href="/user_uploads/4715/FUdlMgvTae2Y_fTxg_UW00Xb/opened.jpg">opened.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/FUdlMgvTae2Y_fTxg_UW00Xb/opened.jpg" title="opened.jpg"><img src="/user_uploads/4715/FUdlMgvTae2Y_fTxg_UW00Xb/opened.jpg"></a></div>



<a name="269638268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269638268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269638268">(Jan 27 2022 at 21:08)</a>:</h4>
<p>The positioning looks good to me, thanks!</p>



<a name="269666482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269666482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269666482">(Jan 28 2022 at 01:00)</a>:</h4>
<p><span class="user-mention" data-user-id="315412">@jsha</span> <span class="user-mention" data-user-id="307537">@Noah Lev</span> I have implemented this mockup and the help link. Live demo: <a href="https://willcrichton.net/example-analyzer/warp/trait.Filter.html#method.and">https://willcrichton.net/example-analyzer/warp/trait.Filter.html#method.and</a></p>
<p>New commits to the PR here: <a href="https://github.com/rust-lang/rust/pull/93217">https://github.com/rust-lang/rust/pull/93217</a></p>



<a name="269667524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269667524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269667524">(Jan 28 2022 at 01:12)</a>:</h4>
<p>Looks good, except the icon looks a bit too light and square to me. What about this?</p>
<p><a href="/user_uploads/4715/itRK6h8nQ4dF7kyhzqX_pJd_/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/itRK6h8nQ4dF7kyhzqX_pJd_/image.png" title="image.png"><img src="/user_uploads/4715/itRK6h8nQ4dF7kyhzqX_pJd_/image.png"></a></div><div class="codehilite" data-code-language="CSS"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#555</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#333</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="269675194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269675194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269675194">(Jan 28 2022 at 02:07)</a>:</h4>
<p>looks good to me!</p>



<a name="269679706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269679706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269679706">(Jan 28 2022 at 02:52)</a>:</h4>
<p>Ok added the circle.</p>
<p>Btw is there a convention for <code>target="_blank"</code> on anchors? Right now the help link has <code>_blank</code>, while the source code links do not.</p>



<a name="269705281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269705281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269705281">(Jan 28 2022 at 09:00)</a>:</h4>
<p>Why does the help button brings btw? (except more weight on the page)</p>



<a name="269720182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269720182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269720182">(Jan 28 2022 at 11:16)</a>:</h4>
<p>I'd prefer not to use target=_blank. I think our target audience largely knows how to middle-click / cmd-click to open in a new tab if that's the behavior they want</p>



<a name="269804555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269804555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269804555">(Jan 28 2022 at 21:24)</a>:</h4>
<p>I'd actually prefer <code>target="_blank"</code> I think. If you're reading docs and then you click the source link, it's very possible that you don't intend to go back to the previous page. On the other hand, if you're reading docs and then you click the scrape-examples help button, it's very unlikely that you don't want to keep reading the previous page.</p>



<a name="269830572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269830572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269830572">(Jan 29 2022 at 02:17)</a>:</h4>
<p>^ that was my intuition for doing so. It's a little more consistent with the other help button, which gives you a modal and doesn't change the page. I think it's not obvious that the question mark is an anchor from its appearance.</p>



<a name="269830765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269830765" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Will Crichton <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269830765">(Jan 29 2022 at 02:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples/near/269705281">said</a>:</p>
<blockquote>
<p>Why does the help button brings btw? (except more weight on the page)</p>
</blockquote>
<p>I'm not sure I understand the phrasing of your question.</p>



<a name="269850139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269850139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269850139">(Jan 29 2022 at 08:46)</a>:</h4>
<p>I was wondering why it was necessary. It's quite obvious what these examples are, no?</p>



<a name="269885882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269885882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269885882">(Jan 29 2022 at 20:11)</a>:</h4>
<p>Not really. It's obvious to us because we've been working on this feature, but I don't think it's obvious to people who haven't encountered it before.</p>



<a name="269885925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269885925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269885925">(Jan 29 2022 at 20:12)</a>:</h4>
<p>It's quite different from rustdoc's existing features.</p>



<a name="269898780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/UI%20design%20for%20scraped%20examples/near/269898780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/UI.20design.20for.20scraped.20examples.html#269898780">(Jan 30 2022 at 00:38)</a>:</h4>
<p>Personally I still feel these are _more_ than distinctive enough. From a reader's perspective all they really care about is:</p>
<ul>
<li>this is some code that shows them how to use a thing</li>
<li>there may be additional lines of context off-screen (this is unique to scraped examples)</li>
</ul>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>