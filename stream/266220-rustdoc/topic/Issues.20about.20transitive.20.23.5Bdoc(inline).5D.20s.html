<html>
<head><meta charset="utf-8"><title>Issues about transitive #[doc(inline)] s · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html">Issues about transitive #[doc(inline)] s</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="219950346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/219950346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#219950346">(Dec 15 2020 at 08:51)</a>:</h4>
<p>Currently <code>std</code> doc displays one <code>Re-export</code> item:  <code>std::arch</code>. The definition is actually reexported from <code>core::arch</code>, which is exported from <code>stdsimd::arch</code>.  There's a <code>#[doc(no_inline)]</code> attribute on this re-export because there were problems if such an attribute not added. </p>
<p>I'm a little curious whether this small issue is easy to solve...</p>



<a name="219972877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/219972877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#219972877">(Dec 15 2020 at 12:45)</a>:</h4>
<p>What were the problems?</p>



<a name="220233721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220233721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220233721">(Dec 17 2020 at 11:51)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/61038#issuecomment-494790522">https://github.com/rust-lang/rust/issues/61038#issuecomment-494790522</a><br>
<a href="https://github.com/rust-lang/rust/pull/57808#issuecomment-457390549">https://github.com/rust-lang/rust/pull/57808#issuecomment-457390549</a></p>
<p>Seems related to compiled crate not containing other arch information, but i'm not very sure...</p>



<a name="220242769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220242769" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220242769">(Dec 17 2020 at 13:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116458">@Charles Lew</span> if by "solve" you mean "generate docs for each platform and combine them separately", then no, this is not easy: <a href="https://github.com/rust-lang/rust/issues/1998">https://github.com/rust-lang/rust/issues/1998</a></p>



<a name="220242990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220242990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220242990">(Dec 17 2020 at 13:31)</a>:</h4>
<p>More info about this in <a href="https://github.com/rust-lang/rust/pull/43348">https://github.com/rust-lang/rust/pull/43348</a> and <a href="https://github.com/rust-lang/rust/pull/73566">https://github.com/rust-lang/rust/pull/73566</a></p>



<a name="220243056"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220243056" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220243056">(Dec 17 2020 at 13:32)</a>:</h4>
<p>(I'm not happy the standard library does this either)</p>



<a name="220243057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220243057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220243057">(Dec 17 2020 at 13:32)</a>:</h4>
<p>(deleted)</p>



<a name="220243181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220243181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220243181">(Dec 17 2020 at 13:33)</a>:</h4>
<p>Thanks, but if the goal is find a workaround to display module docs for <code>std::arch</code> at the crate root page, is there an easier solution?</p>



<a name="220243221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220243221" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220243221">(Dec 17 2020 at 13:33)</a>:</h4>
<p>I don't know, you'd have to talk to <span class="user-mention" data-user-id="132920">@gnzlbg</span></p>



<a name="220243288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220243288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220243288">(Dec 17 2020 at 13:34)</a>:</h4>
<p>ok... thanks!</p>



<a name="220264485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220264485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220264485">(Dec 17 2020 at 16:17)</a>:</h4>
<p>FWIW I think a short-term fix might be to redirect <code>std/arch/</code> to <code>core/arch/</code> somehow</p>



<a name="220264523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220264523" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220264523">(Dec 17 2020 at 16:17)</a>:</h4>
<p>but the larger issue is much harder to fix</p>



<a name="220355913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220355913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220355913">(Dec 18 2020 at 10:27)</a>:</h4>
<p>Does rustdoc have a special attribute supporting such a redirection? (I suppose no.)<br>
Will it accept such a nightly attribute to only be used on <code>std</code> crate?</p>



<a name="220374930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220374930" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220374930">(Dec 18 2020 at 14:03)</a>:</h4>
<p>honestly if you're going to special-case bootstrap I would prefer to just write the HTML file yourself in bootstrap</p>



<a name="220374956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Issues%20about%20transitive%20%23%5Bdoc%28inline%29%5D%20s/near/220374956" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Issues.20about.20transitive.20.23.5Bdoc(inline).5D.20s.html#220374956">(Dec 18 2020 at 14:03)</a>:</h4>
<p>rustdoc has very predictable patterns for the file layout</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>