<html>
<head><meta charset="utf-8"><title>rendering for reference primitive doc page · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html">rendering for reference primitive doc page</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261360846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261360846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261360846">(Nov 13 2021 at 13:39)</a>:</h4>
<p>The doc page for <a href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">reference</a> is actually really weird: the <code>trait implementations</code> section is filled with things that shouldn't be there in my opinion. In fact, you can't implement anything on it normally, so it should be empty. For example:</p>
<div class="codehilite"><pre><span></span><code>impl&lt;&#39;a, T&gt; Extend&lt;&amp;&#39;a T&gt; for LinkedList&lt;T&gt;
</code></pre></div>
<p>So maybe what I did in <a href="https://github.com/rust-lang/rust/pull/90726">https://github.com/rust-lang/rust/pull/90726</a> was actually the good thing to do?</p>
<p>What do you think?</p>



<a name="261434408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261434408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Howell <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261434408">(Nov 14 2021 at 19:32)</a>:</h4>
<p>I don’t think those impls belong there, either. They’re normally only shown if <code>Self</code> equal to the type being shown (like on the <code>unit</code> page).</p>



<a name="261582944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261582944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261582944">(Nov 16 2021 at 00:43)</a>:</h4>
<p>IIRC, impls are also shown on a type's page if the type shows up in the generic params, so that's probably why that impl shows up on <code>reference</code>'s page. But I agree that we shouldn't be showing impls like that on its page.</p>



<a name="261724016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261724016" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261724016">(Nov 16 2021 at 23:38)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/90946#issuecomment-970431167">https://github.com/rust-lang/rust/pull/90946#issuecomment-970431167</a> cc <span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> so my question here is are we hiding impls of the kind <code>impl&lt;T&gt; Trait for &amp;T</code> (etc)? Because those should probably show up here. They're not quite blanket impls, but they're important and i've needed to be able to see such impls in the past</p>



<a name="261757754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261757754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261757754">(Nov 17 2021 at 09:02)</a>:</h4>
<p>You'll still be able to see them but not on the reference page. You don't implement anything on a reference but on something behind a reference. Also, the current reference page trait impls doesn't make any sense...</p>



<a name="261761423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261761423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261761423">(Nov 17 2021 at 09:40)</a>:</h4>
<p>It's also important to note that it only lists implementations from std and core, making it even less useful.</p>



<a name="261812515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261812515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261812515">(Nov 17 2021 at 16:49)</a>:</h4>
<p>So I think most of the impls on that page are useless, but I'm specifically talking about impls like the <code>PartialEq</code> one and also auto traits: We should be showing those, those are useful to know.</p>
<p>The problem we have right now is that that page _also_ shows traits like <code>Extend&lt;&amp;T&gt;</code>, we should _only_ be showing impls where the receiver is a reference, and ideally only _generic_ references.</p>
<p>People do blanket impl on all references often and we should show those</p>



<a name="261812780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261812780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261812780">(Nov 17 2021 at 16:50)</a>:</h4>
<p>I agree we should be showing blanket impls on references, but it seems not very useful to show them on the page for <code>reference</code>; IMO they're only really useful on the trait's page. OTOH, special-casing references could increase complexity, and maybe people don't look at the impls on the <code>reference</code> page anyway (I know I don't).</p>



<a name="261813837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261813837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261813837">(Nov 17 2021 at 16:58)</a>:</h4>
<p>I actually didn't know these impls were on the <code>reference</code> page either, but even with this information, I don't really see how useful it could be for me.</p>



<a name="261816238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261816238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261816238">(Nov 17 2021 at 17:15)</a>:</h4>
<blockquote>
<p>I actually didn't know these impls were on the reference page either</p>
</blockquote>
<p>Same here; in general I only look at primitive pages for things like <code>i32</code>, not <code>reference</code>.</p>



<a name="261818735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261818735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261818735">(Nov 17 2021 at 17:32)</a>:</h4>
<p>I'm a little confused why we're taking the viewpoint "why would this documentation be useful" - by that standard, why would <em>any</em> of the primitive page be useful compared to the equivalent page in the reference? Either the goal is to collect all the methods / traits for the primitive in one place, which the reference can't do by nature, or this only exists because we de facto know that no one updates the reference and these docs are more useful. In the first case we should keep the trait impls for <code>reference</code>, in the second we should delete these pages altogether and move the docs to the reference.</p>



<a name="261818834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261818834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261818834">(Nov 17 2021 at 17:33)</a>:</h4>
<p>(personally I would <em>love</em> not to have to maintain this code)</p>



<a name="261819155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261819155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261819155">(Nov 17 2021 at 17:35)</a>:</h4>
<p>I guess an alternative is to say "references aren't a built in type" and delete the page altogether, I would be ok with that too</p>



<a name="261819191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261819191" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261819191">(Nov 17 2021 at 17:35)</a>:</h4>
<p>having docs for "unit" and "tuple" and "slice" always seemed weird to me anyway</p>



<a name="261820010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261820010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261820010">(Nov 17 2021 at 17:40)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/15654">https://github.com/rust-lang/rust/issues/15654</a> mentions at least having &amp;T: Copy and that seems like something useful rustdoc can show but the reference wouldn't</p>



<a name="261820230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261820230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261820230">(Nov 17 2021 at 17:42)</a>:</h4>
<p>Anyway, my position is "either tear it out altogether or leave the blanket impls because having the prose alone is not helpful"</p>



<a name="261820302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261820302" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261820302">(Nov 17 2021 at 17:42)</a>:</h4>
<p>Drive-by comment, but I think the pages should definitely exist because reading the rustdocs is how some people discover the language</p>



<a name="261820418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261820418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261820418">(Nov 17 2021 at 17:43)</a>:</h4>
<p>Related: <a href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">https://doc.rust-lang.org/nightly/std/primitive.tuple.html</a> has a very weird order of impls of e.g. <code>Debug</code> and <code>Default</code></p>



<a name="261820533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261820533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261820533">(Nov 17 2021 at 17:44)</a>:</h4>
<p>Well, only related in that it shows how awful this code is lol</p>



<a name="261820718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261820718" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261820718">(Nov 17 2021 at 17:45)</a>:</h4>
<p>I kind of get why it's there, but <code>impl ToSocketAddrs for (Ipv6Addr, u16)</code> seems like an odd thing to have on the tuple page</p>



<a name="261820836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261820836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261820836">(Nov 17 2021 at 17:46)</a>:</h4>
<p><span class="user-mention" data-user-id="271719">@Mario Carneiro</span> yes, that's how the conversation started - scroll up</p>



<a name="261820948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261820948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261820948">(Nov 17 2021 at 17:47)</a>:</h4>
<p>my point being that it's not just <code>reference</code> afflicted with weird impls</p>



<a name="261821044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261821044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261821044">(Nov 17 2021 at 17:47)</a>:</h4>
<p>+1 to <span class="user-mention silent" data-user-id="307537">Noah Lev</span>'s suggestion to put them on the trait page</p>



<a name="261821260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261821260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261821260">(Nov 17 2021 at 17:49)</a>:</h4>
<p>Ahhhh please read</p>
<p>Noah is talking about blanket impls, not specific types. I disagree that blanket impls should go on the trait page, but that's irrelevant to your comment because the ToSocketAddr impl has no generic types</p>



<a name="261821550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261821550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261821550">(Nov 17 2021 at 17:51)</a>:</h4>
<p>Ah, I agree for blanket impls like <code>impl PartialOrd&lt;(A, B)&gt; for (A, B)</code>, those make sense on the tuple page, but <code>impl ToSocketAddrs for (Ipv6Addr, u16)</code> probably not</p>



<a name="261821654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261821654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261821654">(Nov 17 2021 at 17:51)</a>:</h4>
<p>anyway, I'm just a lurker, don't mind me</p>



<a name="261833672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261833672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261833672">(Nov 17 2021 at 19:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261821044">said</a>:</p>
<blockquote>
<p>+1 to <span class="user-mention silent" data-user-id="307537">Noah Lev</span>'s suggestion to put them on the trait page</p>
</blockquote>
<p>they already are on the trait page</p>



<a name="261833966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261833966" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261833966">(Nov 17 2021 at 19:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261818735">said</a>:</p>
<blockquote>
<p>I'm a little confused why we're taking the viewpoint "why would this documentation be useful" - by that standard, why would <em>any</em> of the primitive page be useful compared to the equivalent page in the reference? Either the goal is to collect all the methods / traits for the primitive in one place, which the reference can't do by nature, or this only exists because we de facto know that no one updates the reference and these docs are more useful. In the first case we should keep the trait impls for <code>reference</code>, in the second we should delete these pages altogether and move the docs to the reference.</p>
</blockquote>
<p>I think we start from a different point: for me, <code>reference</code> is a primitive type on which you can't implement anything (kinda like <code>tuple</code> which is a weird case too). I don't mind keeping things as is, just think that it's not useful and it would the code simpler to remove the impls from <code>reference</code>.</p>



<a name="261837407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261837407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261837407">(Nov 17 2021 at 19:44)</a>:</h4>
<blockquote>
<p>reference is a primitive type on which you can't implement anything</p>
</blockquote>
<p>this is not true though, there's a blanket <code>impl&lt;T&gt; Copy for &amp;T {}</code></p>



<a name="261837688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261837688" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261837688">(Nov 17 2021 at 19:46)</a>:</h4>
<p><code>reference</code> isn't a type on its own. You can't have <code>impl &amp; {}</code> or <code>impl Copy for &amp; {}</code>. It's always for a type behind a reference.</p>



<a name="261837869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261837869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261837869">(Nov 17 2021 at 19:47)</a>:</h4>
<p>ok, so? it's still useful to know "this will be true for any reference regardless of the type behind it"</p>



<a name="261838070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261838070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261838070">(Nov 17 2021 at 19:48)</a>:</h4>
<p>Yes, and for that you have the trait directly, or the type behind the reference.</p>



<a name="261838657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261838657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261838657">(Nov 17 2021 at 19:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261837688">said</a>:</p>
<blockquote>
<p><code>reference</code> isn't a type on its own. You can't have <code>impl &amp; {}</code> or <code>impl Copy for &amp; {}</code>. It's always for a type behind a reference.</p>
</blockquote>
<p>FWIW, <code>Vec</code> has its own page, but you can't <code>impl Vec {}</code></p>



<a name="261838673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261838673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261838673">(Nov 17 2021 at 19:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261833672">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261821044">said</a>:</p>
<blockquote>
<p>+1 to <span class="user-mention silent" data-user-id="307537">Noah Lev</span>'s suggestion to put them on the trait page</p>
</blockquote>
<p>they already are on the trait page</p>
</blockquote>
<p>I meant <em>only</em> put them on the trait page</p>



<a name="261839127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261839127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261839127">(Nov 17 2021 at 19:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307537">Noah Lev</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261838657">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261837688">said</a>:</p>
<blockquote>
<p><code>reference</code> isn't a type on its own. You can't have <code>impl &amp; {}</code> or <code>impl Copy for &amp; {}</code>. It's always for a type behind a reference.</p>
</blockquote>
<p>FWIW, <code>Vec</code> has its own page, but you can't <code>impl Vec {}</code></p>
</blockquote>
<p>Well, you can in <code>std</code>, but I think you got my point. ;)</p>



<a name="261843668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261843668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261843668">(Nov 17 2021 at 20:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307537">Noah Lev</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261838673">said</a>:</p>
<blockquote>
<p>I meant <em>only</em> put them on the trait page</p>
</blockquote>
<p>so you mean no more blanket impls on structs anymore?</p>



<a name="261851332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261851332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261851332">(Nov 17 2021 at 21:23)</a>:</h4>
<p>I feel like all this is more complicated than necessary :/ we can remove the things that obviously don't belong (<code>Extend</code> and the <code>ToSocketAddrs</code> thing) and the larger question of where to put blanket impls can wait until later</p>



<a name="261856709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261856709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261856709">(Nov 17 2021 at 22:02)</a>:</h4>
<p>If everyone agrees on this part, sure. I think <span class="user-mention" data-user-id="132040">@Manish Goregaokar</span> was the one who had arguments to keep them?</p>



<a name="261858050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261858050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261858050">(Nov 17 2021 at 22:11)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> yeah I agree.</p>



<a name="261858072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261858072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261858072">(Nov 17 2021 at 22:11)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> no, I want the extend and tosocketaddrs things to go, I don't want to lose the _other_ impls</p>



<a name="261858150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261858150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261858150">(Nov 17 2021 at 22:12)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> when you impl on <code>&amp;T</code> you _are_ implementing on a reference</p>



<a name="261858156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261858156" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261858156">(Nov 17 2021 at 22:12)</a>:</h4>
<p>you aren't implementing on T</p>



<a name="261858167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261858167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261858167">(Nov 17 2021 at 22:12)</a>:</h4>
<p>in fact references have a coherence exception to make this more useful</p>



<a name="261858215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261858215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261858215">(Nov 17 2021 at 22:13)</a>:</h4>
<p>references have:</p>
<ul>
<li>Copy/Clone/Send/Sync/etc impls</li>
<li>PartialEq and similar</li>
</ul>
<p>which are quite relevant and I think we should show them</p>



<a name="261858262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261858262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261858262">(Nov 17 2021 at 22:13)</a>:</h4>
<p>Reference is a type on its own the way <code>Vec</code> is a type on its own, both are type _constructors_ because they have a generic parameter</p>



<a name="261858269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261858269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261858269">(Nov 17 2021 at 22:13)</a>:</h4>
<p>but we should treat it exactly the way we treat <code>Vec</code></p>



<a name="261858469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261858469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261858469">(Nov 17 2021 at 22:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="132040">Manish Goregaokar</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261858215">said</a>:</p>
<blockquote>
<p>references have:</p>
<ul>
<li>Copy/Clone/Send/Sync/etc impls</li>
<li>PartialEq and similar</li>
</ul>
<p>which are quite relevant and I think we should show them</p>
</blockquote>
<p>Good point!</p>



<a name="261988683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261988683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261988683">(Nov 18 2021 at 20:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261839127">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="307537">Noah Lev</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261838657">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page/near/261837688">said</a>:</p>
<blockquote>
<p><code>reference</code> isn't a type on its own. You can't have <code>impl &amp; {}</code> or <code>impl Copy for &amp; {}</code>. It's always for a type behind a reference.</p>
</blockquote>
<p>FWIW, <code>Vec</code> has its own page, but you can't <code>impl Vec {}</code></p>
</blockquote>
<p>Well, you can in <code>std</code>, but I think you got my point. ;)</p>
</blockquote>
<p>Oh, I thought you meant reference is not a type on its own because it requires a generic parameter.</p>



<a name="261988862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261988862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261988862">(Nov 18 2021 at 20:52)</a>:</h4>
<p>Ah no no, definitely not. Otherwise a lot of types wouldn't be types haha</p>



<a name="261988936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/rendering%20for%20reference%20primitive%20doc%20page/near/261988936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/rendering.20for.20reference.20primitive.20doc.20page.html#261988936">(Nov 18 2021 at 20:52)</a>:</h4>
<p>Yeah, I don't feel strongly about the impls for reference. Not showing the impls that have a reference in their params seems reasonable to me.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>