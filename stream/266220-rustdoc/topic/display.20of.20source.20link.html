<html>
<head><meta charset="utf-8"><title>display of source link · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html">display of source link</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="263687167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263687167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263687167">(Dec 04 2021 at 06:13)</a>:</h4>
<p>A theme of <a href="https://github.com/rust-lang/rust/issues/59829">https://github.com/rust-lang/rust/issues/59829</a> and <a href="https://github.com/rust-lang/rust/issues/59851">https://github.com/rust-lang/rust/issues/59851</a> is that <code>[src]</code> is pretty distracting to the eye because of the vertical lines in the brackets.</p>
<p>In <a href="https://github.com/rust-lang/rust/issues/59851">#59851</a> there's a proposal to move the stability and source link underneath the heading:</p>
<p><a href="/user_uploads/4715/3wtYIBbg2wuPGhg-zqfcBVzY/image.png">image.png</a></p>
<p>I also tried another approach that I saw suggested elsewhere, to replace <code>[src]</code> with <code>(source)</code> and make it lighter, along with writing out the "stable since" text:</p>
<p><a href="https://rustdoc.crud.net/jsha/source-link/std/string/struct.String.html#method.remove_matches">https://rustdoc.crud.net/jsha/source-link/std/string/struct.String.html#method.remove_matches</a></p>
<p><a href="/user_uploads/4715/jcPxp1FJlR3rj147ckAVmo7Y/image.png">image.png</a></p>
<p><a href="/user_uploads/4715/DhxWKlGbpI3vKC1gFKXzGUVM/image.png">image.png</a> </p>
<p>Any preferences between those two approaches?</p>



<a name="263696211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263696211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263696211">(Dec 04 2021 at 09:51)</a>:</h4>
<p>ooooh</p>



<a name="263696225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263696225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263696225">(Dec 04 2021 at 09:51)</a>:</h4>
<p>i do like (source)</p>



<a name="263696229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263696229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263696229">(Dec 04 2021 at 09:51)</a>:</h4>
<p>for the first image how does that work for non-heading items</p>



<a name="263696232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263696232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263696232">(Dec 04 2021 at 09:51)</a>:</h4>
<p>i think that's fine at the top of the page but we have a lot of [src] links</p>



<a name="263696287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263696287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263696287">(Dec 04 2021 at 09:52)</a>:</h4>
<p>i think your (source) proposal is pretty elegant and pretty</p>



<a name="263701233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263701233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263701233">(Dec 04 2021 at 11:49)</a>:</h4>
<p>I really like this way of displaying source as well!</p>



<a name="263722135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263722135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263722135">(Dec 04 2021 at 17:54)</a>:</h4>
<p>aww, thanks! what do you think about writing out the "stable since" text? I like it since it reduces some of the mystery around what all these numbers are hanging around.</p>



<a name="263726495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263726495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263726495">(Dec 04 2021 at 19:14)</a>:</h4>
<p>Sorry, I forgot to say that my comment included the display of "stable since"</p>



<a name="263739845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263739845" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263739845">(Dec 05 2021 at 00:20)</a>:</h4>
<p>yeah I like the stable since as well</p>



<a name="263739865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263739865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263739865">(Dec 05 2021 at 00:21)</a>:</h4>
<p>We should figure out how to fit the "const stable since" as well</p>



<a name="263739869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263739869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263739869">(Dec 05 2021 at 00:21)</a>:</h4>
<p>If we want to show that</p>



<a name="263740389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263740389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263740389">(Dec 05 2021 at 00:36)</a>:</h4>
<p>Maybe there'd be a way to just show "stable" without the numbers if it's been that way for a while?  With the details accessible somehow (hover, click, ℹ, whatever), but not in-your-face?</p>
<p>Arbitrary strawman threshold: 1 year is <a href="https://duckduckgo.com/?q=365.2425+%2F+7+%2F+6">8.7</a> releases, so if something is 9 or more minor versions ago, the specific version isn't shown on the page directly.</p>



<a name="263740530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263740530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263740530">(Dec 05 2021 at 00:41)</a>:</h4>
<p>Is <code>stable: 1.X.Y</code> actually all that distracting? I'm not sure what problem we're trying to solve. <span class="user-mention" data-user-id="315412">@jsha</span>'s original post was that <code>[src]</code> is distracting, which I agree with, but seems unrelated to stability.</p>



<a name="263740614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263740614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263740614">(Dec 05 2021 at 00:44)</a>:</h4>
<p>I don't know.  I might be an outlier, but I click <code>[src]</code> often enough that I don't really find it distracting <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="263743929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263743929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263743929">(Dec 05 2021 at 02:07)</a>:</h4>
<p>The current display doesn't show <code>stable: 1.X.Y</code>, it shows <code>1.X.Y [src]</code> or <code>1.X.Y (const 1.A.B) [src]</code>.</p>
<p>For writing out "stable since" next to the number: I'm partly following the ideas in <a href="https://github.com/rust-lang/rust/issues/59851">https://github.com/rust-lang/rust/issues/59851</a> and partly following my own intuition: without any words next to them, it's not clear what those numbers mean. You can get title text by hovering them, but there's no UI indicator that you should hover them.</p>
<p>Also, this is a bit of a side thing: in <a href="https://github.com/rust-lang/rust/issues/59851">#59851</a>, lambda mentions that version availability is missing on a lot of items. I made the same mistake myself - it's not that version information is missing, it's that it's only present when it differs from the top level stability version. So e.g. String is stable since 1.0.0, so any methods on String that are also stable since 1.0.0 just don't have the version number. But methods that were stabilized later do have the version number. That's a pretty hard rule to deduce, since there's no way to find out that all the methods with no version have been stable since 1.0.0.</p>



<a name="263744946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263744946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263744946">(Dec 05 2021 at 02:36)</a>:</h4>
<p>I'm also not certainly who uses the stability annotations and for what.  Because they're not entirely reliable -- the current stable docs say that <code>impl&lt;T&gt; Cell&lt;T&gt; { fn new(T) -&gt; Self }</code> has been stable since <code>1.0.0</code>, which isn't exactly true because <a href="https://doc.rust-lang.org/1.0.0/std/cell/struct.Cell.html#method.new">it had a <code>T: Copy</code> bound in <code>1.0.0</code></a>.  So anyone who, say, particularly cares about a specific MSRV arguably needs to check the docs for that version regardless of what the "stable since" text says.</p>



<a name="263748400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263748400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263748400">(Dec 05 2021 at 04:16)</a>:</h4>
<p>I click <code>src</code> on probably more than 50% of anything i look up in a crate that i didn't write. I would prefer it not be in any way less obvious where to click.</p>



<a name="263749326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263749326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263749326">(Dec 05 2021 at 04:43)</a>:</h4>
<p>it won't be :-)</p>



<a name="263757653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263757653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263757653">(Dec 05 2021 at 08:49)</a>:</h4>
<p>Yeah I don't think the stability number is distracting, BUT it's in the same spot so having a consistent UI would be nice and I like jsha's strawman</p>



<a name="263767232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263767232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263767232">(Dec 05 2021 at 12:57)</a>:</h4>
<p>Stability number is an important information (at least for me). I don't find it distracting but this is a personal opinion.</p>



<a name="263768479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263768479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263768479">(Dec 05 2021 at 13:28)</a>:</h4>
<p>(i don't think the question is whether it is important, the question is if we like how it's currently displayed / is jsha's idea better)</p>



<a name="263768485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263768485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263768485">(Dec 05 2021 at 13:28)</a>:</h4>
<p>i do like how it's currently displayed but i also do like having uniformity between src and stability</p>



<a name="263777581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/263777581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#263777581">(Dec 05 2021 at 16:57)</a>:</h4>
<p>I forgot to follow up on this:</p>
<blockquote>
<p>for the first image how does that work for non-heading items</p>
</blockquote>
<p>The first image is from someone else's mockup in <a href="https://github.com/rust-lang/rust/issues/59851">#59851</a>. I think the idea is that stability information would go underneath each sub-heading if necessary. So for example <a href="https://doc.rust-lang.org/nightly/std/string/struct.String.html#method.try_reserve_exact">https://doc.rust-lang.org/nightly/std/string/struct.String.html#method.try_reserve_exact</a> would have stability info right underneath it.</p>
<p>On the one hand that's in the line of ordinary reading, which might make it feel more noisy. On the other hand, that's where stability info goes _pre_ stabilization (the unstable item-info), so there's some consistency.</p>



<a name="267015564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/display%20of%20source%20link/near/267015564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/display.20of.20source.20link.html#267015564">(Jan 06 2022 at 01:21)</a>:</h4>
<p>followup: I made a PR for improving the display of the source link. <a href="https://github.com/rust-lang/rust/pull/92602">https://github.com/rust-lang/rust/pull/92602</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>