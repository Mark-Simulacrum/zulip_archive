<html>
<head><meta charset="utf-8"><title>Generate font for icons · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html">Generate font for icons</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="265138123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265138123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265138123">(Dec 16 2021 at 10:49)</a>:</h4>
<p>Hi everyone. <a href="https://github.com/rust-lang/rust/pull/91735">https://github.com/rust-lang/rust/pull/91735</a> is removing all our <code>.svg</code> images and is instead generating one font to handle all of them as one. It also takes all of the icons from the fontawesome font for coherency.</p>
<p>The only problem is how the font is generated from the icon: by using an external website. <span class="user-mention" data-user-id="307537">@Noah Lev</span> emitted a concern about this and I agree with them. I'm not too sure what's the best way to ensure we won't be stuck in the future because of this.</p>
<p>What do you think?</p>



<a name="265138917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265138917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265138917">(Dec 16 2021 at 10:57)</a>:</h4>
<p>hmm why is that not using font-awesome-as-a-crate?</p>



<a name="265139006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265139006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265139006">(Dec 16 2021 at 10:58)</a>:</h4>
<p>Yeah I think any tool we use here should be reproducible and not rely on a web based service existing. What we should also have is clear instructions for how to generate the font documented in the folder alongside the files for its component icons</p>
<p>There are likely open source or otherwise free tools for this.</p>



<a name="265145503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265145503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265145503">(Dec 16 2021 at 12:03)</a>:</h4>
<blockquote>
<p>hmm why is that not using font-awesome-as-a-crate?</p>
</blockquote>
<p>Too big for our use. Importing a whole font for 4 images isn't worth it.</p>



<a name="265145627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265145627" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265145627">(Dec 16 2021 at 12:04)</a>:</h4>
<p>Just like what <span class="user-mention" data-user-id="132040">@Manish Goregaokar</span> suggested: having a free tool and even if possible a script to do it automatically would be the best I think.</p>



<a name="265147915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265147915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265147915">(Dec 16 2021 at 12:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/266220-rustdoc/topic/Generate.20font.20for.20icons/near/265145503">said</a>:</p>
<blockquote>
<blockquote>
<p>hmm why is that not using font-awesome-as-a-crate?</p>
</blockquote>
<p>Too big for our use. Importing a whole font for 4 images isn't worth it.</p>
</blockquote>
<p>do you mean in rustdoc itself, or in the generated documentation?</p>



<a name="265148689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265148689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265148689">(Dec 16 2021 at 12:35)</a>:</h4>
<p>the generated documentation</p>



<a name="265148834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265148834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265148834">(Dec 16 2021 at 12:36)</a>:</h4>
<p>font-awesome-as-a-crate doesn't include all the icons in the generated documentation</p>



<a name="265149107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149107" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149107">(Dec 16 2021 at 12:38)</a>:</h4>
<p>it allows grabbing the raw svg when you need to include an icon in the html</p>



<a name="265149184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149184" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149184">(Dec 16 2021 at 12:39)</a>:</h4>
<p>Except we don't want the svg, we want one font to reduce the number of downloads</p>



<a name="265149201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149201">(Dec 16 2021 at 12:39)</a>:</h4>
<p>we currently have svg and this PR is replacing them with one font</p>



<a name="265149316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149316">(Dec 16 2021 at 12:40)</a>:</h4>
<p>I mean you can inline the SVGs</p>



<a name="265149333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149333" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149333">(Dec 16 2021 at 12:40)</a>:</h4>
<p>especially if you use them only once in the page (like the settings cog)</p>



<a name="265149472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149472">(Dec 16 2021 at 12:42)</a>:</h4>
<p>and even for repeated icons (like the flask for experimental features) compression should cut down the costs</p>



<a name="265149529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149529">(Dec 16 2021 at 12:42)</a>:</h4>
<p>having everything inline in the page also prevents the icons appearing later while the font is being loaded</p>



<a name="265149673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149673">(Dec 16 2021 at 12:44)</a>:</h4>
<p>Inlining SVG means duplicating the SVG content into all the files</p>



<a name="265149679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149679">(Dec 16 2021 at 12:44)</a>:</h4>
<p>which means increasing quite a lot the rendered HTML size overall</p>



<a name="265149707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149707">(Dec 16 2021 at 12:44)</a>:</h4>
<p>icons are quite small tbh, and <a href="http://docs.rs">docs.rs</a> also inlines the icons</p>



<a name="265149734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149734">(Dec 16 2021 at 12:45)</a>:</h4>
<p>I really don't think it's a good idea</p>



<a name="265149752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149752">(Dec 16 2021 at 12:45)</a>:</h4>
<p><a href="https://github.blog/2016-02-22-delivering-octicons-with-svg/">https://github.blog/2016-02-22-delivering-octicons-with-svg/</a></p>



<a name="265149760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265149760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265149760">(Dec 16 2021 at 12:45)</a>:</h4>
<p>Also, <a href="http://docs.rs">docs.rs</a> has very few different pages</p>



<a name="265184651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265184651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jaszkowiak <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265184651">(Dec 16 2021 at 16:55)</a>:</h4>
<p>Using SVGs makes them practically uncolorable with CSS</p>



<a name="265184856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265184856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265184856">(Dec 16 2021 at 16:56)</a>:</h4>
<p>if they're inline svgs it's possible to change their color with css</p>



<a name="265185225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265185225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jaszkowiak <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265185225">(Dec 16 2021 at 16:59)</a>:</h4>
<p>There was another problem with font awesome as a crate. The license is forbidden by tidy.</p>



<a name="265186134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265186134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jaszkowiak <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265186134">(Dec 16 2021 at 17:04)</a>:</h4>
<p>But we could just vendor them for now as we're already doing</p>



<a name="265186270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265186270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265186270">(Dec 16 2021 at 17:05)</a>:</h4>
<p>the license of the crate is the license of font-awesome, so vendoring them doesn't actually help</p>



<a name="265186441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265186441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jaszkowiak <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265186441">(Dec 16 2021 at 17:06)</a>:</h4>
<p>As for the repeating inlines, we could use <code>&lt;use&gt;</code> but I don't think it would be worth it given how small the icons are.</p>



<a name="265186829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265186829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jaszkowiak <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265186829">(Dec 16 2021 at 17:09)</a>:</h4>
<p>It was found we're already using the font awesome brush icon</p>



<a name="265186992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265186992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265186992">(Dec 16 2021 at 17:10)</a>:</h4>
<p>yes, and that's in direct violation of the license and I've had to email core about it</p>



<a name="265187001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265187001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265187001">(Dec 16 2021 at 17:10)</a>:</h4>
<p>please let's not make it worse</p>



<a name="265190641"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/Generate%20font%20for%20icons/near/265190641" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jaszkowiak <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/Generate.20font.20for.20icons.html#265190641">(Dec 16 2021 at 17:37)</a>:</h4>
<p>I'm certainly not advocating for making anything worse haha. I'll let the PR wait until we've figured out the license stuff.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>