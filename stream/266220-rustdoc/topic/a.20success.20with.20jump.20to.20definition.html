<html>
<head><meta charset="utf-8"><title>a success with jump to definition · rustdoc · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/index.html">rustdoc</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/a.20success.20with.20jump.20to.20definition.html">a success with jump to definition</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261985563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/a%20success%20with%20jump%20to%20definition/near/261985563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/a.20success.20with.20jump.20to.20definition.html#261985563">(Nov 18 2021 at 20:25)</a>:</h4>
<p>I had a use case for jump to definition today, and tried it out. I'm a big fan now!</p>
<p>I was reading the documentation for CHACHA20_POLY1305: <a href="https://docs.rs/ring/0.16.20/src/ring/aead/chacha20_poly1305.rs.html#28-35">https://docs.rs/ring/0.16.20/src/ring/aead/chacha20_poly1305.rs.html#28-35</a>. In particular, its initializer says <code>max_input_len: super::max_input_len(64, 1)</code> and I wanted to see if <code>max_input_len</code> was a <code>const fn</code>. It was hard to do this from the source view:</p>
<ul>
<li>Since it's a private function, I couldn't use search.</li>
<li>Since it was in a separate .rs file, I couldn't use the browser's search function.</li>
<li>And since there were a lot of files in <code>super</code>, I couldn't figure out which file I needed to click over to.</li>
</ul>
<p>So I used my local checkout of <code>ring</code> and ran <code>cargo rustdoc --open -- -Z unstable-options --generate-link-to-definition</code>, then browsed to the same spot; and sure enough I could link straight to max_input_len.</p>
<p>Of course, given I had a local checkout, I could have used vscode + rust-analyzer to find this, but if we eventually push link-to-definition for everyone, everyone can have this experience when browsing the source on rustdoc.</p>



<a name="261985890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/a%20success%20with%20jump%20to%20definition/near/261985890" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/a.20success.20with.20jump.20to.20definition.html#261985890">(Nov 18 2021 at 20:27)</a>:</h4>
<p>one small piece of feedback (which I'll add to an issue): The linkification of primitive types like <code>u8</code> and <code>usize</code> is distracting and not that useful. I think we shouldn't linkify primitive types in jump-to-definition.</p>



<a name="261986022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/a%20success%20with%20jump%20to%20definition/near/261986022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/a.20success.20with.20jump.20to.20definition.html#261986022">(Nov 18 2021 at 20:28)</a>:</h4>
<p>(counterpoint: we linkify primitive types in the doc view, so not linking them in JTD is inconsistency... but it would probably save a lot of HTML size, and also saves some visual clutter)</p>



<a name="261986106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/a%20success%20with%20jump%20to%20definition/near/261986106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/a.20success.20with.20jump.20to.20definition.html#261986106">(Nov 18 2021 at 20:29)</a>:</h4>
<p>Nice! We still have a lot of things to agree on before moving forward on it though. ;)</p>
<p>As for the primitive types, for consistency we can link them, but not highlight them?</p>



<a name="261986154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/a%20success%20with%20jump%20to%20definition/near/261986154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/a.20success.20with.20jump.20to.20definition.html#261986154">(Nov 18 2021 at 20:29)</a>:</h4>
<p>Or simply not generating links, I'm fine with both</p>



<a name="261986382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/a%20success%20with%20jump%20to%20definition/near/261986382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/a.20success.20with.20jump.20to.20definition.html#261986382">(Nov 18 2021 at 20:31)</a>:</h4>
<p>There were also some disagreement on the highlight, some would prefer something less distracting, like dotted underline. An opinion on this maybe?</p>



<a name="261992077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/266220-rustdoc/topic/a%20success%20with%20jump%20to%20definition/near/261992077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jsha <a href="https://zulip-archive.rust-lang.org/stream/266220-rustdoc/topic/a.20success.20with.20jump.20to.20definition.html#261992077">(Nov 18 2021 at 21:17)</a>:</h4>
<p>I posted an idea about the highlight in <a href="https://github.com/rust-lang/rust/issues/88120#issuecomment-973244056">https://github.com/rust-lang/rust/issues/88120#issuecomment-973244056</a>.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>